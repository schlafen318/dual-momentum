2025-11-19 16:56:07.659 | INFO     | src.backtesting.engine:_setup_logging:122 - Backtest logging enabled: logs\backtest_DualMomentumStrategy_20251119_165607.log
2025-11-19 16:56:07.660 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: EEM, Date Range: 2013-05-29 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:07.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:07.666 | INFO     | src.backtesting.engine:_setup_logging:123 - Strategy: DualMomentumStrategy
2025-11-19 16:56:07.667 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] EEM: Not in cache (key: EEM_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:07.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:07.688 | INFO     | src.backtesting.engine:_setup_logging:124 - Period: 2015-01-01 to 2024-01-01
2025-11-19 16:56:07.688 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] EEM: No cached data found, fetching from API
2025-11-19 16:56:07.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:07.706 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.37s, Size: 279258 bytes
2025-11-19 16:56:07.707 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for EEM
2025-11-19 16:56:07.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11018945499245247
2025-11-19 16:56:07.715 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '7v05cdhkhr1h7', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '62', 'date': 'Wed, 19 Nov 2025 08:56:07 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '0', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:07.718 | INFO     | src.backtesting.engine:run:180 - Backtesting from 2015-01-02 00:00:00 to 2023-12-29 00:00:00 (2264 periods)
2025-11-19 16:56:07.727 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/EEM
2025-11-19 16:56:07.731 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.10037465735608952
2025-11-19 16:56:07.740 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:07.745 | INFO     | src.backtesting.engine:run:197 - First rebalancing expected on or after 2016-01-04 00:00:00 (after 252 periods of warm-up data)
2025-11-19 16:56:07.747 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1369756800, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:07.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.15884828904819281
2025-11-19 16:56:07.751 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for SHY in 0.42s
2025-11-19 16:56:07.758 | ERROR    | src.backtesting.engine:_validate_safe_asset_data:390 - 
================================================================================
‚ùå CONFIGURATION ERROR: Safe asset 'SHY' configured but no price data available!

IMPACT: During bearish markets, defensive signals will fail, leaving portfolio in CASH.

SOLUTIONS:
  1. Add 'SHY' to your asset universe, OR
  2. Use a safe asset already in your universe (e.g., 'AGG', 'TLT'), OR
  3. Use utils.ensure_safe_asset_data() to auto-fetch, OR
  4. Set safe_asset=None to explicitly hold cash

Available symbols in price data: ['SPY', 'EFA', 'EEM', 'AGG']
================================================================================
2025-11-19 16:56:07.761 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:07.761 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.028143153623779837
2025-11-19 16:56:07.763 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:07.770 | ERROR    | src.agents.strategy_comparison_agent:_test_strategy:444 - Error testing strategy multi_asset_tactical: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:07.772 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/EEM
2025-11-19 16:56:07.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-05-01 00:00:00:
2025-11-19 16:56:07.774 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:07.784 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: SHY
2025-11-19 16:56:07.785 | WARNING  | src.agents.strategy_comparison_agent:_run_parallel:250 - [12/16] ‚úó multi_asset_tactical: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:07.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1102 (11.02%) - PASS
2025-11-19 16:56:07.794 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:07.799 | INFO     | src.data_sources:get_default_data_source:96 - [DATA SOURCE] Streamlit Cloud/restricted environment detected - prioritizing YahooFinanceDirectSource
2025-11-19 16:56:07.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1004 (10.04%) - PASS
2025-11-19 16:56:07.805 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing SHY (parse time: 0.03s)
2025-11-19 16:56:07.809 | DEBUG    | src.data_sources:get_default_data_source:103 - [DATA SOURCE] Adding YahooFinanceSource as backup (may be unreliable on cloud)
2025-11-19 16:56:07.812 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1588 (15.88%) - PASS
2025-11-19 16:56:07.821 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'SHY', 'exchangeName': 'NGM', 'fullExchangeName': 'NasdaqGM', 'instrumentType': 'ETF', 'firstTradeDate': 1028035800, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 82.87, 'fiftyTwoWeekHigh': 83.14, 'fiftyTwoWeekLow': 81.67, 'regularMarketDayHigh': 82.919, 'regularMarketDayLow': 82.85, 'regularMarketVolume': 2818172,...
2025-11-19 16:56:07.823 | INFO     | src.data_sources:get_default_data_source:133 - [DATA SOURCE] Initialized with 2 source(s): ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:07.826 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0281 (-2.81%) - FAIL
2025-11-19 16:56:07.829 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for SHY
2025-11-19 16:56:07.829 | INFO     | src.data_sources.multi_source:__init__:62 - Initialized MultiSourceDataProvider with 2 sources
2025-11-19 16:56:07.830 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:07.833 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading SHY from 2013-07-10 to 2024-01-01
2025-11-19 16:56:07.837 | INFO     | src.data_sources.multi_source:__init__:64 -   Source 1: YahooFinanceDirectSource
2025-11-19 16:56:07.837 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:07.886 | INFO     | src.data_sources.multi_source:__init__:64 -   Source 2: YahooFinanceSource
2025-11-19 16:56:07.888 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:07.889 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2638 rows for SHY
2025-11-19 16:56:07.891 | INFO     | src.backtesting.utils:calculate_data_fetch_dates:182 - üìÖ Data fetch calculation:
  Backtest period: 2015-01-01 to 2024-01-01
  Lookback period: 126 trading days
  Warm-up needed: 189 trading days (~270 calendar days)
  ‚ûú Fetch data from: 2014-04-06 to 2024-01-01
2025-11-19 16:56:07.891 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:07.893 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2013-07-10 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:07.896 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching SPY from 2 sources with failover
2025-11-19 16:56:07.896 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2836.72 shares @ $46.69 (Value: $132,446.23)
2025-11-19 16:56:07.897 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2638 rows using yfinance
2025-11-19 16:56:07.898 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:07.899 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-05-01: PV=$132,513.47, Cash=$67.24, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:07.906 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:07.908 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] SPY: Not in cache (key: SPY_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:07.909 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:07.909 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì SHY: Fetched 2638 rows from YahooFinanceDirectSource (source: 0.60s, total: 0.61s)
2025-11-19 16:56:07.913 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] SPY: No cached data, trying sources
2025-11-19 16:56:07.914 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:07.915 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2013-07-10 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:07.916 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for SPY
2025-11-19 16:56:07.918 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EEM']
2025-11-19 16:56:07.919 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] SHY: Cached 2638 rows (~123.7 KB, key: SHY_2013-07-10_2024-01-01_1d)
2025-11-19 16:56:07.921 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:07.923 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2836.72 shares worth $132,446.23
2025-11-19 16:56:07.923 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 5
2025-11-19 16:56:07.924 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: SPY, Date Range: 2014-04-06 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:07.927 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD EEM [relative_top]
2025-11-19 16:56:07.927 | ERROR    | src.backtesting.utils:ensure_safe_asset_data:410 - ‚ùå Failed to fetch safe asset 'SHY': PriceData.__init__() missing 1 required positional argument: 'metadata'
   Safe asset signals will be skipped. Consider:
   1. Adding 'SHY' to your universe manually, OR
   2. Changing safe_asset to one already in your universe
2025-11-19 16:56:07.927 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] SPY: Not in cache (key: SPY_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:07.931 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $46.69 ‚Üí $46.71 (slippage: 0.050%)
2025-11-19 16:56:07.932 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching SPY from 2 sources with failover
2025-11-19 16:56:07.933 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] SPY: No cached data found, fetching from API
2025-11-19 16:56:07.936 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.79
2025-11-19 16:56:07.936 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:07.938 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for SPY
2025-11-19 16:56:07.940 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2836.74
2025-11-19 16:56:07.942 | DEBUG    | src.core.base_data_source:get_from_cache:377 - [CACHE HIT] SPY: Found in cache (key: SPY_2013-07-10_2024-01-01_1d, rows: 2638)
2025-11-19 16:56:07.944 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/SPY
2025-11-19 16:56:07.944 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2836.72
2025-11-19 16:56:07.945 | INFO     | src.data_sources.multi_source:fetch_data:95 - [MULTI-SOURCE CACHE HIT] SPY: Using cached data with 2638 rows
2025-11-19 16:56:07.947 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1396713600, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:07.950 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.02
2025-11-19 16:56:07.953 | INFO     | src.backtesting.engine:__init__:81 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-11-19 16:56:07.954 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:07.955 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:07.956 | INFO     | src.backtesting.engine:__init__:88 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-11-19 16:56:07.956 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/SPY
2025-11-19 16:56:07.957 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.02
2025-11-19 16:56:07.958 | INFO     | src.backtesting.engine:run:151 - Starting backtest for DualMomentumStrategy
2025-11-19 16:56:07.961 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EEM: buying 0.02 more shares at $46.71 (cost: $1.02)
2025-11-19 16:56:07.965 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:07.967 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $66.22
2025-11-19 16:56:07.969 | INFO     | src.backtesting.engine:_setup_logging:122 - Backtest logging enabled: logs\backtest_DualMomentumStrategy_20251119_165607.log
2025-11-19 16:56:07.969 | INFO     | src.backtesting.engine:_setup_logging:122 - Backtest logging enabled: logs\backtest_DualMomentumStrategy_20251119_165607.log
2025-11-19 16:56:07.972 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.02, Cash end=$66.22
2025-11-19 16:56:07.972 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.02, Cash end=$66.22
2025-11-19 16:56:07.973 | INFO     | src.backtesting.engine:_setup_logging:123 - Strategy: DualMomentumStrategy
2025-11-19 16:56:07.973 | INFO     | src.backtesting.engine:_setup_logging:123 - Strategy: DualMomentumStrategy
2025-11-19 16:56:07.975 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:07.975 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:07.975 | INFO     | src.backtesting.engine:_setup_logging:124 - Period: 2015-01-01 to 2024-01-01
2025-11-19 16:56:07.975 | INFO     | src.backtesting.engine:_setup_logging:124 - Period: 2015-01-01 to 2024-01-01
2025-11-19 16:56:07.978 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:07.978 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:07.985 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $132,513.47
2025-11-19 16:56:07.985 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $132,513.47
2025-11-19 16:56:07.987 | INFO     | src.backtesting.engine:run:180 - Backtesting from 2015-01-02 00:00:00 to 2023-12-29 00:00:00 (2264 periods)
2025-11-19 16:56:07.987 | INFO     | src.backtesting.engine:run:180 - Backtesting from 2015-01-02 00:00:00 to 2023-12-29 00:00:00 (2264 periods)
2025-11-19 16:56:07.988 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $66.22
2025-11-19 16:56:07.988 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $66.22
2025-11-19 16:56:07.990 | INFO     | src.backtesting.engine:run:197 - First rebalancing expected on or after 2016-01-04 00:00:00 (after 252 periods of warm-up data)
2025-11-19 16:56:07.990 | INFO     | src.backtesting.engine:run:197 - First rebalancing expected on or after 2016-01-04 00:00:00 (after 252 periods of warm-up data)
2025-11-19 16:56:07.991 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:07.991 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:07.992 | ERROR    | src.backtesting.engine:_validate_safe_asset_data:390 - 
================================================================================
‚ùå CONFIGURATION ERROR: Safe asset 'SHY' configured but no price data available!

IMPACT: During bearish markets, defensive signals will fail, leaving portfolio in CASH.

SOLUTIONS:
  1. Add 'SHY' to your asset universe, OR
  2. Use a safe asset already in your universe (e.g., 'AGG', 'TLT'), OR
  3. Use utils.ensure_safe_asset_data() to auto-fetch, OR
  4. Set safe_asset=None to explicitly hold cash

Available symbols in price data: ['SPY', 'EFA', 'EEM', 'AGG']
================================================================================
2025-11-19 16:56:07.993 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
===========================================================================
‚ùå CONFIGURATION ERROR: Safe asset 'SHY' configured but no price data available!

IMPACT: During bearish markets, defensive signals will fail, leaving portfolio in CASH.

SOLUTIONS:
  1. Add 'SHY' to your asset universe, OR
  2. Use a safe asset already in your universe (e.g., 'AGG', 'TLT'), OR
  3. Use utils.ensure_safe_asset_data() to auto-fetch, OR
  4. Set safe_asset=None to explicitly hold cash

Available symbols in price data: ['SPY', 'EFA', 'EEM', 'AGG']
================================================================================
2025-11-19 16:56:07.993 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:07.996 | ERROR    | src.agents.strategy_comparison_agent:_test_strategy:444 - Error testing strategy momentum_factor_long_only: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:07.996 | ERROR    | src.agents.strategy_comparison_agent:_test_strategy:444 - Error testing strategy momentum_factor_long_only: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:07.997 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-06-01
2025-11-19 16:56:07.997 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-06-01
2025-11-19 16:56:08.005 | WARNING  | src.agents.strategy_comparison_agent:_run_parallel:250 - [13/16] ‚úó momentum_factor_long_only: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:08.005 | WARNING  | src.agents.strategy_comparison_agent:_run_parallel:250 - [13/16] ‚úó momentum_factor_long_only: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:08.005 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $131,492.26
2025-11-19 16:56:08.005 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $131,492.26
2025-11-19 16:56:08.008 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $66.22
2025-11-19 16:56:08.008 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $66.22
2025-11-19 16:56:08.010 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.010 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.013 | INFO     | src.backtesting.engine:run:273 -      EEM: 2836.74 shares @ $46.33 (Value: $131,426.03, P&L: $30,870.19)
2025-11-19 16:56:08.013 | INFO     | src.backtesting.engine:run:273 -      EEM: 2836.74 shares @ $46.33 (Value: $131,426.03, P&L: $30,870.19)
2025-11-19 16:56:08.019 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.019 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.12426037729011163
2025-11-19 16:56:08.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.12426037729011163
2025-11-19 16:56:08.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.052789927041689166
2025-11-19 16:56:08.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.052789927041689166
2025-11-19 16:56:08.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.11504218247326992
2025-11-19 16:56:08.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.11504218247326992
2025-11-19 16:56:08.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.03105591360637805
2025-11-19 16:56:08.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.03105591360637805
2025-11-19 16:56:08.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-06-01 00:00:00:
2025-11-19 16:56:08.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-06-01 00:00:00:
2025-11-19 16:56:08.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1243 (12.43%) - PASS
2025-11-19 16:56:08.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1243 (12.43%) - PASS
2025-11-19 16:56:08.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0528 (5.28%) - PASS
2025-11-19 16:56:08.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0528 (5.28%) - PASS
2025-11-19 16:56:08.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1150 (11.50%) - PASS
2025-11-19 16:56:08.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1150 (11.50%) - PASS
2025-11-19 16:56:08.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0311 (-3.11%) - FAIL
2025-11-19 16:56:08.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0311 (-3.11%) - FAIL
2025-11-19 16:56:08.039 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.039 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.041 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.041 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.041 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.041 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.043 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:08.043 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:08.043 | INFO     | src.backtesting.engine:_execute_signals:668 -      EEM: 2836.74 shares @ $46.33 (Value: $131,426.03, P&L: $30,870.19)
2025-11-19 16:56:08.043 | INFO     | src.backtesting.engine:_execute_signals:668 -      EEM: 2836.74 shares @ $46.33 (Value: $131,426.03, P&L: $30,870.19)
2025-11-19 16:56:08.045 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EEM x 2836.74 @ $46.31 (P&L: $30,804.47)
2025-11-19 16:56:08.045 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EEM x 2836.74 @ $46.31 (P&L: $30,804.47)
2025-11-19 16:56:08.048 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $131,295.18
2025-11-19 16:56:08.048 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $131,295.18
2025-11-19 16:56:08.051 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-06-01: PV=$131,492.26, Cash=$131,295.18, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:08.051 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-06-01: PV=$131,492.26, Cash=$131,295.18, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:08.052 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.052 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.053 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:08.053 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:08.054 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:08.054 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:08.055 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $273.60 ‚Üí $273.74 (slippage: 0.050%)
2025-11-19 16:56:08.055 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $273.60 ‚Üí $273.74 (slippage: 0.050%)
2025-11-19 16:56:08.056 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.72
2025-11-19 16:56:08.056 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.72
2025-11-19 16:56:08.056 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 480.36
2025-11-19 16:56:08.056 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 480.36
2025-11-19 16:56:08.057 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $131.49
2025-11-19 16:56:08.057 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $131.49
2025-11-19 16:56:08.057 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $131,623.75
2025-11-19 16:56:08.057 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $131,623.75
2025-11-19 16:56:08.058 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 479.16 @ $273.74
2025-11-19 16:56:08.058 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 479.16 @ $273.74
2025-11-19 16:56:08.058 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:08.058 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:08.059 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:08.059 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:08.061 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$131,295.18, Cash end=$0.00
2025-11-19 16:56:08.061 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$131,295.18, Cash end=$0.00
2025-11-19 16:56:08.063 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:08.063 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:08.064 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EEM: 2836.74 shares @ $46.33 (Value: $131,426.03, P&L: $30,870.19)
2025-11-19 16:56:08.064 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EEM: 2836.74 shares @ $46.33 (Value: $131,426.03, P&L: $30,870.19)
2025-11-19 16:56:08.065 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:08.065 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:08.066 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 479.16 shares @ $273.74 (Value: $131,164.02)
2025-11-19 16:56:08.066 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 479.16 shares @ $273.74 (Value: $131,164.02)
2025-11-19 16:56:08.067 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.067 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.069 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $131,164.02
2025-11-19 16:56:08.069 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $131,164.02
2025-11-19 16:56:08.070 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:08.070 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:08.071 | INFO     | src.backtesting.engine:run:316 -      Change: $-328.24
2025-11-19 16:56:08.071 | INFO     | src.backtesting.engine:run:316 -      Change: $-328.24
2025-11-19 16:56:08.073 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.073 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.075 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-07-02
2025-11-19 16:56:08.075 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-07-02
2025-11-19 16:56:08.075 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $130,264.72
2025-11-19 16:56:08.075 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $130,264.72
2025-11-19 16:56:08.076 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:08.076 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:08.077 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.077 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.078 | INFO     | src.backtesting.engine:run:273 -      SPY: 479.16 shares @ $271.86 (Value: $130,264.72, P&L: $-899.30)
2025-11-19 16:56:08.078 | INFO     | src.backtesting.engine:run:273 -      SPY: 479.16 shares @ $271.86 (Value: $130,264.72, P&L: $-899.30)
2025-11-19 16:56:08.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.088 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.088 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.089 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.089 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.089 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.12431754309519305
2025-11-19 16:56:08.089 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.12431754309519305
2025-11-19 16:56:08.091 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.01779146804301579
2025-11-19 16:56:08.091 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.01779146804301579
2025-11-19 16:56:08.091 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.036482294237678126
2025-11-19 16:56:08.091 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.036482294237678126
2025-11-19 16:56:08.093 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.032143221658255894
2025-11-19 16:56:08.093 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.032143221658255894
2025-11-19 16:56:08.095 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-07-02 00:00:00:
2025-11-19 16:56:08.095 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-07-02 00:00:00:
2025-11-19 16:56:08.096 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1243 (12.43%) - PASS
2025-11-19 16:56:08.096 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1243 (12.43%) - PASS
2025-11-19 16:56:08.098 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0178 (1.78%) - PASS
2025-11-19 16:56:08.098 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0178 (1.78%) - PASS
2025-11-19 16:56:08.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0365 (3.65%) - PASS
2025-11-19 16:56:08.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0365 (3.65%) - PASS
2025-11-19 16:56:08.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0321 (-3.21%) - FAIL
2025-11-19 16:56:08.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0321 (-3.21%) - FAIL
2025-11-19 16:56:08.101 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.101 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.104 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.104 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.105 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.105 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.106 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.106 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.106 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 479.16 shares @ $271.86 (Value: $130,264.72)
2025-11-19 16:56:08.106 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 479.16 shares @ $271.86 (Value: $130,264.72)
2025-11-19 16:56:08.108 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-07-02: PV=$130,264.72, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:08.108 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-07-02: PV=$130,264.72, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:08.108 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.108 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.110 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.110 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.111 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:08.111 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:08.114 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 479.16 shares worth $130,264.72
2025-11-19 16:56:08.114 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 479.16 shares worth $130,264.72
2025-11-19 16:56:08.115 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:08.115 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:08.117 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $271.86 ‚Üí $272.00 (slippage: 0.050%)
2025-11-19 16:56:08.117 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $271.86 ‚Üí $272.00 (slippage: 0.050%)
2025-11-19 16:56:08.118 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.91
2025-11-19 16:56:08.118 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.91
2025-11-19 16:56:08.119 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.92
2025-11-19 16:56:08.119 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.92
2025-11-19 16:56:08.121 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 479.16
2025-11-19 16:56:08.121 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 479.16
2025-11-19 16:56:08.122 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.24
2025-11-19 16:56:08.122 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.24
2025-11-19 16:56:08.123 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.07
2025-11-19 16:56:08.123 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.07
2025-11-19 16:56:08.123 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-65.07
2025-11-19 16:56:08.123 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-65.07
2025-11-19 16:56:08.124 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.24 shares at $271.72 (proceeds: $65.00)
2025-11-19 16:56:08.124 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.24 shares at $271.72 (proceeds: $65.00)
2025-11-19 16:56:08.125 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:08.125 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:08.126 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $65.00
2025-11-19 16:56:08.126 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $65.00
2025-11-19 16:56:08.127 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$65.07, Cash end=$65.00
2025-11-19 16:56:08.127 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$65.07, Cash end=$65.00
2025-11-19 16:56:08.129 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.129 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.131 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.131 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.132 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $130,264.62
2025-11-19 16:56:08.132 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $130,264.62
2025-11-19 16:56:08.133 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $65.00
2025-11-19 16:56:08.133 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $65.00
2025-11-19 16:56:08.133 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.10
2025-11-19 16:56:08.133 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.10
2025-11-19 16:56:08.134 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.134 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.136 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-08-01
2025-11-19 16:56:08.136 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-08-01
2025-11-19 16:56:08.137 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $134,574.92
2025-11-19 16:56:08.137 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $134,574.92
2025-11-19 16:56:08.138 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $65.00
2025-11-19 16:56:08.138 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $65.00
2025-11-19 16:56:08.139 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.139 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.139 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.92 shares @ $280.86 (Value: $134,509.91, P&L: $3,411.44)
2025-11-19 16:56:08.139 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.92 shares @ $280.86 (Value: $134,509.91, P&L: $3,411.44)
2025-11-19 16:56:08.145 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.145 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.147 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.147 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13561368685945108
2025-11-19 16:56:08.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13561368685945108
2025-11-19 16:56:08.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.01827631013022568
2025-11-19 16:56:08.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.01827631013022568
2025-11-19 16:56:08.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.012064620432848727
2025-11-19 16:56:08.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.012064620432848727
2025-11-19 16:56:08.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.03663875526554772
2025-11-19 16:56:08.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.03663875526554772
2025-11-19 16:56:08.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-08-01 00:00:00:
2025-11-19 16:56:08.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-08-01 00:00:00:
2025-11-19 16:56:08.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1356 (13.56%) - PASS
2025-11-19 16:56:08.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1356 (13.56%) - PASS
2025-11-19 16:56:08.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0183 (1.83%) - PASS
2025-11-19 16:56:08.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0183 (1.83%) - PASS
2025-11-19 16:56:08.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0121 (1.21%) - PASS
2025-11-19 16:56:08.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0121 (1.21%) - PASS
2025-11-19 16:56:08.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0366 (-3.66%) - FAIL
2025-11-19 16:56:08.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0366 (-3.66%) - FAIL
2025-11-19 16:56:08.167 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.167 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.169 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.169 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.169 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.169 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.171 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.171 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.172 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 478.92 shares @ $280.86 (Value: $134,509.91)
2025-11-19 16:56:08.172 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 478.92 shares @ $280.86 (Value: $134,509.91)
2025-11-19 16:56:08.174 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-08-01: PV=$134,574.92, Cash=$65.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:08.174 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-08-01: PV=$134,574.92, Cash=$65.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:08.175 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.175 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.177 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.177 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.179 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:08.179 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:08.181 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 478.92 shares worth $134,509.91
2025-11-19 16:56:08.181 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 478.92 shares worth $134,509.91
2025-11-19 16:56:08.184 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:08.184 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:08.186 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $280.86 ‚Üí $281.00 (slippage: 0.050%)
2025-11-19 16:56:08.186 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $280.86 ‚Üí $281.00 (slippage: 0.050%)
2025-11-19 16:56:08.187 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.96
2025-11-19 16:56:08.187 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.96
2025-11-19 16:56:08.188 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.91
2025-11-19 16:56:08.188 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.91
2025-11-19 16:56:08.189 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 478.92
2025-11-19 16:56:08.189 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 478.92
2025-11-19 16:56:08.189 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:08.189 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:08.192 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:08.192 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:08.193 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.25
2025-11-19 16:56:08.193 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.25
2025-11-19 16:56:08.194 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:08.194 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:08.196 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$65.00
2025-11-19 16:56:08.196 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$65.00
2025-11-19 16:56:08.197 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.197 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.198 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.198 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.202 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $134,574.92
2025-11-19 16:56:08.202 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $134,574.92
2025-11-19 16:56:08.204 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $65.00
2025-11-19 16:56:08.204 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $65.00
2025-11-19 16:56:08.205 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:08.205 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:08.207 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.207 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.209 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-09-04
2025-11-19 16:56:08.209 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-09-04
2025-11-19 16:56:08.212 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.42s, Size: 293657 bytes
2025-11-19 16:56:08.212 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.42s, Size: 293657 bytes
2025-11-19 16:56:08.213 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $138,861.27
2025-11-19 16:56:08.213 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $138,861.27
2025-11-19 16:56:08.215 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '3vqcu7lkhr1h8', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '48', 'date': 'Wed, 19 Nov 2025 08:56:07 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '1', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:08.215 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '3vqcu7lkhr1h8', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '48', 'date': 'Wed, 19 Nov 2025 08:56:07 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '1', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:08.217 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $65.00
2025-11-19 16:56:08.217 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $65.00
2025-11-19 16:56:08.226 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:08.226 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:08.227 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.227 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.229 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for EEM in 0.46s
2025-11-19 16:56:08.229 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for EEM in 0.46s
2025-11-19 16:56:08.229 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.92 shares @ $289.81 (Value: $138,796.27, P&L: $7,697.80)
2025-11-19 16:56:08.229 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.92 shares @ $289.81 (Value: $138,796.27, P&L: $7,697.80)
2025-11-19 16:56:08.231 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:08.231 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:08.237 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.237 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.238 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:08.238 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:08.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.239 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:08.239 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:08.241 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.241 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.242 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing EEM (parse time: 0.00s)
2025-11-19 16:56:08.242 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing EEM (parse time: 0.00s)
2025-11-19 16:56:08.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.253 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'EEM', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 1050327000, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 54.04, 'fiftyTwoWeekHigh': 56.31, 'fiftyTwoWeekLow': 38.19, 'regularMarketDayHigh': 54.24, 'regularMarketDayLow': 53.675, 'regularMarketVolume': 29233784...
2025-11-19 16:56:08.253 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'EEM', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 1050327000, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 54.04, 'fiftyTwoWeekHigh': 56.31, 'fiftyTwoWeekLow': 38.19, 'regularMarketDayHigh': 54.24, 'regularMarketDayLow': 53.675, 'regularMarketVolume': 29233784...
2025-11-19 16:56:08.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.256 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for EEM
2025-11-19 16:56:08.256 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for EEM
2025-11-19 16:56:08.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.16934313202411322
2025-11-19 16:56:08.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.16934313202411322
2025-11-19 16:56:08.258 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading EEM from 2013-05-29 to 2024-01-01
2025-11-19 16:56:08.258 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading EEM from 2013-05-29 to 2024-01-01
2025-11-19 16:56:08.261 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0032840905764844885
2025-11-19 16:56:08.261 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0032840905764844885
2025-11-19 16:56:08.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.06266603246057356
2025-11-19 16:56:08.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.06266603246057356
2025-11-19 16:56:08.300 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2667 rows for EEM
2025-11-19 16:56:08.300 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2667 rows for EEM
2025-11-19 16:56:08.301 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.03555518431123994
2025-11-19 16:56:08.301 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.03555518431123994
2025-11-19 16:56:08.303 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:08.303 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:08.304 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-09-04 00:00:00:
2025-11-19 16:56:08.304 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-09-04 00:00:00:
2025-11-19 16:56:08.306 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2667 rows using yfinance
2025-11-19 16:56:08.306 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2667 rows using yfinance
2025-11-19 16:56:08.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1693 (16.93%) - PASS
2025-11-19 16:56:08.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1693 (16.93%) - PASS
2025-11-19 16:56:08.320 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:08.320 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:08.321 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0033 (-0.33%) - FAIL
2025-11-19 16:56:08.321 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0033 (-0.33%) - FAIL
2025-11-19 16:56:08.323 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì EEM: Fetched 2667 rows from YahooFinanceDirectSource (source: 0.67s, total: 0.70s)
2025-11-19 16:56:08.323 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì EEM: Fetched 2667 rows from YahooFinanceDirectSource (source: 0.67s, total: 0.70s)
2025-11-19 16:56:08.324 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0627 (-6.27%) - FAIL
2025-11-19 16:56:08.324 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0627 (-6.27%) - FAIL
2025-11-19 16:56:08.326 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:08.326 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:08.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0356 (-3.56%) - FAIL
2025-11-19 16:56:08.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0356 (-3.56%) - FAIL
2025-11-19 16:56:08.330 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] EEM: Cached 2667 rows (~125.0 KB, key: EEM_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.330 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] EEM: Cached 2667 rows (~125.0 KB, key: EEM_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.331 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.331 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.333 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 3
2025-11-19 16:56:08.333 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 3
2025-11-19 16:56:08.333 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.333 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.337 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching AGG from 2 sources with failover
2025-11-19 16:56:08.337 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching AGG from 2 sources with failover
2025-11-19 16:56:08.338 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.338 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.343 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:08.343 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:08.344 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.344 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.347 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] AGG: Not in cache (key: AGG_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.347 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] AGG: Not in cache (key: AGG_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.347 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 478.92 shares @ $289.81 (Value: $138,796.27)
2025-11-19 16:56:08.347 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 478.92 shares @ $289.81 (Value: $138,796.27)
2025-11-19 16:56:08.350 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] AGG: No cached data, trying sources
2025-11-19 16:56:08.350 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] AGG: No cached data, trying sources
2025-11-19 16:56:08.351 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-09-04: PV=$138,861.27, Cash=$65.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:08.351 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-09-04: PV=$138,861.27, Cash=$65.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:08.352 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for AGG
2025-11-19 16:56:08.352 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for AGG
2025-11-19 16:56:08.353 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.353 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.355 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:08.355 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:08.355 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.355 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.357 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: AGG, Date Range: 2013-05-29 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:08.357 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: AGG, Date Range: 2013-05-29 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:08.358 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:08.358 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:08.361 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] AGG: Not in cache (key: AGG_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.361 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 478.92 shares worth $138,796.27
2025-11-19 16:56:08.361 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] AGG: Not in cache (key: AGG_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.361 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 478.92 shares worth $138,796.27
2025-11-19 16:56:08.364 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] AGG: No cached data found, fetching from API
2025-11-19 16:56:08.364 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] AGG: No cached data found, fetching from API
2025-11-19 16:56:08.365 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:08.365 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:08.368 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for AGG
2025-11-19 16:56:08.368 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for AGG
2025-11-19 16:56:08.368 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $289.81 ‚Üí $289.95 (slippage: 0.050%)
2025-11-19 16:56:08.371 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/AGG
2025-11-19 16:56:08.371 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/AGG
2025-11-19 16:56:08.371 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.371 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.373 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1369756800, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:08.373 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1369756800, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:08.375 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.91
2025-11-19 16:56:08.375 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.91
2025-11-19 16:56:08.376 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:08.376 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:08.377 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 478.92
2025-11-19 16:56:08.377 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 478.92
2025-11-19 16:56:08.378 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/AGG
2025-11-19 16:56:08.378 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/AGG
2025-11-19 16:56:08.380 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.02
2025-11-19 16:56:08.380 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.02
2025-11-19 16:56:08.383 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:08.383 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:08.385 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-4.39
2025-11-19 16:56:08.385 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-4.39
2025-11-19 16:56:08.386 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.02 shares at $289.67 (proceeds: $4.39)
2025-11-19 16:56:08.386 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.02 shares at $289.67 (proceeds: $4.39)
2025-11-19 16:56:08.387 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:08.387 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:08.388 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $69.39
2025-11-19 16:56:08.388 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $69.39
2025-11-19 16:56:08.389 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$4.39, Cash end=$69.39
2025-11-19 16:56:08.389 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$4.39, Cash end=$69.39
2025-11-19 16:56:08.389 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.389 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.390 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.390 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.391 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $138,861.26
2025-11-19 16:56:08.391 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $138,861.26
2025-11-19 16:56:08.391 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $69.39
2025-11-19 16:56:08.391 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $69.39
2025-11-19 16:56:08.393 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.01
2025-11-19 16:56:08.393 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.01
2025-11-19 16:56:08.393 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.393 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.396 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-10-01
2025-11-19 16:56:08.396 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-10-01
2025-11-19 16:56:08.397 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $139,780.77
2025-11-19 16:56:08.397 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $139,780.77
2025-11-19 16:56:08.399 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $69.39
2025-11-19 16:56:08.399 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $69.39
2025-11-19 16:56:08.400 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.400 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.401 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.91 shares @ $291.73 (Value: $139,711.38, P&L: $8,617.06)
2025-11-19 16:56:08.401 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.91 shares @ $291.73 (Value: $139,711.38, P&L: $8,617.06)
2025-11-19 16:56:08.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.407 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.407 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.408 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.408 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.409 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.409 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.16120692571563655
2025-11-19 16:56:08.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.16120692571563655
2025-11-19 16:56:08.411 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.005987202716278284
2025-11-19 16:56:08.411 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.005987202716278284
2025-11-19 16:56:08.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.0419549433273575
2025-11-19 16:56:08.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.0419549433273575
2025-11-19 16:56:08.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.03969339008561579
2025-11-19 16:56:08.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.03969339008561579
2025-11-19 16:56:08.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-10-01 00:00:00:
2025-11-19 16:56:08.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-10-01 00:00:00:
2025-11-19 16:56:08.417 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1612 (16.12%) - PASS
2025-11-19 16:56:08.417 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1612 (16.12%) - PASS
2025-11-19 16:56:08.418 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0060 (-0.60%) - FAIL
2025-11-19 16:56:08.418 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0060 (-0.60%) - FAIL
2025-11-19 16:56:08.418 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0420 (-4.20%) - FAIL
2025-11-19 16:56:08.418 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0420 (-4.20%) - FAIL
2025-11-19 16:56:08.419 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0397 (-3.97%) - FAIL
2025-11-19 16:56:08.419 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0397 (-3.97%) - FAIL
2025-11-19 16:56:08.420 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.420 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.421 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.421 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.421 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.421 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.423 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.423 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.423 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 478.91 shares @ $291.73 (Value: $139,711.38)
2025-11-19 16:56:08.423 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 478.91 shares @ $291.73 (Value: $139,711.38)
2025-11-19 16:56:08.424 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-10-01: PV=$139,780.77, Cash=$69.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:08.424 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-10-01: PV=$139,780.77, Cash=$69.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:08.425 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.425 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.425 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.425 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.426 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:08.426 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:08.426 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 478.91 shares worth $139,711.38
2025-11-19 16:56:08.426 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 478.91 shares worth $139,711.38
2025-11-19 16:56:08.427 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:08.427 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:08.428 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $291.73 ‚Üí $291.88 (slippage: 0.050%)
2025-11-19 16:56:08.428 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $291.73 ‚Üí $291.88 (slippage: 0.050%)
2025-11-19 16:56:08.428 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.428 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.429 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.90
2025-11-19 16:56:08.429 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.90
2025-11-19 16:56:08.431 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 478.91
2025-11-19 16:56:08.431 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 478.91
2025-11-19 16:56:08.433 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:08.433 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:08.434 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:08.434 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:08.435 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.47
2025-11-19 16:56:08.435 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.47
2025-11-19 16:56:08.435 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:08.435 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:08.436 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$69.39
2025-11-19 16:56:08.436 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$69.39
2025-11-19 16:56:08.436 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.436 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.437 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.437 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.438 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $139,780.77
2025-11-19 16:56:08.438 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $139,780.77
2025-11-19 16:56:08.438 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $69.39
2025-11-19 16:56:08.438 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $69.39
2025-11-19 16:56:08.439 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:08.439 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:08.439 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.439 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.440 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-11-01
2025-11-19 16:56:08.440 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-11-01
2025-11-19 16:56:08.441 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $131,055.10
2025-11-19 16:56:08.441 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $131,055.10
2025-11-19 16:56:08.442 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $69.39
2025-11-19 16:56:08.442 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $69.39
2025-11-19 16:56:08.443 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.443 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.444 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.91 shares @ $273.51 (Value: $130,985.71, P&L: $-108.61)
2025-11-19 16:56:08.444 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.91 shares @ $273.51 (Value: $130,985.71, P&L: $-108.61)
2025-11-19 16:56:08.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06221608660075728
2025-11-19 16:56:08.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06221608660075728
2025-11-19 16:56:08.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.09239596712595555
2025-11-19 16:56:08.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.09239596712595555
2025-11-19 16:56:08.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.12811691801000402
2025-11-19 16:56:08.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.12811691801000402
2025-11-19 16:56:08.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04529238298261784
2025-11-19 16:56:08.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04529238298261784
2025-11-19 16:56:08.461 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-11-01 00:00:00:
2025-11-19 16:56:08.461 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-11-01 00:00:00:
2025-11-19 16:56:08.463 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0622 (6.22%) - PASS
2025-11-19 16:56:08.463 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0622 (6.22%) - PASS
2025-11-19 16:56:08.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0924 (-9.24%) - FAIL
2025-11-19 16:56:08.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0924 (-9.24%) - FAIL
2025-11-19 16:56:08.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1281 (-12.81%) - FAIL
2025-11-19 16:56:08.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1281 (-12.81%) - FAIL
2025-11-19 16:56:08.466 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0453 (-4.53%) - FAIL
2025-11-19 16:56:08.466 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0453 (-4.53%) - FAIL
2025-11-19 16:56:08.467 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.467 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.468 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.468 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.469 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.469 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.469 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.469 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.469 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 478.91 shares @ $273.51 (Value: $130,985.71)
2025-11-19 16:56:08.469 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 478.91 shares @ $273.51 (Value: $130,985.71)
2025-11-19 16:56:08.470 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-11-01: PV=$131,055.10, Cash=$69.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:08.470 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-11-01: PV=$131,055.10, Cash=$69.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:08.471 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.471 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.471 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.471 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.473 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:08.473 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:08.474 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 478.91 shares worth $130,985.71
2025-11-19 16:56:08.474 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 478.91 shares worth $130,985.71
2025-11-19 16:56:08.475 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD SPY [relative_top]
2025-11-19 16:56:08.475 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD SPY [relative_top]
2025-11-19 16:56:08.476 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $273.51 ‚Üí $273.65 (slippage: 0.050%)
2025-11-19 16:56:08.476 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $273.51 ‚Üí $273.65 (slippage: 0.050%)
2025-11-19 16:56:08.476 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.476 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.478 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.92
2025-11-19 16:56:08.478 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.92
2025-11-19 16:56:08.482 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 478.91
2025-11-19 16:56:08.482 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 478.91
2025-11-19 16:56:08.485 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:08.485 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:08.487 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:08.487 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:08.488 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $3.90
2025-11-19 16:56:08.488 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $3.90
2025-11-19 16:56:08.491 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 0.01 more shares at $273.65 (cost: $3.90)
2025-11-19 16:56:08.491 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 0.01 more shares at $273.65 (cost: $3.90)
2025-11-19 16:56:08.492 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:08.492 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:08.494 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $65.49
2025-11-19 16:56:08.494 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $65.49
2025-11-19 16:56:08.495 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$3.90, Cash end=$65.49
2025-11-19 16:56:08.495 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$3.90, Cash end=$65.49
2025-11-19 16:56:08.496 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.496 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.498 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.498 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.499 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $131,055.09
2025-11-19 16:56:08.499 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $131,055.09
2025-11-19 16:56:08.500 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $65.49
2025-11-19 16:56:08.500 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $65.49
2025-11-19 16:56:08.501 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.01
2025-11-19 16:56:08.501 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.01
2025-11-19 16:56:08.501 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.501 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.502 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-12-03
2025-11-19 16:56:08.502 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2018-12-03
2025-11-19 16:56:08.503 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $133,828.03
2025-11-19 16:56:08.503 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $133,828.03
2025-11-19 16:56:08.503 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $65.49
2025-11-19 16:56:08.503 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $65.49
2025-11-19 16:56:08.504 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.504 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.506 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.92 shares @ $279.30 (Value: $133,762.54, P&L: $2,664.32)
2025-11-19 16:56:08.506 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.92 shares @ $279.30 (Value: $133,762.54, P&L: $2,664.32)
2025-11-19 16:56:08.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.511 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.511 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05611433418053102
2025-11-19 16:56:08.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05611433418053102
2025-11-19 16:56:08.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0892167147869527
2025-11-19 16:56:08.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0892167147869527
2025-11-19 16:56:08.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.0857329906652261
2025-11-19 16:56:08.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.0857329906652261
2025-11-19 16:56:08.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.03994137471676329
2025-11-19 16:56:08.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.03994137471676329
2025-11-19 16:56:08.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-12-03 00:00:00:
2025-11-19 16:56:08.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2018-12-03 00:00:00:
2025-11-19 16:56:08.533 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0561 (5.61%) - PASS
2025-11-19 16:56:08.533 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0561 (5.61%) - PASS
2025-11-19 16:56:08.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0892 (-8.92%) - FAIL
2025-11-19 16:56:08.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0892 (-8.92%) - FAIL
2025-11-19 16:56:08.535 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0857 (-8.57%) - FAIL
2025-11-19 16:56:08.535 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0857 (-8.57%) - FAIL
2025-11-19 16:56:08.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0399 (-3.99%) - FAIL
2025-11-19 16:56:08.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0399 (-3.99%) - FAIL
2025-11-19 16:56:08.537 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.537 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.539 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.539 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.540 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.540 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.541 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.541 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.543 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 478.92 shares @ $279.30 (Value: $133,762.54)
2025-11-19 16:56:08.543 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 478.92 shares @ $279.30 (Value: $133,762.54)
2025-11-19 16:56:08.547 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-12-03: PV=$133,828.03, Cash=$65.49, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:08.547 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2018-12-03: PV=$133,828.03, Cash=$65.49, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:08.549 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.549 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.550 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.550 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.555 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:08.555 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:08.558 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 478.92 shares worth $133,762.54
2025-11-19 16:56:08.558 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 478.92 shares worth $133,762.54
2025-11-19 16:56:08.559 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:08.559 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:08.561 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $279.30 ‚Üí $279.44 (slippage: 0.050%)
2025-11-19 16:56:08.561 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $279.30 ‚Üí $279.44 (slippage: 0.050%)
2025-11-19 16:56:08.563 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.563 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.564 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.92
2025-11-19 16:56:08.564 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 478.92
2025-11-19 16:56:08.566 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 478.92
2025-11-19 16:56:08.566 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 478.92
2025-11-19 16:56:08.566 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:08.566 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:08.567 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:08.567 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:08.568 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.39
2025-11-19 16:56:08.568 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.39
2025-11-19 16:56:08.569 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:08.569 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:08.570 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$65.49
2025-11-19 16:56:08.570 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$65.49
2025-11-19 16:56:08.572 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.572 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.573 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.573 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.577 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $133,828.03
2025-11-19 16:56:08.577 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $133,828.03
2025-11-19 16:56:08.578 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $65.49
2025-11-19 16:56:08.578 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $65.49
2025-11-19 16:56:08.583 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:08.583 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:08.585 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.585 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.592 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-01-02
2025-11-19 16:56:08.592 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-01-02
2025-11-19 16:56:08.593 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $119,881.86
2025-11-19 16:56:08.593 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $119,881.86
2025-11-19 16:56:08.594 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $65.49
2025-11-19 16:56:08.594 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $65.49
2025-11-19 16:56:08.595 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.595 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.596 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.92 shares @ $250.18 (Value: $119,816.37, P&L: $-11,281.85)
2025-11-19 16:56:08.596 | INFO     | src.backtesting.engine:run:273 -      SPY: 478.92 shares @ $250.18 (Value: $119,816.37, P&L: $-11,281.85)
2025-11-19 16:56:08.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.06250466008909861
2025-11-19 16:56:08.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.06250466008909861
2025-11-19 16:56:08.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.16569475345910745
2025-11-19 16:56:08.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.16569475345910745
2025-11-19 16:56:08.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.16893037489197293
2025-11-19 16:56:08.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.16893037489197293
2025-11-19 16:56:08.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.02524469121015327
2025-11-19 16:56:08.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.02524469121015327
2025-11-19 16:56:08.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-01-02 00:00:00:
2025-11-19 16:56:08.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-01-02 00:00:00:
2025-11-19 16:56:08.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0625 (-6.25%) - FAIL
2025-11-19 16:56:08.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0625 (-6.25%) - FAIL
2025-11-19 16:56:08.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1657 (-16.57%) - FAIL
2025-11-19 16:56:08.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1657 (-16.57%) - FAIL
2025-11-19 16:56:08.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1689 (-16.89%) - FAIL
2025-11-19 16:56:08.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1689 (-16.89%) - FAIL
2025-11-19 16:56:08.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0252 (-2.52%) - FAIL
2025-11-19 16:56:08.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0252 (-2.52%) - FAIL
2025-11-19 16:56:08.644 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:08.644 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:08.650 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:08.650 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:08.657 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.657 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.663 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:08.663 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:08.664 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:08.664 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:08.665 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 478.92 shares @ $250.18 (Value: $119,816.37, P&L: $-11,281.85)
2025-11-19 16:56:08.665 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 478.92 shares @ $250.18 (Value: $119,816.37, P&L: $-11,281.85)
2025-11-19 16:56:08.665 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 478.92 @ $250.05 (P&L: $-11,341.75)
2025-11-19 16:56:08.665 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 478.92 @ $250.05 (P&L: $-11,341.75)
2025-11-19 16:56:08.666 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $119,702.20
2025-11-19 16:56:08.666 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $119,702.20
2025-11-19 16:56:08.667 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-01-02: PV=$119,881.86, Cash=$119,702.20, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:08.667 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-01-02: PV=$119,881.86, Cash=$119,702.20, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:08.668 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:08.668 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:08.669 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:08.669 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:08.672 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [defensive_rotation]
2025-11-19 16:56:08.672 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [defensive_rotation]
2025-11-19 16:56:08.673 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $106.57 ‚Üí $106.62 (slippage: 0.050%)
2025-11-19 16:56:08.673 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $106.57 ‚Üí $106.62 (slippage: 0.050%)
2025-11-19 16:56:08.675 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.675 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.676 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1124.35
2025-11-19 16:56:08.676 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1124.35
2025-11-19 16:56:08.678 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $119.88
2025-11-19 16:56:08.678 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $119.88
2025-11-19 16:56:08.679 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $120,001.74
2025-11-19 16:56:08.679 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $120,001.74
2025-11-19 16:56:08.679 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 1121.54 @ $106.62
2025-11-19 16:56:08.679 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 1121.54 @ $106.62
2025-11-19 16:56:08.683 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:08.683 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:08.685 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:08.685 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:08.686 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$119,702.20, Cash end=$-0.00
2025-11-19 16:56:08.686 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$119,702.20, Cash end=$-0.00
2025-11-19 16:56:08.687 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:08.687 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:08.688 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 478.92 shares @ $250.18 (Value: $119,816.37, P&L: $-11,281.85)
2025-11-19 16:56:08.688 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 478.92 shares @ $250.18 (Value: $119,816.37, P&L: $-11,281.85)
2025-11-19 16:56:08.688 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:08.688 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:08.689 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 1121.54 shares @ $106.62 (Value: $119,582.61)
2025-11-19 16:56:08.689 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 1121.54 shares @ $106.62 (Value: $119,582.61)
2025-11-19 16:56:08.691 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.691 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.692 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $119,582.61
2025-11-19 16:56:08.692 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $119,582.61
2025-11-19 16:56:08.692 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:08.692 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:08.694 | INFO     | src.backtesting.engine:run:316 -      Change: $-299.25
2025-11-19 16:56:08.694 | INFO     | src.backtesting.engine:run:316 -      Change: $-299.25
2025-11-19 16:56:08.694 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.694 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.696 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-02-01
2025-11-19 16:56:08.696 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-02-01
2025-11-19 16:56:08.698 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $119,971.47
2025-11-19 16:56:08.698 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $119,971.47
2025-11-19 16:56:08.699 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:08.699 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:08.700 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.700 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.700 | INFO     | src.backtesting.engine:run:273 -      AGG: 1121.54 shares @ $106.97 (Value: $119,971.47, P&L: $388.86)
2025-11-19 16:56:08.700 | INFO     | src.backtesting.engine:run:273 -      AGG: 1121.54 shares @ $106.97 (Value: $119,971.47, P&L: $388.86)
2025-11-19 16:56:08.704 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.704 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.04200069739000545
2025-11-19 16:56:08.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.04200069739000545
2025-11-19 16:56:08.711 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.15140841068462452
2025-11-19 16:56:08.711 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.15140841068462452
2025-11-19 16:56:08.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.16206154527910455
2025-11-19 16:56:08.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.16206154527910455
2025-11-19 16:56:08.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.010453258736062732
2025-11-19 16:56:08.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.010453258736062732
2025-11-19 16:56:08.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-02-01 00:00:00:
2025-11-19 16:56:08.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-02-01 00:00:00:
2025-11-19 16:56:08.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0420 (-4.20%) - FAIL
2025-11-19 16:56:08.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0420 (-4.20%) - FAIL
2025-11-19 16:56:08.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1514 (-15.14%) - FAIL
2025-11-19 16:56:08.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1514 (-15.14%) - FAIL
2025-11-19 16:56:08.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1621 (-16.21%) - FAIL
2025-11-19 16:56:08.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1621 (-16.21%) - FAIL
2025-11-19 16:56:08.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0105 (-1.05%) - FAIL
2025-11-19 16:56:08.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0105 (-1.05%) - FAIL
2025-11-19 16:56:08.722 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:08.722 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:08.722 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:08.722 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:08.723 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.723 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.723 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:08.723 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:08.724 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.724 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:08.725 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1121.54 shares @ $106.97 (Value: $119,971.47)
2025-11-19 16:56:08.725 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1121.54 shares @ $106.97 (Value: $119,971.47)
2025-11-19 16:56:08.725 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-02-01: PV=$119,971.47, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:08.725 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-02-01: PV=$119,971.47, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:08.726 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:08.726 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:08.726 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.726 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:08.728 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:08.728 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:08.729 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1121.54 shares worth $119,971.47
2025-11-19 16:56:08.729 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1121.54 shares worth $119,971.47
2025-11-19 16:56:08.731 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:08.731 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:08.733 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $106.97 ‚Üí $107.02 (slippage: 0.050%)
2025-11-19 16:56:08.733 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $106.97 ‚Üí $107.02 (slippage: 0.050%)
2025-11-19 16:56:08.733 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.733 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.734 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1120.98
2025-11-19 16:56:08.734 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1120.98
2025-11-19 16:56:08.735 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1121.54
2025-11-19 16:56:08.735 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1121.54
2025-11-19 16:56:08.736 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.56
2025-11-19 16:56:08.736 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.56
2025-11-19 16:56:08.737 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:08.737 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:08.738 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-59.93
2025-11-19 16:56:08.738 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-59.93
2025-11-19 16:56:08.738 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.56 shares at $106.92 (proceeds: $59.87)
2025-11-19 16:56:08.738 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.56 shares at $106.92 (proceeds: $59.87)
2025-11-19 16:56:08.740 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:08.740 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:08.742 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $59.87
2025-11-19 16:56:08.742 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $59.87
2025-11-19 16:56:08.746 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$59.93, Cash end=$59.87
2025-11-19 16:56:08.746 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$59.93, Cash end=$59.87
2025-11-19 16:56:08.747 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.747 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:08.748 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.748 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.750 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $119,971.38
2025-11-19 16:56:08.750 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $119,971.38
2025-11-19 16:56:08.751 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $59.87
2025-11-19 16:56:08.751 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $59.87
2025-11-19 16:56:08.752 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:08.752 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:08.753 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.753 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.754 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-03-01
2025-11-19 16:56:08.754 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-03-01
2025-11-19 16:56:08.755 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $119,590.24
2025-11-19 16:56:08.755 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $119,590.24
2025-11-19 16:56:08.755 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $59.87
2025-11-19 16:56:08.755 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $59.87
2025-11-19 16:56:08.756 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.756 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.756 | INFO     | src.backtesting.engine:run:273 -      AGG: 1120.98 shares @ $106.63 (Value: $119,530.38, P&L: $7.52)
2025-11-19 16:56:08.756 | INFO     | src.backtesting.engine:run:273 -      AGG: 1120.98 shares @ $106.63 (Value: $119,530.38, P&L: $7.52)
2025-11-19 16:56:08.758 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.758 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.760 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.760 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.762 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.762 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.764 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.764 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03228426183801769
2025-11-19 16:56:08.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03228426183801769
2025-11-19 16:56:08.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.08040407238359903
2025-11-19 16:56:08.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.08040407238359903
2025-11-19 16:56:08.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.11516032333570725
2025-11-19 16:56:08.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.11516032333570725
2025-11-19 16:56:08.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.001311224070901229
2025-11-19 16:56:08.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.001311224070901229
2025-11-19 16:56:08.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-03-01 00:00:00:
2025-11-19 16:56:08.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-03-01 00:00:00:
2025-11-19 16:56:08.779 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0323 (3.23%) - PASS
2025-11-19 16:56:08.779 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0323 (3.23%) - PASS
2025-11-19 16:56:08.781 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0804 (-8.04%) - FAIL
2025-11-19 16:56:08.781 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0804 (-8.04%) - FAIL
2025-11-19 16:56:08.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1152 (-11.52%) - FAIL
2025-11-19 16:56:08.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1152 (-11.52%) - FAIL
2025-11-19 16:56:08.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0013 (-0.13%) - FAIL
2025-11-19 16:56:08.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0013 (-0.13%) - FAIL
2025-11-19 16:56:08.788 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.788 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:08.789 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.789 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:08.791 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.791 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:08.793 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:08.793 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:08.795 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 1120.98 shares @ $106.63 (Value: $119,530.38, P&L: $7.52)
2025-11-19 16:56:08.795 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 1120.98 shares @ $106.63 (Value: $119,530.38, P&L: $7.52)
2025-11-19 16:56:08.798 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 1120.98 @ $106.58 (P&L: $-52.24)
2025-11-19 16:56:08.798 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 1120.98 @ $106.58 (P&L: $-52.24)
2025-11-19 16:56:08.799 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $119,411.01
2025-11-19 16:56:08.799 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $119,411.01
2025-11-19 16:56:08.803 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-03-01: PV=$119,590.24, Cash=$119,411.01, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:08.803 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-03-01: PV=$119,590.24, Cash=$119,411.01, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:08.807 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.807 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:08.809 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:08.809 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:08.813 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:08.813 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:08.816 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $280.42 ‚Üí $280.56 (slippage: 0.050%)
2025-11-19 16:56:08.816 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $280.42 ‚Üí $280.56 (slippage: 0.050%)
2025-11-19 16:56:08.819 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.44s, Size: 293386 bytes
2025-11-19 16:56:08.819 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.44s, Size: 293386 bytes
2025-11-19 16:56:08.822 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.822 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:08.825 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '5smqtihkhr1h8', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '56', 'date': 'Wed, 19 Nov 2025 08:56:08 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '0', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:08.825 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '5smqtihkhr1h8', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '56', 'date': 'Wed, 19 Nov 2025 08:56:08 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '0', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:08.828 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 426.26
2025-11-19 16:56:08.828 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 426.26
2025-11-19 16:56:08.837 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:08.837 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:08.838 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $119.59
2025-11-19 16:56:08.838 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $119.59
ed response for AGG in 0.46s
2025-11-19 16:56:08.838 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for AGG in 0.46s
2025-11-19 16:56:08.842 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $119,709.83
2025-11-19 16:56:08.842 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $119,709.83
2025-11-19 16:56:08.842 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:08.842 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:08.844 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 425.19 @ $280.56
2025-11-19 16:56:08.844 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 425.19 @ $280.56
2025-11-19 16:56:08.845 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:08.845 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:08.850 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:08.850 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:08.851 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:08.851 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:08.856 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:08.856 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing AGG (parse time: 0.01s)
2025-11-19 16:56:08.856 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing AGG (parse time: 0.01s)
2025-11-19 16:56:08.861 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$119,411.01, Cash end=$-0.00
2025-11-19 16:56:08.875 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'AGG', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 1064842200, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 100.08, 'fiftyTwoWeekHigh': 101.35, 'fiftyTwoWeekLow': 95.74, 'regularMarketDayHigh': 100.27, 'regularMarketDayLow': 100.0, 'regularMarketVolume': 677157...
2025-11-19 16:56:08.861 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$119,411.01, Cash end=$-0.00
2025-11-19 16:56:08.875 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'AGG', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 1064842200, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 100.08, 'fiftyTwoWeekHigh': 101.35, 'fiftyTwoWeekLow': 95.74, 'regularMarketDayHigh': 100.27, 'regularMarketDayLow': 100.0, 'regularMarketVolume': 677157...
2025-11-19 16:56:08.877 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:08.877 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:08.877 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for AGG
2025-11-19 16:56:08.877 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for AGG
2025-11-19 16:56:08.880 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 1120.98 shares @ $106.63 (Value: $119,530.38, P&L: $7.52)
2025-11-19 16:56:08.880 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 1120.98 shares @ $106.63 (Value: $119,530.38, P&L: $7.52)
2025-11-19 16:56:08.883 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading AGG from 2013-05-29 to 2024-01-01
2025-11-19 16:56:08.883 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading AGG from 2013-05-29 to 2024-01-01
2025-11-19 16:56:08.885 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:08.885 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:08.899 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 425.19 shares @ $280.56 (Value: $119,291.72)
2025-11-19 16:56:08.899 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 425.19 shares @ $280.56 (Value: $119,291.72)
2025-11-19 16:56:08.933 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2667 rows for AGG
2025-11-19 16:56:08.933 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2667 rows for AGG
2025-11-19 16:56:08.935 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.935 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:08.935 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:08.935 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:08.936 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $119,291.72
2025-11-19 16:56:08.936 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $119,291.72
2025-11-19 16:56:08.937 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2667 rows using yfinance
2025-11-19 16:56:08.937 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2667 rows using yfinance
2025-11-19 16:56:08.938 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:08.938 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:08.946 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:08.946 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:08.946 | INFO     | src.backtesting.engine:run:316 -      Change: $-298.53
2025-11-19 16:56:08.946 | INFO     | src.backtesting.engine:run:316 -      Change: $-298.53
2025-11-19 16:56:08.949 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì AGG: Fetched 2667 rows from YahooFinanceDirectSource (source: 0.60s, total: 0.61s)
2025-11-19 16:56:08.949 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì AGG: Fetched 2667 rows from YahooFinanceDirectSource (source: 0.60s, total: 0.61s)
2025-11-19 16:56:08.950 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.950 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:08.953 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:08.953 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:08.955 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-04-01
2025-11-19 16:56:08.955 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-04-01
2025-11-19 16:56:08.957 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] AGG: Cached 2667 rows (~125.0 KB, key: AGG_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.957 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] AGG: Cached 2667 rows (~125.0 KB, key: AGG_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.958 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $121,532.37
2025-11-19 16:56:08.958 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $121,532.37
2025-11-19 16:56:08.958 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 4
2025-11-19 16:56:08.958 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 4
2025-11-19 16:56:08.958 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:08.958 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:08.963 | INFO     | src.backtesting.utils:ensure_safe_asset_data:373 - üõ°Ô∏è  Safe asset 'SHY' configured but not in price data. Fetching automatically...
2025-11-19 16:56:08.963 | INFO     | src.backtesting.utils:ensure_safe_asset_data:373 - üõ°Ô∏è  Safe asset 'SHY' configured but not in price data. Fetching automatically...
2025-11-19 16:56:08.966 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.966 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:08.966 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching SHY from 2 sources with failover
2025-11-19 16:56:08.966 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching SHY from 2 sources with failover
2025-11-19 16:56:08.968 | INFO     | src.backtesting.engine:run:273 -      SPY: 425.19 shares @ $285.83 (Value: $121,532.37, P&L: $2,240.66)
2025-11-19 16:56:08.968 | INFO     | src.backtesting.engine:run:273 -      SPY: 425.19 shares @ $285.83 (Value: $121,532.37, P&L: $2,240.66)
2025-11-19 16:56:08.968 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:08.968 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:08.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:08.973 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] SHY: Not in cache (key: SHY_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.973 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] SHY: Not in cache (key: SHY_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.975 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] SHY: No cached data, trying sources
2025-11-19 16:56:08.975 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] SHY: No cached data, trying sources
2025-11-19 16:56:08.978 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.978 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.979 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for SHY
2025-11-19 16:56:08.979 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for SHY
2025-11-19 16:56:08.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.984 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:08.984 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:08.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:08.988 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: SHY, Date Range: 2013-05-29 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:08.988 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: SHY, Date Range: 2013-05-29 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:08.991 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08618655976371747
2025-11-19 16:56:08.991 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08618655976371747
2025-11-19 16:56:08.991 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] SHY: Not in cache (key: SHY_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.991 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] SHY: Not in cache (key: SHY_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:08.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.057261737174148064
2025-11-19 16:56:08.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.057261737174148064
2025-11-19 16:56:08.993 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] SHY: No cached data found, fetching from API
2025-11-19 16:56:08.993 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] SHY: No cached data found, fetching from API
2025-11-19 16:56:08.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.09631312818457705
2025-11-19 16:56:08.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.09631312818457705
2025-11-19 16:56:08.997 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for SHY
2025-11-19 16:56:08.997 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for SHY
2025-11-19 16:56:08.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009883427119755206
2025-11-19 16:56:08.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009883427119755206
2025-11-19 16:56:09.000 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/SHY
2025-11-19 16:56:09.000 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/SHY
2025-11-19 16:56:09.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-04-01 00:00:00:
2025-11-19 16:56:09.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-04-01 00:00:00:
2025-11-19 16:56:09.002 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1369756800, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:09.002 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1369756800, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:09.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0862 (8.62%) - PASS
2025-11-19 16:56:09.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0862 (8.62%) - PASS
2025-11-19 16:56:09.003 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:09.003 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:09.003 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0573 (-5.73%) - FAIL
2025-11-19 16:56:09.003 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0573 (-5.73%) - FAIL
2025-11-19 16:56:09.004 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/SHY
2025-11-19 16:56:09.004 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/SHY
2025-11-19 16:56:09.005 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0963 (-9.63%) - FAIL
2025-11-19 16:56:09.005 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0963 (-9.63%) - FAIL
2025-11-19 16:56:09.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-11-19 16:56:09.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-11-19 16:56:09.011 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:09.011 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:09.013 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.013 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.015 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:09.015 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:09.018 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:09.018 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:09.019 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 425.19 shares @ $285.83 (Value: $121,532.37)
2025-11-19 16:56:09.019 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 425.19 shares @ $285.83 (Value: $121,532.37)
2025-11-19 16:56:09.021 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-04-01: PV=$121,532.37, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:09.021 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-04-01: PV=$121,532.37, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:09.022 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:09.022 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:09.022 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:09.022 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:09.023 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:09.023 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:09.023 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 425.19 shares worth $121,532.37
2025-11-19 16:56:09.023 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 425.19 shares worth $121,532.37
2025-11-19 16:56:09.024 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:09.024 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:09.025 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $285.83 ‚Üí $285.97 (slippage: 0.050%)
2025-11-19 16:56:09.025 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $285.83 ‚Üí $285.97 (slippage: 0.050%)
2025-11-19 16:56:09.025 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.97
2025-11-19 16:56:09.025 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.97
2025-11-19 16:56:09.026 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 424.98
2025-11-19 16:56:09.026 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 424.98
2025-11-19 16:56:09.027 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 425.19
2025-11-19 16:56:09.027 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 425.19
2025-11-19 16:56:09.028 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.21
2025-11-19 16:56:09.028 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.21
2025-11-19 16:56:09.029 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:09.029 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:09.029 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-60.71
2025-11-19 16:56:09.029 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-60.71
2025-11-19 16:56:09.031 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.21 shares at $285.69 (proceeds: $60.64)
2025-11-19 16:56:09.031 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.21 shares at $285.69 (proceeds: $60.64)
2025-11-19 16:56:09.032 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:09.032 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:09.033 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $60.64
2025-11-19 16:56:09.033 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $60.64
2025-11-19 16:56:09.033 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$60.71, Cash end=$60.64
2025-11-19 16:56:09.033 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$60.71, Cash end=$60.64
2025-11-19 16:56:09.034 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:09.034 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:09.035 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.035 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.036 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $121,532.28
2025-11-19 16:56:09.036 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $121,532.28
2025-11-19 16:56:09.036 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $60.64
2025-11-19 16:56:09.036 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $60.64
2025-11-19 16:56:09.037 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:09.037 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:09.038 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.038 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.040 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-05-01
2025-11-19 16:56:09.040 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-05-01
2025-11-19 16:56:09.042 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $124,073.66
2025-11-19 16:56:09.042 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $124,073.66
2025-11-19 16:56:09.043 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $60.64
2025-11-19 16:56:09.043 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $60.64
2025-11-19 16:56:09.044 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.044 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.047 | INFO     | src.backtesting.engine:run:273 -      SPY: 424.98 shares @ $291.81 (Value: $124,013.01, P&L: $4,780.91)
2025-11-19 16:56:09.047 | INFO     | src.backtesting.engine:run:273 -      SPY: 424.98 shares @ $291.81 (Value: $124,013.01, P&L: $4,780.91)
2025-11-19 16:56:09.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10320965855756659
2025-11-19 16:56:09.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10320965855756659
2025-11-19 16:56:09.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.061634163726552726
2025-11-19 16:56:09.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.061634163726552726
2025-11-19 16:56:09.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.07075873453510939
2025-11-19 16:56:09.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.07075873453510939
2025-11-19 16:56:09.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022641523829046273
2025-11-19 16:56:09.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022641523829046273
2025-11-19 16:56:09.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-05-01 00:00:00:
2025-11-19 16:56:09.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-05-01 00:00:00:
2025-11-19 16:56:09.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1032 (10.32%) - PASS
2025-11-19 16:56:09.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1032 (10.32%) - PASS
2025-11-19 16:56:09.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0616 (-6.16%) - FAIL
2025-11-19 16:56:09.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0616 (-6.16%) - FAIL
2025-11-19 16:56:09.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0708 (-7.08%) - FAIL
2025-11-19 16:56:09.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0708 (-7.08%) - FAIL
2025-11-19 16:56:09.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0226 (2.26%) - PASS
2025-11-19 16:56:09.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0226 (2.26%) - PASS
2025-11-19 16:56:09.079 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:09.079 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:09.081 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.081 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.083 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:09.083 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:09.085 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:09.085 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:09.086 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 424.98 shares @ $291.81 (Value: $124,013.01)
2025-11-19 16:56:09.086 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 424.98 shares @ $291.81 (Value: $124,013.01)
2025-11-19 16:56:09.087 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-05-01: PV=$124,073.66, Cash=$60.64, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:09.087 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-05-01: PV=$124,073.66, Cash=$60.64, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:09.088 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:09.088 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:09.088 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:09.088 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:09.089 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:09.089 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:09.089 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 424.98 shares worth $124,013.01
2025-11-19 16:56:09.089 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 424.98 shares worth $124,013.01
2025-11-19 16:56:09.090 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:09.090 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:09.091 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $291.81 ‚Üí $291.96 (slippage: 0.050%)
2025-11-19 16:56:09.091 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $291.81 ‚Üí $291.96 (slippage: 0.050%)
2025-11-19 16:56:09.091 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.93
2025-11-19 16:56:09.091 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.93
2025-11-19 16:56:09.093 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 424.97
2025-11-19 16:56:09.093 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 424.97
2025-11-19 16:56:09.094 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 424.98
2025-11-19 16:56:09.094 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 424.98
2025-11-19 16:56:09.095 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:09.095 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:09.096 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:09.096 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:09.097 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.36
2025-11-19 16:56:09.097 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.36
2025-11-19 16:56:09.098 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:09.098 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:09.098 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$60.64
2025-11-19 16:56:09.098 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$60.64
2025-11-19 16:56:09.099 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:09.099 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:09.100 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.100 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.103 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $124,073.66
2025-11-19 16:56:09.103 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $124,073.66
2025-11-19 16:56:09.105 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $60.64
2025-11-19 16:56:09.105 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $60.64
2025-11-19 16:56:09.106 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:09.106 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:09.107 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.107 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.109 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-06-03
2025-11-19 16:56:09.109 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-06-03
2025-11-19 16:56:09.111 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $116,747.03
2025-11-19 16:56:09.111 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $116,747.03
2025-11-19 16:56:09.116 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $60.64
2025-11-19 16:56:09.116 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $60.64
2025-11-19 16:56:09.118 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.118 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.119 | INFO     | src.backtesting.engine:run:273 -      SPY: 424.98 shares @ $274.57 (Value: $116,686.39, P&L: $-2,545.71)
2025-11-19 16:56:09.119 | INFO     | src.backtesting.engine:run:273 -      SPY: 424.98 shares @ $274.57 (Value: $116,686.39, P&L: $-2,545.71)
2025-11-19 16:56:09.123 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.123 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013397818152000474
2025-11-19 16:56:09.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013397818152000474
2025-11-19 16:56:09.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.08112393291541697
2025-11-19 16:56:09.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.08112393291541697
2025-11-19 16:56:09.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.10089728461842051
2025-11-19 16:56:09.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.10089728461842051
2025-11-19 16:56:09.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03700922858622224
2025-11-19 16:56:09.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03700922858622224
2025-11-19 16:56:09.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-06-03 00:00:00:
2025-11-19 16:56:09.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-06-03 00:00:00:
2025-11-19 16:56:09.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0134 (1.34%) - PASS
2025-11-19 16:56:09.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0134 (1.34%) - PASS
2025-11-19 16:56:09.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0811 (-8.11%) - FAIL
2025-11-19 16:56:09.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0811 (-8.11%) - FAIL
2025-11-19 16:56:09.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1009 (-10.09%) - FAIL
2025-11-19 16:56:09.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1009 (-10.09%) - FAIL
2025-11-19 16:56:09.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0370 (3.70%) - PASS
2025-11-19 16:56:09.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0370 (3.70%) - PASS
2025-11-19 16:56:09.137 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:09.137 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:09.137 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.137 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.138 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:09.138 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:09.138 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:09.138 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:09.140 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 424.98 shares @ $274.57 (Value: $116,686.39, P&L: $-2,545.71)
2025-11-19 16:56:09.140 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 424.98 shares @ $274.57 (Value: $116,686.39, P&L: $-2,545.71)
2025-11-19 16:56:09.141 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 424.98 @ $274.43 (P&L: $-2,604.06)
2025-11-19 16:56:09.141 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 424.98 @ $274.43 (P&L: $-2,604.06)
2025-11-19 16:56:09.141 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $116,572.06
2025-11-19 16:56:09.141 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $116,572.06
2025-11-19 16:56:09.142 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-06-03: PV=$116,747.03, Cash=$116,572.06, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:09.142 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-06-03: PV=$116,747.03, Cash=$116,572.06, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:09.142 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:09.142 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:09.143 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:09.143 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:09.146 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [relative_top]
2025-11-19 16:56:09.146 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [relative_top]
2025-11-19 16:56:09.149 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $110.40 ‚Üí $110.46 (slippage: 0.050%)
2025-11-19 16:56:09.149 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $110.40 ‚Üí $110.46 (slippage: 0.050%)
2025-11-19 16:56:09.152 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.89
2025-11-19 16:56:09.152 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.89
2025-11-19 16:56:09.154 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1056.96
2025-11-19 16:56:09.154 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1056.96
2025-11-19 16:56:09.155 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $116.75
2025-11-19 16:56:09.155 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $116.75
2025-11-19 16:56:09.156 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $116,863.78
2025-11-19 16:56:09.156 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $116,863.78
2025-11-19 16:56:09.157 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 1054.32 @ $110.46
2025-11-19 16:56:09.157 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 1054.32 @ $110.46
2025-11-19 16:56:09.157 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:09.157 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:09.158 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:09.158 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:09.158 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$116,572.06, Cash end=$-0.00
2025-11-19 16:56:09.158 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$116,572.06, Cash end=$-0.00
2025-11-19 16:56:09.160 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:09.160 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:09.163 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 424.98 shares @ $274.57 (Value: $116,686.39, P&L: $-2,545.71)
2025-11-19 16:56:09.163 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 424.98 shares @ $274.57 (Value: $116,686.39, P&L: $-2,545.71)
2025-11-19 16:56:09.164 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:09.164 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:09.166 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 1054.32 shares @ $110.46 (Value: $116,455.60)
2025-11-19 16:56:09.166 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 1054.32 shares @ $110.46 (Value: $116,455.60)
2025-11-19 16:56:09.167 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.167 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.169 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,455.60
2025-11-19 16:56:09.169 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,455.60
2025-11-19 16:56:09.169 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:09.169 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:09.171 | INFO     | src.backtesting.engine:run:316 -      Change: $-291.43
2025-11-19 16:56:09.171 | INFO     | src.backtesting.engine:run:316 -      Change: $-291.43
2025-11-19 16:56:09.172 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.172 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.173 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-07-01
2025-11-19 16:56:09.173 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-07-01
2025-11-19 16:56:09.173 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $117,219.78
2025-11-19 16:56:09.173 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $117,219.78
2025-11-19 16:56:09.174 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:09.174 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:09.174 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.174 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.175 | INFO     | src.backtesting.engine:run:273 -      AGG: 1054.32 shares @ $111.18 (Value: $117,219.78, P&L: $764.17)
2025-11-19 16:56:09.175 | INFO     | src.backtesting.engine:run:273 -      AGG: 1054.32 shares @ $111.18 (Value: $117,219.78, P&L: $764.17)
2025-11-19 16:56:09.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.179 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.179 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09143928411616975
2025-11-19 16:56:09.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09143928411616975
2025-11-19 16:56:09.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.008408371943301907
2025-11-19 16:56:09.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.008408371943301907
2025-11-19 16:56:09.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.017100013251806656
2025-11-19 16:56:09.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.017100013251806656
2025-11-19 16:56:09.197 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.046596976295012915
2025-11-19 16:56:09.197 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.046596976295012915
2025-11-19 16:56:09.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-07-01 00:00:00:
2025-11-19 16:56:09.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-07-01 00:00:00:
2025-11-19 16:56:09.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0914 (9.14%) - PASS
2025-11-19 16:56:09.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0914 (9.14%) - PASS
2025-11-19 16:56:09.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0084 (-0.84%) - FAIL
2025-11-19 16:56:09.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0084 (-0.84%) - FAIL
2025-11-19 16:56:09.203 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0171 (1.71%) - PASS
2025-11-19 16:56:09.203 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0171 (1.71%) - PASS
2025-11-19 16:56:09.204 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0466 (4.66%) - PASS
2025-11-19 16:56:09.204 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0466 (4.66%) - PASS
2025-11-19 16:56:09.205 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:09.205 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:09.206 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.206 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.206 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:09.206 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:09.207 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:09.207 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:09.208 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 1054.32 shares @ $111.18 (Value: $117,219.78, P&L: $764.17)
2025-11-19 16:56:09.208 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 1054.32 shares @ $111.18 (Value: $117,219.78, P&L: $764.17)
2025-11-19 16:56:09.208 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 1054.32 @ $111.12 (P&L: $705.56)
2025-11-19 16:56:09.208 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 1054.32 @ $111.12 (P&L: $705.56)
2025-11-19 16:56:09.209 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $117,044.01
2025-11-19 16:56:09.209 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $117,044.01
2025-11-19 16:56:09.209 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-07-01: PV=$117,219.78, Cash=$117,044.01, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:09.209 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-07-01: PV=$117,219.78, Cash=$117,044.01, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:09.210 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:09.210 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:09.213 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:09.213 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:09.214 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:09.214 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:09.220 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $295.66 ‚Üí $295.81 (slippage: 0.050%)
2025-11-19 16:56:09.220 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $295.66 ‚Üí $295.81 (slippage: 0.050%)
2025-11-19 16:56:09.223 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.85
2025-11-19 16:56:09.223 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.85
2025-11-19 16:56:09.226 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 396.27
2025-11-19 16:56:09.226 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 396.27
2025-11-19 16:56:09.228 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $117.22
2025-11-19 16:56:09.228 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $117.22
2025-11-19 16:56:09.231 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $117,337.00
2025-11-19 16:56:09.231 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $117,337.00
2025-11-19 16:56:09.236 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 395.28 @ $295.81
2025-11-19 16:56:09.236 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 395.28 @ $295.81
2025-11-19 16:56:09.237 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:09.237 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:09.238 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:09.238 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:09.239 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$117,044.01, Cash end=$-0.00
2025-11-19 16:56:09.239 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$117,044.01, Cash end=$-0.00
2025-11-19 16:56:09.241 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:09.241 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:09.242 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 1054.32 shares @ $111.18 (Value: $117,219.78, P&L: $764.17)
2025-11-19 16:56:09.242 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 1054.32 shares @ $111.18 (Value: $117,219.78, P&L: $764.17)
2025-11-19 16:56:09.245 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:09.245 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:09.248 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 395.28 shares @ $295.81 (Value: $116,927.08)
2025-11-19 16:56:09.248 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 395.28 shares @ $295.81 (Value: $116,927.08)
2025-11-19 16:56:09.253 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.253 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.255 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,927.08
2025-11-19 16:56:09.255 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,927.08
2025-11-19 16:56:09.256 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:09.256 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:09.260 | INFO     | src.backtesting.engine:run:316 -      Change: $-292.70
2025-11-19 16:56:09.260 | INFO     | src.backtesting.engine:run:316 -      Change: $-292.70
2025-11-19 16:56:09.263 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.263 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.266 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-08-01
2025-11-19 16:56:09.266 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-08-01
2025-11-19 16:56:09.267 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $116,544.51
2025-11-19 16:56:09.267 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $116,544.51
2025-11-19 16:56:09.268 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:09.268 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:09.270 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.270 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.271 | INFO     | src.backtesting.engine:run:273 -      SPY: 395.28 shares @ $294.84 (Value: $116,544.51, P&L: $-382.57)
2025-11-19 16:56:09.271 | INFO     | src.backtesting.engine:run:273 -      SPY: 395.28 shares @ $294.84 (Value: $116,544.51, P&L: $-382.57)
2025-11-19 16:56:09.275 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.275 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.277 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.277 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.283 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.283 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.287 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.287 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.289 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0480219329984386
2025-11-19 16:56:09.289 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0480219329984386
2025-11-19 16:56:09.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0669280022383103
2025-11-19 16:56:09.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0669280022383103
2025-11-19 16:56:09.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.08716004891247964
2025-11-19 16:56:09.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.08716004891247964
2025-11-19 16:56:09.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05515751686005599
2025-11-19 16:56:09.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05515751686005599
2025-11-19 16:56:09.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-08-01 00:00:00:
2025-11-19 16:56:09.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-08-01 00:00:00:
2025-11-19 16:56:09.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0480 (4.80%) - PASS
2025-11-19 16:56:09.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0480 (4.80%) - PASS
2025-11-19 16:56:09.305 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0669 (-6.69%) - FAIL
2025-11-19 16:56:09.305 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0669 (-6.69%) - FAIL
2025-11-19 16:56:09.307 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0872 (-8.72%) - FAIL
2025-11-19 16:56:09.307 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0872 (-8.72%) - FAIL
2025-11-19 16:56:09.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0552 (5.52%) - PASS
2025-11-19 16:56:09.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0552 (5.52%) - PASS
2025-11-19 16:56:09.311 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:09.311 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:09.313 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.313 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.314 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:09.314 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:09.319 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:09.319 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:09.323 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 395.28 shares @ $294.84 (Value: $116,544.51, P&L: $-382.57)
2025-11-19 16:56:09.323 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 395.28 shares @ $294.84 (Value: $116,544.51, P&L: $-382.57)
2025-11-19 16:56:09.326 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 395.28 @ $294.69 (P&L: $-440.84)
2025-11-19 16:56:09.326 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 395.28 @ $294.69 (P&L: $-440.84)
2025-11-19 16:56:09.328 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $116,369.75
2025-11-19 16:56:09.328 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $116,369.75
2025-11-19 16:56:09.332 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-08-01: PV=$116,544.51, Cash=$116,369.75, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:09.332 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-08-01: PV=$116,544.51, Cash=$116,369.75, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:09.335 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:09.335 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:09.337 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:09.337 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:09.338 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [relative_top]
2025-11-19 16:56:09.338 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [relative_top]
2025-11-19 16:56:09.340 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $111.91 ‚Üí $111.97 (slippage: 0.050%)
2025-11-19 16:56:09.340 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $111.91 ‚Üí $111.97 (slippage: 0.050%)
2025-11-19 16:56:09.342 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:09.342 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:09.344 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1040.89
2025-11-19 16:56:09.344 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1040.89
2025-11-19 16:56:09.346 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $116.54
2025-11-19 16:56:09.346 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $116.54
2025-11-19 16:56:09.348 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $116,661.06
2025-11-19 16:56:09.348 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $116,661.06
2025-11-19 16:56:09.353 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 1038.29 @ $111.97
2025-11-19 16:56:09.353 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 1038.29 @ $111.97
2025-11-19 16:56:09.355 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:09.355 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:09.358 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:09.358 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:09.361 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$116,369.75, Cash end=$-0.00
2025-11-19 16:56:09.361 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$116,369.75, Cash end=$-0.00
2025-11-19 16:56:09.365 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:09.365 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:09.367 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 395.28 shares @ $294.84 (Value: $116,544.51, P&L: $-382.57)
2025-11-19 16:56:09.367 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 395.28 shares @ $294.84 (Value: $116,544.51, P&L: $-382.57)
2025-11-19 16:56:09.368 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:09.368 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:09.369 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 1038.29 shares @ $111.97 (Value: $116,253.50)
2025-11-19 16:56:09.369 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 1038.29 shares @ $111.97 (Value: $116,253.50)
2025-11-19 16:56:09.371 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.371 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.374 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.37s, Size: 282356 bytes
2025-11-19 16:56:09.374 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.37s, Size: 282356 bytes
2025-11-19 16:56:09.375 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,253.50
2025-11-19 16:56:09.375 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,253.50
2025-11-19 16:56:09.379 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '4ee1grdkhr1h9', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '72', 'date': 'Wed, 19 Nov 2025 08:56:09 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '0', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:09.379 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '4ee1grdkhr1h9', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '72', 'date': 'Wed, 19 Nov 2025 08:56:09 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '0', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:09.379 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:09.379 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:09.391 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:09.391 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:09.392 | INFO     | src.backtesting.engine:run:316 -      Change: $-291.01
2025-11-19 16:56:09.392 | INFO     | src.backtesting.engine:run:316 -      Change: $-291.01
2025-11-19 16:56:09.393 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for SHY in 0.39s
2025-11-19 16:56:09.393 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for SHY in 0.39s
2025-11-19 16:56:09.396 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.396 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.397 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:09.397 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:09.402 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-09-03
2025-11-19 16:56:09.402 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-09-03
2025-11-19 16:56:09.403 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:09.403 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:09.405 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $118,199.30
2025-11-19 16:56:09.405 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $118,199.30
2025-11-19 16:56:09.407 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:09.407 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:09.412 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:09.412 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:09.413 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing SHY (parse time: 0.01s)
2025-11-19 16:56:09.413 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing SHY (parse time: 0.01s)
2025-11-19 16:56:09.418 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.418 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.428 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'SHY', 'exchangeName': 'NGM', 'fullExchangeName': 'NasdaqGM', 'instrumentType': 'ETF', 'firstTradeDate': 1028035800, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 82.87, 'fiftyTwoWeekHigh': 83.14, 'fiftyTwoWeekLow': 81.67, 'regularMarketDayHigh': 82.919, 'regularMarketDayLow': 82.85, 'regularMarketVolume': 2818172,...
2025-11-19 16:56:09.428 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'SHY', 'exchangeName': 'NGM', 'fullExchangeName': 'NasdaqGM', 'instrumentType': 'ETF', 'firstTradeDate': 1028035800, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 82.87, 'fiftyTwoWeekHigh': 83.14, 'fiftyTwoWeekLow': 81.67, 'regularMarketDayHigh': 82.919, 'regularMarketDayLow': 82.85, 'regularMarketVolume': 2818172,...
2025-11-19 16:56:09.429 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 1.47s, Size: 270037 bytes
2025-11-19 16:56:09.429 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 1.47s, Size: 270037 bytes
2025-11-19 16:56:09.431 | INFO     | src.backtesting.engine:run:273 -      AGG: 1038.29 shares @ $113.84 (Value: $118,199.30, P&L: $1,945.80)
2025-11-19 16:56:09.431 | INFO     | src.backtesting.engine:run:273 -      AGG: 1038.29 shares @ $113.84 (Value: $118,199.30, P&L: $1,945.80)
2025-11-19 16:56:09.434 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for SHY
2025-11-19 16:56:09.434 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for SHY
2025-11-19 16:56:09.436 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '1sdf2rlkhr1h9', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '72', 'date': 'Wed, 19 Nov 2025 08:56:08 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '1', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:09.436 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '1sdf2rlkhr1h9', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '72', 'date': 'Wed, 19 Nov 2025 08:56:08 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '1', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:09.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.446 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading SHY from 2013-05-29 to 2024-01-01
2025-11-19 16:56:09.446 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading SHY from 2013-05-29 to 2024-01-01
2025-11-19 16:56:09.450 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:09.450 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:09.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.455 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for SPY in 1.50s
2025-11-19 16:56:09.455 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for SPY in 1.50s
2025-11-19 16:56:09.490 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.490 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.498 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2667 rows for SHY
2025-11-19 16:56:09.498 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2667 rows for SHY
2025-11-19 16:56:09.499 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:09.499 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:09.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.503 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:09.503 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:09.504 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:09.504 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:09.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.506 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2667 rows using yfinance
2025-11-19 16:56:09.507 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:09.506 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2667 rows using yfinance
2025-11-19 16:56:09.507 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:09.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0015156819149440004
2025-11-19 16:56:09.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0015156819149440004
2025-11-19 16:56:09.522 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:09.522 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:09.523 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing SPY (parse time: 0.02s)
2025-11-19 16:56:09.523 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing SPY (parse time: 0.02s)
2025-11-19 16:56:09.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.07056566432888134
2025-11-19 16:56:09.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.07056566432888134
2025-11-19 16:56:09.529 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì SHY: Fetched 2667 rows from YahooFinanceDirectSource (source: 0.55s, total: 0.56s)
2025-11-19 16:56:09.529 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì SHY: Fetched 2667 rows from YahooFinanceDirectSource (source: 0.55s, total: 0.56s)
2025-11-19 16:56:09.539 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'SPY', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 728317800, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 660.08, 'fiftyTwoWeekHigh': 689.7, 'fiftyTwoWeekLow': 481.8, 'regularMarketDayHigh': 665.12, 'regularMarketDayLow': 655.86, 'regularMarketVolume': 1072116...
2025-11-19 16:56:09.539 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'SPY', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 728317800, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 660.08, 'fiftyTwoWeekHigh': 689.7, 'fiftyTwoWeekLow': 481.8, 'regularMarketDayHigh': 665.12, 'regularMarketDayLow': 655.86, 'regularMarketVolume': 1072116...
2025-11-19 16:56:09.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.070081538597497
2025-11-19 16:56:09.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.070081538597497
2025-11-19 16:56:09.543 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:09.543 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2013-05-29 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:09.544 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for SPY
2025-11-19 16:56:09.544 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0697237201335581
2025-11-19 16:56:09.544 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for SPY
2025-11-19 16:56:09.544 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0697237201335581
2025-11-19 16:56:09.549 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] SHY: Cached 2667 rows (~125.0 KB, key: SHY_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:09.549 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] SHY: Cached 2667 rows (~125.0 KB, key: SHY_2013-05-29_2024-01-01_1d)
2025-11-19 16:56:09.551 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading SPY from 2014-04-06 to 2024-01-01
2025-11-19 16:56:09.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-09-03 00:00:00:
4-04-06 to 2024-01-01
2025-11-19 16:56:09.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-09-03 00:00:00:
2025-11-19 16:56:09.554 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 5
2025-11-19 16:56:09.554 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 5
2025-11-19 16:56:09.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0015 (0.15%) - PASS
2025-11-19 16:56:09.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0015 (0.15%) - PASS
2025-11-19 16:56:09.585 | ERROR    | src.backtesting.utils:ensure_safe_asset_data:410 - ‚ùå Failed to fetch safe asset 'SHY': PriceData.__init__() missing 1 required positional argument: 'metadata'
   Safe asset signals will be skipped. Consider:
   1. Adding 'SHY' to your universe manually, OR
   2. Changing safe_asset to one already in your universe
2025-11-19 16:56:09.585 | ERROR    | src.backtesting.utils:ensure_safe_asset_data:410 - ‚ùå Failed to fetch safe asset 'SHY': PriceData.__init__() missing 1 required positional argument: 'metadata'
   Safe asset signals will be skipped. Consider:
   1. Adding 'SHY' to your universe manually, OR
   2. Changing safe_asset to one already in your universe
2025-11-19 16:56:09.592 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2451 rows for SPY
2025-11-19 16:56:09.592 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2451 rows for SPY
2025-11-19 16:56:09.593 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0706 (-7.06%) - FAIL
2025-11-19 16:56:09.593 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0706 (-7.06%) - FAIL
2025-11-19 16:56:09.596 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching SPY from 2 sources with failover
2025-11-19 16:56:09.596 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching SPY from 2 sources with failover
2025-11-19 16:56:09.597 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:09.597 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:09.598 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0701 (-7.01%) - FAIL
2025-11-19 16:56:09.598 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0701 (-7.01%) - FAIL
2025-11-19 16:56:09.601 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:09.601 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:09.602 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2451 rows using yfinance
2025-11-19 16:56:09.602 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2451 rows using yfinance
2025-11-19 16:56:09.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0697 (6.97%) - PASS
2025-11-19 16:56:09.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0697 (6.97%) - PASS
2025-11-19 16:56:09.603 | DEBUG    | src.core.base_data_source:get_from_cache:377 - [CACHE HIT] SPY: Found in cache (key: SPY_2013-05-29_2024-01-01_1d, rows: 2667)
2025-11-19 16:56:09.603 | DEBUG    | src.core.base_data_source:get_from_cache:377 - [CACHE HIT] SPY: Found in cache (key: SPY_2013-05-29_2024-01-01_1d, rows: 2667)
2025-11-19 16:56:09.611 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:09.611 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:09.614 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:09.614 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:09.616 | INFO     | src.data_sources.multi_source:fetch_data:95 - [MULTI-SOURCE CACHE HIT] SPY: Using cached data with 2667 rows
2025-11-19 16:56:09.619 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì SPY: Fetched 2451 rows from YahooFinanceDirectSource (source: 1.70s, total: 1.72s)
2025-11-19 16:56:09.616 | INFO     | src.data_sources.multi_source:fetch_data:95 - [MULTI-SOURCE CACHE HIT] SPY: Using cached data with 2667 rows
2025-11-19 16:56:09.619 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì SPY: Fetched 2451 rows from YahooFinanceDirectSource (source: 1.70s, total: 1.72s)
2025-11-19 16:56:09.623 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.623 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.625 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:09.625 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:09.627 | INFO     | src.backtesting.engine:__init__:81 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-11-19 16:56:09.627 | INFO     | src.backtesting.engine:__init__:81 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-11-19 16:56:09.633 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:09.633 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:09.635 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] SPY: Cached 2451 rows (~114.9 KB, key: SPY_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:09.635 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] SPY: Cached 2451 rows (~114.9 KB, key: SPY_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:09.636 | INFO     | src.backtesting.engine:__init__:88 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-11-19 16:56:09.636 | INFO     | src.backtesting.engine:__init__:88 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-11-19 16:56:09.637 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:09.637 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:09.638 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 1
2025-11-19 16:56:09.638 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 1
2025-11-19 16:56:09.638 | INFO     | src.backtesting.engine:run:151 - Starting backtest for DualMomentumStrategy
2025-11-19 16:56:09.638 | INFO     | src.backtesting.engine:run:151 - Starting backtest for DualMomentumStrategy
2025-11-19 16:56:09.639 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1038.29 shares @ $113.84 (Value: $118,199.30)
2025-11-19 16:56:09.639 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1038.29 shares @ $113.84 (Value: $118,199.30)
2025-11-19 16:56:09.645 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching EFA from 2 sources with failover
2025-11-19 16:56:09.645 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching EFA from 2 sources with failover
2025-11-19 16:56:09.649 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-09-03: PV=$118,199.30, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:09.649 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-09-03: PV=$118,199.30, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:09.650 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:09.650 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:09.658 | INFO     | src.backtesting.engine:_setup_logging:122 - Backtest logging enabled: logs\backtest_DualMomentumStrategy_20251119_165609.log
2025-11-19 16:56:09.658 | INFO     | src.backtesting.engine:_setup_logging:122 - Backtest logging enabled: logs\backtest_DualMomentumStrategy_20251119_165609.log
2025-11-19 16:56:09.658 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:09.658 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:09.661 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] EFA: Not in cache (key: EFA_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:09.661 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] EFA: Not in cache (key: EFA_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:09.667 | INFO     | src.backtesting.engine:_setup_logging:123 - Strategy: DualMomentumStrategy
2025-11-19 16:56:09.667 | INFO     | src.backtesting.engine:_setup_logging:123 - Strategy: DualMomentumStrategy
2025-11-19 16:56:09.668 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:09.668 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:09.670 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] EFA: No cached data, trying sources
2025-11-19 16:56:09.670 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] EFA: No cached data, trying sources
2025-11-19 16:56:09.683 | INFO     | src.backtesting.engine:_setup_logging:124 - Period: 2015-01-01 to 2024-01-01
2025-11-19 16:56:09.683 | INFO     | src.backtesting.engine:_setup_logging:124 - Period: 2015-01-01 to 2024-01-01
2025-11-19 16:56:09.684 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:09.684 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:09.684 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for EFA
2025-11-19 16:56:09.684 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for EFA
2025-11-19 16:56:09.692 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1038.29 shares worth $118,199.30
2025-11-19 16:56:09.692 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1038.29 shares worth $118,199.30
2025-11-19 16:56:09.695 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:09.695 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:09.698 | INFO     | src.backtesting.engine:run:180 - Backtesting from 2015-01-02 00:00:00 to 2023-12-29 00:00:00 (2264 periods)
2025-11-19 16:56:09.698 | INFO     | src.backtesting.engine:run:180 - Backtesting from 2015-01-02 00:00:00 to 2023-12-29 00:00:00 (2264 periods)
2025-11-19 16:56:09.700 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [relative_top]
2025-11-19 16:56:09.700 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [relative_top]
2025-11-19 16:56:09.701 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: EFA, Date Range: 2014-04-06 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:09.701 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: EFA, Date Range: 2014-04-06 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:09.703 | INFO     | src.backtesting.engine:run:197 - First rebalancing expected on or after 2016-02-02 00:00:00 (after 272 periods of warm-up data)
2025-11-19 16:56:09.703 | INFO     | src.backtesting.engine:run:197 - First rebalancing expected on or after 2016-02-02 00:00:00 (after 272 periods of warm-up data)
2025-11-19 16:56:09.704 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $113.84 ‚Üí $113.90 (slippage: 0.050%)
2025-11-19 16:56:09.704 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $113.84 ‚Üí $113.90 (slippage: 0.050%)
2025-11-19 16:56:09.704 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] EFA: Not in cache (key: EFA_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:09.704 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] EFA: Not in cache (key: EFA_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:09.705 | ERROR    | src.backtesting.engine:_validate_safe_asset_data:390 - 
================================================================================
‚ùå CONFIGURATION ERROR: Safe asset 'SHY' configured but no price data available!

IMPACT: During bearish markets, defensive signals will fail, leaving portfolio in CASH.

SOLUTIONS:
  1. Add 'SHY' to your asset universe, OR
  2. Use a safe asset already in your universe (e.g., 'AGG', 'TLT'), OR
  3. Use utils.ensure_safe_asset_data() to auto-fetch, OR
  4. Set safe_asset=None to explicitly hold cash

Available symbols in price data: ['SPY', 'EFA', 'EEM', 'AGG']
================================================================================
2025-11-19 16:56:09.705 | ERROR    | src.backtesting.engine:_validate_safe_asset_data:390 - 
================================================================================
‚ùå CONFIGURATION ERROR: Safe asset 'SHY' configured but no price data available!

IMPACT: During bearish markets, defensive signals will fail, leaving portfolio in CASH.

SOLUTIONS:
  1. Add 'SHY' to your asset universe, OR
  2. Use a safe asset already in your universe (e.g., 'AGG', 'TLT'), OR
  3. Use utils.ensure_safe_asset_data() to auto-fetch, OR
  4. Set safe_asset=None to explicitly hold cash

Available symbols in price data: ['SPY', 'EFA', 'EEM', 'AGG']
================================================================================
2025-11-19 16:56:09.706 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.99
2025-11-19 16:56:09.706 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.99
2025-11-19 16:56:09.706 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] EFA: No cached data found, fetching from API
2025-11-19 16:56:09.706 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] EFA: No cached data found, fetching from API
2025-11-19 16:56:09.708 | ERROR    | src.agents.strategy_comparison_agent:_test_strategy:444 - Error testing strategy sector_rotation_defensive: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:09.708 | ERROR    | src.agents.strategy_comparison_agent:_test_strategy:444 - Error testing strategy sector_rotation_defensive: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:09.710 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1037.77
2025-11-19 16:56:09.710 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1037.77
2025-11-19 16:56:09.710 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for EFA
2025-11-19 16:56:09.710 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for EFA
2025-11-19 16:56:09.722 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1038.29
2025-11-19 16:56:09.722 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1038.29
2025-11-19 16:56:09.722 | WARNING  | src.agents.strategy_comparison_agent:_run_parallel:250 - [14/16] ‚úó sector_rotation_defensive: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:09.722 | WARNING  | src.agents.strategy_comparison_agent:_run_parallel:250 - [14/16] ‚úó sector_rotation_defensive: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:09.723 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/EFA
2025-11-19 16:56:09.723 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/EFA
2025-11-19 16:56:09.727 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.52
2025-11-19 16:56:09.727 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.52
2025-11-19 16:56:09.767 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:09.767 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:09.733 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1396713600, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:09.733 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1396713600, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:09.776 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:09.776 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:09.774 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-59.04
2025-11-19 16:56:09.774 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-59.04
2025-11-19 16:56:09.781 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/EFA
2025-11-19 16:56:09.781 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/EFA
2025-11-19 16:56:09.782 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.52 shares at $113.78 (proceeds: $58.98)
2025-11-19 16:56:09.782 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.52 shares at $113.78 (proceeds: $58.98)
2025-11-19 16:56:09.787 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:09.787 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:09.792 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $58.98
2025-11-19 16:56:09.792 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $58.98
2025-11-19 16:56:09.796 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$59.04, Cash end=$58.98
2025-11-19 16:56:09.796 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$59.04, Cash end=$58.98
2025-11-19 16:56:09.799 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:09.799 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:09.804 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.804 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.809 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $118,199.21
2025-11-19 16:56:09.809 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $118,199.21
2025-11-19 16:56:09.811 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.98
2025-11-19 16:56:09.811 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.98
2025-11-19 16:56:09.815 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:09.815 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:09.816 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.816 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.822 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-10-01
2025-11-19 16:56:09.822 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-10-01
2025-11-19 16:56:09.824 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $117,452.02
2025-11-19 16:56:09.824 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $117,452.02
2025-11-19 16:56:09.825 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.98
2025-11-19 16:56:09.825 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.98
2025-11-19 16:56:09.828 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.828 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.831 | INFO     | src.backtesting.engine:run:273 -      AGG: 1037.77 shares @ $113.12 (Value: $117,393.04, P&L: $1,197.64)
2025-11-19 16:56:09.831 | INFO     | src.backtesting.engine:run:273 -      AGG: 1037.77 shares @ $113.12 (Value: $117,393.04, P&L: $1,197.64)
2025-11-19 16:56:09.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.843 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.843 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.008668096460823893
2025-11-19 16:56:09.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.008668096460823893
2025-11-19 16:56:09.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.050301489577892156
2025-11-19 16:56:09.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.050301489577892156
2025-11-19 16:56:09.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.054519954280513594
2025-11-19 16:56:09.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.054519954280513594
2025-11-19 16:56:09.858 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07202432093722977
2025-11-19 16:56:09.858 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07202432093722977
2025-11-19 16:56:09.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-10-01 00:00:00:
2025-11-19 16:56:09.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-10-01 00:00:00:
2025-11-19 16:56:09.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0087 (0.87%) - PASS
2025-11-19 16:56:09.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0087 (0.87%) - PASS
2025-11-19 16:56:09.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0503 (-5.03%) - FAIL
2025-11-19 16:56:09.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0503 (-5.03%) - FAIL
2025-11-19 16:56:09.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0545 (-5.45%) - FAIL
2025-11-19 16:56:09.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0545 (-5.45%) - FAIL
2025-11-19 16:56:09.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0720 (7.20%) - PASS
2025-11-19 16:56:09.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0720 (7.20%) - PASS
2025-11-19 16:56:09.866 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:09.866 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:09.867 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.867 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.868 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:09.868 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:09.872 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:09.872 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:09.877 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1037.77 shares @ $113.12 (Value: $117,393.04)
2025-11-19 16:56:09.877 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1037.77 shares @ $113.12 (Value: $117,393.04)
2025-11-19 16:56:09.883 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-10-01: PV=$117,452.02, Cash=$58.98, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:09.883 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-10-01: PV=$117,452.02, Cash=$58.98, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:09.886 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:09.886 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:09.887 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:09.887 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:09.889 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:09.889 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:09.891 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1037.77 shares worth $117,393.04
2025-11-19 16:56:09.891 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1037.77 shares worth $117,393.04
2025-11-19 16:56:09.891 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [relative_top]
2025-11-19 16:56:09.891 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [relative_top]
2025-11-19 16:56:09.893 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $113.12 ‚Üí $113.18 (slippage: 0.050%)
2025-11-19 16:56:09.893 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $113.12 ‚Üí $113.18 (slippage: 0.050%)
2025-11-19 16:56:09.895 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.96
2025-11-19 16:56:09.895 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.96
2025-11-19 16:56:09.897 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1037.78
2025-11-19 16:56:09.897 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1037.78
2025-11-19 16:56:09.898 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1037.77
2025-11-19 16:56:09.898 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1037.77
2025-11-19 16:56:09.899 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:09.899 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:09.900 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:09.900 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:09.901 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.29
2025-11-19 16:56:09.901 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.29
2025-11-19 16:56:09.904 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:09.904 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:09.906 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.98
2025-11-19 16:56:09.906 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.98
2025-11-19 16:56:09.907 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:09.907 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:09.908 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.908 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:09.909 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $117,452.02
2025-11-19 16:56:09.909 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $117,452.02
2025-11-19 16:56:09.911 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.98
2025-11-19 16:56:09.911 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.98
2025-11-19 16:56:09.914 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:09.914 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:09.917 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.917 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:09.921 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-11-01
2025-11-19 16:56:09.921 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-11-01
2025-11-19 16:56:09.924 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $117,254.84
2025-11-19 16:56:09.924 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $117,254.84
2025-11-19 16:56:09.927 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.98
2025-11-19 16:56:09.927 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.98
2025-11-19 16:56:09.929 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.929 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:09.932 | INFO     | src.backtesting.engine:run:273 -      AGG: 1037.77 shares @ $112.93 (Value: $117,195.86, P&L: $1,000.46)
2025-11-19 16:56:09.932 | INFO     | src.backtesting.engine:run:273 -      AGG: 1037.77 shares @ $112.93 (Value: $117,195.86, P&L: $1,000.46)
2025-11-19 16:56:09.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:09.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.945 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.945 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:09.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13121239007109153
2025-11-19 16:56:09.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13121239007109153
2025-11-19 16:56:09.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08901693307862923
2025-11-19 16:56:09.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08901693307862923
2025-11-19 16:56:09.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.10367725712744913
2025-11-19 16:56:09.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.10367725712744913
2025-11-19 16:56:09.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07973997762024743
2025-11-19 16:56:09.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07973997762024743
2025-11-19 16:56:09.958 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-11-01 00:00:00:
2025-11-19 16:56:09.958 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-11-01 00:00:00:
2025-11-19 16:56:09.959 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1312 (13.12%) - PASS
2025-11-19 16:56:09.959 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1312 (13.12%) - PASS
2025-11-19 16:56:09.959 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0890 (8.90%) - PASS
2025-11-19 16:56:09.959 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0890 (8.90%) - PASS
2025-11-19 16:56:09.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1037 (10.37%) - PASS
2025-11-19 16:56:09.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1037 (10.37%) - PASS
2025-11-19 16:56:09.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0797 (7.97%) - PASS
2025-11-19 16:56:09.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0797 (7.97%) - PASS
2025-11-19 16:56:09.968 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:09.968 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:09.971 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.971 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:09.973 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:09.973 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:09.974 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:09.974 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:09.977 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 1037.77 shares @ $112.93 (Value: $117,195.86, P&L: $1,000.46)
2025-11-19 16:56:09.977 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 1037.77 shares @ $112.93 (Value: $117,195.86, P&L: $1,000.46)
2025-11-19 16:56:09.979 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 1037.77 @ $112.87 (P&L: $941.86)
2025-11-19 16:56:09.979 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 1037.77 @ $112.87 (P&L: $941.86)
2025-11-19 16:56:09.983 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $117,079.11
2025-11-19 16:56:09.983 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $117,079.11
2025-11-19 16:56:09.985 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-11-01: PV=$117,254.84, Cash=$117,079.11, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:09.985 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-11-01: PV=$117,254.84, Cash=$117,079.11, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:09.987 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:09.987 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:09.989 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:09.989 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:09.990 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:09.990 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:09.991 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $306.14 ‚Üí $306.29 (slippage: 0.050%)
2025-11-19 16:56:09.991 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $306.14 ‚Üí $306.29 (slippage: 0.050%)
2025-11-19 16:56:09.991 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.76
2025-11-19 16:56:09.991 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.76
2025-11-19 16:56:09.995 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 382.82
2025-11-19 16:56:09.995 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 382.82
2025-11-19 16:56:09.998 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $117.25
2025-11-19 16:56:09.998 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $117.25
2025-11-19 16:56:09.999 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $117,372.10
2025-11-19 16:56:09.999 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $117,372.10
2025-11-19 16:56:10.001 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 381.86 @ $306.29
2025-11-19 16:56:10.001 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 381.86 @ $306.29
2025-11-19 16:56:10.003 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:10.003 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:10.004 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:10.004 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:10.006 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$117,079.11, Cash end=$-0.00
2025-11-19 16:56:10.006 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$117,079.11, Cash end=$-0.00
2025-11-19 16:56:10.006 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:10.006 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:10.007 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 1037.77 shares @ $112.93 (Value: $117,195.86, P&L: $1,000.46)
2025-11-19 16:56:10.007 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 1037.77 shares @ $112.93 (Value: $117,195.86, P&L: $1,000.46)
2025-11-19 16:56:10.008 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:10.008 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:10.009 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 381.86 shares @ $306.29 (Value: $116,962.14)
2025-11-19 16:56:10.009 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 381.86 shares @ $306.29 (Value: $116,962.14)
2025-11-19 16:56:10.009 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.009 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.011 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,962.14
2025-11-19 16:56:10.011 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,962.14
2025-11-19 16:56:10.015 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:10.015 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:10.017 | INFO     | src.backtesting.engine:run:316 -      Change: $-292.70
2025-11-19 16:56:10.017 | INFO     | src.backtesting.engine:run:316 -      Change: $-292.70
2025-11-19 16:56:10.020 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.020 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.023 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-12-02
2025-11-19 16:56:10.023 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2019-12-02
2025-11-19 16:56:10.024 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $119,003.94
2025-11-19 16:56:10.024 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $119,003.94
2025-11-19 16:56:10.026 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:10.026 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:10.028 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.028 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.031 | INFO     | src.backtesting.engine:run:273 -      SPY: 381.86 shares @ $311.64 (Value: $119,003.94, P&L: $2,041.80)
2025-11-19 16:56:10.031 | INFO     | src.backtesting.engine:run:273 -      SPY: 381.86 shares @ $311.64 (Value: $119,003.94, P&L: $2,041.80)
2025-11-19 16:56:10.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.041 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13745529656172129
2025-11-19 16:56:10.041 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13745529656172129
2025-11-19 16:56:10.042 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07598351595752462
2025-11-19 16:56:10.042 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07598351595752462
2025-11-19 16:56:10.042 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.034289880448386434
2025-11-19 16:56:10.042 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.034289880448386434
2025-11-19 16:56:10.045 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0722523490331155
2025-11-19 16:56:10.045 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0722523490331155
2025-11-19 16:56:10.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-12-02 00:00:00:
2025-11-19 16:56:10.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2019-12-02 00:00:00:
2025-11-19 16:56:10.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1375 (13.75%) - PASS
2025-11-19 16:56:10.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1375 (13.75%) - PASS
2025-11-19 16:56:10.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0760 (7.60%) - PASS
2025-11-19 16:56:10.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0760 (7.60%) - PASS
2025-11-19 16:56:10.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0343 (3.43%) - PASS
2025-11-19 16:56:10.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0343 (3.43%) - PASS
2025-11-19 16:56:10.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0723 (7.23%) - PASS
2025-11-19 16:56:10.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0723 (7.23%) - PASS
2025-11-19 16:56:10.058 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.058 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.059 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.059 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.061 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.061 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.065 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:10.065 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:10.067 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 381.86 shares @ $311.64 (Value: $119,003.94)
2025-11-19 16:56:10.067 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 381.86 shares @ $311.64 (Value: $119,003.94)
2025-11-19 16:56:10.068 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-12-02: PV=$119,003.94, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:10.068 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2019-12-02: PV=$119,003.94, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:10.068 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.068 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.069 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:10.069 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:10.069 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:10.069 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:10.070 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 381.86 shares worth $119,003.94
2025-11-19 16:56:10.070 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 381.86 shares worth $119,003.94
2025-11-19 16:56:10.071 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:10.071 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:10.073 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $311.64 ‚Üí $311.80 (slippage: 0.050%)
2025-11-19 16:56:10.073 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $311.64 ‚Üí $311.80 (slippage: 0.050%)
2025-11-19 16:56:10.074 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.83
2025-11-19 16:56:10.074 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.83
2025-11-19 16:56:10.074 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 381.67
2025-11-19 16:56:10.074 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 381.67
2025-11-19 16:56:10.075 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 381.86
2025-11-19 16:56:10.075 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 381.86
2025-11-19 16:56:10.076 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.19
2025-11-19 16:56:10.076 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.19
2025-11-19 16:56:10.077 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:10.077 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:10.079 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-59.44
2025-11-19 16:56:10.079 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-59.44
2025-11-19 16:56:10.083 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.19 shares at $311.48 (proceeds: $59.38)
2025-11-19 16:56:10.083 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.19 shares at $311.48 (proceeds: $59.38)
2025-11-19 16:56:10.085 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:10.085 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:10.087 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $59.38
2025-11-19 16:56:10.087 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $59.38
2025-11-19 16:56:10.088 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$59.44, Cash end=$59.38
2025-11-19 16:56:10.088 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$59.44, Cash end=$59.38
2025-11-19 16:56:10.090 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:10.090 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:10.093 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.093 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.096 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $119,003.85
2025-11-19 16:56:10.096 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $119,003.85
2025-11-19 16:56:10.098 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $59.38
2025-11-19 16:56:10.098 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $59.38
2025-11-19 16:56:10.102 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:10.102 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:10.103 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.103 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.104 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-01-02
2025-11-19 16:56:10.104 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-01-02
2025-11-19 16:56:10.104 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $124,053.37
2025-11-19 16:56:10.104 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $124,053.37
2025-11-19 16:56:10.105 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $59.38
2025-11-19 16:56:10.105 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $59.38
2025-11-19 16:56:10.106 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.106 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.107 | INFO     | src.backtesting.engine:run:273 -      SPY: 381.67 shares @ $324.87 (Value: $123,993.99, P&L: $7,090.30)
2025-11-19 16:56:10.107 | INFO     | src.backtesting.engine:run:273 -      SPY: 381.67 shares @ $324.87 (Value: $123,993.99, P&L: $7,090.30)
2025-11-19 16:56:10.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.113 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.113 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.118 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.118 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.119 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.119 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.123 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.29854506606449593
2025-11-19 16:56:10.123 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.29854506606449593
2025-11-19 16:56:10.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.1957040499846301
2025-11-19 16:56:10.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.1957040499846301
2025-11-19 16:56:10.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.1690500244555606
2025-11-19 16:56:10.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.1690500244555606
2025-11-19 16:56:10.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05733321411136605
2025-11-19 16:56:10.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05733321411136605
2025-11-19 16:56:10.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-01-02 00:00:00:
2025-11-19 16:56:10.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-01-02 00:00:00:
2025-11-19 16:56:10.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2985 (29.85%) - PASS
2025-11-19 16:56:10.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2985 (29.85%) - PASS
2025-11-19 16:56:10.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1957 (19.57%) - PASS
2025-11-19 16:56:10.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1957 (19.57%) - PASS
2025-11-19 16:56:10.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1691 (16.91%) - PASS
2025-11-19 16:56:10.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1691 (16.91%) - PASS
2025-11-19 16:56:10.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0573 (5.73%) - PASS
2025-11-19 16:56:10.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0573 (5.73%) - PASS
2025-11-19 16:56:10.135 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.135 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.136 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.136 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.136 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.136 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.137 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:10.137 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:10.137 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 381.67 shares @ $324.87 (Value: $123,993.99)
2025-11-19 16:56:10.137 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 381.67 shares @ $324.87 (Value: $123,993.99)
2025-11-19 16:56:10.139 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-01-02: PV=$124,053.37, Cash=$59.38, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:10.139 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-01-02: PV=$124,053.37, Cash=$59.38, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:10.142 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.142 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.146 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:10.146 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:10.151 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:10.151 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:10.154 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 381.67 shares worth $123,993.99
2025-11-19 16:56:10.154 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 381.67 shares worth $123,993.99
2025-11-19 16:56:10.157 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:10.157 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:10.159 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $324.87 ‚Üí $325.03 (slippage: 0.050%)
2025-11-19 16:56:10.159 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $324.87 ‚Üí $325.03 (slippage: 0.050%)
2025-11-19 16:56:10.161 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.80
2025-11-19 16:56:10.161 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.80
2025-11-19 16:56:10.164 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 381.66
2025-11-19 16:56:10.164 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 381.66
2025-11-19 16:56:10.166 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 381.67
2025-11-19 16:56:10.166 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 381.67
2025-11-19 16:56:10.167 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:10.167 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:10.168 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:10.168 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:10.170 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.61
2025-11-19 16:56:10.170 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.61
2025-11-19 16:56:10.171 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:10.171 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:10.174 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$59.38
2025-11-19 16:56:10.174 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$59.38
2025-11-19 16:56:10.176 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:10.176 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:10.178 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.178 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.183 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $124,053.37
2025-11-19 16:56:10.183 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $124,053.37
2025-11-19 16:56:10.186 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $59.38
2025-11-19 16:56:10.186 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $59.38
2025-11-19 16:56:10.187 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:10.187 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:10.189 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.189 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.191 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-02-03
2025-11-19 16:56:10.191 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-02-03
2025-11-19 16:56:10.195 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $123,767.12
2025-11-19 16:56:10.195 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $123,767.12
2025-11-19 16:56:10.197 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $59.38
2025-11-19 16:56:10.197 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $59.38
2025-11-19 16:56:10.199 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.199 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.199 | INFO     | src.backtesting.engine:run:273 -      SPY: 381.67 shares @ $324.12 (Value: $123,707.74, P&L: $6,804.04)
2025-11-19 16:56:10.199 | INFO     | src.backtesting.engine:run:273 -      SPY: 381.67 shares @ $324.12 (Value: $123,707.74, P&L: $6,804.04)
2025-11-19 16:56:10.204 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.204 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.207 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.207 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.20017773104979963
2025-11-19 16:56:10.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.20017773104979963
2025-11-19 16:56:10.216 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.43s, Size: 265679 bytes
2025-11-19 16:56:10.216 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.43s, Size: 265679 bytes
2025-11-19 16:56:10.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07947653294547541
2025-11-19 16:56:10.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07947653294547541
2025-11-19 16:56:10.220 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '59bhvtlkhr1ha', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '48', 'date': 'Wed, 19 Nov 2025 08:56:09 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '1', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:10.220 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '59bhvtlkhr1ha', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '48', 'date': 'Wed, 19 Nov 2025 08:56:09 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '1', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:10.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.004209459718053199
2025-11-19 16:56:10.228 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:10.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.004209459718053199
2025-11-19 16:56:10.228 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:10.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06917828775762125
2025-11-19 16:56:10.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06917828775762125
2025-11-19 16:56:10.232 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for EFA in 0.45s
2025-11-19 16:56:10.232 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for EFA in 0.45s
2025-11-19 16:56:10.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-02-03 00:00:00:
2025-11-19 16:56:10.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-02-03 00:00:00:
2025-11-19 16:56:10.236 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:10.236 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:10.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2002 (20.02%) - PASS
2025-11-19 16:56:10.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2002 (20.02%) - PASS
2025-11-19 16:56:10.240 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:10.240 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:10.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0795 (7.95%) - PASS
2025-11-19 16:56:10.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0795 (7.95%) - PASS
2025-11-19 16:56:10.244 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:10.244 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:10.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0042 (-0.42%) - FAIL
2025-11-19 16:56:10.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0042 (-0.42%) - FAIL
2025-11-19 16:56:10.249 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing EFA (parse time: 0.01s)
2025-11-19 16:56:10.249 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing EFA (parse time: 0.01s)
2025-11-19 16:56:10.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0692 (6.92%) - PASS
2025-11-19 16:56:10.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0692 (6.92%) - PASS
2025-11-19 16:56:10.261 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'EFA', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 998919000, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 92.8, 'fiftyTwoWeekHigh': 96.69, 'fiftyTwoWeekLow': 72.15, 'regularMarketDayHigh': 93.146, 'regularMarketDayLow': 92.3, 'regularMarketVolume': 22277546, '...
2025-11-19 16:56:10.261 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'EFA', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 998919000, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 92.8, 'fiftyTwoWeekHigh': 96.69, 'fiftyTwoWeekLow': 72.15, 'regularMarketDayHigh': 93.146, 'regularMarketDayLow': 92.3, 'regularMarketVolume': 22277546, '...
2025-11-19 16:56:10.263 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.263 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.265 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for EFA
2025-11-19 16:56:10.265 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for EFA
2025-11-19 16:56:10.267 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.267 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.268 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading EFA from 2014-04-06 to 2024-01-01
2025-11-19 16:56:10.268 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading EFA from 2014-04-06 to 2024-01-01
2025-11-19 16:56:10.270 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.270 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.303 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2451 rows for EFA
2025-11-19 16:56:10.303 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2451 rows for EFA
2025-11-19 16:56:10.304 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:10.304 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:10.306 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:10.306 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:10.306 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 381.67 shares @ $324.12 (Value: $123,707.74)
2025-11-19 16:56:10.306 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 381.67 shares @ $324.12 (Value: $123,707.74)
2025-11-19 16:56:10.309 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2451 rows using yfinance
2025-11-19 16:56:10.309 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2451 rows using yfinance
2025-11-19 16:56:10.310 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-02-03: PV=$123,767.12, Cash=$59.38, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:10.310 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-02-03: PV=$123,767.12, Cash=$59.38, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:10.319 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:10.319 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:10.319 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.319 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.321 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì EFA: Fetched 2451 rows from YahooFinanceDirectSource (source: 0.64s, total: 0.68s)
2025-11-19 16:56:10.321 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì EFA: Fetched 2451 rows from YahooFinanceDirectSource (source: 0.64s, total: 0.68s)
2025-11-19 16:56:10.323 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:10.323 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:10.326 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:10.326 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:10.326 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:10.326 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:10.331 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] EFA: Cached 2451 rows (~114.9 KB, key: EFA_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.331 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] EFA: Cached 2451 rows (~114.9 KB, key: EFA_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.331 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 381.67 shares worth $123,707.74
2025-11-19 16:56:10.331 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 381.67 shares worth $123,707.74
2025-11-19 16:56:10.334 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 2
2025-11-19 16:56:10.334 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 2
2025-11-19 16:56:10.335 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:10.335 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:10.340 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching EEM from 2 sources with failover
2025-11-19 16:56:10.340 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching EEM from 2 sources with failover
2025-11-19 16:56:10.341 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $324.12 ‚Üí $324.28 (slippage: 0.050%)
2025-11-19 16:56:10.341 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $324.12 ‚Üí $324.28 (slippage: 0.050%)
2025-11-19 16:56:10.342 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:10.342 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:10.344 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.88
2025-11-19 16:56:10.344 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.88
2025-11-19 16:56:10.345 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] EEM: Not in cache (key: EEM_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.345 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] EEM: Not in cache (key: EEM_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.347 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 381.67
2025-11-19 16:56:10.347 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 381.67
2025-11-19 16:56:10.348 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] EEM: No cached data, trying sources
2025-11-19 16:56:10.348 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] EEM: No cached data, trying sources
2025-11-19 16:56:10.349 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 381.67
2025-11-19 16:56:10.349 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 381.67
2025-11-19 16:56:10.350 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for EEM
2025-11-19 16:56:10.350 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for EEM
2025-11-19 16:56:10.351 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:10.351 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:10.353 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:10.353 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:10.355 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:10.355 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:10.355 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: EEM, Date Range: 2014-04-06 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:10.355 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: EEM, Date Range: 2014-04-06 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:10.357 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.47
2025-11-19 16:56:10.357 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.47
2025-11-19 16:56:10.357 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] EEM: Not in cache (key: EEM_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.357 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] EEM: Not in cache (key: EEM_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.359 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:10.359 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:10.361 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] EEM: No cached data found, fetching from API
2025-11-19 16:56:10.361 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] EEM: No cached data found, fetching from API
2025-11-19 16:56:10.364 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$59.38
2025-11-19 16:56:10.364 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$59.38
2025-11-19 16:56:10.365 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for EEM
2025-11-19 16:56:10.365 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for EEM
2025-11-19 16:56:10.366 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:10.367 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/EEM
2025-11-19 16:56:10.366 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:10.367 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/EEM
2025-11-19 16:56:10.370 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.370 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.370 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1396713600, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:10.370 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1396713600, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:10.372 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $123,767.12
2025-11-19 16:56:10.372 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $123,767.12
2025-11-19 16:56:10.373 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:10.373 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:10.373 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $59.38
2025-11-19 16:56:10.373 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $59.38
2025-11-19 16:56:10.374 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/EEM
2025-11-19 16:56:10.374 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/EEM
2025-11-19 16:56:10.374 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:10.374 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:10.376 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.376 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.378 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-03-02
2025-11-19 16:56:10.378 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-03-02
2025-11-19 16:56:10.381 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $118,030.58
2025-11-19 16:56:10.381 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $118,030.58
2025-11-19 16:56:10.381 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $59.38
2025-11-19 16:56:10.381 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $59.38
2025-11-19 16:56:10.383 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.383 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.384 | INFO     | src.backtesting.engine:run:273 -      SPY: 381.67 shares @ $309.09 (Value: $117,971.20, P&L: $1,067.50)
2025-11-19 16:56:10.384 | INFO     | src.backtesting.engine:run:273 -      SPY: 381.67 shares @ $309.09 (Value: $117,971.20, P&L: $1,067.50)
2025-11-19 16:56:10.387 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.387 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.388 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.388 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.389 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.389 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.391 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.391 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.393 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.393 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.394 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10223943205660202
2025-11-19 16:56:10.394 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10223943205660202
2025-11-19 16:56:10.396 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0244506617749759
2025-11-19 16:56:10.396 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0244506617749759
2025-11-19 16:56:10.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.025653097423629534
2025-11-19 16:56:10.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.025653097423629534
2025-11-19 16:56:10.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08731131414982629
2025-11-19 16:56:10.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08731131414982629
2025-11-19 16:56:10.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-03-02 00:00:00:
2025-11-19 16:56:10.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-03-02 00:00:00:
2025-11-19 16:56:10.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1022 (10.22%) - PASS
2025-11-19 16:56:10.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1022 (10.22%) - PASS
2025-11-19 16:56:10.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0245 (-2.45%) - FAIL
2025-11-19 16:56:10.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0245 (-2.45%) - FAIL
2025-11-19 16:56:10.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0257 (-2.57%) - FAIL
2025-11-19 16:56:10.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0257 (-2.57%) - FAIL
2025-11-19 16:56:10.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0873 (8.73%) - PASS
2025-11-19 16:56:10.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0873 (8.73%) - PASS
2025-11-19 16:56:10.403 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.403 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.403 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.403 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.404 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.404 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.406 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:10.406 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:10.407 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 381.67 shares @ $309.09 (Value: $117,971.20)
2025-11-19 16:56:10.407 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 381.67 shares @ $309.09 (Value: $117,971.20)
2025-11-19 16:56:10.408 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-03-02: PV=$118,030.58, Cash=$59.38, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:10.408 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-03-02: PV=$118,030.58, Cash=$59.38, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:10.408 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.408 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.409 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:10.409 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:10.409 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:10.409 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:10.410 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 381.67 shares worth $117,971.20
2025-11-19 16:56:10.410 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 381.67 shares worth $117,971.20
2025-11-19 16:56:10.411 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:10.411 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:10.414 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $309.09 ‚Üí $309.24 (slippage: 0.050%)
2025-11-19 16:56:10.414 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $309.09 ‚Üí $309.24 (slippage: 0.050%)
2025-11-19 16:56:10.416 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:10.416 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:10.416 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 381.67
2025-11-19 16:56:10.416 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 381.67
2025-11-19 16:56:10.417 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 381.67
2025-11-19 16:56:10.417 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 381.67
2025-11-19 16:56:10.418 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:10.418 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:10.418 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:10.418 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:10.421 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.40
2025-11-19 16:56:10.421 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.40
2025-11-19 16:56:10.423 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:10.423 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:10.424 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$59.38
2025-11-19 16:56:10.424 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$59.38
2025-11-19 16:56:10.424 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:10.424 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:10.425 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.425 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.426 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $118,030.58
2025-11-19 16:56:10.426 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $118,030.58
2025-11-19 16:56:10.427 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $59.38
2025-11-19 16:56:10.427 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $59.38
2025-11-19 16:56:10.429 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:10.429 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:10.431 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.431 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.433 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-04-01
2025-11-19 16:56:10.433 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-04-01
2025-11-19 16:56:10.433 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $94,008.10
2025-11-19 16:56:10.433 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $94,008.10
2025-11-19 16:56:10.434 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $59.38
2025-11-19 16:56:10.434 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $59.38
2025-11-19 16:56:10.435 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.435 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.436 | INFO     | src.backtesting.engine:run:273 -      SPY: 381.67 shares @ $246.15 (Value: $93,948.72, P&L: $-22,954.97)
2025-11-19 16:56:10.436 | INFO     | src.backtesting.engine:run:273 -      SPY: 381.67 shares @ $246.15 (Value: $93,948.72, P&L: $-22,954.97)
2025-11-19 16:56:10.438 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.438 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.440 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.440 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.13924540040648126
2025-11-19 16:56:10.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.13924540040648126
2025-11-19 16:56:10.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.22249275811266123
2025-11-19 16:56:10.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.22249275811266123
2025-11-19 16:56:10.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2487928970322113
2025-11-19 16:56:10.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2487928970322113
2025-11-19 16:56:10.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05810202927258579
2025-11-19 16:56:10.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05810202927258579
2025-11-19 16:56:10.454 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-04-01 00:00:00:
2025-11-19 16:56:10.454 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-04-01 00:00:00:
2025-11-19 16:56:10.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1392 (-13.92%) - FAIL
2025-11-19 16:56:10.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1392 (-13.92%) - FAIL
2025-11-19 16:56:10.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2225 (-22.25%) - FAIL
2025-11-19 16:56:10.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2225 (-22.25%) - FAIL
2025-11-19 16:56:10.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2488 (-24.88%) - FAIL
2025-11-19 16:56:10.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2488 (-24.88%) - FAIL
2025-11-19 16:56:10.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0581 (5.81%) - PASS
2025-11-19 16:56:10.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0581 (5.81%) - PASS
2025-11-19 16:56:10.459 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:10.459 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:10.459 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.459 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.461 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:10.461 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:10.463 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:10.463 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:10.465 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 381.67 shares @ $246.15 (Value: $93,948.72, P&L: $-22,954.97)
2025-11-19 16:56:10.465 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 381.67 shares @ $246.15 (Value: $93,948.72, P&L: $-22,954.97)
2025-11-19 16:56:10.466 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 381.67 @ $246.03 (P&L: $-23,001.95)
2025-11-19 16:56:10.466 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 381.67 @ $246.03 (P&L: $-23,001.95)
2025-11-19 16:56:10.467 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $93,867.23
2025-11-19 16:56:10.467 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $93,867.23
2025-11-19 16:56:10.468 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-04-01: PV=$94,008.10, Cash=$93,867.23, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:10.468 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-04-01: PV=$94,008.10, Cash=$93,867.23, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:10.468 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:10.468 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:10.469 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:10.469 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:10.469 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [relative_top]
2025-11-19 16:56:10.469 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [relative_top]
2025-11-19 16:56:10.470 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $114.73 ‚Üí $114.79 (slippage: 0.050%)
2025-11-19 16:56:10.470 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $114.73 ‚Üí $114.79 (slippage: 0.050%)
2025-11-19 16:56:10.472 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:10.472 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:10.473 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 818.98
2025-11-19 16:56:10.473 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 818.98
2025-11-19 16:56:10.474 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $94.01
2025-11-19 16:56:10.474 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $94.01
2025-11-19 16:56:10.475 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $94,102.11
2025-11-19 16:56:10.475 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $94,102.11
2025-11-19 16:56:10.476 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 816.93 @ $114.79
2025-11-19 16:56:10.476 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 816.93 @ $114.79
2025-11-19 16:56:10.477 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:10.477 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:10.481 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:10.481 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:10.485 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$93,867.23, Cash end=$-0.00
2025-11-19 16:56:10.485 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$93,867.23, Cash end=$-0.00
2025-11-19 16:56:10.486 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:10.486 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:10.487 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 381.67 shares @ $246.15 (Value: $93,948.72, P&L: $-22,954.97)
2025-11-19 16:56:10.487 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 381.67 shares @ $246.15 (Value: $93,948.72, P&L: $-22,954.97)
2025-11-19 16:56:10.488 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:10.488 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:10.489 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 816.93 shares @ $114.79 (Value: $93,773.45)
2025-11-19 16:56:10.489 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 816.93 shares @ $114.79 (Value: $93,773.45)
2025-11-19 16:56:10.491 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.491 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.493 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $93,773.45
2025-11-19 16:56:10.493 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $93,773.45
2025-11-19 16:56:10.494 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:10.494 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:10.496 | INFO     | src.backtesting.engine:run:316 -      Change: $-234.65
2025-11-19 16:56:10.496 | INFO     | src.backtesting.engine:run:316 -      Change: $-234.65
2025-11-19 16:56:10.497 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.497 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.499 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-05-01
2025-11-19 16:56:10.499 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-05-01
2025-11-19 16:56:10.499 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $95,474.82
2025-11-19 16:56:10.499 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $95,474.82
2025-11-19 16:56:10.500 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:10.500 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:10.501 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.501 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.501 | INFO     | src.backtesting.engine:run:273 -      AGG: 816.93 shares @ $116.87 (Value: $95,474.82, P&L: $1,701.37)
2025-11-19 16:56:10.501 | INFO     | src.backtesting.engine:run:273 -      AGG: 816.93 shares @ $116.87 (Value: $95,474.82, P&L: $1,701.37)
2025-11-19 16:56:10.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.509 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.509 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.511 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.028813738381404996
2025-11-19 16:56:10.511 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.028813738381404996
2025-11-19 16:56:10.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.16505731484904895
2025-11-19 16:56:10.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.16505731484904895
2025-11-19 16:56:10.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.19176203482408272
2025-11-19 16:56:10.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.19176203482408272
2025-11-19 16:56:10.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0805288349627149
2025-11-19 16:56:10.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0805288349627149
2025-11-19 16:56:10.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-05-01 00:00:00:
2025-11-19 16:56:10.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-05-01 00:00:00:
2025-11-19 16:56:10.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0288 (-2.88%) - FAIL
2025-11-19 16:56:10.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0288 (-2.88%) - FAIL
2025-11-19 16:56:10.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1651 (-16.51%) - FAIL
2025-11-19 16:56:10.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1651 (-16.51%) - FAIL
2025-11-19 16:56:10.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1918 (-19.18%) - FAIL
2025-11-19 16:56:10.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1918 (-19.18%) - FAIL
2025-11-19 16:56:10.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0805 (8.05%) - PASS
2025-11-19 16:56:10.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0805 (8.05%) - PASS
2025-11-19 16:56:10.533 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:10.533 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:10.534 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.534 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.534 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:10.534 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:10.535 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:10.535 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:10.536 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 816.93 shares @ $116.87 (Value: $95,474.82)
2025-11-19 16:56:10.536 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 816.93 shares @ $116.87 (Value: $95,474.82)
2025-11-19 16:56:10.536 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-05-01: PV=$95,474.82, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:10.536 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-05-01: PV=$95,474.82, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:10.537 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:10.537 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:10.538 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:10.538 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:10.540 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:10.540 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:10.541 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 816.93 shares worth $95,474.82
2025-11-19 16:56:10.541 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 816.93 shares worth $95,474.82
2025-11-19 16:56:10.542 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [relative_top]
2025-11-19 16:56:10.542 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [relative_top]
2025-11-19 16:56:10.543 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $116.87 ‚Üí $116.93 (slippage: 0.050%)
2025-11-19 16:56:10.543 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $116.87 ‚Üí $116.93 (slippage: 0.050%)
2025-11-19 16:56:10.547 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:10.547 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:10.551 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 816.52
2025-11-19 16:56:10.551 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 816.52
2025-11-19 16:56:10.554 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 816.93
2025-11-19 16:56:10.554 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 816.93
2025-11-19 16:56:10.556 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.41
2025-11-19 16:56:10.556 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.41
2025-11-19 16:56:10.557 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.05
2025-11-19 16:56:10.557 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.05
2025-11-19 16:56:10.558 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-47.69
2025-11-19 16:56:10.558 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-47.69
2025-11-19 16:56:10.558 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.41 shares at $116.81 (proceeds: $47.64)
2025-11-19 16:56:10.558 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.41 shares at $116.81 (proceeds: $47.64)
2025-11-19 16:56:10.559 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:10.559 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:10.561 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $47.64
2025-11-19 16:56:10.561 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $47.64
2025-11-19 16:56:10.564 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$47.69, Cash end=$47.64
2025-11-19 16:56:10.564 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$47.69, Cash end=$47.64
2025-11-19 16:56:10.565 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:10.565 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:10.567 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.567 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.568 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $95,474.75
2025-11-19 16:56:10.568 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $95,474.75
2025-11-19 16:56:10.569 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $47.64
2025-11-19 16:56:10.569 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $47.64
2025-11-19 16:56:10.569 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.07
2025-11-19 16:56:10.569 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.07
2025-11-19 16:56:10.571 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.571 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.573 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-06-01
2025-11-19 16:56:10.573 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-06-01
2025-11-19 16:56:10.574 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $95,883.01
2025-11-19 16:56:10.574 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $95,883.01
2025-11-19 16:56:10.575 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $47.64
2025-11-19 16:56:10.575 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $47.64
2025-11-19 16:56:10.575 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.575 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.576 | INFO     | src.backtesting.engine:run:273 -      AGG: 816.52 shares @ $117.37 (Value: $95,835.37, P&L: $2,108.78)
2025-11-19 16:56:10.576 | INFO     | src.backtesting.engine:run:273 -      AGG: 816.52 shares @ $117.37 (Value: $95,835.37, P&L: $2,108.78)
2025-11-19 16:56:10.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11000108979476497
2025-11-19 16:56:10.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11000108979476497
2025-11-19 16:56:10.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.038328079600816634
2025-11-19 16:56:10.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.038328079600816634
2025-11-19 16:56:10.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.05183003335306746
2025-11-19 16:56:10.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.05183003335306746
2025-11-19 16:56:10.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06313406815550882
2025-11-19 16:56:10.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06313406815550882
2025-11-19 16:56:10.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-06-01 00:00:00:
2025-11-19 16:56:10.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-06-01 00:00:00:
2025-11-19 16:56:10.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1100 (11.00%) - PASS
2025-11-19 16:56:10.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1100 (11.00%) - PASS
2025-11-19 16:56:10.592 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0383 (-3.83%) - FAIL
2025-11-19 16:56:10.592 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0383 (-3.83%) - FAIL
2025-11-19 16:56:10.594 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0518 (-5.18%) - FAIL
2025-11-19 16:56:10.594 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0518 (-5.18%) - FAIL
2025-11-19 16:56:10.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0631 (6.31%) - PASS
2025-11-19 16:56:10.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0631 (6.31%) - PASS
2025-11-19 16:56:10.602 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.602 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.604 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.604 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.604 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.604 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.605 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:10.605 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:10.607 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 816.52 shares @ $117.37 (Value: $95,835.37, P&L: $2,108.78)
2025-11-19 16:56:10.607 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 816.52 shares @ $117.37 (Value: $95,835.37, P&L: $2,108.78)
2025-11-19 16:56:10.609 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 816.52 @ $117.31 (P&L: $2,060.86)
2025-11-19 16:56:10.609 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 816.52 @ $117.31 (P&L: $2,060.86)
2025-11-19 16:56:10.610 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $95,739.31
2025-11-19 16:56:10.610 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $95,739.31
2025-11-19 16:56:10.611 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-06-01: PV=$95,883.01, Cash=$95,739.31, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:10.611 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-06-01: PV=$95,883.01, Cash=$95,739.31, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:10.614 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.614 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.617 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:10.617 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:10.618 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:10.618 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:10.619 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $305.55 ‚Üí $305.70 (slippage: 0.050%)
2025-11-19 16:56:10.619 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $305.55 ‚Üí $305.70 (slippage: 0.050%)
2025-11-19 16:56:10.620 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.83
2025-11-19 16:56:10.620 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.83
2025-11-19 16:56:10.623 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 313.65
2025-11-19 16:56:10.623 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 313.65
2025-11-19 16:56:10.626 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $95.88
2025-11-19 16:56:10.626 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $95.88
2025-11-19 16:56:10.628 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $95,978.90
2025-11-19 16:56:10.628 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $95,978.90
2025-11-19 16:56:10.632 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 312.86 @ $305.70
2025-11-19 16:56:10.632 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 312.86 @ $305.70
2025-11-19 16:56:10.635 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:10.635 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:10.638 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:10.638 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:10.639 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$95,739.31, Cash end=$0.00
2025-11-19 16:56:10.639 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$95,739.31, Cash end=$0.00
2025-11-19 16:56:10.641 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:10.641 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:10.642 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 816.52 shares @ $117.37 (Value: $95,835.37, P&L: $2,108.78)
2025-11-19 16:56:10.642 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 816.52 shares @ $117.37 (Value: $95,835.37, P&L: $2,108.78)
2025-11-19 16:56:10.644 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:10.644 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:10.645 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 312.86 shares @ $305.70 (Value: $95,643.66)
2025-11-19 16:56:10.645 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 312.86 shares @ $305.70 (Value: $95,643.66)
2025-11-19 16:56:10.647 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.647 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.648 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $95,643.66
2025-11-19 16:56:10.648 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $95,643.66
2025-11-19 16:56:10.649 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:10.649 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:10.650 | INFO     | src.backtesting.engine:run:316 -      Change: $-239.35
2025-11-19 16:56:10.650 | INFO     | src.backtesting.engine:run:316 -      Change: $-239.35
2025-11-19 16:56:10.651 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.651 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.653 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-07-01
2025-11-19 16:56:10.653 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-07-01
2025-11-19 16:56:10.655 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $97,150.81
2025-11-19 16:56:10.655 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $97,150.81
2025-11-19 16:56:10.659 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:10.659 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:10.664 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.664 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.669 | INFO     | src.backtesting.engine:run:273 -      SPY: 312.86 shares @ $310.52 (Value: $97,150.81, P&L: $1,507.14)
2025-11-19 16:56:10.669 | INFO     | src.backtesting.engine:run:273 -      SPY: 312.86 shares @ $310.52 (Value: $97,150.81, P&L: $1,507.14)
2025-11-19 16:56:10.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.04753228986953917
2025-11-19 16:56:10.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.04753228986953917
2025-11-19 16:56:10.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.07745741541285067
2025-11-19 16:56:10.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.07745741541285067
2025-11-19 16:56:10.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.06626651248161686
2025-11-19 16:56:10.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.06626651248161686
2025-11-19 16:56:10.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0598851316467881
2025-11-19 16:56:10.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0598851316467881
2025-11-19 16:56:10.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-07-01 00:00:00:
2025-11-19 16:56:10.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-07-01 00:00:00:
2025-11-19 16:56:10.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0475 (4.75%) - PASS
2025-11-19 16:56:10.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0475 (4.75%) - PASS
2025-11-19 16:56:10.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0775 (-7.75%) - FAIL
2025-11-19 16:56:10.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0775 (-7.75%) - FAIL
2025-11-19 16:56:10.711 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0663 (-6.63%) - FAIL
2025-11-19 16:56:10.711 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0663 (-6.63%) - FAIL
2025-11-19 16:56:10.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0599 (5.99%) - PASS
2025-11-19 16:56:10.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0599 (5.99%) - PASS
2025-11-19 16:56:10.716 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:10.716 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-11-19 16:56:10.718 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.718 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.718 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:10.718 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:10.719 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:10.719 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:10.720 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 312.86 shares @ $310.52 (Value: $97,150.81, P&L: $1,507.14)
2025-11-19 16:56:10.720 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 312.86 shares @ $310.52 (Value: $97,150.81, P&L: $1,507.14)
2025-11-19 16:56:10.724 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 312.86 @ $310.36 (P&L: $1,458.57)
2025-11-19 16:56:10.724 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 312.86 @ $310.36 (P&L: $1,458.57)
2025-11-19 16:56:10.725 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $97,005.13
2025-11-19 16:56:10.725 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $97,005.13
2025-11-19 16:56:10.725 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-07-01: PV=$97,150.81, Cash=$97,005.13, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:10.725 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-07-01: PV=$97,150.81, Cash=$97,005.13, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:10.727 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:10.727 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:10.729 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:10.729 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:10.734 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [relative_top]
2025-11-19 16:56:10.734 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [relative_top]
2025-11-19 16:56:10.735 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $118.05 ‚Üí $118.11 (slippage: 0.050%)
2025-11-19 16:56:10.735 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $118.05 ‚Üí $118.11 (slippage: 0.050%)
2025-11-19 16:56:10.736 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.76
2025-11-19 16:56:10.736 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.76
2025-11-19 16:56:10.737 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 822.55
2025-11-19 16:56:10.737 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 822.55
2025-11-19 16:56:10.738 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $97.15
2025-11-19 16:56:10.738 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $97.15
2025-11-19 16:56:10.739 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $97,247.96
2025-11-19 16:56:10.739 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $97,247.96
2025-11-19 16:56:10.739 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 820.50 @ $118.11
2025-11-19 16:56:10.739 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 820.50 @ $118.11
2025-11-19 16:56:10.740 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:10.740 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:10.741 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:10.741 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:10.742 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$97,005.13, Cash end=$-0.00
2025-11-19 16:56:10.742 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$97,005.13, Cash end=$-0.00
2025-11-19 16:56:10.743 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:10.743 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:10.744 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 312.86 shares @ $310.52 (Value: $97,150.81, P&L: $1,507.14)
2025-11-19 16:56:10.744 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 312.86 shares @ $310.52 (Value: $97,150.81, P&L: $1,507.14)
2025-11-19 16:56:10.747 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:10.747 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:10.748 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 820.50 shares @ $118.11 (Value: $96,908.22)
2025-11-19 16:56:10.748 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 820.50 shares @ $118.11 (Value: $96,908.22)
2025-11-19 16:56:10.749 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.749 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.753 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $96,908.22
2025-11-19 16:56:10.753 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $96,908.22
2025-11-19 16:56:10.755 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:10.755 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:10.756 | INFO     | src.backtesting.engine:run:316 -      Change: $-242.59
2025-11-19 16:56:10.756 | INFO     | src.backtesting.engine:run:316 -      Change: $-242.59
2025-11-19 16:56:10.756 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.756 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.758 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-08-03
2025-11-19 16:56:10.758 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-08-03
2025-11-19 16:56:10.759 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $97,967.46
2025-11-19 16:56:10.759 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $97,967.46
2025-11-19 16:56:10.760 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:10.760 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:10.762 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.762 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.764 | INFO     | src.backtesting.engine:run:273 -      AGG: 820.50 shares @ $119.40 (Value: $97,967.46, P&L: $1,059.24)
2025-11-19 16:56:10.764 | INFO     | src.backtesting.engine:run:273 -      AGG: 820.50 shares @ $119.40 (Value: $97,967.46, P&L: $1,059.24)
2025-11-19 16:56:10.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.12360745687679042
2025-11-19 16:56:10.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.12360745687679042
2025-11-19 16:56:10.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.006907416579847836
2025-11-19 16:56:10.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.006907416579847836
2025-11-19 16:56:10.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.07496919784770162
2025-11-19 16:56:10.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.07496919784770162
2025-11-19 16:56:10.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06654760858172315
2025-11-19 16:56:10.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06654760858172315
2025-11-19 16:56:10.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-08-03 00:00:00:
2025-11-19 16:56:10.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-08-03 00:00:00:
2025-11-19 16:56:10.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1236 (12.36%) - PASS
2025-11-19 16:56:10.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1236 (12.36%) - PASS
2025-11-19 16:56:10.780 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0069 (-0.69%) - FAIL
2025-11-19 16:56:10.780 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0069 (-0.69%) - FAIL
2025-11-19 16:56:10.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0750 (7.50%) - PASS
2025-11-19 16:56:10.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0750 (7.50%) - PASS
2025-11-19 16:56:10.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0665 (6.65%) - PASS
2025-11-19 16:56:10.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0665 (6.65%) - PASS
2025-11-19 16:56:10.788 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.788 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:10.791 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.791 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:10.797 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.42s, Size: 269916 bytes
2025-11-19 16:56:10.797 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.42s, Size: 269916 bytes
2025-11-19 16:56:10.802 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.802 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:10.803 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '3mje4c5khr1ha', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '44', 'date': 'Wed, 19 Nov 2025 08:56:10 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '0', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:10.803 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '3mje4c5khr1ha', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '44', 'date': 'Wed, 19 Nov 2025 08:56:10 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '0', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:10.807 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:10.807 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:10.814 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:10.814 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:10.819 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 820.50 shares @ $119.40 (Value: $97,967.46, P&L: $1,059.24)
2025-11-19 16:56:10.819 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 820.50 shares @ $119.40 (Value: $97,967.46, P&L: $1,059.24)
2025-11-19 16:56:10.821 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for EEM in 0.45s
2025-11-19 16:56:10.821 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for EEM in 0.45s
2025-11-19 16:56:10.824 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 820.50 @ $119.34 (P&L: $1,010.26)
2025-11-19 16:56:10.824 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 820.50 @ $119.34 (P&L: $1,010.26)
2025-11-19 16:56:10.826 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:10.826 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:10.831 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $97,820.56
2025-11-19 16:56:10.831 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $97,820.56
2025-11-19 16:56:10.834 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:10.834 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:10.835 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-08-03: PV=$97,967.46, Cash=$97,820.56, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:10.835 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-08-03: PV=$97,967.46, Cash=$97,820.56, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:10.836 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:10.836 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:10.837 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.837 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:10.838 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing EEM (parse time: 0.00s)
2025-11-19 16:56:10.838 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing EEM (parse time: 0.00s)
2025-11-19 16:56:10.839 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:10.839 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:10.857 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'EEM', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 1050327000, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 54.04, 'fiftyTwoWeekHigh': 56.31, 'fiftyTwoWeekLow': 38.19, 'regularMarketDayHigh': 54.24, 'regularMarketDayLow': 53.675, 'regularMarketVolume': 29233784...
2025-11-19 16:56:10.857 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'EEM', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 1050327000, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 54.04, 'fiftyTwoWeekHigh': 56.31, 'fiftyTwoWeekLow': 38.19, 'regularMarketDayHigh': 54.24, 'regularMarketDayLow': 53.675, 'regularMarketVolume': 29233784...
2025-11-19 16:56:10.857 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:10.857 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:10.862 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for EEM
2025-11-19 16:56:10.862 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for EEM
2025-11-19 16:56:10.863 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $328.79 ‚Üí $328.95 (slippage: 0.050%)
2025-11-19 16:56:10.863 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $328.79 ‚Üí $328.95 (slippage: 0.050%)
2025-11-19 16:56:10.868 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading EEM from 2014-04-06 to 2024-01-01
2025-11-19 16:56:10.868 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading EEM from 2014-04-06 to 2024-01-01
2025-11-19 16:56:10.868 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.82
2025-11-19 16:56:10.868 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.82
2025-11-19 16:56:10.911 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 297.81
2025-11-19 16:56:10.911 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 297.81
2025-11-19 16:56:10.919 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2451 rows for EEM
2025-11-19 16:56:10.919 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2451 rows for EEM
2025-11-19 16:56:10.922 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $97.97
2025-11-19 16:56:10.922 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $97.97
2025-11-19 16:56:10.922 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:10.922 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:10.924 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $98,065.43
2025-11-19 16:56:10.924 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $98,065.43
2025-11-19 16:56:10.924 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2451 rows using yfinance
2025-11-19 16:56:10.924 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2451 rows using yfinance
2025-11-19 16:56:10.926 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 297.07 @ $328.95
2025-11-19 16:56:10.934 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:10.934 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:10.936 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:10.936 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:10.936 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì EEM: Fetched 2451 rows from YahooFinanceDirectSource (source: 0.59s, total: 0.60s)
2025-11-19 16:56:10.936 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì EEM: Fetched 2451 rows from YahooFinanceDirectSource (source: 0.59s, total: 0.60s)
2025-11-19 16:56:10.937 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:10.937 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:10.938 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:10.938 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:10.939 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$97,820.56, Cash end=$-0.00
2025-11-19 16:56:10.939 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$97,820.56, Cash end=$-0.00
2025-11-19 16:56:10.940 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] EEM: Cached 2451 rows (~114.9 KB, key: EEM_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.940 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] EEM: Cached 2451 rows (~114.9 KB, key: EEM_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.941 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:10.941 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:10.944 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 3
2025-11-19 16:56:10.944 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 3
2025-11-19 16:56:10.945 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 820.50 shares @ $119.40 (Value: $97,967.46, P&L: $1,059.24)
2025-11-19 16:56:10.945 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 820.50 shares @ $119.40 (Value: $97,967.46, P&L: $1,059.24)
2025-11-19 16:56:10.949 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching AGG from 2 sources with failover
2025-11-19 16:56:10.949 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching AGG from 2 sources with failover
2025-11-19 16:56:10.950 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:10.950 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:10.951 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:10.951 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:10.954 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 297.07 shares @ $328.95 (Value: $97,722.84)
2025-11-19 16:56:10.954 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 297.07 shares @ $328.95 (Value: $97,722.84)
2025-11-19 16:56:10.956 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] AGG: Not in cache (key: AGG_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.956 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] AGG: Not in cache (key: AGG_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.957 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.957 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:10.958 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] AGG: No cached data, trying sources
2025-11-19 16:56:10.958 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] AGG: No cached data, trying sources
2025-11-19 16:56:10.959 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $97,722.84
2025-11-19 16:56:10.959 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $97,722.84
2025-11-19 16:56:10.961 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for AGG
2025-11-19 16:56:10.961 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for AGG
2025-11-19 16:56:10.965 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:10.965 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:10.969 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:10.969 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:10.969 | INFO     | src.backtesting.engine:run:316 -      Change: $-244.63
2025-11-19 16:56:10.969 | INFO     | src.backtesting.engine:run:316 -      Change: $-244.63
2025-11-19 16:56:10.971 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: AGG, Date Range: 2014-04-06 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:10.971 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: AGG, Date Range: 2014-04-06 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:10.973 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.973 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:10.977 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] AGG: Not in cache (key: AGG_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.977 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] AGG: Not in cache (key: AGG_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:10.978 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-09-01
2025-11-19 16:56:10.978 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-09-01
2025-11-19 16:56:10.982 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] AGG: No cached data found, fetching from API
2025-11-19 16:56:10.982 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] AGG: No cached data found, fetching from API
2025-11-19 16:56:10.983 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,747.26
2025-11-19 16:56:10.983 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,747.26
2025-11-19 16:56:10.984 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for AGG
2025-11-19 16:56:10.984 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for AGG
2025-11-19 16:56:10.985 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:10.985 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:10.987 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/AGG
2025-11-19 16:56:10.987 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/AGG
2025-11-19 16:56:10.987 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.987 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:10.987 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1396713600, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:10.987 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1396713600, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:10.988 | INFO     | src.backtesting.engine:run:273 -      SPY: 297.07 shares @ $352.60 (Value: $104,747.26, P&L: $7,024.42)
2025-11-19 16:56:10.988 | INFO     | src.backtesting.engine:run:273 -      SPY: 297.07 shares @ $352.60 (Value: $104,747.26, P&L: $7,024.42)
2025-11-19 16:56:10.990 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:10.990 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:10.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:10.998 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/AGG
2025-11-19 16:56:10.998 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/AGG
2025-11-19 16:56:10.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:10.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.005 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.005 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.21276748279200697
2025-11-19 16:56:11.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.21276748279200697
2025-11-19 16:56:11.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031066775945942426
2025-11-19 16:56:11.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031066775945942426
2025-11-19 16:56:11.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.13420132184899924
2025-11-19 16:56:11.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.13420132184899924
2025-11-19 16:56:11.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.040231921805941484
2025-11-19 16:56:11.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.040231921805941484
2025-11-19 16:56:11.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-09-01 00:00:00:
2025-11-19 16:56:11.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-09-01 00:00:00:
2025-11-19 16:56:11.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2128 (21.28%) - PASS
2025-11-19 16:56:11.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2128 (21.28%) - PASS
2025-11-19 16:56:11.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0311 (3.11%) - PASS
2025-11-19 16:56:11.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0311 (3.11%) - PASS
2025-11-19 16:56:11.016 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1342 (13.42%) - PASS
2025-11-19 16:56:11.016 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1342 (13.42%) - PASS
2025-11-19 16:56:11.017 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0402 (4.02%) - PASS
2025-11-19 16:56:11.017 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0402 (4.02%) - PASS
2025-11-19 16:56:11.018 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:11.018 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:11.018 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.018 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.019 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:11.019 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:11.019 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.019 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.021 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 297.07 shares @ $352.60 (Value: $104,747.26)
2025-11-19 16:56:11.021 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 297.07 shares @ $352.60 (Value: $104,747.26)
2025-11-19 16:56:11.023 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-09-01: PV=$104,747.26, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:11.023 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-09-01: PV=$104,747.26, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:11.024 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:11.024 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:11.025 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.025 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.026 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:11.026 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:11.028 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 297.07 shares worth $104,747.26
2025-11-19 16:56:11.028 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 297.07 shares worth $104,747.26
2025-11-19 16:56:11.029 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:11.029 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:11.033 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $352.60 ‚Üí $352.78 (slippage: 0.050%)
2025-11-19 16:56:11.033 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $352.60 ‚Üí $352.78 (slippage: 0.050%)
2025-11-19 16:56:11.034 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.81
2025-11-19 16:56:11.034 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.81
2025-11-19 16:56:11.035 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 296.92
2025-11-19 16:56:11.035 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 296.92
2025-11-19 16:56:11.035 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 297.07
2025-11-19 16:56:11.035 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 297.07
2025-11-19 16:56:11.036 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.15
2025-11-19 16:56:11.036 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.15
2025-11-19 16:56:11.037 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.05
2025-11-19 16:56:11.037 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.05
2025-11-19 16:56:11.038 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-52.32
2025-11-19 16:56:11.038 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-52.32
2025-11-19 16:56:11.038 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.15 shares at $352.42 (proceeds: $52.27)
2025-11-19 16:56:11.038 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.15 shares at $352.42 (proceeds: $52.27)
2025-11-19 16:56:11.040 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:11.040 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:11.041 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $52.27
2025-11-19 16:56:11.041 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $52.27
2025-11-19 16:56:11.041 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$52.32, Cash end=$52.27
2025-11-19 16:56:11.041 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$52.32, Cash end=$52.27
2025-11-19 16:56:11.042 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.042 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.043 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.043 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.044 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,747.18
2025-11-19 16:56:11.044 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,747.18
2025-11-19 16:56:11.045 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.27
2025-11-19 16:56:11.045 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.27
2025-11-19 16:56:11.046 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:11.046 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:11.046 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.046 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.048 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-10-01
2025-11-19 16:56:11.048 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-10-01
2025-11-19 16:56:11.049 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $100,127.07
2025-11-19 16:56:11.049 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $100,127.07
2025-11-19 16:56:11.052 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.27
2025-11-19 16:56:11.052 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.27
2025-11-19 16:56:11.054 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.054 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.055 | INFO     | src.backtesting.engine:run:273 -      SPY: 296.92 shares @ $337.04 (Value: $100,074.80, P&L: $2,400.80)
2025-11-19 16:56:11.055 | INFO     | src.backtesting.engine:run:273 -      SPY: 296.92 shares @ $337.04 (Value: $100,074.80, P&L: $2,400.80)
2025-11-19 16:56:11.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.070 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.070 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.17003406027025747
2025-11-19 16:56:11.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.17003406027025747
2025-11-19 16:56:11.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.012173859969429435
2025-11-19 16:56:11.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.012173859969429435
2025-11-19 16:56:11.073 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.10504096086795123
2025-11-19 16:56:11.073 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.10504096086795123
2025-11-19 16:56:11.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04257950375235464
2025-11-19 16:56:11.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04257950375235464
2025-11-19 16:56:11.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-10-01 00:00:00:
2025-11-19 16:56:11.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-10-01 00:00:00:
2025-11-19 16:56:11.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1700 (17.00%) - PASS
2025-11-19 16:56:11.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1700 (17.00%) - PASS
2025-11-19 16:56:11.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0122 (1.22%) - PASS
2025-11-19 16:56:11.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0122 (1.22%) - PASS
2025-11-19 16:56:11.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1050 (10.50%) - PASS
2025-11-19 16:56:11.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1050 (10.50%) - PASS
2025-11-19 16:56:11.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0426 (4.26%) - PASS
2025-11-19 16:56:11.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0426 (4.26%) - PASS
2025-11-19 16:56:11.079 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:11.079 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:11.079 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.079 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.080 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:11.080 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:11.081 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.081 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.083 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 296.92 shares @ $337.04 (Value: $100,074.80)
2025-11-19 16:56:11.083 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 296.92 shares @ $337.04 (Value: $100,074.80)
2025-11-19 16:56:11.085 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-10-01: PV=$100,127.07, Cash=$52.27, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.085 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-10-01: PV=$100,127.07, Cash=$52.27, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.088 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:11.088 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:11.088 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.088 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.089 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:11.089 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:11.094 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 296.92 shares worth $100,074.80
2025-11-19 16:56:11.094 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 296.92 shares worth $100,074.80
2025-11-19 16:56:11.096 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:11.096 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:11.098 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $337.04 ‚Üí $337.21 (slippage: 0.050%)
2025-11-19 16:56:11.098 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $337.04 ‚Üí $337.21 (slippage: 0.050%)
2025-11-19 16:56:11.099 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.81
2025-11-19 16:56:11.099 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.81
2025-11-19 16:56:11.100 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 296.93
2025-11-19 16:56:11.100 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 296.93
2025-11-19 16:56:11.101 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 296.92
2025-11-19 16:56:11.101 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 296.92
2025-11-19 16:56:11.103 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:11.103 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:11.103 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.103 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.116 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $2.23
2025-11-19 16:56:11.116 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $2.23
2025-11-19 16:56:11.119 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:11.119 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:11.125 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$52.27
2025-11-19 16:56:11.125 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$52.27
2025-11-19 16:56:11.130 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.130 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.139 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.139 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.144 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $100,127.07
2025-11-19 16:56:11.144 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $100,127.07
2025-11-19 16:56:11.148 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.27
2025-11-19 16:56:11.148 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.27
2025-11-19 16:56:11.156 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:11.156 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:11.158 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.158 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.163 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-11-02
2025-11-19 16:56:11.163 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-11-02
2025-11-19 16:56:11.168 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $98,096.12
2025-11-19 16:56:11.168 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $98,096.12
2025-11-19 16:56:11.171 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.27
2025-11-19 16:56:11.171 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.27
2025-11-19 16:56:11.175 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.175 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.176 | INFO     | src.backtesting.engine:run:273 -      SPY: 296.92 shares @ $330.20 (Value: $98,043.85, P&L: $369.85)
2025-11-19 16:56:11.176 | INFO     | src.backtesting.engine:run:273 -      SPY: 296.92 shares @ $330.20 (Value: $98,043.85, P&L: $369.85)
2025-11-19 16:56:11.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.188 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.188 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07859148235235947
2025-11-19 16:56:11.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07859148235235947
2025-11-19 16:56:11.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.08571006033637762
2025-11-19 16:56:11.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.08571006033637762
2025-11-19 16:56:11.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.047663061092348524
2025-11-19 16:56:11.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.047663061092348524
2025-11-19 16:56:11.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.037988142246828005
2025-11-19 16:56:11.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.037988142246828005
2025-11-19 16:56:11.198 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-11-02 00:00:00:
2025-11-19 16:56:11.198 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-11-02 00:00:00:
2025-11-19 16:56:11.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0786 (7.86%) - PASS
2025-11-19 16:56:11.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0786 (7.86%) - PASS
2025-11-19 16:56:11.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0857 (-8.57%) - FAIL
2025-11-19 16:56:11.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0857 (-8.57%) - FAIL
2025-11-19 16:56:11.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0477 (4.77%) - PASS
2025-11-19 16:56:11.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0477 (4.77%) - PASS
2025-11-19 16:56:11.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0380 (3.80%) - PASS
2025-11-19 16:56:11.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0380 (3.80%) - PASS
2025-11-19 16:56:11.203 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:11.203 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:11.204 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.204 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.204 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:11.204 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:11.205 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.205 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.206 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 296.92 shares @ $330.20 (Value: $98,043.85)
2025-11-19 16:56:11.206 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 296.92 shares @ $330.20 (Value: $98,043.85)
2025-11-19 16:56:11.207 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-11-02: PV=$98,096.12, Cash=$52.27, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.207 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-11-02: PV=$98,096.12, Cash=$52.27, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.207 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:11.207 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:11.208 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.208 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.209 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:11.209 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:11.209 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 296.92 shares worth $98,043.85
2025-11-19 16:56:11.209 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 296.92 shares worth $98,043.85
2025-11-19 16:56:11.210 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:11.210 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:11.211 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $330.20 ‚Üí $330.37 (slippage: 0.050%)
2025-11-19 16:56:11.211 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $330.20 ‚Üí $330.37 (slippage: 0.050%)
2025-11-19 16:56:11.214 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.82
2025-11-19 16:56:11.214 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.82
2025-11-19 16:56:11.217 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 296.93
2025-11-19 16:56:11.217 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 296.93
2025-11-19 16:56:11.219 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 296.92
2025-11-19 16:56:11.219 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 296.92
2025-11-19 16:56:11.222 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:11.222 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:11.226 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.226 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.229 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $3.25
2025-11-19 16:56:11.229 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $3.25
2025-11-19 16:56:11.232 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:11.232 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:11.233 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$52.27
2025-11-19 16:56:11.233 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$52.27
2025-11-19 16:56:11.234 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.234 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.235 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.235 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.236 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $98,096.12
2025-11-19 16:56:11.236 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $98,096.12
2025-11-19 16:56:11.237 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.27
2025-11-19 16:56:11.237 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.27
2025-11-19 16:56:11.238 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:11.238 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:11.238 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.238 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.240 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-12-01
2025-11-19 16:56:11.240 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2020-12-01
2025-11-19 16:56:11.241 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $108,731.88
2025-11-19 16:56:11.241 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $108,731.88
2025-11-19 16:56:11.241 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.27
2025-11-19 16:56:11.241 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.27
2025-11-19 16:56:11.242 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.242 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.242 | INFO     | src.backtesting.engine:run:273 -      SPY: 296.92 shares @ $366.02 (Value: $108,679.61, P&L: $11,005.61)
2025-11-19 16:56:11.242 | INFO     | src.backtesting.engine:run:273 -      SPY: 296.92 shares @ $366.02 (Value: $108,679.61, P&L: $11,005.61)
2025-11-19 16:56:11.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.254 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.254 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.17449612312007057
2025-11-19 16:56:11.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.17449612312007057
2025-11-19 16:56:11.258 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058528691044285486
2025-11-19 16:56:11.258 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058528691044285486
2025-11-19 16:56:11.260 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.1683517529489682
2025-11-19 16:56:11.260 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.1683517529489682
2025-11-19 16:56:11.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0475597704304358
2025-11-19 16:56:11.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0475597704304358
2025-11-19 16:56:11.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-12-01 00:00:00:
2025-11-19 16:56:11.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2020-12-01 00:00:00:
2025-11-19 16:56:11.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1745 (17.45%) - PASS
2025-11-19 16:56:11.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1745 (17.45%) - PASS
2025-11-19 16:56:11.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0585 (5.85%) - PASS
2025-11-19 16:56:11.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0585 (5.85%) - PASS
2025-11-19 16:56:11.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1684 (16.84%) - PASS
2025-11-19 16:56:11.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1684 (16.84%) - PASS
2025-11-19 16:56:11.271 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0476 (4.76%) - PASS
2025-11-19 16:56:11.271 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0476 (4.76%) - PASS
2025-11-19 16:56:11.271 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:11.271 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:11.273 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.273 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.274 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:11.274 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:11.274 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.274 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.275 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 296.92 shares @ $366.02 (Value: $108,679.61)
2025-11-19 16:56:11.275 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 296.92 shares @ $366.02 (Value: $108,679.61)
2025-11-19 16:56:11.276 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-12-01: PV=$108,731.88, Cash=$52.27, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.276 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2020-12-01: PV=$108,731.88, Cash=$52.27, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.280 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:11.280 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:11.286 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.286 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.287 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:11.287 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:11.289 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 296.92 shares worth $108,679.61
2025-11-19 16:56:11.289 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 296.92 shares worth $108,679.61
2025-11-19 16:56:11.290 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:11.290 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:11.293 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $366.02 ‚Üí $366.20 (slippage: 0.050%)
2025-11-19 16:56:11.293 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $366.02 ‚Üí $366.20 (slippage: 0.050%)
2025-11-19 16:56:11.295 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.71
2025-11-19 16:56:11.295 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.71
2025-11-19 16:56:11.296 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 296.92
2025-11-19 16:56:11.296 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 296.92
2025-11-19 16:56:11.297 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 296.92
2025-11-19 16:56:11.297 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 296.92
2025-11-19 16:56:11.298 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:11.298 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:11.299 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.299 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.300 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.07
2025-11-19 16:56:11.300 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.07
2025-11-19 16:56:11.301 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:11.301 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:11.303 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$52.27
2025-11-19 16:56:11.303 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$52.27
2025-11-19 16:56:11.303 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.303 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.304 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.304 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.306 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $108,731.88
2025-11-19 16:56:11.306 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $108,731.88
2025-11-19 16:56:11.307 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.27
2025-11-19 16:56:11.307 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.27
2025-11-19 16:56:11.308 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:11.308 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:11.309 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.309 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.310 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-01-04
2025-11-19 16:56:11.310 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-01-04
2025-11-19 16:56:11.312 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $109,554.36
2025-11-19 16:56:11.312 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $109,554.36
2025-11-19 16:56:11.313 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.27
2025-11-19 16:56:11.313 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.27
2025-11-19 16:56:11.314 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.314 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.315 | INFO     | src.backtesting.engine:run:273 -      SPY: 296.92 shares @ $368.79 (Value: $109,502.09, P&L: $11,828.09)
2025-11-19 16:56:11.315 | INFO     | src.backtesting.engine:run:273 -      SPY: 296.92 shares @ $368.79 (Value: $109,502.09, P&L: $11,828.09)
2025-11-19 16:56:11.319 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.319 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.321 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.321 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.322 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.322 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.323 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.323 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.14385411232903134
2025-11-19 16:56:11.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.14385411232903134
2025-11-19 16:56:11.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058755592494049935
2025-11-19 16:56:11.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058755592494049935
2025-11-19 16:56:11.329 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.15735587907418247
2025-11-19 16:56:11.329 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.15735587907418247
2025-11-19 16:56:11.331 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.044509323813951784
2025-11-19 16:56:11.331 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.044509323813951784
2025-11-19 16:56:11.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-01-04 00:00:00:
2025-11-19 16:56:11.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-01-04 00:00:00:
2025-11-19 16:56:11.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1439 (14.39%) - PASS
2025-11-19 16:56:11.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1439 (14.39%) - PASS
2025-11-19 16:56:11.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0588 (5.88%) - PASS
2025-11-19 16:56:11.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0588 (5.88%) - PASS
2025-11-19 16:56:11.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1574 (15.74%) - PASS
2025-11-19 16:56:11.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1574 (15.74%) - PASS
2025-11-19 16:56:11.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0445 (4.45%) - PASS
2025-11-19 16:56:11.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0445 (4.45%) - PASS
2025-11-19 16:56:11.340 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.340 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.341 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.341 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.343 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.343 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.345 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:11.345 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:11.346 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 296.92 shares @ $368.79 (Value: $109,502.09, P&L: $11,828.09)
2025-11-19 16:56:11.346 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 296.92 shares @ $368.79 (Value: $109,502.09, P&L: $11,828.09)
2025-11-19 16:56:11.347 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 296.92 @ $368.61 (P&L: $11,773.34)
2025-11-19 16:56:11.347 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 296.92 @ $368.61 (P&L: $11,773.34)
2025-11-19 16:56:11.348 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $109,390.16
2025-11-19 16:56:11.348 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $109,390.16
2025-11-19 16:56:11.349 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-01-04: PV=$109,554.36, Cash=$109,390.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:11.349 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-01-04: PV=$109,554.36, Cash=$109,390.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:11.350 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.350 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.351 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EEM']
2025-11-19 16:56:11.351 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EEM']
2025-11-19 16:56:11.353 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY EEM [relative_top]
2025-11-19 16:56:11.353 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY EEM [relative_top]
2025-11-19 16:56:11.354 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $52.00 ‚Üí $52.03 (slippage: 0.050%)
2025-11-19 16:56:11.354 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $52.00 ‚Üí $52.03 (slippage: 0.050%)
2025-11-19 16:56:11.355 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:11.355 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:11.355 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2105.76
2025-11-19 16:56:11.355 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2105.76
2025-11-19 16:56:11.356 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $109.55
2025-11-19 16:56:11.356 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $109.55
2025-11-19 16:56:11.357 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $109,663.91
2025-11-19 16:56:11.357 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $109,663.91
2025-11-19 16:56:11.358 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: EEM x 2100.51 @ $52.03
2025-11-19 16:56:11.358 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: EEM x 2100.51 @ $52.03
2025-11-19 16:56:11.359 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:11.359 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:11.362 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:11.362 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:11.366 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$109,390.16, Cash end=$-0.00
2025-11-19 16:56:11.366 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$109,390.16, Cash end=$-0.00
2025-11-19 16:56:11.368 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:11.368 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:11.370 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 296.92 shares @ $368.79 (Value: $109,502.09, P&L: $11,828.09)
2025-11-19 16:56:11.370 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 296.92 shares @ $368.79 (Value: $109,502.09, P&L: $11,828.09)
2025-11-19 16:56:11.371 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:11.371 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:11.372 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      EEM: 2100.51 shares @ $52.03 (Value: $109,280.88)
2025-11-19 16:56:11.372 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      EEM: 2100.51 shares @ $52.03 (Value: $109,280.88)
2025-11-19 16:56:11.373 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.373 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.373 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $109,280.88
2025-11-19 16:56:11.373 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $109,280.88
2025-11-19 16:56:11.374 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:11.374 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:11.374 | INFO     | src.backtesting.engine:run:316 -      Change: $-273.48
2025-11-19 16:56:11.374 | INFO     | src.backtesting.engine:run:316 -      Change: $-273.48
2025-11-19 16:56:11.375 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.375 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.376 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-02-01
2025-11-19 16:56:11.376 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-02-01
2025-11-19 16:56:11.376 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $115,002.66
2025-11-19 16:56:11.376 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $115,002.66
2025-11-19 16:56:11.377 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:11.377 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:11.378 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.378 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.379 | INFO     | src.backtesting.engine:run:273 -      EEM: 2100.51 shares @ $54.75 (Value: $115,002.66, P&L: $5,721.78)
2025-11-19 16:56:11.379 | INFO     | src.backtesting.engine:run:273 -      EEM: 2100.51 shares @ $54.75 (Value: $115,002.66, P&L: $5,721.78)
2025-11-19 16:56:11.385 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.385 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.386 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.386 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.387 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.387 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.388 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.388 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.392 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.392 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.396 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.16939669331101337
2025-11-19 16:56:11.396 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.16939669331101337
2025-11-19 16:56:11.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08550676283381575
2025-11-19 16:56:11.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08550676283381575
2025-11-19 16:56:11.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.3001662124540849
2025-11-19 16:56:11.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.3001662124540849
2025-11-19 16:56:11.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02250328649557254
2025-11-19 16:56:11.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02250328649557254
2025-11-19 16:56:11.408 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-02-01 00:00:00:
2025-11-19 16:56:11.408 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-02-01 00:00:00:
2025-11-19 16:56:11.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1694 (16.94%) - PASS
2025-11-19 16:56:11.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1694 (16.94%) - PASS
2025-11-19 16:56:11.411 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0855 (8.55%) - PASS
2025-11-19 16:56:11.411 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0855 (8.55%) - PASS
2025-11-19 16:56:11.412 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.3002 (30.02%) - PASS
2025-11-19 16:56:11.412 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.3002 (30.02%) - PASS
2025-11-19 16:56:11.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0225 (2.25%) - PASS
2025-11-19 16:56:11.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0225 (2.25%) - PASS
2025-11-19 16:56:11.416 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.416 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.417 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.417 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.418 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.418 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.419 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.419 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.421 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2100.51 shares @ $54.75 (Value: $115,002.66)
2025-11-19 16:56:11.421 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2100.51 shares @ $54.75 (Value: $115,002.66)
2025-11-19 16:56:11.423 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-02-01: PV=$115,002.66, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:11.423 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-02-01: PV=$115,002.66, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:11.424 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.424 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.426 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.426 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.427 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EEM'], then buys: []
2025-11-19 16:56:11.427 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EEM'], then buys: []
2025-11-19 16:56:11.428 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2100.51 shares worth $115,002.66
2025-11-19 16:56:11.428 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2100.51 shares worth $115,002.66
2025-11-19 16:56:11.436 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE EEM [relative_top]
2025-11-19 16:56:11.436 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE EEM [relative_top]
2025-11-19 16:56:11.437 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $54.75 ‚Üí $54.78 (slippage: 0.050%)
2025-11-19 16:56:11.437 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $54.75 ‚Üí $54.78 (slippage: 0.050%)
2025-11-19 16:56:11.438 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.83
2025-11-19 16:56:11.438 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.83
2025-11-19 16:56:11.440 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.44s, Size: 269824 bytes
2025-11-19 16:56:11.440 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.44s, Size: 269824 bytes
2025-11-19 16:56:11.440 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2099.46
2025-11-19 16:56:11.440 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2099.46
2025-11-19 16:56:11.442 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '5390mg1khr1hb', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '46', 'date': 'Wed, 19 Nov 2025 08:56:11 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '0', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:11.442 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '5390mg1khr1hb', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '46', 'date': 'Wed, 19 Nov 2025 08:56:11 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '0', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:11.442 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2100.51
2025-11-19 16:56:11.442 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2100.51
2025-11-19 16:56:11.449 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:11.449 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:11.450 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -1.05
2025-11-19 16:56:11.450 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -1.05
2025-11-19 16:56:11.453 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for AGG in 0.46s
2025-11-19 16:56:11.453 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for AGG in 0.46s
2025-11-19 16:56:11.453 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:11.453 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:11.456 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:11.456 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:11.457 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-57.44
2025-11-19 16:56:11.457 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-57.44
2025-11-19 16:56:11.459 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:11.459 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:11.460 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EEM: selling 1.05 shares at $54.72 (proceeds: $57.39)
2025-11-19 16:56:11.460 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EEM: selling 1.05 shares at $54.72 (proceeds: $57.39)
2025-11-19 16:56:11.463 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:11.463 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:11.464 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:11.464 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:11.468 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing AGG (parse time: 0.01s)
2025-11-19 16:56:11.468 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing AGG (parse time: 0.01s)
2025-11-19 16:56:11.468 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $57.39
2025-11-19 16:56:11.468 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $57.39
2025-11-19 16:56:11.475 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'AGG', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 1064842200, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 100.08, 'fiftyTwoWeekHigh': 101.35, 'fiftyTwoWeekLow': 95.74, 'regularMarketDayHigh': 100.27, 'regularMarketDayLow': 100.0, 'regularMarketVolume': 677157...
2025-11-19 16:56:11.475 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'AGG', 'exchangeName': 'PCX', 'fullExchangeName': 'NYSEArca', 'instrumentType': 'ETF', 'firstTradeDate': 1064842200, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 100.08, 'fiftyTwoWeekHigh': 101.35, 'fiftyTwoWeekLow': 95.74, 'regularMarketDayHigh': 100.27, 'regularMarketDayLow': 100.0, 'regularMarketVolume': 677157...
2025-11-19 16:56:11.476 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$57.44, Cash end=$57.39
2025-11-19 16:56:11.476 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$57.44, Cash end=$57.39
2025-11-19 16:56:11.477 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for AGG
2025-11-19 16:56:11.477 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for AGG
2025-11-19 16:56:11.481 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.481 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.482 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading AGG from 2014-04-06 to 2024-01-01
2025-11-19 16:56:11.482 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading AGG from 2014-04-06 to 2024-01-01
2025-11-19 16:56:11.484 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.484 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.521 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2451 rows for AGG
2025-11-19 16:56:11.521 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2451 rows for AGG
2025-11-19 16:56:11.523 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $115,002.57
2025-11-19 16:56:11.523 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $115,002.57
2025-11-19 16:56:11.525 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:11.526 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $57.39
2025-11-19 16:56:11.525 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:11.526 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $57.39
2025-11-19 16:56:11.529 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2451 rows using yfinance
2025-11-19 16:56:11.529 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2451 rows using yfinance
2025-11-19 16:56:11.529 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:11.529 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:11.536 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:11.536 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:11.536 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.536 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.538 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì AGG: Fetched 2451 rows from YahooFinanceDirectSource (source: 0.58s, total: 0.59s)
2025-11-19 16:56:11.538 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì AGG: Fetched 2451 rows from YahooFinanceDirectSource (source: 0.58s, total: 0.59s)
2025-11-19 16:56:11.539 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-03-01
2025-11-19 16:56:11.539 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-03-01
2025-11-19 16:56:11.541 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:11.541 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $115,884.34
2025-11-19 16:56:11.541 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:11.541 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $115,884.34
2025-11-19 16:56:11.542 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $57.39
2025-11-19 16:56:11.542 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $57.39
2025-11-19 16:56:11.543 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] AGG: Cached 2451 rows (~114.9 KB, key: AGG_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:11.543 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] AGG: Cached 2451 rows (~114.9 KB, key: AGG_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:11.545 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.545 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.546 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 4
2025-11-19 16:56:11.546 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 4
2025-11-19 16:56:11.547 | INFO     | src.backtesting.engine:run:273 -      EEM: 2099.46 shares @ $55.17 (Value: $115,826.95, P&L: $6,600.68)
2025-11-19 16:56:11.547 | INFO     | src.backtesting.engine:run:273 -      EEM: 2099.46 shares @ $55.17 (Value: $115,826.95, P&L: $6,600.68)
2025-11-19 16:56:11.552 | INFO     | src.backtesting.utils:ensure_safe_asset_data:373 - üõ°Ô∏è  Safe asset 'SHY' configured but not in price data. Fetching automatically...
2025-11-19 16:56:11.552 | INFO     | src.backtesting.utils:ensure_safe_asset_data:373 - üõ°Ô∏è  Safe asset 'SHY' configured but not in price data. Fetching automatically...
2025-11-19 16:56:11.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.561 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching SHY from 2 sources with failover
2025-11-19 16:56:11.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.561 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching SHY from 2 sources with failover
2025-11-19 16:56:11.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.567 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:11.567 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:11.567 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.567 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.571 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] SHY: Not in cache (key: SHY_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:11.571 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] SHY: Not in cache (key: SHY_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:11.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.575 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] SHY: No cached data, trying sources
2025-11-19 16:56:11.575 | DEBUG    | src.data_sources.multi_source:fetch_data:98 - [MULTI-SOURCE CACHE MISS] SHY: No cached data, trying sources
2025-11-19 16:56:11.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.578 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for SHY
2025-11-19 16:56:11.578 | INFO     | src.data_sources.multi_source:fetch_data:108 - [FAILOVER ATTEMPT 1/2] Trying YahooFinanceDirectSource for SHY
2025-11-19 16:56:11.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.31499349804405674
2025-11-19 16:56:11.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.31499349804405674
2025-11-19 16:56:11.586 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:11.586 | DEBUG    | src.data_sources.multi_source:fetch_data:128 - [FAILOVER ATTEMPT] YahooFinanceDirectSource: Calling fetch_data()...
2025-11-19 16:56:11.591 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.21143958053531153
2025-11-19 16:56:11.591 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.21143958053531153
2025-11-19 16:56:11.592 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: SHY, Date Range: 2014-04-06 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:11.592 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:113 - [FETCH START] Symbol: SHY, Date Range: 2014-04-06 to 2024-01-01, Timeframe: 1d
2025-11-19 16:56:11.595 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.36154979135432574
2025-11-19 16:56:11.595 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.36154979135432574
2025-11-19 16:56:11.597 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] SHY: Not in cache (key: SHY_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:11.597 | DEBUG    | src.core.base_data_source:get_from_cache:379 - [CACHE MISS] SHY: Not in cache (key: SHY_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:11.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.009722981164546729
2025-11-19 16:56:11.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.009722981164546729
2025-11-19 16:56:11.605 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] SHY: No cached data found, fetching from API
2025-11-19 16:56:11.605 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:123 - [CACHE MISS] SHY: No cached data found, fetching from API
2025-11-19 16:56:11.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-03-01 00:00:00:
2025-11-19 16:56:11.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-03-01 00:00:00:
2025-11-19 16:56:11.607 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for SHY
2025-11-19 16:56:11.607 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:131 - [API REQUEST] Initiating Yahoo Finance request for SHY
2025-11-19 16:56:11.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.3150 (31.50%) - PASS
2025-11-19 16:56:11.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.3150 (31.50%) - PASS
2025-11-19 16:56:11.608 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/SHY
2025-11-19 16:56:11.608 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:143 - [REQUEST DETAILS] URL: https://query1.finance.yahoo.com/v8/finance/chart/SHY
2025-11-19 16:56:11.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2114 (21.14%) - PASS
2025-11-19 16:56:11.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2114 (21.14%) - PASS
2025-11-19 16:56:11.609 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1396713600, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:11.609 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:144 - [REQUEST DETAILS] Params: {'period1': 1396713600, 'period2': 1704038400, 'interval': '1d', 'events': 'history', 'includeAdjustedClose': 'true'}
2025-11-19 16:56:11.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.3615 (36.15%) - PASS
2025-11-19 16:56:11.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.3615 (36.15%) - PASS
2025-11-19 16:56:11.612 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:11.612 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:145 - [REQUEST DETAILS] Timeout: 10s, Max Retries: 3
2025-11-19 16:56:11.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0097 (-0.97%) - FAIL
2025-11-19 16:56:11.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0097 (-0.97%) - FAIL
2025-11-19 16:56:11.617 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/SHY
2025-11-19 16:56:11.619 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.617 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:211 - [HTTP REQUEST] Attempt 1/3: GET https://query1.finance.yahoo.com/v8/finance/chart/SHY
2025-11-19 16:56:11.619 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.623 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.623 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.625 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.625 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.626 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.626 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.627 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2099.46 shares @ $55.17 (Value: $115,826.95)
2025-11-19 16:56:11.627 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2099.46 shares @ $55.17 (Value: $115,826.95)
2025-11-19 16:56:11.629 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-03-01: PV=$115,884.34, Cash=$57.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.629 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-03-01: PV=$115,884.34, Cash=$57.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.632 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.632 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.634 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.634 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.635 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EEM'], then buys: []
2025-11-19 16:56:11.635 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EEM'], then buys: []
2025-11-19 16:56:11.636 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2099.46 shares worth $115,826.95
2025-11-19 16:56:11.636 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2099.46 shares worth $115,826.95
2025-11-19 16:56:11.636 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD EEM [relative_top]
2025-11-19 16:56:11.636 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD EEM [relative_top]
2025-11-19 16:56:11.637 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $55.17 ‚Üí $55.20 (slippage: 0.050%)
2025-11-19 16:56:11.637 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $55.17 ‚Üí $55.20 (slippage: 0.050%)
2025-11-19 16:56:11.638 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:11.638 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:11.638 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2099.45
2025-11-19 16:56:11.638 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2099.45
2025-11-19 16:56:11.640 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2099.46
2025-11-19 16:56:11.640 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2099.46
2025-11-19 16:56:11.640 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:11.640 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:11.641 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.641 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.642 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.53
2025-11-19 16:56:11.642 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.53
2025-11-19 16:56:11.642 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:11.642 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:11.643 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$57.39
2025-11-19 16:56:11.643 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$57.39
2025-11-19 16:56:11.644 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.644 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.645 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.645 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.647 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $115,884.34
2025-11-19 16:56:11.647 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $115,884.34
2025-11-19 16:56:11.649 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $57.39
2025-11-19 16:56:11.649 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $57.39
2025-11-19 16:56:11.650 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:11.650 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:11.651 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.651 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.651 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-04-01
2025-11-19 16:56:11.651 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-04-01
2025-11-19 16:56:11.653 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $113,134.06
2025-11-19 16:56:11.653 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $113,134.06
2025-11-19 16:56:11.654 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $57.39
2025-11-19 16:56:11.654 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $57.39
2025-11-19 16:56:11.655 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.655 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.656 | INFO     | src.backtesting.engine:run:273 -      EEM: 2099.46 shares @ $53.86 (Value: $113,076.67, P&L: $3,850.40)
2025-11-19 16:56:11.656 | INFO     | src.backtesting.engine:run:273 -      EEM: 2099.46 shares @ $53.86 (Value: $113,076.67, P&L: $3,850.40)
2025-11-19 16:56:11.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.6275035355882825
2025-11-19 16:56:11.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.6275035355882825
2025-11-19 16:56:11.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.5044040004070802
2025-11-19 16:56:11.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.5044040004070802
2025-11-19 16:56:11.682 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.6486073960527048
2025-11-19 16:56:11.682 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.6486073960527048
2025-11-19 16:56:11.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.006014141211689861
2025-11-19 16:56:11.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.006014141211689861
2025-11-19 16:56:11.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-04-01 00:00:00:
2025-11-19 16:56:11.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-04-01 00:00:00:
2025-11-19 16:56:11.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.6275 (62.75%) - PASS
2025-11-19 16:56:11.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.6275 (62.75%) - PASS
2025-11-19 16:56:11.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.5044 (50.44%) - PASS
2025-11-19 16:56:11.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.5044 (50.44%) - PASS
2025-11-19 16:56:11.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.6486 (64.86%) - PASS
2025-11-19 16:56:11.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.6486 (64.86%) - PASS
2025-11-19 16:56:11.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0060 (-0.60%) - FAIL
2025-11-19 16:56:11.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0060 (-0.60%) - FAIL
2025-11-19 16:56:11.691 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.691 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.696 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.696 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.698 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.698 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.701 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.701 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.704 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2099.46 shares @ $53.86 (Value: $113,076.67)
2025-11-19 16:56:11.704 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2099.46 shares @ $53.86 (Value: $113,076.67)
2025-11-19 16:56:11.705 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-04-01: PV=$113,134.06, Cash=$57.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.705 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-04-01: PV=$113,134.06, Cash=$57.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.709 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.709 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.711 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.711 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.713 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EEM']
2025-11-19 16:56:11.713 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EEM']
2025-11-19 16:56:11.715 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2099.46 shares worth $113,076.67
2025-11-19 16:56:11.715 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2099.46 shares worth $113,076.67
2025-11-19 16:56:11.716 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD EEM [relative_top]
2025-11-19 16:56:11.716 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD EEM [relative_top]
2025-11-19 16:56:11.717 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $53.86 ‚Üí $53.89 (slippage: 0.050%)
2025-11-19 16:56:11.717 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $53.86 ‚Üí $53.89 (slippage: 0.050%)
2025-11-19 16:56:11.719 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.71
2025-11-19 16:56:11.719 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.71
2025-11-19 16:56:11.719 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2099.47
2025-11-19 16:56:11.719 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2099.47
2025-11-19 16:56:11.721 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2099.46
2025-11-19 16:56:11.721 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2099.46
2025-11-19 16:56:11.721 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.02
2025-11-19 16:56:11.721 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.02
2025-11-19 16:56:11.723 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.723 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.724 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.85
2025-11-19 16:56:11.724 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.85
2025-11-19 16:56:11.728 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EEM: buying 0.02 more shares at $53.89 (cost: $0.85)
2025-11-19 16:56:11.728 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EEM: buying 0.02 more shares at $53.89 (cost: $0.85)
2025-11-19 16:56:11.732 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:11.732 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:11.737 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $56.54
2025-11-19 16:56:11.737 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $56.54
2025-11-19 16:56:11.738 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.85, Cash end=$56.54
2025-11-19 16:56:11.738 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.85, Cash end=$56.54
2025-11-19 16:56:11.741 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.741 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.744 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.744 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.747 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $113,134.05
2025-11-19 16:56:11.747 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $113,134.05
2025-11-19 16:56:11.749 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $56.54
2025-11-19 16:56:11.749 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $56.54
2025-11-19 16:56:11.753 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:11.753 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:11.756 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.756 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.761 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-05-03
2025-11-19 16:56:11.761 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-05-03
2025-11-19 16:56:11.764 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $113,385.99
2025-11-19 16:56:11.764 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $113,385.99
2025-11-19 16:56:11.766 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $56.54
2025-11-19 16:56:11.766 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $56.54
2025-11-19 16:56:11.768 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.768 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.769 | INFO     | src.backtesting.engine:run:273 -      EEM: 2099.47 shares @ $53.98 (Value: $113,329.45, P&L: $4,102.37)
2025-11-19 16:56:11.769 | INFO     | src.backtesting.engine:run:273 -      EEM: 2099.47 shares @ $53.98 (Value: $113,329.45, P&L: $4,102.37)
2025-11-19 16:56:11.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.781 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.781 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.47883588376708563
2025-11-19 16:56:11.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.47883588376708563
2025-11-19 16:56:11.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.4269967655034459
2025-11-19 16:56:11.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.4269967655034459
2025-11-19 16:56:11.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.5283125710260563
2025-11-19 16:56:11.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.5283125710260563
2025-11-19 16:56:11.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.021220187376149613
2025-11-19 16:56:11.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.021220187376149613
2025-11-19 16:56:11.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-03 00:00:00:
2025-11-19 16:56:11.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-03 00:00:00:
2025-11-19 16:56:11.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.4788 (47.88%) - PASS
2025-11-19 16:56:11.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.4788 (47.88%) - PASS
2025-11-19 16:56:11.810 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.4270 (42.70%) - PASS
2025-11-19 16:56:11.810 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.4270 (42.70%) - PASS
2025-11-19 16:56:11.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.5283 (52.83%) - PASS
2025-11-19 16:56:11.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.5283 (52.83%) - PASS
2025-11-19 16:56:11.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0212 (-2.12%) - FAIL
2025-11-19 16:56:11.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0212 (-2.12%) - FAIL
2025-11-19 16:56:11.817 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.817 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.822 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.822 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.823 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.823 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.826 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.826 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.828 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2099.47 shares @ $53.98 (Value: $113,329.45)
2025-11-19 16:56:11.828 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2099.47 shares @ $53.98 (Value: $113,329.45)
2025-11-19 16:56:11.830 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-05-03: PV=$113,385.99, Cash=$56.54, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.830 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-05-03: PV=$113,385.99, Cash=$56.54, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.831 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.831 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.832 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.832 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.835 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EEM'], then buys: []
2025-11-19 16:56:11.835 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EEM'], then buys: []
2025-11-19 16:56:11.838 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2099.47 shares worth $113,329.45
2025-11-19 16:56:11.838 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2099.47 shares worth $113,329.45
2025-11-19 16:56:11.839 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD EEM [relative_top]
2025-11-19 16:56:11.839 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD EEM [relative_top]
2025-11-19 16:56:11.841 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $53.98 ‚Üí $54.01 (slippage: 0.050%)
2025-11-19 16:56:11.841 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $53.98 ‚Üí $54.01 (slippage: 0.050%)
2025-11-19 16:56:11.841 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:11.841 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:11.843 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2099.47
2025-11-19 16:56:11.843 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2099.47
2025-11-19 16:56:11.844 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2099.47
2025-11-19 16:56:11.844 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2099.47
2025-11-19 16:56:11.846 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:11.846 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:11.847 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.847 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.850 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.13
2025-11-19 16:56:11.850 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.13
2025-11-19 16:56:11.855 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:11.855 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:11.857 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$56.54
2025-11-19 16:56:11.857 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$56.54
2025-11-19 16:56:11.860 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.860 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.862 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.862 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.866 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $113,385.99
2025-11-19 16:56:11.866 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $113,385.99
2025-11-19 16:56:11.868 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $56.54
2025-11-19 16:56:11.868 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $56.54
2025-11-19 16:56:11.871 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:11.871 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:11.873 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.873 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.877 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-06-01
2025-11-19 16:56:11.877 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-06-01
2025-11-19 16:56:11.878 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $117,626.92
2025-11-19 16:56:11.878 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $117,626.92
2025-11-19 16:56:11.884 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $56.54
2025-11-19 16:56:11.884 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $56.54
2025-11-19 16:56:11.887 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.887 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:11.889 | INFO     | src.backtesting.engine:run:273 -      EEM: 2099.47 shares @ $56.00 (Value: $117,570.38, P&L: $8,343.30)
2025-11-19 16:56:11.889 | INFO     | src.backtesting.engine:run:273 -      EEM: 2099.47 shares @ $56.00 (Value: $117,570.38, P&L: $8,343.30)
2025-11-19 16:56:11.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:11.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.904 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.904 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.905 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.905 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:11.906 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.3734905259171204
2025-11-19 16:56:11.906 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.3734905259171204
2025-11-19 16:56:11.906 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.3304904235271151
2025-11-19 16:56:11.906 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.3304904235271151
2025-11-19 16:56:11.907 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.45077725942254965
2025-11-19 16:56:11.907 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.45077725942254965
2025-11-19 16:56:11.908 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.025901004041817388
2025-11-19 16:56:11.908 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.025901004041817388
2025-11-19 16:56:11.909 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-11-19 16:56:11.909 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-11-19 16:56:11.911 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.3735 (37.35%) - PASS
2025-11-19 16:56:11.911 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.3735 (37.35%) - PASS
2025-11-19 16:56:11.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.3305 (33.05%) - PASS
2025-11-19 16:56:11.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.3305 (33.05%) - PASS
2025-11-19 16:56:11.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.4508 (45.08%) - PASS
2025-11-19 16:56:11.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.4508 (45.08%) - PASS
2025-11-19 16:56:11.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0259 (-2.59%) - FAIL
2025-11-19 16:56:11.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0259 (-2.59%) - FAIL
2025-11-19 16:56:11.919 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.919 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EEM']
2025-11-19 16:56:11.922 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.922 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:11.924 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.924 | INFO     | src.backtesting.engine:run:292 -      EEM: LONG (strength: 1.00)
2025-11-19 16:56:11.925 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.925 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:11.929 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2099.47 shares @ $56.00 (Value: $117,570.38)
2025-11-19 16:56:11.929 | INFO     | src.backtesting.engine:_execute_signals:677 -      EEM: 2099.47 shares @ $56.00 (Value: $117,570.38)
2025-11-19 16:56:11.932 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-06-01: PV=$117,626.92, Cash=$56.54, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.932 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-06-01: PV=$117,626.92, Cash=$56.54, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:11.934 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.934 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EEM=100.00%
2025-11-19 16:56:11.935 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.935 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:11.936 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EEM'], then buys: []
2025-11-19 16:56:11.936 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EEM'], then buys: []
2025-11-19 16:56:11.938 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2099.47 shares worth $117,570.38
2025-11-19 16:56:11.938 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 2099.47 shares worth $117,570.38
2025-11-19 16:56:11.940 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE EEM [relative_top]
2025-11-19 16:56:11.940 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE EEM [relative_top]
2025-11-19 16:56:11.942 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $56.00 ‚Üí $56.03 (slippage: 0.050%)
2025-11-19 16:56:11.942 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $56.00 ‚Üí $56.03 (slippage: 0.050%)
2025-11-19 16:56:11.945 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.75
2025-11-19 16:56:11.945 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.75
2025-11-19 16:56:11.947 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2099.43
2025-11-19 16:56:11.947 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 2099.43
2025-11-19 16:56:11.949 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2099.47
2025-11-19 16:56:11.949 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 2099.47
2025-11-19 16:56:11.951 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.04
2025-11-19 16:56:11.951 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.04
2025-11-19 16:56:11.953 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.953 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:11.955 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.25
2025-11-19 16:56:11.955 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.25
2025-11-19 16:56:11.957 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EEM: selling 0.04 shares at $55.97 (proceeds: $2.24)
2025-11-19 16:56:11.957 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EEM: selling 0.04 shares at $55.97 (proceeds: $2.24)
2025-11-19 16:56:11.959 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:11.959 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:11.962 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $58.78
2025-11-19 16:56:11.962 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $58.78
2025-11-19 16:56:11.964 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$2.25, Cash end=$58.78
2025-11-19 16:56:11.964 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$2.25, Cash end=$58.78
2025-11-19 16:56:11.967 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.967 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:11.968 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.968 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:11.975 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $117,626.92
2025-11-19 16:56:11.975 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $117,626.92
2025-11-19 16:56:11.978 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.78
2025-11-19 16:56:11.978 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.78
2025-11-19 16:56:11.980 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.36s, Size: 259546 bytes
2025-11-19 16:56:11.980 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:221 - [HTTP RESPONSE] Status: 200, Time: 0.36s, Size: 259546 bytes
2025-11-19 16:56:11.984 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:11.984 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:11.985 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '52asso9khr1hb', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '59', 'date': 'Wed, 19 Nov 2025 08:56:11 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '3', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:11.985 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:222 - [HTTP RESPONSE] Headers: {'content-type': 'application/json;charset=utf-8', 'y-rid': '52asso9khr1hb', 'vary': 'Origin,Accept-Encoding', 'cache-control': 'public, max-age=10, stale-while-revalidate=20', 'content-encoding': 'gzip', 'x-envoy-upstream-service-time': '59', 'date': 'Wed, 19 Nov 2025 08:56:11 GMT', 'server': 'ATS', 'x-envoy-decorator-operation': 'finance-chart-api--mtls-production-gq1.finance-k8s:4080/*', 'Age': '3', 'Strict-Transport-Security': 'max-age=31536000', 'Referrer-Policy': 'no-referrer-when-downgrade', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'X-Frame-Options': 'SAMEORIGIN', 'Transfer-Encoding': 'chunked', 'Connection': 'keep-alive'}
2025-11-19 16:56:11.989 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:11.995 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:11.995 | DEBUG    | src.data_sources.yahoo_finance_direct:_make_request_with_retry:227 - [HTTP RESPONSE] Successfully parsed JSON response
2025-11-19 16:56:11.998 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-07-01
2025-11-19 16:56:11.998 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-07-01
2025-11-19 16:56:11.998 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for SHY in 0.38s
2025-11-19 16:56:11.998 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:156 - [API SUCCESS] Received response for SHY in 0.38s
2025-11-19 16:56:12.001 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $115,191.58
2025-11-19 16:56:12.001 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $115,191.58
2025-11-19 16:56:12.002 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:12.002 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:157 - [RESPONSE STRUCTURE] Keys: ['chart']
2025-11-19 16:56:12.005 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.78
2025-11-19 16:56:12.005 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.78
2025-11-19 16:56:12.005 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:12.005 | DEBUG    | src.data_sources.yahoo_finance_direct:_parse_chart_response:279 - [PARSE START] Parsing chart response
2025-11-19 16:56:12.008 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.008 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.009 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:12.009 | ERROR    | src.data_sources.yahoo_finance_direct:_parse_chart_response:284 - [PARSE ERROR] API returned error: None
2025-11-19 16:56:12.013 | INFO     | src.backtesting.engine:run:273 -      EEM: 2099.43 shares @ $54.84 (Value: $115,132.80, P&L: $5,907.80)
2025-11-19 16:56:12.013 | INFO     | src.backtesting.engine:run:273 -      EEM: 2099.43 shares @ $54.84 (Value: $115,132.80, P&L: $5,907.80)
2025-11-19 16:56:12.014 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing SHY (parse time: 0.01s)
2025-11-19 16:56:12.014 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:165 - [PARSE WARNING] Empty dataframe after parsing SHY (parse time: 0.01s)
2025-11-19 16:56:12.020 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.020 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.028 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'SHY', 'exchangeName': 'NGM', 'fullExchangeName': 'NasdaqGM', 'instrumentType': 'ETF', 'firstTradeDate': 1028035800, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 82.87, 'fiftyTwoWeekHigh': 83.14, 'fiftyTwoWeekLow': 81.67, 'regularMarketDayHigh': 82.919, 'regularMarketDayLow': 82.85, 'regularMarketVolume': 2818172,...
2025-11-19 16:56:12.028 | DEBUG    | src.data_sources.yahoo_finance_direct:fetch_data:166 - [PARSE WARNING] Response data: {'chart': {'result': [{'meta': {'currency': 'USD', 'symbol': 'SHY', 'exchangeName': 'NGM', 'fullExchangeName': 'NasdaqGM', 'instrumentType': 'ETF', 'firstTradeDate': 1028035800, 'regularMarketTime': 1763499600, 'hasPrePostMarketData': True, 'gmtoffset': -18000, 'timezone': 'EST', 'exchangeTimezoneName': 'America/New_York', 'regularMarketPrice': 82.87, 'fiftyTwoWeekHigh': 83.14, 'fiftyTwoWeekLow': 81.67, 'regularMarketDayHigh': 82.919, 'regularMarketDayLow': 82.85, 'regularMarketVolume': 2818172,...
2025-11-19 16:56:12.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.034 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for SHY
2025-11-19 16:56:12.034 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:170 - [FALLBACK] Trying yfinance library for SHY
2025-11-19 16:56:12.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.037 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading SHY from 2014-04-06 to 2024-01-01
2025-11-19 16:56:12.037 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:621 - [YFINANCE] Downloading SHY from 2014-04-06 to 2024-01-01
2025-11-19 16:56:12.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.078 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2451 rows for SHY
2025-11-19 16:56:12.078 | INFO     | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:664 - [YFINANCE] Successfully fetched 2451 rows for SHY
2025-11-19 16:56:12.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.386158726988844
2025-11-19 16:56:12.083 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:12.083 | DEBUG    | src.data_sources.yahoo_finance_direct:_fetch_with_yfinance:665 - [YFINANCE] Date range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:12.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.29410804696360704
2025-11-19 16:56:12.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.29410804696360704
2025-11-19 16:56:12.086 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2451 rows using yfinance
2025-11-19 16:56:12.086 | INFO     | src.data_sources.yahoo_finance_direct:fetch_data:174 - [FALLBACK SUCCESS] Retrieved 2451 rows using yfinance
2025-11-19 16:56:12.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.35608313587746476
2025-11-19 16:56:12.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.35608313587746476
2025-11-19 16:56:12.093 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:12.093 | WARNING  | src.data_sources.yahoo_finance_direct:fetch_data:179 - [CACHE] Failed to cache yfinance data: 'str' object has no attribute 'copy'
2025-11-19 16:56:12.094 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.024904721435011212
2025-11-19 16:56:12.094 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.024904721435011212
2025-11-19 16:56:12.096 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì SHY: Fetched 2451 rows from YahooFinanceDirectSource (source: 0.52s, total: 0.54s)
2025-11-19 16:56:12.096 | INFO     | src.data_sources.multi_source:fetch_data:150 - [FAILOVER SUCCESS] ‚úì SHY: Fetched 2451 rows from YahooFinanceDirectSource (source: 0.52s, total: 0.54s)
2025-11-19 16:56:12.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-11-19 16:56:12.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-11-19 16:56:12.106 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:12.106 | INFO     | src.data_sources.multi_source:fetch_data:151 - [FAILOVER SUCCESS] Data range: 2014-04-07 00:00:00 to 2023-12-29 00:00:00
2025-11-19 16:56:12.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.3862 (38.62%) - PASS
2025-11-19 16:56:12.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.3862 (38.62%) - PASS
2025-11-19 16:56:12.114 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] SHY: Cached 2451 rows (~114.9 KB, key: SHY_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:12.114 | DEBUG    | src.core.base_data_source:add_to_cache:410 - [CACHE ADD] SHY: Cached 2451 rows (~114.9 KB, key: SHY_2014-04-06_2024-01-01_1d)
2025-11-19 16:56:12.117 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2941 (29.41%) - PASS
2025-11-19 16:56:12.117 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2941 (29.41%) - PASS
2025-11-19 16:56:12.118 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 5
2025-11-19 16:56:12.118 | DEBUG    | src.core.base_data_source:add_to_cache:411 - [CACHE STATS] Total cached items: 5
2025-11-19 16:56:12.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.3561 (35.61%) - PASS
2025-11-19 16:56:12.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.3561 (35.61%) - PASS
2025-11-19 16:56:12.121 | ERROR    | src.backtesting.utils:ensure_safe_asset_data:410 - ‚ùå Failed to fetch safe asset 'SHY': PriceData.__init__() missing 1 required positional argument: 'metadata'
   Safe asset signals will be skipped. Consider:
   1. Adding 'SHY' to your universe manually, OR
   2. Changing safe_asset to one already in your universe
2025-11-19 16:56:12.121 | ERROR    | src.backtesting.utils:ensure_safe_asset_data:410 - ‚ùå Failed to fetch safe asset 'SHY': PriceData.__init__() missing 1 required positional argument: 'metadata'
   Safe asset signals will be skipped. Consider:
   1. Adding 'SHY' to your universe manually, OR
   2. Changing safe_asset to one already in your universe
2025-11-19 16:56:12.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0249 (-2.49%) - FAIL
2025-11-19 16:56:12.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0249 (-2.49%) - FAIL
2025-11-19 16:56:12.125 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching SPY from 2 sources with failover
2025-11-19 16:56:12.125 | INFO     | src.data_sources.multi_source:fetch_data:89 - [MULTI-SOURCE] Fetching SPY from 2 sources with failover
2025-11-19 16:56:12.128 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.128 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.132 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:12.132 | DEBUG    | src.data_sources.multi_source:fetch_data:90 - [MULTI-SOURCE] Available sources: ['YahooFinanceDirectSource', 'YahooFinanceSource']
2025-11-19 16:56:12.135 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.135 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.140 | DEBUG    | src.core.base_data_source:get_from_cache:377 - [CACHE HIT] SPY: Found in cache (key: SPY_2014-04-06_2024-01-01_1d, rows: 2451)
2025-11-19 16:56:12.140 | DEBUG    | src.core.base_data_source:get_from_cache:377 - [CACHE HIT] SPY: Found in cache (key: SPY_2014-04-06_2024-01-01_1d, rows: 2451)
2025-11-19 16:56:12.146 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.146 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.190 | INFO     | src.data_sources.multi_source:fetch_data:95 - [MULTI-SOURCE CACHE HIT] SPY: Using cached data with 2451 rows
2025-11-19 16:56:12.190 | INFO     | src.data_sources.multi_source:fetch_data:95 - [MULTI-SOURCE CACHE HIT] SPY: Using cached data with 2451 rows
2025-11-19 16:56:12.195 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:12.195 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:12.213 | INFO     | src.backtesting.engine:__init__:81 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-11-19 16:56:12.213 | INFO     | src.backtesting.engine:__init__:81 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-11-19 16:56:12.215 | INFO     | src.backtesting.engine:_execute_signals:668 -      EEM: 2099.43 shares @ $54.84 (Value: $115,132.80, P&L: $5,907.80)
2025-11-19 16:56:12.215 | INFO     | src.backtesting.engine:_execute_signals:668 -      EEM: 2099.43 shares @ $54.84 (Value: $115,132.80, P&L: $5,907.80)
2025-11-19 16:56:12.218 | INFO     | src.backtesting.engine:__init__:88 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-11-19 16:56:12.218 | INFO     | src.backtesting.engine:__init__:88 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-11-19 16:56:12.220 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EEM x 2099.43 @ $54.81 (P&L: $5,850.23)
2025-11-19 16:56:12.220 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EEM x 2099.43 @ $54.81 (P&L: $5,850.23)
2025-11-19 16:56:12.223 | INFO     | src.backtesting.engine:run:151 - Starting backtest for DualMomentumStrategy
2025-11-19 16:56:12.223 | INFO     | src.backtesting.engine:run:151 - Starting backtest for DualMomentumStrategy
2025-11-19 16:56:12.224 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $115,018.94
2025-11-19 16:56:12.224 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $115,018.94
2025-11-19 16:56:12.228 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-07-01: PV=$115,191.58, Cash=$115,018.94, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:12.228 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-07-01: PV=$115,191.58, Cash=$115,018.94, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:12.234 | INFO     | src.backtesting.engine:_setup_logging:122 - Backtest logging enabled: logs\backtest_DualMomentumStrategy_20251119_165612.log
2025-11-19 16:56:12.234 | INFO     | src.backtesting.engine:_setup_logging:122 - Backtest logging enabled: logs\backtest_DualMomentumStrategy_20251119_165612.log
2025-11-19 16:56:12.236 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.236 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.239 | INFO     | src.backtesting.engine:_setup_logging:123 - Strategy: DualMomentumStrategy
2025-11-19 16:56:12.239 | INFO     | src.backtesting.engine:_setup_logging:123 - Strategy: DualMomentumStrategy
2025-11-19 16:56:12.240 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.240 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.241 | INFO     | src.backtesting.engine:_setup_logging:124 - Period: 2015-01-01 to 2024-01-01
2025-11-19 16:56:12.241 | INFO     | src.backtesting.engine:_setup_logging:124 - Period: 2015-01-01 to 2024-01-01
2025-11-19 16:56:12.256 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:12.256 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:12.263 | INFO     | src.backtesting.engine:run:180 - Backtesting from 2015-01-02 00:00:00 to 2023-12-29 00:00:00 (2264 periods)
2025-11-19 16:56:12.263 | INFO     | src.backtesting.engine:run:180 - Backtesting from 2015-01-02 00:00:00 to 2023-12-29 00:00:00 (2264 periods)
2025-11-19 16:56:12.265 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $430.43 ‚Üí $430.65 (slippage: 0.050%)
2025-11-19 16:56:12.265 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $430.43 ‚Üí $430.65 (slippage: 0.050%)
2025-11-19 16:56:12.267 | INFO     | src.backtesting.engine:run:197 - First rebalancing expected on or after 2015-07-06 00:00:00 (after 126 periods of warm-up data)
2025-11-19 16:56:12.267 | INFO     | src.backtesting.engine:run:197 - First rebalancing expected on or after 2015-07-06 00:00:00 (after 126 periods of warm-up data)
2025-11-19 16:56:12.268 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.72
2025-11-19 16:56:12.268 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.72
2025-11-19 16:56:12.271 | ERROR    | src.backtesting.engine:_validate_safe_asset_data:390 - 
================================================================================
‚ùå CONFIGURATION ERROR: Safe asset 'SHY' configured but no price data available!

IMPACT: During bearish markets, defensive signals will fail, leaving portfolio in CASH.

SOLUTIONS:
  1. Add 'SHY' to your asset universe, OR
  2. Use a safe asset already in your universe (e.g., 'AGG', 'TLT'), OR
  3. Use utils.ensure_safe_asset_data() to auto-fetch, OR
  4. Set safe_asset=None to explicitly hold cash

Available symbols in price data: ['SPY', 'EFA', 'EEM', 'AGG']
================================================================================
2025-11-19 16:56:12.271 | ERROR    | src.backtesting.engine:_validate_safe_asset_data:390 - 
================================================================================
‚ùå CONFIGURATION ERROR: Safe asset 'SHY' configured but no price data available!

IMPACT: During bearish markets, defensive signals will fail, leaving portfolio in CASH.

SOLUTIONS:
  1. Add 'SHY' to your asset universe, OR
  2. Use a safe asset already in your universe (e.g., 'AGG', 'TLT'), OR
  3. Use utils.ensure_safe_asset_data() to auto-fetch, OR
  4. Set safe_asset=None to explicitly hold cash

Available symbols in price data: ['SPY', 'EFA', 'EEM', 'AGG']
================================================================================
2025-11-19 16:56:12.272 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 267.49
2025-11-19 16:56:12.272 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 267.49
2025-11-19 16:56:12.274 | ERROR    | src.agents.strategy_comparison_agent:_test_strategy:444 - Error testing strategy sector_rotation_monthly: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:12.274 | ERROR    | src.agents.strategy_comparison_agent:_test_strategy:444 - Error testing strategy sector_rotation_monthly: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:12.276 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $115.19
2025-11-19 16:56:12.276 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $115.19
2025-11-19 16:56:12.279 | WARNING  | src.agents.strategy_comparison_agent:_run_parallel:250 - [15/16] ‚úó sector_rotation_monthly: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:12.279 | WARNING  | src.agents.strategy_comparison_agent:_run_parallel:250 - [15/16] ‚úó sector_rotation_monthly: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:12.282 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $115,306.77
2025-11-19 16:56:12.282 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $115,306.77
2025-11-19 16:56:12.284 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 266.82 @ $430.65
2025-11-19 16:56:12.284 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 266.82 @ $430.65
2025-11-19 16:56:12.284 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:12.284 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:12.286 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:12.286 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:12.287 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$115,018.94, Cash end=$0.00
2025-11-19 16:56:12.287 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$115,018.94, Cash end=$0.00
2025-11-19 16:56:12.289 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:12.289 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:12.290 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EEM: 2099.43 shares @ $54.84 (Value: $115,132.80, P&L: $5,907.80)
2025-11-19 16:56:12.290 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EEM: 2099.43 shares @ $54.84 (Value: $115,132.80, P&L: $5,907.80)
2025-11-19 16:56:12.292 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:12.292 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:12.294 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 266.82 shares @ $430.65 (Value: $114,904.03)
2025-11-19 16:56:12.294 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 266.82 shares @ $430.65 (Value: $114,904.03)
2025-11-19 16:56:12.295 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.295 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.297 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $114,904.03
2025-11-19 16:56:12.297 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $114,904.03
2025-11-19 16:56:12.301 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:12.301 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:12.303 | INFO     | src.backtesting.engine:run:316 -      Change: $-287.55
2025-11-19 16:56:12.303 | INFO     | src.backtesting.engine:run:316 -      Change: $-287.55
2025-11-19 16:56:12.306 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.306 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.308 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-08-02
2025-11-19 16:56:12.308 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-08-02
2025-11-19 16:56:12.309 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $116,757.03
2025-11-19 16:56:12.309 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $116,757.03
2025-11-19 16:56:12.310 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:12.310 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:12.313 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.313 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.315 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.82 shares @ $437.59 (Value: $116,757.03, P&L: $1,853.00)
2025-11-19 16:56:12.315 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.82 shares @ $437.59 (Value: $116,757.03, P&L: $1,853.00)
2025-11-19 16:56:12.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.320 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.320 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.323 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.323 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.324 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.324 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.34016296417175274
2025-11-19 16:56:12.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.34016296417175274
2025-11-19 16:56:12.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.2875100785163687
2025-11-19 16:56:12.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.2875100785163687
2025-11-19 16:56:12.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.2005082033172798
2025-11-19 16:56:12.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.2005082033172798
2025-11-19 16:56:12.329 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.025259256479880476
2025-11-19 16:56:12.329 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.025259256479880476
2025-11-19 16:56:12.331 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-02 00:00:00:
2025-11-19 16:56:12.331 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-02 00:00:00:
2025-11-19 16:56:12.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.3402 (34.02%) - PASS
2025-11-19 16:56:12.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.3402 (34.02%) - PASS
2025-11-19 16:56:12.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2875 (28.75%) - PASS
2025-11-19 16:56:12.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2875 (28.75%) - PASS
2025-11-19 16:56:12.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.2005 (20.05%) - PASS
2025-11-19 16:56:12.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.2005 (20.05%) - PASS
2025-11-19 16:56:12.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0253 (-2.53%) - FAIL
2025-11-19 16:56:12.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0253 (-2.53%) - FAIL
2025-11-19 16:56:12.338 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.338 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.339 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.339 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.340 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.340 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.342 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.342 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.342 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.82 shares @ $437.59 (Value: $116,757.03)
2025-11-19 16:56:12.342 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.82 shares @ $437.59 (Value: $116,757.03)
2025-11-19 16:56:12.344 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-08-02: PV=$116,757.03, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:12.344 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-08-02: PV=$116,757.03, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:12.346 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.346 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.348 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.348 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.350 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.350 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.352 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.82 shares worth $116,757.03
2025-11-19 16:56:12.352 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.82 shares worth $116,757.03
2025-11-19 16:56:12.353 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:12.353 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:12.355 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $437.59 ‚Üí $437.81 (slippage: 0.050%)
2025-11-19 16:56:12.355 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $437.59 ‚Üí $437.81 (slippage: 0.050%)
2025-11-19 16:56:12.357 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.75
2025-11-19 16:56:12.357 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.75
2025-11-19 16:56:12.358 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.358 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.361 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.82
2025-11-19 16:56:12.361 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.82
2025-11-19 16:56:12.362 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.13
2025-11-19 16:56:12.362 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.13
2025-11-19 16:56:12.364 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:12.364 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:12.366 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-58.32
2025-11-19 16:56:12.366 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-58.32
2025-11-19 16:56:12.367 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.13 shares at $437.37 (proceeds: $58.26)
2025-11-19 16:56:12.367 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.13 shares at $437.37 (proceeds: $58.26)
2025-11-19 16:56:12.367 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:12.367 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:12.368 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $58.26
2025-11-19 16:56:12.368 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $58.26
2025-11-19 16:56:12.369 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$58.32, Cash end=$58.26
2025-11-19 16:56:12.369 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$58.32, Cash end=$58.26
2025-11-19 16:56:12.371 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.371 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.372 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.372 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.373 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,756.94
2025-11-19 16:56:12.373 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,756.94
2025-11-19 16:56:12.374 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.374 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.375 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:12.375 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:12.377 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.377 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.380 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-09-01
2025-11-19 16:56:12.380 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-09-01
2025-11-19 16:56:12.382 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,546.53
2025-11-19 16:56:12.382 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,546.53
2025-11-19 16:56:12.383 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.383 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.385 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.385 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.386 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $451.80 (Value: $120,488.27, P&L: $5,641.66)
2025-11-19 16:56:12.386 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $451.80 (Value: $120,488.27, P&L: $5,641.66)
2025-11-19 16:56:12.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.391 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.391 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.393 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.393 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.395 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.395 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.28133857053970157
2025-11-19 16:56:12.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.28133857053970157
2025-11-19 16:56:12.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.25088391897290174
2025-11-19 16:56:12.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.25088391897290174
2025-11-19 16:56:12.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.17174398951488756
2025-11-19 16:56:12.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.17174398951488756
2025-11-19 16:56:12.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.021026835857716697
2025-11-19 16:56:12.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.021026835857716697
2025-11-19 16:56:12.407 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-11-19 16:56:12.407 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-11-19 16:56:12.408 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2813 (28.13%) - PASS
2025-11-19 16:56:12.408 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2813 (28.13%) - PASS
2025-11-19 16:56:12.409 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2509 (25.09%) - PASS
2025-11-19 16:56:12.409 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2509 (25.09%) - PASS
2025-11-19 16:56:12.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1717 (17.17%) - PASS
2025-11-19 16:56:12.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1717 (17.17%) - PASS
2025-11-19 16:56:12.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0210 (-2.10%) - FAIL
2025-11-19 16:56:12.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0210 (-2.10%) - FAIL
2025-11-19 16:56:12.415 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.415 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.416 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.416 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.417 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.417 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.417 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.417 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.418 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $451.80 (Value: $120,488.27)
2025-11-19 16:56:12.418 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $451.80 (Value: $120,488.27)
2025-11-19 16:56:12.419 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-09-01: PV=$120,546.53, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.419 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-09-01: PV=$120,546.53, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.420 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.420 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.420 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.420 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.421 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.421 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.421 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $120,488.27
2025-11-19 16:56:12.421 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $120,488.27
2025-11-19 16:56:12.423 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.423 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.424 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $451.80 ‚Üí $452.03 (slippage: 0.050%)
2025-11-19 16:56:12.424 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $451.80 ‚Üí $452.03 (slippage: 0.050%)
2025-11-19 16:56:12.424 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:12.424 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:12.425 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.425 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.426 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.426 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.427 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:12.427 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:12.427 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.427 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.429 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.98
2025-11-19 16:56:12.429 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.98
2025-11-19 16:56:12.429 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.429 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.431 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.431 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.433 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.433 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.434 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.434 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.435 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,546.53
2025-11-19 16:56:12.435 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,546.53
2025-11-19 16:56:12.435 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.435 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.436 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.436 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.437 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.437 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.438 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-10-01
2025-11-19 16:56:12.438 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-10-01
2025-11-19 16:56:12.440 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $115,863.55
2025-11-19 16:56:12.440 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $115,863.55
2025-11-19 16:56:12.441 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.441 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.442 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.442 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.443 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $434.24 (Value: $115,805.28, P&L: $958.67)
2025-11-19 16:56:12.443 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $434.24 (Value: $115,805.28, P&L: $958.67)
2025-11-19 16:56:12.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.28839300743281937
2025-11-19 16:56:12.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.28839300743281937
2025-11-19 16:56:12.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.22149329972999188
2025-11-19 16:56:12.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.22149329972999188
2025-11-19 16:56:12.454 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.1310112771023526
2025-11-19 16:56:12.454 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.1310112771023526
2025-11-19 16:56:12.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.025588855524203535
2025-11-19 16:56:12.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.025588855524203535
2025-11-19 16:56:12.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-11-19 16:56:12.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-11-19 16:56:12.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2884 (28.84%) - PASS
2025-11-19 16:56:12.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2884 (28.84%) - PASS
2025-11-19 16:56:12.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2215 (22.15%) - PASS
2025-11-19 16:56:12.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2215 (22.15%) - PASS
2025-11-19 16:56:12.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1310 (13.10%) - PASS
2025-11-19 16:56:12.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1310 (13.10%) - PASS
2025-11-19 16:56:12.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0256 (-2.56%) - FAIL
2025-11-19 16:56:12.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0256 (-2.56%) - FAIL
2025-11-19 16:56:12.459 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.459 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.462 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.462 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.466 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.466 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.473 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.473 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.474 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $434.24 (Value: $115,805.28)
2025-11-19 16:56:12.474 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $434.24 (Value: $115,805.28)
2025-11-19 16:56:12.476 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-10-01: PV=$115,863.55, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.476 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-10-01: PV=$115,863.55, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.477 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.477 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.478 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.478 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.481 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.481 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.481 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $115,805.28
2025-11-19 16:56:12.481 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $115,805.28
2025-11-19 16:56:12.483 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.483 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.485 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $434.24 ‚Üí $434.46 (slippage: 0.050%)
2025-11-19 16:56:12.485 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $434.24 ‚Üí $434.46 (slippage: 0.050%)
2025-11-19 16:56:12.486 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.77
2025-11-19 16:56:12.486 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.77
2025-11-19 16:56:12.486 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.69
2025-11-19 16:56:12.486 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.69
2025-11-19 16:56:12.487 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.487 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.488 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:12.488 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:12.488 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.488 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.489 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.36
2025-11-19 16:56:12.489 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.36
2025-11-19 16:56:12.489 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.489 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.489 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.489 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.490 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.490 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.491 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.491 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.491 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $115,863.55
2025-11-19 16:56:12.491 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $115,863.55
2025-11-19 16:56:12.493 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.493 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.494 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.494 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.497 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.497 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.501 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-11-01
2025-11-19 16:56:12.501 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-11-01
2025-11-19 16:56:12.503 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $122,744.02
2025-11-19 16:56:12.503 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $122,744.02
2025-11-19 16:56:12.504 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.504 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.505 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.505 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.506 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $460.04 (Value: $122,685.76, P&L: $7,839.15)
2025-11-19 16:56:12.506 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $460.04 (Value: $122,685.76, P&L: $7,839.15)
2025-11-19 16:56:12.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.510 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.510 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.40883198538176835
2025-11-19 16:56:12.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.40883198538176835
2025-11-19 16:56:12.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.32383120135313326
2025-11-19 16:56:12.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.32383120135313326
2025-11-19 16:56:12.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.14784166284286848
2025-11-19 16:56:12.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.14784166284286848
2025-11-19 16:56:12.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.02397608900821646
2025-11-19 16:56:12.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.02397608900821646
2025-11-19 16:56:12.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-11-19 16:56:12.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-11-19 16:56:12.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.4088 (40.88%) - PASS
2025-11-19 16:56:12.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.4088 (40.88%) - PASS
2025-11-19 16:56:12.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.3238 (32.38%) - PASS
2025-11-19 16:56:12.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.3238 (32.38%) - PASS
2025-11-19 16:56:12.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1478 (14.78%) - PASS
2025-11-19 16:56:12.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1478 (14.78%) - PASS
2025-11-19 16:56:12.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0240 (-2.40%) - FAIL
2025-11-19 16:56:12.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0240 (-2.40%) - FAIL
2025-11-19 16:56:12.525 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.525 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.528 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.528 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.534 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.534 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.535 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.535 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.536 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $460.04 (Value: $122,685.76)
2025-11-19 16:56:12.536 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $460.04 (Value: $122,685.76)
2025-11-19 16:56:12.538 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-11-01: PV=$122,744.02, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.538 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-11-01: PV=$122,744.02, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.538 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.538 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.539 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.539 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.539 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.539 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.541 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $122,685.76
2025-11-19 16:56:12.541 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $122,685.76
2025-11-19 16:56:12.541 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.541 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.543 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $460.04 ‚Üí $460.27 (slippage: 0.050%)
2025-11-19 16:56:12.543 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $460.04 ‚Üí $460.27 (slippage: 0.050%)
2025-11-19 16:56:12.545 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.76
2025-11-19 16:56:12.545 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.76
2025-11-19 16:56:12.547 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.547 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.549 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.549 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.550 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:12.550 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:12.550 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.550 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.551 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-3.08
2025-11-19 16:56:12.551 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-3.08
2025-11-19 16:56:12.551 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.551 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.553 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.553 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.554 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.554 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.554 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.554 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.555 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $122,744.02
2025-11-19 16:56:12.555 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $122,744.02
2025-11-19 16:56:12.556 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.556 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.556 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.556 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.557 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.557 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.558 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-12-01
2025-11-19 16:56:12.558 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-12-01
2025-11-19 16:56:12.565 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,199.85
2025-11-19 16:56:12.565 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,199.85
2025-11-19 16:56:12.568 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.568 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.570 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.570 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.573 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $450.50 (Value: $120,141.58, P&L: $5,294.97)
2025-11-19 16:56:12.573 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $450.50 (Value: $120,141.58, P&L: $5,294.97)
2025-11-19 16:56:12.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.23080709666698707
2025-11-19 16:56:12.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.23080709666698707
2025-11-19 16:56:12.590 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06406682839282252
2025-11-19 16:56:12.590 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06406682839282252
2025-11-19 16:56:12.594 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.013483561832605462
2025-11-19 16:56:12.594 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.013483561832605462
2025-11-19 16:56:12.597 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.027240318942886033
2025-11-19 16:56:12.597 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.027240318942886033
2025-11-19 16:56:12.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-11-19 16:56:12.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-11-19 16:56:12.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2308 (23.08%) - PASS
2025-11-19 16:56:12.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2308 (23.08%) - PASS
2025-11-19 16:56:12.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0641 (6.41%) - PASS
2025-11-19 16:56:12.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0641 (6.41%) - PASS
2025-11-19 16:56:12.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0135 (-1.35%) - FAIL
2025-11-19 16:56:12.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0135 (-1.35%) - FAIL
2025-11-19 16:56:12.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0272 (-2.72%) - FAIL
2025-11-19 16:56:12.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0272 (-2.72%) - FAIL
2025-11-19 16:56:12.610 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.610 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.611 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.611 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.614 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.614 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.615 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.615 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.616 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $450.50 (Value: $120,141.58)
2025-11-19 16:56:12.616 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $450.50 (Value: $120,141.58)
2025-11-19 16:56:12.617 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-12-01: PV=$120,199.85, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.617 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-12-01: PV=$120,199.85, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.618 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.618 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.619 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.619 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.619 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.619 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.620 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $120,141.58
2025-11-19 16:56:12.620 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $120,141.58
2025-11-19 16:56:12.621 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.621 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.623 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $450.50 ‚Üí $450.73 (slippage: 0.050%)
2025-11-19 16:56:12.623 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $450.50 ‚Üí $450.73 (slippage: 0.050%)
2025-11-19 16:56:12.624 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.92
2025-11-19 16:56:12.624 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.92
2025-11-19 16:56:12.625 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.625 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.626 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.626 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.627 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:12.627 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:12.630 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.630 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.632 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.81
2025-11-19 16:56:12.632 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.81
2025-11-19 16:56:12.633 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.633 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.634 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.634 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.635 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.635 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.636 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.636 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.636 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,199.85
2025-11-19 16:56:12.636 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,199.85
2025-11-19 16:56:12.637 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.637 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.637 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.637 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.638 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.638 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.640 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-01-03
2025-11-19 16:56:12.640 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-01-03
2025-11-19 16:56:12.641 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $127,456.34
2025-11-19 16:56:12.641 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $127,456.34
2025-11-19 16:56:12.641 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.641 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.642 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.642 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.643 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $477.71 (Value: $127,398.08, P&L: $12,551.47)
2025-11-19 16:56:12.643 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $477.71 (Value: $127,398.08, P&L: $12,551.47)
2025-11-19 16:56:12.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.29534418066233714
2025-11-19 16:56:12.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.29534418066233714
2025-11-19 16:56:12.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07976556307098237
2025-11-19 16:56:12.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07976556307098237
2025-11-19 16:56:12.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.0538461391742413
2025-11-19 16:56:12.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.0538461391742413
2025-11-19 16:56:12.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04015586095396262
2025-11-19 16:56:12.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04015586095396262
2025-11-19 16:56:12.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-03 00:00:00:
2025-11-19 16:56:12.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-03 00:00:00:
2025-11-19 16:56:12.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2953 (29.53%) - PASS
2025-11-19 16:56:12.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2953 (29.53%) - PASS
2025-11-19 16:56:12.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0798 (7.98%) - PASS
2025-11-19 16:56:12.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0798 (7.98%) - PASS
2025-11-19 16:56:12.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0538 (-5.38%) - FAIL
2025-11-19 16:56:12.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0538 (-5.38%) - FAIL
2025-11-19 16:56:12.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0402 (-4.02%) - FAIL
2025-11-19 16:56:12.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0402 (-4.02%) - FAIL
2025-11-19 16:56:12.669 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.669 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.670 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.670 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.670 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.670 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.671 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.671 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.672 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $477.71 (Value: $127,398.08)
2025-11-19 16:56:12.672 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $477.71 (Value: $127,398.08)
2025-11-19 16:56:12.673 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-01-03: PV=$127,456.34, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.673 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-01-03: PV=$127,456.34, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.673 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.673 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.674 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.674 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.675 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.675 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.676 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $127,398.08
2025-11-19 16:56:12.676 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $127,398.08
2025-11-19 16:56:12.677 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:12.677 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:12.678 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $477.71 ‚Üí $477.95 (slippage: 0.050%)
2025-11-19 16:56:12.678 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $477.71 ‚Üí $477.95 (slippage: 0.050%)
2025-11-19 16:56:12.680 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.92
2025-11-19 16:56:12.680 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.92
2025-11-19 16:56:12.682 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.67
2025-11-19 16:56:12.682 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.67
2025-11-19 16:56:12.683 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.683 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.684 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:12.684 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:12.684 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.01
2025-11-19 16:56:12.684 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.01
2025-11-19 16:56:12.685 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-5.43
2025-11-19 16:56:12.685 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-5.43
2025-11-19 16:56:12.686 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.01 shares at $477.47 (proceeds: $5.43)
2025-11-19 16:56:12.686 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.01 shares at $477.47 (proceeds: $5.43)
2025-11-19 16:56:12.686 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:12.686 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:12.687 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $63.69
2025-11-19 16:56:12.687 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $63.69
2025-11-19 16:56:12.688 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$5.43, Cash end=$63.69
2025-11-19 16:56:12.688 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$5.43, Cash end=$63.69
2025-11-19 16:56:12.689 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.689 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.689 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.689 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.692 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $127,456.33
2025-11-19 16:56:12.692 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $127,456.33
2025-11-19 16:56:12.694 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $63.69
2025-11-19 16:56:12.694 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $63.69
2025-11-19 16:56:12.697 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.01
2025-11-19 16:56:12.697 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.01
2025-11-19 16:56:12.700 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.700 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.702 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-02-01
2025-11-19 16:56:12.702 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-02-01
2025-11-19 16:56:12.703 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,853.50
2025-11-19 16:56:12.703 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,853.50
2025-11-19 16:56:12.704 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $63.69
2025-11-19 16:56:12.704 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $63.69
2025-11-19 16:56:12.706 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.706 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.706 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.67 shares @ $452.95 (Value: $120,789.81, P&L: $5,948.10)
2025-11-19 16:56:12.706 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.67 shares @ $452.95 (Value: $120,789.81, P&L: $5,948.10)
2025-11-19 16:56:12.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.710 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.710 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.713 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.713 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.18713150753081553
2025-11-19 16:56:12.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.18713150753081553
2025-11-19 16:56:12.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03446415901312605
2025-11-19 16:56:12.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03446415901312605
2025-11-19 16:56:12.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.11395600070598721
2025-11-19 16:56:12.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.11395600070598721
2025-11-19 16:56:12.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04656133648477401
2025-11-19 16:56:12.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04656133648477401
2025-11-19 16:56:12.726 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-11-19 16:56:12.726 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-11-19 16:56:12.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1871 (18.71%) - PASS
2025-11-19 16:56:12.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1871 (18.71%) - PASS
2025-11-19 16:56:12.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0345 (3.45%) - PASS
2025-11-19 16:56:12.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0345 (3.45%) - PASS
2025-11-19 16:56:12.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1140 (-11.40%) - FAIL
2025-11-19 16:56:12.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1140 (-11.40%) - FAIL
2025-11-19 16:56:12.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0466 (-4.66%) - FAIL
2025-11-19 16:56:12.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0466 (-4.66%) - FAIL
2025-11-19 16:56:12.751 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.751 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.753 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.753 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.755 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.755 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.755 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.755 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.757 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.67 shares @ $452.95 (Value: $120,789.81)
2025-11-19 16:56:12.757 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.67 shares @ $452.95 (Value: $120,789.81)
2025-11-19 16:56:12.758 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-02-01: PV=$120,853.50, Cash=$63.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.758 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-02-01: PV=$120,853.50, Cash=$63.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.760 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.760 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.763 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.763 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.765 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.765 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.768 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.67 shares worth $120,789.81
2025-11-19 16:56:12.768 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.67 shares worth $120,789.81
2025-11-19 16:56:12.770 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.770 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.773 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $452.95 ‚Üí $453.18 (slippage: 0.050%)
2025-11-19 16:56:12.773 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $452.95 ‚Üí $453.18 (slippage: 0.050%)
2025-11-19 16:56:12.774 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.94
2025-11-19 16:56:12.774 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.94
2025-11-19 16:56:12.775 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.775 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.779 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.67
2025-11-19 16:56:12.779 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.67
2025-11-19 16:56:12.784 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:12.784 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:12.787 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.787 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.789 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $3.30
2025-11-19 16:56:12.789 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $3.30
2025-11-19 16:56:12.790 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.790 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.792 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$63.69
2025-11-19 16:56:12.792 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$63.69
2025-11-19 16:56:12.794 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.794 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.796 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.796 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.799 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,853.50
2025-11-19 16:56:12.799 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,853.50
2025-11-19 16:56:12.802 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $63.69
2025-11-19 16:56:12.802 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $63.69
2025-11-19 16:56:12.804 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.804 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.806 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.806 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.809 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-03-01
2025-11-19 16:56:12.809 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-03-01
2025-11-19 16:56:12.812 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $114,728.01
2025-11-19 16:56:12.812 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $114,728.01
2025-11-19 16:56:12.813 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $63.69
2025-11-19 16:56:12.813 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $63.69
2025-11-19 16:56:12.816 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.816 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.817 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.67 shares @ $429.98 (Value: $114,664.32, P&L: $-177.39)
2025-11-19 16:56:12.817 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.67 shares @ $429.98 (Value: $114,664.32, P&L: $-177.39)
2025-11-19 16:56:12.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.825 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.825 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.827 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11238164609384249
2025-11-19 16:56:12.827 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11238164609384249
2025-11-19 16:56:12.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.049123698396621784
2025-11-19 16:56:12.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.049123698396621784
2025-11-19 16:56:12.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.15595827001981089
2025-11-19 16:56:12.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.15595827001981089
2025-11-19 16:56:12.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.037268707260709966
2025-11-19 16:56:12.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.037268707260709966
2025-11-19 16:56:12.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-11-19 16:56:12.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-11-19 16:56:12.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1124 (11.24%) - PASS
2025-11-19 16:56:12.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1124 (11.24%) - PASS
2025-11-19 16:56:12.841 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0491 (-4.91%) - FAIL
2025-11-19 16:56:12.841 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0491 (-4.91%) - FAIL
2025-11-19 16:56:12.842 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1560 (-15.60%) - FAIL
2025-11-19 16:56:12.842 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1560 (-15.60%) - FAIL
2025-11-19 16:56:12.843 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0373 (-3.73%) - FAIL
2025-11-19 16:56:12.843 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0373 (-3.73%) - FAIL
2025-11-19 16:56:12.846 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.846 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.847 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.847 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.848 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.848 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.851 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.851 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.852 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.67 shares @ $429.98 (Value: $114,664.32)
2025-11-19 16:56:12.852 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.67 shares @ $429.98 (Value: $114,664.32)
2025-11-19 16:56:12.853 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-03-01: PV=$114,728.01, Cash=$63.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.853 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-03-01: PV=$114,728.01, Cash=$63.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.853 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.853 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.855 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.855 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.856 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.856 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.856 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.67 shares worth $114,664.32
2025-11-19 16:56:12.856 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.67 shares worth $114,664.32
2025-11-19 16:56:12.857 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD SPY [relative_top]
2025-11-19 16:56:12.857 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD SPY [relative_top]
2025-11-19 16:56:12.858 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $429.98 ‚Üí $430.20 (slippage: 0.050%)
2025-11-19 16:56:12.858 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $429.98 ‚Üí $430.20 (slippage: 0.050%)
2025-11-19 16:56:12.862 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:12.862 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:12.864 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.69
2025-11-19 16:56:12.864 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.69
2025-11-19 16:56:12.866 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.67
2025-11-19 16:56:12.866 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.67
2025-11-19 16:56:12.867 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:12.867 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:12.868 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.01
2025-11-19 16:56:12.868 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.01
2025-11-19 16:56:12.870 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $6.36
2025-11-19 16:56:12.870 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $6.36
2025-11-19 16:56:12.872 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 0.01 more shares at $430.20 (cost: $6.36)
2025-11-19 16:56:12.872 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 0.01 more shares at $430.20 (cost: $6.36)
2025-11-19 16:56:12.873 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:12.873 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:12.874 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $57.33
2025-11-19 16:56:12.874 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $57.33
2025-11-19 16:56:12.875 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$6.36, Cash end=$57.33
2025-11-19 16:56:12.875 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$6.36, Cash end=$57.33
2025-11-19 16:56:12.876 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.876 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.877 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.877 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.878 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $114,728.00
2025-11-19 16:56:12.878 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $114,728.00
2025-11-19 16:56:12.880 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $57.33
2025-11-19 16:56:12.880 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $57.33
2025-11-19 16:56:12.882 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.01
2025-11-19 16:56:12.882 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.01
2025-11-19 16:56:12.883 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.883 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.884 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-04-01
2025-11-19 16:56:12.884 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-04-01
2025-11-19 16:56:12.885 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,845.83
2025-11-19 16:56:12.885 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,845.83
2025-11-19 16:56:12.886 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $57.33
2025-11-19 16:56:12.886 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $57.33
2025-11-19 16:56:12.887 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.887 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.888 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.69 shares @ $452.92 (Value: $120,788.51, P&L: $5,940.43)
2025-11-19 16:56:12.888 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.69 shares @ $452.92 (Value: $120,788.51, P&L: $5,940.43)
2025-11-19 16:56:12.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11457827973856838
2025-11-19 16:56:12.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11457827973856838
2025-11-19 16:56:12.904 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.04731985486735879
2025-11-19 16:56:12.904 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.04731985486735879
2025-11-19 16:56:12.905 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.15110039236281658
2025-11-19 16:56:12.905 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.15110039236281658
2025-11-19 16:56:12.906 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.062033193129267916
2025-11-19 16:56:12.906 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.062033193129267916
2025-11-19 16:56:12.908 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-11-19 16:56:12.908 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-11-19 16:56:12.910 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1146 (11.46%) - PASS
2025-11-19 16:56:12.910 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1146 (11.46%) - PASS
2025-11-19 16:56:12.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0473 (-4.73%) - FAIL
2025-11-19 16:56:12.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0473 (-4.73%) - FAIL
2025-11-19 16:56:12.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1511 (-15.11%) - FAIL
2025-11-19 16:56:12.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1511 (-15.11%) - FAIL
2025-11-19 16:56:12.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0620 (-6.20%) - FAIL
2025-11-19 16:56:12.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0620 (-6.20%) - FAIL
2025-11-19 16:56:12.917 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.917 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.917 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.917 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.918 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.918 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.918 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.918 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.921 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.69 shares @ $452.92 (Value: $120,788.51)
2025-11-19 16:56:12.921 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.69 shares @ $452.92 (Value: $120,788.51)
2025-11-19 16:56:12.922 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-04-01: PV=$120,845.83, Cash=$57.33, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.922 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-04-01: PV=$120,845.83, Cash=$57.33, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.923 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.923 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.924 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.924 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.925 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.925 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.926 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.69 shares worth $120,788.51
2025-11-19 16:56:12.926 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.69 shares worth $120,788.51
2025-11-19 16:56:12.927 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.927 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.931 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $452.92 ‚Üí $453.15 (slippage: 0.050%)
2025-11-19 16:56:12.931 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $452.92 ‚Üí $453.15 (slippage: 0.050%)
2025-11-19 16:56:12.933 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:12.933 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:12.935 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.935 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.936 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.69
2025-11-19 16:56:12.936 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.69
2025-11-19 16:56:12.938 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:12.938 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:12.939 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.939 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.941 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-3.07
2025-11-19 16:56:12.941 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-3.07
2025-11-19 16:56:12.942 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.942 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.943 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$57.33
2025-11-19 16:56:12.943 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$57.33
2025-11-19 16:56:12.946 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.946 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.948 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.948 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.950 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,845.83
2025-11-19 16:56:12.950 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,845.83
2025-11-19 16:56:12.952 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $57.33
2025-11-19 16:56:12.952 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $57.33
2025-11-19 16:56:12.953 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.953 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.954 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.954 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.956 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-05-02
2025-11-19 16:56:12.956 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-05-02
2025-11-19 16:56:12.957 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $110,594.33
2025-11-19 16:56:12.957 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $110,594.33
2025-11-19 16:56:12.959 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $57.33
2025-11-19 16:56:12.959 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $57.33
2025-11-19 16:56:12.962 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.962 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.967 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.69 shares @ $414.48 (Value: $110,537.00, P&L: $-4,311.07)
2025-11-19 16:56:12.967 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.69 shares @ $414.48 (Value: $110,537.00, P&L: $-4,311.07)
2025-11-19 16:56:12.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.979 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.979 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.008895268082540153
2025-11-19 16:56:12.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.008895268082540153
2025-11-19 16:56:12.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.1329618822045462
2025-11-19 16:56:12.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.1329618822045462
2025-11-19 16:56:12.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2160059271265612
2025-11-19 16:56:12.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2160059271265612
2025-11-19 16:56:12.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.10717722005110808
2025-11-19 16:56:12.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.10717722005110808
2025-11-19 16:56:12.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-02 00:00:00:
2025-11-19 16:56:12.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-02 00:00:00:
2025-11-19 16:56:12.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0089 (-0.89%) - FAIL
2025-11-19 16:56:12.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0089 (-0.89%) - FAIL
2025-11-19 16:56:12.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1330 (-13.30%) - FAIL
2025-11-19 16:56:12.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1330 (-13.30%) - FAIL
2025-11-19 16:56:12.990 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2160 (-21.60%) - FAIL
2025-11-19 16:56:12.990 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2160 (-21.60%) - FAIL
2025-11-19 16:56:12.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1072 (-10.72%) - FAIL
2025-11-19 16:56:12.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1072 (-10.72%) - FAIL
2025-11-19 16:56:12.993 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:12.993 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:12.996 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:12.996 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:12.998 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.998 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.000 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.000 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.002 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:13.002 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:13.003 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 266.69 shares @ $414.48 (Value: $110,537.00, P&L: $-4,311.07)
2025-11-19 16:56:13.003 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 266.69 shares @ $414.48 (Value: $110,537.00, P&L: $-4,311.07)
2025-11-19 16:56:13.003 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 266.69 @ $414.27 (P&L: $-4,366.34)
2025-11-19 16:56:13.003 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 266.69 @ $414.27 (P&L: $-4,366.34)
2025-11-19 16:56:13.004 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $110,428.58
2025-11-19 16:56:13.004 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $110,428.58
2025-11-19 16:56:13.004 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-05-02: PV=$110,594.33, Cash=$110,428.58, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:13.004 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-05-02: PV=$110,594.33, Cash=$110,428.58, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:13.006 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.006 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.007 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.007 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.008 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [defensive_rotation]
2025-11-19 16:56:13.008 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [defensive_rotation]
2025-11-19 16:56:13.009 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $102.13 ‚Üí $102.18 (slippage: 0.050%)
2025-11-19 16:56:13.009 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $102.13 ‚Üí $102.18 (slippage: 0.050%)
2025-11-19 16:56:13.010 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.010 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.013 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1082.34
2025-11-19 16:56:13.013 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1082.34
2025-11-19 16:56:13.015 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $110.59
2025-11-19 16:56:13.015 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $110.59
2025-11-19 16:56:13.016 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $110,704.92
2025-11-19 16:56:13.016 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $110,704.92
2025-11-19 16:56:13.017 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 1079.64 @ $102.18
2025-11-19 16:56:13.017 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 1079.64 @ $102.18
2025-11-19 16:56:13.018 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:13.018 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:13.018 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:13.018 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:13.020 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$110,428.58, Cash end=$0.00
2025-11-19 16:56:13.020 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$110,428.58, Cash end=$0.00
2025-11-19 16:56:13.021 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:13.021 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:13.023 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 266.69 shares @ $414.48 (Value: $110,537.00, P&L: $-4,311.07)
2025-11-19 16:56:13.023 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 266.69 shares @ $414.48 (Value: $110,537.00, P&L: $-4,311.07)
2025-11-19 16:56:13.024 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:13.024 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:13.028 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 1079.64 shares @ $102.18 (Value: $110,318.26)
2025-11-19 16:56:13.028 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 1079.64 shares @ $102.18 (Value: $110,318.26)
2025-11-19 16:56:13.032 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.032 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.035 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $110,318.26
2025-11-19 16:56:13.035 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $110,318.26
2025-11-19 16:56:13.037 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:13.037 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:13.038 | INFO     | src.backtesting.engine:run:316 -      Change: $-276.07
2025-11-19 16:56:13.038 | INFO     | src.backtesting.engine:run:316 -      Change: $-276.07
2025-11-19 16:56:13.038 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.038 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.041 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-06-01
2025-11-19 16:56:13.041 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-06-01
2025-11-19 16:56:13.042 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $111,051.27
2025-11-19 16:56:13.042 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $111,051.27
2025-11-19 16:56:13.042 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:13.042 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:13.043 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.043 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.046 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.64 shares @ $102.86 (Value: $111,051.27, P&L: $733.01)
2025-11-19 16:56:13.046 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.64 shares @ $102.86 (Value: $111,051.27, P&L: $733.01)
2025-11-19 16:56:13.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.02555133009176469
2025-11-19 16:56:13.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.02555133009176469
2025-11-19 16:56:13.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.14891267769346506
2025-11-19 16:56:13.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.14891267769346506
2025-11-19 16:56:13.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.24514173582803245
2025-11-19 16:56:13.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.24514173582803245
2025-11-19 16:56:13.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.10150246685748598
2025-11-19 16:56:13.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.10150246685748598
2025-11-19 16:56:13.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-11-19 16:56:13.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-11-19 16:56:13.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0256 (-2.56%) - FAIL
2025-11-19 16:56:13.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0256 (-2.56%) - FAIL
2025-11-19 16:56:13.070 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1489 (-14.89%) - FAIL
2025-11-19 16:56:13.070 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1489 (-14.89%) - FAIL
2025-11-19 16:56:13.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2451 (-24.51%) - FAIL
2025-11-19 16:56:13.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2451 (-24.51%) - FAIL
2025-11-19 16:56:13.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1015 (-10.15%) - FAIL
2025-11-19 16:56:13.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1015 (-10.15%) - FAIL
2025-11-19 16:56:13.073 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.073 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.074 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.074 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.075 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.075 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.076 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.076 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.077 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.077 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.077 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.64 shares @ $102.86 (Value: $111,051.27)
2025-11-19 16:56:13.077 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.64 shares @ $102.86 (Value: $111,051.27)
2025-11-19 16:56:13.079 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-06-01: PV=$111,051.27, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:13.079 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-06-01: PV=$111,051.27, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:13.081 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.081 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.084 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.084 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.086 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.086 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.087 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.64 shares worth $111,051.27
2025-11-19 16:56:13.087 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.64 shares worth $111,051.27
2025-11-19 16:56:13.089 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:13.089 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:13.091 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $102.86 ‚Üí $102.91 (slippage: 0.050%)
2025-11-19 16:56:13.091 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $102.86 ‚Üí $102.91 (slippage: 0.050%)
2025-11-19 16:56:13.092 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.092 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.093 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.10
2025-11-19 16:56:13.093 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.10
2025-11-19 16:56:13.095 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.64
2025-11-19 16:56:13.095 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.64
2025-11-19 16:56:13.095 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.54
2025-11-19 16:56:13.095 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.54
2025-11-19 16:56:13.097 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:13.097 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:13.099 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-55.47
2025-11-19 16:56:13.099 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-55.47
2025-11-19 16:56:13.100 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.54 shares at $102.81 (proceeds: $55.41)
2025-11-19 16:56:13.100 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.54 shares at $102.81 (proceeds: $55.41)
2025-11-19 16:56:13.104 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.104 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.106 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $55.41
2025-11-19 16:56:13.106 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $55.41
2025-11-19 16:56:13.108 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$55.47, Cash end=$55.41
2025-11-19 16:56:13.108 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$55.47, Cash end=$55.41
2025-11-19 16:56:13.108 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.108 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.109 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.109 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.113 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $111,051.18
2025-11-19 16:56:13.113 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $111,051.18
2025-11-19 16:56:13.117 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $55.41
2025-11-19 16:56:13.117 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $55.41
2025-11-19 16:56:13.118 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:13.118 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:13.121 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.121 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.123 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-07-01
2025-11-19 16:56:13.123 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-07-01
2025-11-19 16:56:13.133 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $110,490.05
2025-11-19 16:56:13.133 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $110,490.05
2025-11-19 16:56:13.137 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $55.41
2025-11-19 16:56:13.137 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $55.41
2025-11-19 16:56:13.142 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.142 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.146 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.10 shares @ $102.34 (Value: $110,434.63, P&L: $171.51)
2025-11-19 16:56:13.146 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.10 shares @ $102.34 (Value: $110,434.63, P&L: $171.51)
2025-11-19 16:56:13.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.11428107538606935
2025-11-19 16:56:13.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.11428107538606935
2025-11-19 16:56:13.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.2077905699834126
2025-11-19 16:56:13.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.2077905699834126
2025-11-19 16:56:13.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2733406571254253
2025-11-19 16:56:13.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2733406571254253
2025-11-19 16:56:13.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.11093740078837744
2025-11-19 16:56:13.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.11093740078837744
2025-11-19 16:56:13.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-11-19 16:56:13.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-11-19 16:56:13.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1143 (-11.43%) - FAIL
2025-11-19 16:56:13.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1143 (-11.43%) - FAIL
2025-11-19 16:56:13.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2078 (-20.78%) - FAIL
2025-11-19 16:56:13.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2078 (-20.78%) - FAIL
2025-11-19 16:56:13.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2733 (-27.33%) - FAIL
2025-11-19 16:56:13.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2733 (-27.33%) - FAIL
2025-11-19 16:56:13.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1109 (-11.09%) - FAIL
2025-11-19 16:56:13.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1109 (-11.09%) - FAIL
2025-11-19 16:56:13.176 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.176 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.179 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.179 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.182 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.182 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.184 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.184 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.185 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.185 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.186 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.10 shares @ $102.34 (Value: $110,434.63)
2025-11-19 16:56:13.186 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.10 shares @ $102.34 (Value: $110,434.63)
2025-11-19 16:56:13.186 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-07-01: PV=$110,490.05, Cash=$55.41, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.186 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-07-01: PV=$110,490.05, Cash=$55.41, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.187 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.187 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.187 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.187 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.188 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.188 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.188 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.10 shares worth $110,434.63
2025-11-19 16:56:13.188 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.10 shares worth $110,434.63
2025-11-19 16:56:13.189 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.189 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.191 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $102.34 ‚Üí $102.39 (slippage: 0.050%)
2025-11-19 16:56:13.191 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $102.34 ‚Üí $102.39 (slippage: 0.050%)
2025-11-19 16:56:13.193 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.193 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.196 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.10
2025-11-19 16:56:13.196 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.10
2025-11-19 16:56:13.197 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.10
2025-11-19 16:56:13.197 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.10
2025-11-19 16:56:13.200 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:13.200 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:13.203 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.203 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.204 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.20
2025-11-19 16:56:13.204 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.20
2025-11-19 16:56:13.205 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.205 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.206 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$55.41
2025-11-19 16:56:13.206 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$55.41
2025-11-19 16:56:13.207 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.207 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.208 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.208 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.211 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $110,490.05
2025-11-19 16:56:13.211 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $110,490.05
2025-11-19 16:56:13.216 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $55.41
2025-11-19 16:56:13.216 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $55.41
2025-11-19 16:56:13.219 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.219 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.220 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.220 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.221 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-08-01
2025-11-19 16:56:13.221 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-08-01
2025-11-19 16:56:13.223 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $112,529.55
2025-11-19 16:56:13.223 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $112,529.55
2025-11-19 16:56:13.224 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $55.41
2025-11-19 16:56:13.224 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $55.41
2025-11-19 16:56:13.225 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.225 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.228 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.10 shares @ $104.23 (Value: $112,474.13, P&L: $2,211.00)
2025-11-19 16:56:13.228 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.10 shares @ $104.23 (Value: $112,474.13, P&L: $2,211.00)
2025-11-19 16:56:13.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.237 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.237 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.06325972072286246
2025-11-19 16:56:13.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.06325972072286246
2025-11-19 16:56:13.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.1720971275986276
2025-11-19 16:56:13.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.1720971275986276
2025-11-19 16:56:13.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.23217054062985387
2025-11-19 16:56:13.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.23217054062985387
2025-11-19 16:56:13.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.10501456142609278
2025-11-19 16:56:13.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.10501456142609278
2025-11-19 16:56:13.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-11-19 16:56:13.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-11-19 16:56:13.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0633 (-6.33%) - FAIL
2025-11-19 16:56:13.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0633 (-6.33%) - FAIL
2025-11-19 16:56:13.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1721 (-17.21%) - FAIL
2025-11-19 16:56:13.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1721 (-17.21%) - FAIL
2025-11-19 16:56:13.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2322 (-23.22%) - FAIL
2025-11-19 16:56:13.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2322 (-23.22%) - FAIL
2025-11-19 16:56:13.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1050 (-10.50%) - FAIL
2025-11-19 16:56:13.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1050 (-10.50%) - FAIL
2025-11-19 16:56:13.254 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.254 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.255 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.255 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.255 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.255 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.257 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.257 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.257 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.257 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.257 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.10 shares @ $104.23 (Value: $112,474.13)
2025-11-19 16:56:13.257 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.10 shares @ $104.23 (Value: $112,474.13)
2025-11-19 16:56:13.259 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-08-01: PV=$112,529.55, Cash=$55.41, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.259 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-08-01: PV=$112,529.55, Cash=$55.41, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.261 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.261 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.265 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.265 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.267 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.267 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.269 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.10 shares worth $112,474.13
2025-11-19 16:56:13.269 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.10 shares worth $112,474.13
2025-11-19 16:56:13.272 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.272 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.274 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $104.23 ‚Üí $104.28 (slippage: 0.050%)
2025-11-19 16:56:13.274 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $104.23 ‚Üí $104.28 (slippage: 0.050%)
2025-11-19 16:56:13.275 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.275 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.276 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.09
2025-11-19 16:56:13.276 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.09
2025-11-19 16:56:13.276 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.10
2025-11-19 16:56:13.276 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.10
2025-11-19 16:56:13.278 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:13.278 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:13.279 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.279 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.283 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.82
2025-11-19 16:56:13.283 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.82
2025-11-19 16:56:13.283 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.283 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.284 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$55.41
2025-11-19 16:56:13.284 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$55.41
2025-11-19 16:56:13.285 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.285 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.286 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.286 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.286 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $112,529.55
2025-11-19 16:56:13.286 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $112,529.55
2025-11-19 16:56:13.287 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $55.41
2025-11-19 16:56:13.287 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $55.41
2025-11-19 16:56:13.287 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.287 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.288 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.288 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.290 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-09-01
2025-11-19 16:56:13.290 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-09-01
2025-11-19 16:56:13.290 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $108,040.51
2025-11-19 16:56:13.290 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $108,040.51
2025-11-19 16:56:13.291 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $55.41
2025-11-19 16:56:13.291 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $55.41
2025-11-19 16:56:13.292 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.292 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.292 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.10 shares @ $100.07 (Value: $107,985.09, P&L: $-2,278.04)
2025-11-19 16:56:13.292 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.10 shares @ $100.07 (Value: $107,985.09, P&L: $-2,278.04)
2025-11-19 16:56:13.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.304 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.304 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.307 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.12257630779443829
2025-11-19 16:56:13.307 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.12257630779443829
2025-11-19 16:56:13.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.2519356411790016
2025-11-19 16:56:13.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.2519356411790016
2025-11-19 16:56:13.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.26299929196691474
2025-11-19 16:56:13.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.26299929196691474
2025-11-19 16:56:13.309 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.1368066985991674
2025-11-19 16:56:13.309 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.1368066985991674
2025-11-19 16:56:13.312 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-11-19 16:56:13.312 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-11-19 16:56:13.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1226 (-12.26%) - FAIL
2025-11-19 16:56:13.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1226 (-12.26%) - FAIL
2025-11-19 16:56:13.316 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2519 (-25.19%) - FAIL
2025-11-19 16:56:13.316 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2519 (-25.19%) - FAIL
2025-11-19 16:56:13.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2630 (-26.30%) - FAIL
2025-11-19 16:56:13.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2630 (-26.30%) - FAIL
2025-11-19 16:56:13.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1368 (-13.68%) - FAIL
2025-11-19 16:56:13.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1368 (-13.68%) - FAIL
2025-11-19 16:56:13.318 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.318 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.320 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.320 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.321 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.321 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.322 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.322 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.323 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.323 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.323 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.10 shares @ $100.07 (Value: $107,985.09)
2025-11-19 16:56:13.323 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.10 shares @ $100.07 (Value: $107,985.09)
2025-11-19 16:56:13.324 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-09-01: PV=$108,040.51, Cash=$55.41, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.324 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-09-01: PV=$108,040.51, Cash=$55.41, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.325 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.325 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.325 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.325 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.328 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.328 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.335 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.10 shares worth $107,985.09
2025-11-19 16:56:13.335 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.10 shares worth $107,985.09
2025-11-19 16:56:13.340 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.340 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.347 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $100.07 ‚Üí $100.12 (slippage: 0.050%)
2025-11-19 16:56:13.347 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $100.07 ‚Üí $100.12 (slippage: 0.050%)
2025-11-19 16:56:13.356 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.356 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.358 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.11
2025-11-19 16:56:13.358 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.11
2025-11-19 16:56:13.368 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.10
2025-11-19 16:56:13.368 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.10
2025-11-19 16:56:13.374 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.374 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.378 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.378 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.379 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.42
2025-11-19 16:56:13.379 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.42
2025-11-19 16:56:13.381 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.01 more shares at $100.12 (cost: $1.42)
2025-11-19 16:56:13.381 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.01 more shares at $100.12 (cost: $1.42)
2025-11-19 16:56:13.386 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.386 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.388 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $53.99
2025-11-19 16:56:13.388 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $53.99
2025-11-19 16:56:13.390 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.42, Cash end=$53.99
2025-11-19 16:56:13.390 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.42, Cash end=$53.99
2025-11-19 16:56:13.395 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.395 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.403 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.403 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.406 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $108,040.50
2025-11-19 16:56:13.406 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $108,040.50
2025-11-19 16:56:13.407 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.99
2025-11-19 16:56:13.407 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.99
2025-11-19 16:56:13.408 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.408 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.409 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.409 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.410 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-10-03
2025-11-19 16:56:13.410 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-10-03
2025-11-19 16:56:13.413 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,630.52
2025-11-19 16:56:13.413 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,630.52
2025-11-19 16:56:13.415 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.99
2025-11-19 16:56:13.415 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.99
2025-11-19 16:56:13.416 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.416 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.418 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.11 shares @ $96.91 (Value: $104,576.53, P&L: $-5,688.05)
2025-11-19 16:56:13.418 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.11 shares @ $96.91 (Value: $104,576.53, P&L: $-5,688.05)
2025-11-19 16:56:13.420 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.420 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.421 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.421 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.15574338246993358
2025-11-19 16:56:13.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.15574338246993358
2025-11-19 16:56:13.433 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.26956520254482275
2025-11-19 16:56:13.433 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.26956520254482275
2025-11-19 16:56:13.436 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2956487289244236
2025-11-19 16:56:13.436 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2956487289244236
2025-11-19 16:56:13.437 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.15730431598165762
2025-11-19 16:56:13.437 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.15730431598165762
2025-11-19 16:56:13.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-03 00:00:00:
2025-11-19 16:56:13.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-03 00:00:00:
2025-11-19 16:56:13.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1557 (-15.57%) - FAIL
2025-11-19 16:56:13.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1557 (-15.57%) - FAIL
2025-11-19 16:56:13.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2696 (-26.96%) - FAIL
2025-11-19 16:56:13.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2696 (-26.96%) - FAIL
2025-11-19 16:56:13.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2956 (-29.56%) - FAIL
2025-11-19 16:56:13.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2956 (-29.56%) - FAIL
2025-11-19 16:56:13.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1573 (-15.73%) - FAIL
2025-11-19 16:56:13.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1573 (-15.73%) - FAIL
2025-11-19 16:56:13.443 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.443 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.445 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.445 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.447 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.447 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.449 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.449 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.449 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.449 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.451 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.11 shares @ $96.91 (Value: $104,576.53)
2025-11-19 16:56:13.451 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.11 shares @ $96.91 (Value: $104,576.53)
2025-11-19 16:56:13.453 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-10-03: PV=$104,630.52, Cash=$53.99, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.453 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-10-03: PV=$104,630.52, Cash=$53.99, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.455 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.455 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.456 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.456 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.457 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.457 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.458 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.11 shares worth $104,576.53
2025-11-19 16:56:13.458 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.11 shares worth $104,576.53
2025-11-19 16:56:13.459 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.459 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.460 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $96.91 ‚Üí $96.96 (slippage: 0.050%)
2025-11-19 16:56:13.460 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $96.91 ‚Üí $96.96 (slippage: 0.050%)
2025-11-19 16:56:13.461 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.461 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.465 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.13
2025-11-19 16:56:13.465 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.13
2025-11-19 16:56:13.467 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.11
2025-11-19 16:56:13.467 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.11
2025-11-19 16:56:13.469 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.02
2025-11-19 16:56:13.469 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.02
2025-11-19 16:56:13.472 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.472 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.474 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.70
2025-11-19 16:56:13.474 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.70
2025-11-19 16:56:13.475 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.02 more shares at $96.96 (cost: $1.70)
2025-11-19 16:56:13.475 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.02 more shares at $96.96 (cost: $1.70)
2025-11-19 16:56:13.478 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.478 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.482 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $52.29
2025-11-19 16:56:13.482 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $52.29
2025-11-19 16:56:13.485 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.70, Cash end=$52.29
2025-11-19 16:56:13.485 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.70, Cash end=$52.29
2025-11-19 16:56:13.487 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.487 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.488 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.488 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.488 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,630.52
2025-11-19 16:56:13.488 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,630.52
2025-11-19 16:56:13.489 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.29
2025-11-19 16:56:13.489 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.29
2025-11-19 16:56:13.490 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.490 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.491 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.491 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.492 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-11-01
2025-11-19 16:56:13.492 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-11-01
2025-11-19 16:56:13.493 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $102,418.30
2025-11-19 16:56:13.493 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $102,418.30
2025-11-19 16:56:13.493 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.29
2025-11-19 16:56:13.493 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.29
2025-11-19 16:56:13.494 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.494 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.496 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.13 shares @ $94.86 (Value: $102,366.02, P&L: $-7,900.36)
2025-11-19 16:56:13.496 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.13 shares @ $94.86 (Value: $102,366.02, P&L: $-7,900.36)
2025-11-19 16:56:13.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.509 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.509 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.1641596776987183
2025-11-19 16:56:13.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.1641596776987183
2025-11-19 16:56:13.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.2644272025524067
2025-11-19 16:56:13.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.2644272025524067
2025-11-19 16:56:13.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.32151208297189593
2025-11-19 16:56:13.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.32151208297189593
2025-11-19 16:56:13.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.17073169755663287
2025-11-19 16:56:13.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.17073169755663287
2025-11-19 16:56:13.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-11-19 16:56:13.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-11-19 16:56:13.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1642 (-16.42%) - FAIL
2025-11-19 16:56:13.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1642 (-16.42%) - FAIL
2025-11-19 16:56:13.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2644 (-26.44%) - FAIL
2025-11-19 16:56:13.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2644 (-26.44%) - FAIL
2025-11-19 16:56:13.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.3215 (-32.15%) - FAIL
2025-11-19 16:56:13.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.3215 (-32.15%) - FAIL
2025-11-19 16:56:13.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1707 (-17.07%) - FAIL
2025-11-19 16:56:13.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1707 (-17.07%) - FAIL
2025-11-19 16:56:13.526 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.526 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.527 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.527 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.528 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.528 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.530 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.530 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.533 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.533 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.535 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.13 shares @ $94.86 (Value: $102,366.02)
2025-11-19 16:56:13.535 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.13 shares @ $94.86 (Value: $102,366.02)
2025-11-19 16:56:13.536 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-11-01: PV=$102,418.30, Cash=$52.29, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.536 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-11-01: PV=$102,418.30, Cash=$52.29, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.537 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.537 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.538 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.538 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.540 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.540 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.541 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.13 shares worth $102,366.02
2025-11-19 16:56:13.541 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.13 shares worth $102,366.02
2025-11-19 16:56:13.542 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.542 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.543 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $94.86 ‚Üí $94.91 (slippage: 0.050%)
2025-11-19 16:56:13.543 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $94.86 ‚Üí $94.91 (slippage: 0.050%)
2025-11-19 16:56:13.544 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.544 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.546 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.14
2025-11-19 16:56:13.546 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.14
2025-11-19 16:56:13.547 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.13
2025-11-19 16:56:13.547 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.13
2025-11-19 16:56:13.548 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.548 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.551 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.551 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.552 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.10
2025-11-19 16:56:13.552 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.10
2025-11-19 16:56:13.552 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.01 more shares at $94.91 (cost: $1.10)
2025-11-19 16:56:13.552 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.01 more shares at $94.91 (cost: $1.10)
2025-11-19 16:56:13.553 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.553 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.554 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $51.18
2025-11-19 16:56:13.554 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $51.18
2025-11-19 16:56:13.555 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.10, Cash end=$51.18
2025-11-19 16:56:13.555 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.10, Cash end=$51.18
2025-11-19 16:56:13.555 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.555 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.556 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.556 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.556 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $102,418.30
2025-11-19 16:56:13.556 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $102,418.30
2025-11-19 16:56:13.557 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $51.18
2025-11-19 16:56:13.557 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $51.18
2025-11-19 16:56:13.558 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.558 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.558 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.558 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.559 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-12-01
2025-11-19 16:56:13.559 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-12-01
2025-11-19 16:56:13.563 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,756.44
2025-11-19 16:56:13.563 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,756.44
2025-11-19 16:56:13.565 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $51.18
2025-11-19 16:56:13.565 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $51.18
2025-11-19 16:56:13.567 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.567 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.569 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.14 shares @ $98.88 (Value: $106,705.26, P&L: $-3,562.31)
2025-11-19 16:56:13.569 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.14 shares @ $98.88 (Value: $106,705.26, P&L: $-3,562.31)
2025-11-19 16:56:13.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.574 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.574 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0957158604155105
2025-11-19 16:56:13.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0957158604155105
2025-11-19 16:56:13.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.11295817683837694
2025-11-19 16:56:13.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.11295817683837694
2025-11-19 16:56:13.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.19645044835143521
2025-11-19 16:56:13.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.19645044835143521
2025-11-19 16:56:13.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.13739859004952015
2025-11-19 16:56:13.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.13739859004952015
2025-11-19 16:56:13.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-11-19 16:56:13.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-11-19 16:56:13.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0957 (-9.57%) - FAIL
2025-11-19 16:56:13.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0957 (-9.57%) - FAIL
2025-11-19 16:56:13.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1130 (-11.30%) - FAIL
2025-11-19 16:56:13.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1130 (-11.30%) - FAIL
2025-11-19 16:56:13.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1965 (-19.65%) - FAIL
2025-11-19 16:56:13.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1965 (-19.65%) - FAIL
2025-11-19 16:56:13.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1374 (-13.74%) - FAIL
2025-11-19 16:56:13.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1374 (-13.74%) - FAIL
2025-11-19 16:56:13.589 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.589 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.591 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.591 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.592 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.592 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.593 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.593 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.594 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.594 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.596 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.14 shares @ $98.88 (Value: $106,705.26)
2025-11-19 16:56:13.596 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.14 shares @ $98.88 (Value: $106,705.26)
2025-11-19 16:56:13.598 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-12-01: PV=$106,756.44, Cash=$51.18, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.598 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-12-01: PV=$106,756.44, Cash=$51.18, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.601 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.601 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.603 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.603 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.605 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.605 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.607 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.14 shares worth $106,705.26
2025-11-19 16:56:13.607 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.14 shares worth $106,705.26
2025-11-19 16:56:13.608 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:13.608 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:13.610 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $98.88 ‚Üí $98.93 (slippage: 0.050%)
2025-11-19 16:56:13.610 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $98.88 ‚Üí $98.93 (slippage: 0.050%)
2025-11-19 16:56:13.613 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.613 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.615 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.12
2025-11-19 16:56:13.615 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.12
2025-11-19 16:56:13.616 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.14
2025-11-19 16:56:13.616 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.14
2025-11-19 16:56:13.618 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.02
2025-11-19 16:56:13.618 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.02
2025-11-19 16:56:13.620 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.620 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.622 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.17
2025-11-19 16:56:13.622 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.17
2025-11-19 16:56:13.623 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.02 shares at $98.83 (proceeds: $2.17)
2025-11-19 16:56:13.623 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.02 shares at $98.83 (proceeds: $2.17)
2025-11-19 16:56:13.624 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.624 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.625 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $53.35
2025-11-19 16:56:13.625 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $53.35
2025-11-19 16:56:13.626 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$2.17, Cash end=$53.35
2025-11-19 16:56:13.626 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$2.17, Cash end=$53.35
2025-11-19 16:56:13.627 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.627 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.629 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.629 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.631 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,756.43
2025-11-19 16:56:13.631 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,756.43
2025-11-19 16:56:13.633 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.35
2025-11-19 16:56:13.633 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.35
2025-11-19 16:56:13.635 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.635 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.636 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.636 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.638 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-01-03
2025-11-19 16:56:13.638 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-01-03
2025-11-19 16:56:13.642 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $105,332.00
2025-11-19 16:56:13.642 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $105,332.00
2025-11-19 16:56:13.645 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.35
2025-11-19 16:56:13.645 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.35
2025-11-19 16:56:13.653 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.653 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.655 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.12 shares @ $97.56 (Value: $105,278.65, P&L: $-4,986.67)
2025-11-19 16:56:13.655 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.12 shares @ $97.56 (Value: $105,278.65, P&L: $-4,986.67)
2025-11-19 16:56:13.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.1982061348840225
2025-11-19 16:56:13.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.1982061348840225
2025-11-19 16:56:13.681 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.15836297707351432
2025-11-19 16:56:13.681 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.15836297707351432
2025-11-19 16:56:13.684 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.21760486357127207
2025-11-19 16:56:13.684 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.21760486357127207
2025-11-19 16:56:13.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.1448106943136802
2025-11-19 16:56:13.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.1448106943136802
2025-11-19 16:56:13.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-03 00:00:00:
2025-11-19 16:56:13.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-03 00:00:00:
2025-11-19 16:56:13.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1982 (-19.82%) - FAIL
2025-11-19 16:56:13.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1982 (-19.82%) - FAIL
2025-11-19 16:56:13.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1584 (-15.84%) - FAIL
2025-11-19 16:56:13.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1584 (-15.84%) - FAIL
2025-11-19 16:56:13.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2176 (-21.76%) - FAIL
2025-11-19 16:56:13.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2176 (-21.76%) - FAIL
2025-11-19 16:56:13.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1448 (-14.48%) - FAIL
2025-11-19 16:56:13.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1448 (-14.48%) - FAIL
2025-11-19 16:56:13.688 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.688 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.691 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.691 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.692 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.692 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.692 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.692 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.694 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.694 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.697 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.12 shares @ $97.56 (Value: $105,278.65)
2025-11-19 16:56:13.697 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.12 shares @ $97.56 (Value: $105,278.65)
2025-11-19 16:56:13.699 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-01-03: PV=$105,332.00, Cash=$53.35, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.699 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-01-03: PV=$105,332.00, Cash=$53.35, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.703 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.703 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.705 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.705 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.707 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.707 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.708 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.12 shares worth $105,278.65
2025-11-19 16:56:13.708 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.12 shares worth $105,278.65
2025-11-19 16:56:13.710 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.710 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.712 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $97.56 ‚Üí $97.61 (slippage: 0.050%)
2025-11-19 16:56:13.712 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $97.56 ‚Üí $97.61 (slippage: 0.050%)
2025-11-19 16:56:13.715 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.715 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.715 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.12
2025-11-19 16:56:13.715 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.12
2025-11-19 16:56:13.717 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.12
2025-11-19 16:56:13.717 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.12
2025-11-19 16:56:13.717 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.717 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.718 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.718 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.719 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.71
2025-11-19 16:56:13.719 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.71
2025-11-19 16:56:13.721 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.721 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.722 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$53.35
2025-11-19 16:56:13.722 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$53.35
2025-11-19 16:56:13.722 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.722 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.723 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.723 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.723 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $105,332.00
2025-11-19 16:56:13.723 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $105,332.00
2025-11-19 16:56:13.724 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.35
2025-11-19 16:56:13.724 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.35
2025-11-19 16:56:13.724 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.724 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.725 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.725 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.726 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-02-01
2025-11-19 16:56:13.726 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-02-01
2025-11-19 16:56:13.728 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $108,698.85
2025-11-19 16:56:13.728 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $108,698.85
2025-11-19 16:56:13.731 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.35
2025-11-19 16:56:13.731 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.35
2025-11-19 16:56:13.735 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.735 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.737 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.12 shares @ $100.68 (Value: $108,645.50, P&L: $-1,619.82)
2025-11-19 16:56:13.737 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.12 shares @ $100.68 (Value: $108,645.50, P&L: $-1,619.82)
2025-11-19 16:56:13.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.08692853137471679
2025-11-19 16:56:13.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.08692853137471679
2025-11-19 16:56:13.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.04787651369069801
2025-11-19 16:56:13.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.04787651369069801
2025-11-19 16:56:13.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.14271091725895102
2025-11-19 16:56:13.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.14271091725895102
2025-11-19 16:56:13.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.099463349222218
2025-11-19 16:56:13.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.099463349222218
2025-11-19 16:56:13.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-11-19 16:56:13.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-11-19 16:56:13.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0869 (-8.69%) - FAIL
2025-11-19 16:56:13.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0869 (-8.69%) - FAIL
2025-11-19 16:56:13.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0479 (-4.79%) - FAIL
2025-11-19 16:56:13.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0479 (-4.79%) - FAIL
2025-11-19 16:56:13.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1427 (-14.27%) - FAIL
2025-11-19 16:56:13.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1427 (-14.27%) - FAIL
2025-11-19 16:56:13.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0995 (-9.95%) - FAIL
2025-11-19 16:56:13.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0995 (-9.95%) - FAIL
2025-11-19 16:56:13.757 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.757 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.757 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.757 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.758 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.758 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.758 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.758 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.759 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.759 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.761 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.12 shares @ $100.68 (Value: $108,645.50)
2025-11-19 16:56:13.761 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.12 shares @ $100.68 (Value: $108,645.50)
2025-11-19 16:56:13.766 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-02-01: PV=$108,698.85, Cash=$53.35, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.766 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-02-01: PV=$108,698.85, Cash=$53.35, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.769 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.769 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.773 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.773 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.775 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.775 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.777 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.12 shares worth $108,645.50
2025-11-19 16:56:13.777 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.12 shares worth $108,645.50
2025-11-19 16:56:13.780 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.780 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.784 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $100.68 ‚Üí $100.73 (slippage: 0.050%)
2025-11-19 16:56:13.784 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $100.68 ‚Üí $100.73 (slippage: 0.050%)
2025-11-19 16:56:13.787 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.787 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.788 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.11
2025-11-19 16:56:13.788 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.11
2025-11-19 16:56:13.789 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.12
2025-11-19 16:56:13.789 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.12
2025-11-19 16:56:13.791 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:13.791 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:13.795 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.795 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.799 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.97
2025-11-19 16:56:13.799 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.97
2025-11-19 16:56:13.801 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.801 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.805 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$53.35
2025-11-19 16:56:13.805 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$53.35
2025-11-19 16:56:13.807 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.807 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.809 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.809 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.813 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $108,698.85
2025-11-19 16:56:13.813 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $108,698.85
2025-11-19 16:56:13.815 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.35
2025-11-19 16:56:13.815 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.35
2025-11-19 16:56:13.817 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.817 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.818 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.818 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.820 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-03-01
2025-11-19 16:56:13.820 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-03-01
2025-11-19 16:56:13.823 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,209.72
2025-11-19 16:56:13.823 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,209.72
2025-11-19 16:56:13.824 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.35
2025-11-19 16:56:13.824 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.35
2025-11-19 16:56:13.825 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.825 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.825 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.12 shares @ $96.52 (Value: $104,156.37, P&L: $-6,108.95)
2025-11-19 16:56:13.825 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.12 shares @ $96.52 (Value: $104,156.37, P&L: $-6,108.95)
2025-11-19 16:56:13.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.867 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.867 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.868 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.09593938616215891
2025-11-19 16:56:13.868 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.09593938616215891
2025-11-19 16:56:13.870 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.04780114643060629
2025-11-19 16:56:13.870 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.04780114643060629
2025-11-19 16:56:13.880 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.16434839247610755
2025-11-19 16:56:13.880 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.16434839247610755
2025-11-19 16:56:13.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.12540779168849503
2025-11-19 16:56:13.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.12540779168849503
2025-11-19 16:56:13.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-11-19 16:56:13.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-11-19 16:56:13.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0959 (-9.59%) - FAIL
2025-11-19 16:56:13.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0959 (-9.59%) - FAIL
2025-11-19 16:56:13.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0478 (-4.78%) - FAIL
2025-11-19 16:56:13.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0478 (-4.78%) - FAIL
2025-11-19 16:56:13.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1643 (-16.43%) - FAIL
2025-11-19 16:56:13.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1643 (-16.43%) - FAIL
2025-11-19 16:56:13.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1254 (-12.54%) - FAIL
2025-11-19 16:56:13.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1254 (-12.54%) - FAIL
2025-11-19 16:56:13.901 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.901 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.903 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.903 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.907 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.907 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.911 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.911 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.917 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.917 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.921 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.12 shares @ $96.52 (Value: $104,156.37)
2025-11-19 16:56:13.921 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.12 shares @ $96.52 (Value: $104,156.37)
2025-11-19 16:56:13.926 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-03-01: PV=$104,209.72, Cash=$53.35, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.926 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-03-01: PV=$104,209.72, Cash=$53.35, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.930 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.930 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.936 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.936 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.946 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.946 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.953 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.12 shares worth $104,156.37
2025-11-19 16:56:13.953 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.12 shares worth $104,156.37
2025-11-19 16:56:13.957 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.957 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.961 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $96.52 ‚Üí $96.57 (slippage: 0.050%)
2025-11-19 16:56:13.961 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $96.52 ‚Üí $96.57 (slippage: 0.050%)
2025-11-19 16:56:13.963 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.963 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.966 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.13
2025-11-19 16:56:13.966 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.13
2025-11-19 16:56:13.971 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.12
2025-11-19 16:56:13.971 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.12
2025-11-19 16:56:13.975 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.975 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.979 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.979 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.981 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.27
2025-11-19 16:56:13.981 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.27
2025-11-19 16:56:13.985 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.01 more shares at $96.57 (cost: $1.27)
2025-11-19 16:56:13.985 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.01 more shares at $96.57 (cost: $1.27)
2025-11-19 16:56:13.986 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.986 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.987 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $52.08
2025-11-19 16:56:13.987 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $52.08
2025-11-19 16:56:13.989 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.27, Cash end=$52.08
2025-11-19 16:56:13.989 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.27, Cash end=$52.08
2025-11-19 16:56:13.994 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.994 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.998 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.998 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.002 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,209.72
2025-11-19 16:56:14.002 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,209.72
2025-11-19 16:56:14.006 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.08
2025-11-19 16:56:14.006 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.08
2025-11-19 16:56:14.009 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:14.009 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:14.016 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.016 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.019 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-04-03
2025-11-19 16:56:14.019 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-04-03
2025-11-19 16:56:14.020 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $107,770.85
2025-11-19 16:56:14.020 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $107,770.85
2025-11-19 16:56:14.022 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.08
2025-11-19 16:56:14.022 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.08
2025-11-19 16:56:14.024 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.024 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.025 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.13 shares @ $99.82 (Value: $107,718.77, P&L: $-2,547.89)
2025-11-19 16:56:14.025 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.13 shares @ $99.82 (Value: $107,718.77, P&L: $-2,547.89)
2025-11-19 16:56:14.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.044 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.09009388256503326
2025-11-19 16:56:14.044 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.09009388256503326
2025-11-19 16:56:14.048 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.020516333798042297
2025-11-19 16:56:14.048 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.020516333798042297
2025-11-19 16:56:14.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.12425250101345053
2025-11-19 16:56:14.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.12425250101345053
2025-11-19 16:56:14.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.06797384577980148
2025-11-19 16:56:14.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.06797384577980148
2025-11-19 16:56:14.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-03 00:00:00:
2025-11-19 16:56:14.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-03 00:00:00:
2025-11-19 16:56:14.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0901 (-9.01%) - FAIL
2025-11-19 16:56:14.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0901 (-9.01%) - FAIL
2025-11-19 16:56:14.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0205 (-2.05%) - FAIL
2025-11-19 16:56:14.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0205 (-2.05%) - FAIL
2025-11-19 16:56:14.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1243 (-12.43%) - FAIL
2025-11-19 16:56:14.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1243 (-12.43%) - FAIL
2025-11-19 16:56:14.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0680 (-6.80%) - FAIL
2025-11-19 16:56:14.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0680 (-6.80%) - FAIL
2025-11-19 16:56:14.057 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:14.057 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:14.057 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:14.057 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:14.058 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.058 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.059 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:14.059 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:14.059 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.059 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.063 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.13 shares @ $99.82 (Value: $107,718.77)
2025-11-19 16:56:14.063 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.13 shares @ $99.82 (Value: $107,718.77)
2025-11-19 16:56:14.066 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-04-03: PV=$107,770.85, Cash=$52.08, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:14.066 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-04-03: PV=$107,770.85, Cash=$52.08, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:14.067 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:14.067 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:14.069 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.069 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.073 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:14.073 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:14.073 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.13 shares worth $107,718.77
2025-11-19 16:56:14.073 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.13 shares worth $107,718.77
2025-11-19 16:56:14.075 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:14.075 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:14.077 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $99.82 ‚Üí $99.87 (slippage: 0.050%)
2025-11-19 16:56:14.077 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $99.82 ‚Üí $99.87 (slippage: 0.050%)
2025-11-19 16:56:14.080 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:14.080 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:14.082 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.11
2025-11-19 16:56:14.082 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.11
2025-11-19 16:56:14.083 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.13
2025-11-19 16:56:14.083 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.13
2025-11-19 16:56:14.085 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.02
2025-11-19 16:56:14.085 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.02
2025-11-19 16:56:14.087 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:14.087 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:14.088 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.78
2025-11-19 16:56:14.088 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.78
2025-11-19 16:56:14.090 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.02 shares at $99.77 (proceeds: $1.78)
2025-11-19 16:56:14.090 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.02 shares at $99.77 (proceeds: $1.78)
2025-11-19 16:56:14.091 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.091 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.092 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $53.86
2025-11-19 16:56:14.092 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $53.86
2025-11-19 16:56:14.096 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.78, Cash end=$53.86
2025-11-19 16:56:14.096 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.78, Cash end=$53.86
2025-11-19 16:56:14.100 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.100 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.102 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.102 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.103 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $107,770.85
2025-11-19 16:56:14.103 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $107,770.85
2025-11-19 16:56:14.105 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.86
2025-11-19 16:56:14.105 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.86
2025-11-19 16:56:14.106 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:14.106 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:14.108 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.108 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.110 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-05-01
2025-11-19 16:56:14.110 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-05-01
2025-11-19 16:56:14.113 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,551.45
2025-11-19 16:56:14.113 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,551.45
2025-11-19 16:56:14.114 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.86
2025-11-19 16:56:14.114 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.86
2025-11-19 16:56:14.115 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.115 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.117 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.11 shares @ $98.69 (Value: $106,497.60, P&L: $-3,767.25)
2025-11-19 16:56:14.117 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.11 shares @ $98.69 (Value: $106,497.60, P&L: $-3,767.25)
2025-11-19 16:56:14.120 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.120 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.123 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.123 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.02875105271770584
2025-11-19 16:56:14.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.02875105271770584
2025-11-19 16:56:14.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058459400524006
2025-11-19 16:56:14.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058459400524006
2025-11-19 16:56:14.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.07648590047948844
2025-11-19 16:56:14.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.07648590047948844
2025-11-19 16:56:14.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04638124960328838
2025-11-19 16:56:14.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04638124960328838
2025-11-19 16:56:14.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-11-19 16:56:14.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-11-19 16:56:14.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0288 (-2.88%) - FAIL
2025-11-19 16:56:14.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0288 (-2.88%) - FAIL
2025-11-19 16:56:14.138 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0585 (5.85%) - PASS
2025-11-19 16:56:14.138 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0585 (5.85%) - PASS
2025-11-19 16:56:14.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0765 (-7.65%) - FAIL
2025-11-19 16:56:14.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0765 (-7.65%) - FAIL
2025-11-19 16:56:14.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0464 (-4.64%) - FAIL
2025-11-19 16:56:14.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0464 (-4.64%) - FAIL
2025-11-19 16:56:14.142 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.142 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.144 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.144 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.146 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.146 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.147 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.147 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.149 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 1079.11 shares @ $98.69 (Value: $106,497.60, P&L: $-3,767.25)
2025-11-19 16:56:14.149 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 1079.11 shares @ $98.69 (Value: $106,497.60, P&L: $-3,767.25)
2025-11-19 16:56:14.150 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 1079.11 @ $98.64 (P&L: $-3,820.49)
2025-11-19 16:56:14.150 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 1079.11 @ $98.64 (P&L: $-3,820.49)
2025-11-19 16:56:14.152 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $106,391.76
2025-11-19 16:56:14.152 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $106,391.76
2025-11-19 16:56:14.153 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-05-01: PV=$106,551.45, Cash=$106,391.76, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:14.153 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-05-01: PV=$106,551.45, Cash=$106,391.76, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:14.154 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.154 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.155 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.155 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.157 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY EFA [relative_top]
2025-11-19 16:56:14.157 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY EFA [relative_top]
2025-11-19 16:56:14.158 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $73.51 ‚Üí $73.55 (slippage: 0.050%)
2025-11-19 16:56:14.158 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $73.51 ‚Üí $73.55 (slippage: 0.050%)
2025-11-19 16:56:14.158 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:14.158 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:14.163 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1448.76
2025-11-19 16:56:14.163 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1448.76
2025-11-19 16:56:14.165 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $106.55
2025-11-19 16:56:14.165 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $106.55
2025-11-19 16:56:14.167 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $106,658.00
2025-11-19 16:56:14.167 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $106,658.00
2025-11-19 16:56:14.169 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: EFA x 1445.14 @ $73.55
2025-11-19 16:56:14.169 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: EFA x 1445.14 @ $73.55
2025-11-19 16:56:14.170 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:14.170 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:14.171 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:14.171 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:14.174 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$106,391.76, Cash end=$-0.00
2025-11-19 16:56:14.174 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$106,391.76, Cash end=$-0.00
2025-11-19 16:56:14.176 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:14.176 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:14.181 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 1079.11 shares @ $98.69 (Value: $106,497.60, P&L: $-3,767.25)
2025-11-19 16:56:14.181 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 1079.11 shares @ $98.69 (Value: $106,497.60, P&L: $-3,767.25)
2025-11-19 16:56:14.186 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:14.186 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:14.189 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      EFA: 1445.14 shares @ $73.55 (Value: $106,285.47)
2025-11-19 16:56:14.189 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      EFA: 1445.14 shares @ $73.55 (Value: $106,285.47)
2025-11-19 16:56:14.192 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.192 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.195 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,285.47
2025-11-19 16:56:14.195 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,285.47
2025-11-19 16:56:14.197 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:14.197 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:14.200 | INFO     | src.backtesting.engine:run:316 -      Change: $-265.98
2025-11-19 16:56:14.200 | INFO     | src.backtesting.engine:run:316 -      Change: $-265.98
2025-11-19 16:56:14.202 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.202 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.204 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-06-01
2025-11-19 16:56:14.204 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-06-01
2025-11-19 16:56:14.207 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $103,645.55
2025-11-19 16:56:14.207 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $103,645.55
2025-11-19 16:56:14.212 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:14.212 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:14.215 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.215 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.218 | INFO     | src.backtesting.engine:run:273 -      EFA: 1445.14 shares @ $71.72 (Value: $103,645.55, P&L: $-2,639.92)
2025-11-19 16:56:14.218 | INFO     | src.backtesting.engine:run:273 -      EFA: 1445.14 shares @ $71.72 (Value: $103,645.55, P&L: $-2,639.92)
2025-11-19 16:56:14.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.225 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.225 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.227 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.227 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.233 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.233 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02152910858044077
2025-11-19 16:56:14.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02152910858044077
2025-11-19 16:56:14.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.024425068308742803
2025-11-19 16:56:14.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.024425068308742803
2025-11-19 16:56:14.238 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.08841464614745986
2025-11-19 16:56:14.238 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.08841464614745986
2025-11-19 16:56:14.240 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.046970141616071936
2025-11-19 16:56:14.240 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.046970141616071936
2025-11-19 16:56:14.241 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-11-19 16:56:14.241 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-11-19 16:56:14.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0215 (2.15%) - PASS
2025-11-19 16:56:14.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0215 (2.15%) - PASS
2025-11-19 16:56:14.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0244 (2.44%) - PASS
2025-11-19 16:56:14.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0244 (2.44%) - PASS
2025-11-19 16:56:14.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0884 (-8.84%) - FAIL
2025-11-19 16:56:14.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0884 (-8.84%) - FAIL
2025-11-19 16:56:14.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0470 (-4.70%) - FAIL
2025-11-19 16:56:14.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0470 (-4.70%) - FAIL
2025-11-19 16:56:14.255 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.255 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.256 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.256 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.258 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.258 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.261 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.261 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.263 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1445.14 shares @ $71.72 (Value: $103,645.55)
2025-11-19 16:56:14.263 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1445.14 shares @ $71.72 (Value: $103,645.55)
2025-11-19 16:56:14.280 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-06-01: PV=$103,645.55, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:14.280 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-06-01: PV=$103,645.55, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:14.317 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.317 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.345 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.345 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.356 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-11-19 16:56:14.356 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-11-19 16:56:14.358 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1445.14 shares worth $103,645.55
2025-11-19 16:56:14.358 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1445.14 shares worth $103,645.55
2025-11-19 16:56:14.359 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE EFA [relative_top]
2025-11-19 16:56:14.359 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE EFA [relative_top]
2025-11-19 16:56:14.362 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $71.72 ‚Üí $71.76 (slippage: 0.050%)
2025-11-19 16:56:14.362 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $71.72 ‚Üí $71.76 (slippage: 0.050%)
2025-11-19 16:56:14.366 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:14.366 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:14.368 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1444.42
2025-11-19 16:56:14.368 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1444.42
2025-11-19 16:56:14.369 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1445.14
2025-11-19 16:56:14.369 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1445.14
2025-11-19 16:56:14.372 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.72
2025-11-19 16:56:14.372 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.72
2025-11-19 16:56:14.376 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.05
2025-11-19 16:56:14.376 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.05
2025-11-19 16:56:14.379 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-51.77
2025-11-19 16:56:14.379 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-51.77
2025-11-19 16:56:14.381 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 0.72 shares at $71.68 (proceeds: $51.72)
2025-11-19 16:56:14.381 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 0.72 shares at $71.68 (proceeds: $51.72)
2025-11-19 16:56:14.383 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.383 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.385 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $51.72
2025-11-19 16:56:14.385 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $51.72
2025-11-19 16:56:14.387 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$51.77, Cash end=$51.72
2025-11-19 16:56:14.387 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$51.77, Cash end=$51.72
2025-11-19 16:56:14.389 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.389 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.391 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.391 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.392 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $103,645.47
2025-11-19 16:56:14.392 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $103,645.47
2025-11-19 16:56:14.394 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $51.72
2025-11-19 16:56:14.394 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $51.72
2025-11-19 16:56:14.396 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:14.396 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:14.397 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.397 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.400 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-07-03
2025-11-19 16:56:14.400 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-07-03
2025-11-19 16:56:14.402 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,656.56
2025-11-19 16:56:14.402 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,656.56
2025-11-19 16:56:14.404 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $51.72
2025-11-19 16:56:14.404 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $51.72
2025-11-19 16:56:14.406 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.406 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.409 | INFO     | src.backtesting.engine:run:273 -      EFA: 1444.42 shares @ $72.42 (Value: $104,604.84, P&L: $-1,627.51)
2025-11-19 16:56:14.409 | INFO     | src.backtesting.engine:run:273 -      EFA: 1444.42 shares @ $72.42 (Value: $104,604.84, P&L: $-1,627.51)
2025-11-19 16:56:14.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.416 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.416 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.419 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.419 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.429 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.17638173239210575
2025-11-19 16:56:14.429 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.17638173239210575
2025-11-19 16:56:14.432 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.15890536443848835
2025-11-19 16:56:14.432 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.15890536443848835
2025-11-19 16:56:14.435 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.0024937276290828425
2025-11-19 16:56:14.435 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.0024937276290828425
2025-11-19 16:56:14.436 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04032256551746283
2025-11-19 16:56:14.436 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04032256551746283
2025-11-19 16:56:14.438 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-03 00:00:00:
2025-11-19 16:56:14.438 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-03 00:00:00:
2025-11-19 16:56:14.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1764 (17.64%) - PASS
2025-11-19 16:56:14.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1764 (17.64%) - PASS
2025-11-19 16:56:14.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1589 (15.89%) - PASS
2025-11-19 16:56:14.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1589 (15.89%) - PASS
2025-11-19 16:56:14.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0025 (-0.25%) - FAIL
2025-11-19 16:56:14.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0025 (-0.25%) - FAIL
2025-11-19 16:56:14.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0403 (-4.03%) - FAIL
2025-11-19 16:56:14.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0403 (-4.03%) - FAIL
2025-11-19 16:56:14.445 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:14.445 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:14.447 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.447 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.449 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:14.449 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:14.451 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.451 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.452 | INFO     | src.backtesting.engine:_execute_signals:668 -      EFA: 1444.42 shares @ $72.42 (Value: $104,604.84, P&L: $-1,627.51)
2025-11-19 16:56:14.452 | INFO     | src.backtesting.engine:_execute_signals:668 -      EFA: 1444.42 shares @ $72.42 (Value: $104,604.84, P&L: $-1,627.51)
2025-11-19 16:56:14.452 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EFA x 1444.42 @ $72.38 (P&L: $-1,679.81)
2025-11-19 16:56:14.452 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EFA x 1444.42 @ $72.38 (P&L: $-1,679.81)
2025-11-19 16:56:14.454 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $104,499.71
2025-11-19 16:56:14.454 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $104,499.71
2025-11-19 16:56:14.455 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-07-03: PV=$104,656.56, Cash=$104,499.71, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:14.455 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-07-03: PV=$104,656.56, Cash=$104,499.71, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:14.456 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:14.456 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:14.456 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:14.456 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:14.457 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:14.457 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:14.458 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $443.79 ‚Üí $444.01 (slippage: 0.050%)
2025-11-19 16:56:14.458 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $443.79 ‚Üí $444.01 (slippage: 0.050%)
2025-11-19 16:56:14.459 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:14.459 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:14.461 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 235.71
2025-11-19 16:56:14.461 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 235.71
2025-11-19 16:56:14.463 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $104.66
2025-11-19 16:56:14.463 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $104.66
2025-11-19 16:56:14.464 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $104,761.22
2025-11-19 16:56:14.464 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $104,761.22
2025-11-19 16:56:14.466 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 235.12 @ $444.01
2025-11-19 16:56:14.466 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 235.12 @ $444.01
2025-11-19 16:56:14.467 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:14.467 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:14.470 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:14.470 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:14.473 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$104,499.71, Cash end=$0.00
2025-11-19 16:56:14.473 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$104,499.71, Cash end=$0.00
2025-11-19 16:56:14.475 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:14.475 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:14.478 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EFA: 1444.42 shares @ $72.42 (Value: $104,604.84, P&L: $-1,627.51)
2025-11-19 16:56:14.478 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EFA: 1444.42 shares @ $72.42 (Value: $104,604.84, P&L: $-1,627.51)
2025-11-19 16:56:14.481 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:14.481 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:14.483 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 235.12 shares @ $444.01 (Value: $104,395.31)
2025-11-19 16:56:14.483 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 235.12 shares @ $444.01 (Value: $104,395.31)
2025-11-19 16:56:14.484 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.484 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.486 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,395.31
2025-11-19 16:56:14.486 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,395.31
2025-11-19 16:56:14.488 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:14.488 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:14.489 | INFO     | src.backtesting.engine:run:316 -      Change: $-261.25
2025-11-19 16:56:14.489 | INFO     | src.backtesting.engine:run:316 -      Change: $-261.25
2025-11-19 16:56:14.493 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.493 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.496 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-08-01
2025-11-19 16:56:14.496 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-08-01
2025-11-19 16:56:14.499 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $107,326.79
2025-11-19 16:56:14.499 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $107,326.79
2025-11-19 16:56:14.503 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:14.503 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:14.507 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.507 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.512 | INFO     | src.backtesting.engine:run:273 -      SPY: 235.12 shares @ $456.48 (Value: $107,326.79, P&L: $2,931.48)
2025-11-19 16:56:14.512 | INFO     | src.backtesting.engine:run:273 -      SPY: 235.12 shares @ $456.48 (Value: $107,326.79, P&L: $2,931.48)
2025-11-19 16:56:14.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10798811089231419
2025-11-19 16:56:14.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10798811089231419
2025-11-19 16:56:14.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11883745303603921
2025-11-19 16:56:14.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11883745303603921
2025-11-19 16:56:14.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.036536514462533365
2025-11-19 16:56:14.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.036536514462533365
2025-11-19 16:56:14.543 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.07014512417761509
2025-11-19 16:56:14.543 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.07014512417761509
2025-11-19 16:56:14.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-11-19 16:56:14.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-11-19 16:56:14.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1080 (10.80%) - PASS
2025-11-19 16:56:14.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1080 (10.80%) - PASS
2025-11-19 16:56:14.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1188 (11.88%) - PASS
2025-11-19 16:56:14.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1188 (11.88%) - PASS
2025-11-19 16:56:14.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0365 (3.65%) - PASS
2025-11-19 16:56:14.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0365 (3.65%) - PASS
2025-11-19 16:56:14.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0701 (-7.01%) - FAIL
2025-11-19 16:56:14.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0701 (-7.01%) - FAIL
2025-11-19 16:56:14.559 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.559 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.563 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.563 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.566 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.566 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.567 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.567 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.569 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 235.12 shares @ $456.48 (Value: $107,326.79, P&L: $2,931.48)
2025-11-19 16:56:14.569 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 235.12 shares @ $456.48 (Value: $107,326.79, P&L: $2,931.48)
2025-11-19 16:56:14.570 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 235.12 @ $456.25 (P&L: $2,877.82)
2025-11-19 16:56:14.570 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 235.12 @ $456.25 (P&L: $2,877.82)
2025-11-19 16:56:14.571 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $107,165.86
2025-11-19 16:56:14.571 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $107,165.86
2025-11-19 16:56:14.571 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-08-01: PV=$107,326.79, Cash=$107,165.86, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:14.571 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-08-01: PV=$107,326.79, Cash=$107,165.86, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:14.572 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.572 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.573 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.573 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.574 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY EFA [relative_top]
2025-11-19 16:56:14.574 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY EFA [relative_top]
2025-11-19 16:56:14.576 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $73.53 ‚Üí $73.57 (slippage: 0.050%)
2025-11-19 16:56:14.576 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $73.53 ‚Üí $73.57 (slippage: 0.050%)
2025-11-19 16:56:14.578 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:14.578 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:14.580 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1458.90
2025-11-19 16:56:14.580 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1458.90
2025-11-19 16:56:14.582 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $107.33
2025-11-19 16:56:14.582 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $107.33
2025-11-19 16:56:14.586 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $107,434.12
2025-11-19 16:56:14.586 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $107,434.12
2025-11-19 16:56:14.588 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: EFA x 1455.26 @ $73.57
2025-11-19 16:56:14.588 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: EFA x 1455.26 @ $73.57
2025-11-19 16:56:14.589 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:14.589 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:14.591 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:14.591 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:14.596 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$107,165.86, Cash end=$0.00
2025-11-19 16:56:14.596 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$107,165.86, Cash end=$0.00
2025-11-19 16:56:14.599 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:14.599 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:14.602 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 235.12 shares @ $456.48 (Value: $107,326.79, P&L: $2,931.48)
2025-11-19 16:56:14.602 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 235.12 shares @ $456.48 (Value: $107,326.79, P&L: $2,931.48)
2025-11-19 16:56:14.603 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:14.603 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:14.605 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      EFA: 1455.26 shares @ $73.57 (Value: $107,058.80)
2025-11-19 16:56:14.605 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      EFA: 1455.26 shares @ $73.57 (Value: $107,058.80)
2025-11-19 16:56:14.607 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.607 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.609 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $107,058.80
2025-11-19 16:56:14.609 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $107,058.80
2025-11-19 16:56:14.612 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:14.612 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:14.615 | INFO     | src.backtesting.engine:run:316 -      Change: $-268.00
2025-11-19 16:56:14.615 | INFO     | src.backtesting.engine:run:316 -      Change: $-268.00
2025-11-19 16:56:14.616 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.616 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.619 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-09-01
2025-11-19 16:56:14.619 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-09-01
2025-11-19 16:56:14.621 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,036.56
2025-11-19 16:56:14.621 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,036.56
2025-11-19 16:56:14.623 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:14.623 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:14.625 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.625 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.627 | INFO     | src.backtesting.engine:run:273 -      EFA: 1455.26 shares @ $71.49 (Value: $104,036.56, P&L: $-3,022.24)
2025-11-19 16:56:14.627 | INFO     | src.backtesting.engine:run:273 -      EFA: 1455.26 shares @ $71.49 (Value: $104,036.56, P&L: $-3,022.24)
2025-11-19 16:56:14.631 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.631 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.643 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.14173290855738596
2025-11-19 16:56:14.643 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.14173290855738596
2025-11-19 16:56:14.644 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.1586709397045989
2025-11-19 16:56:14.644 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.1586709397045989
2025-11-19 16:56:14.645 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.0050722992998100125
2025-11-19 16:56:14.645 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.0050722992998100125
2025-11-19 16:56:14.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04637074979047762
2025-11-19 16:56:14.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04637074979047762
2025-11-19 16:56:14.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-11-19 16:56:14.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-11-19 16:56:14.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1417 (14.17%) - PASS
2025-11-19 16:56:14.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1417 (14.17%) - PASS
2025-11-19 16:56:14.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1587 (15.87%) - PASS
2025-11-19 16:56:14.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1587 (15.87%) - PASS
2025-11-19 16:56:14.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0051 (0.51%) - PASS
2025-11-19 16:56:14.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0051 (0.51%) - PASS
2025-11-19 16:56:14.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0464 (-4.64%) - FAIL
2025-11-19 16:56:14.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0464 (-4.64%) - FAIL
2025-11-19 16:56:14.656 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.656 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.658 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.658 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.659 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.659 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.661 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.661 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.664 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1455.26 shares @ $71.49 (Value: $104,036.56)
2025-11-19 16:56:14.664 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1455.26 shares @ $71.49 (Value: $104,036.56)
2025-11-19 16:56:14.665 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-09-01: PV=$104,036.56, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:14.665 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-09-01: PV=$104,036.56, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:14.667 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.667 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.669 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.669 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.670 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-11-19 16:56:14.670 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-11-19 16:56:14.673 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1455.26 shares worth $104,036.56
2025-11-19 16:56:14.673 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1455.26 shares worth $104,036.56
2025-11-19 16:56:14.675 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE EFA [relative_top]
2025-11-19 16:56:14.675 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE EFA [relative_top]
2025-11-19 16:56:14.677 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $71.49 ‚Üí $71.53 (slippage: 0.050%)
2025-11-19 16:56:14.677 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $71.49 ‚Üí $71.53 (slippage: 0.050%)
2025-11-19 16:56:14.680 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:14.680 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:14.683 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1454.53
2025-11-19 16:56:14.683 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1454.53
2025-11-19 16:56:14.686 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1455.26
2025-11-19 16:56:14.686 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1455.26
2025-11-19 16:56:14.687 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.73
2025-11-19 16:56:14.687 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.73
2025-11-19 16:56:14.690 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.05
2025-11-19 16:56:14.690 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.05
2025-11-19 16:56:14.691 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-51.97
2025-11-19 16:56:14.691 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-51.97
2025-11-19 16:56:14.693 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 0.73 shares at $71.45 (proceeds: $51.91)
2025-11-19 16:56:14.693 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 0.73 shares at $71.45 (proceeds: $51.91)
2025-11-19 16:56:14.695 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.695 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.696 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $51.91
2025-11-19 16:56:14.696 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $51.91
2025-11-19 16:56:14.698 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$51.97, Cash end=$51.91
2025-11-19 16:56:14.698 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$51.97, Cash end=$51.91
2025-11-19 16:56:14.699 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.699 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.701 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.701 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.701 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,036.48
2025-11-19 16:56:14.701 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,036.48
2025-11-19 16:56:14.704 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $51.91
2025-11-19 16:56:14.704 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $51.91
2025-11-19 16:56:14.707 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:14.707 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:14.709 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.709 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.711 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-10-02
2025-11-19 16:56:14.711 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-10-02
2025-11-19 16:56:14.713 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $98,829.26
2025-11-19 16:56:14.713 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $98,829.26
2025-11-19 16:56:14.714 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $51.91
2025-11-19 16:56:14.714 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $51.91
2025-11-19 16:56:14.716 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.716 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.717 | INFO     | src.backtesting.engine:run:273 -      EFA: 1454.53 shares @ $67.91 (Value: $98,777.35, P&L: $-8,227.94)
2025-11-19 16:56:14.717 | INFO     | src.backtesting.engine:run:273 -      EFA: 1454.53 shares @ $67.91 (Value: $98,777.35, P&L: $-8,227.94)
2025-11-19 16:56:14.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.725 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.725 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1778438972794445
2025-11-19 16:56:14.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1778438972794445
2025-11-19 16:56:14.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.20814810119555238
2025-11-19 16:56:14.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.20814810119555238
2025-11-19 16:56:14.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.07854898976983349
2025-11-19 16:56:14.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.07854898976983349
2025-11-19 16:56:14.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.035621854119055385
2025-11-19 16:56:14.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.035621854119055385
2025-11-19 16:56:14.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-02 00:00:00:
2025-11-19 16:56:14.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-02 00:00:00:
2025-11-19 16:56:14.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1778 (17.78%) - PASS
2025-11-19 16:56:14.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1778 (17.78%) - PASS
2025-11-19 16:56:14.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2081 (20.81%) - PASS
2025-11-19 16:56:14.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2081 (20.81%) - PASS
2025-11-19 16:56:14.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0785 (7.85%) - PASS
2025-11-19 16:56:14.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0785 (7.85%) - PASS
2025-11-19 16:56:14.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0356 (-3.56%) - FAIL
2025-11-19 16:56:14.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0356 (-3.56%) - FAIL
2025-11-19 16:56:14.755 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.755 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.757 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.757 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.758 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.758 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.759 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.759 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.761 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1454.53 shares @ $67.91 (Value: $98,777.35)
2025-11-19 16:56:14.761 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1454.53 shares @ $67.91 (Value: $98,777.35)
2025-11-19 16:56:14.763 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-10-02: PV=$98,829.26, Cash=$51.91, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:14.763 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-10-02: PV=$98,829.26, Cash=$51.91, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:14.765 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.765 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.766 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.766 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.769 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.769 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.774 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1454.53 shares worth $98,777.35
2025-11-19 16:56:14.774 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1454.53 shares worth $98,777.35
2025-11-19 16:56:14.776 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD EFA [relative_top]
2025-11-19 16:56:14.776 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD EFA [relative_top]
2025-11-19 16:56:14.779 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $67.91 ‚Üí $67.94 (slippage: 0.050%)
2025-11-19 16:56:14.779 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $67.91 ‚Üí $67.94 (slippage: 0.050%)
2025-11-19 16:56:14.782 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:14.782 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:14.784 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1454.57
2025-11-19 16:56:14.784 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1454.57
2025-11-19 16:56:14.785 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1454.53
2025-11-19 16:56:14.785 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1454.53
2025-11-19 16:56:14.787 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.04
2025-11-19 16:56:14.787 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.04
2025-11-19 16:56:14.789 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:14.789 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:14.790 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $2.53
2025-11-19 16:56:14.790 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $2.53
2025-11-19 16:56:14.793 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 0.04 more shares at $67.94 (cost: $2.53)
2025-11-19 16:56:14.793 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 0.04 more shares at $67.94 (cost: $2.53)
2025-11-19 16:56:14.797 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.797 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.798 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $49.39
2025-11-19 16:56:14.798 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $49.39
2025-11-19 16:56:14.802 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$2.53, Cash end=$49.39
2025-11-19 16:56:14.802 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$2.53, Cash end=$49.39
2025-11-19 16:56:14.805 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.805 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.807 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.807 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.808 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $98,829.26
2025-11-19 16:56:14.808 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $98,829.26
2025-11-19 16:56:14.809 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $49.39
2025-11-19 16:56:14.809 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $49.39
2025-11-19 16:56:14.812 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:14.812 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:14.813 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.813 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.816 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-11-01
2025-11-19 16:56:14.816 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-11-01
2025-11-19 16:56:14.818 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $98,305.61
2025-11-19 16:56:14.818 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $98,305.61
2025-11-19 16:56:14.820 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $49.39
2025-11-19 16:56:14.820 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $49.39
2025-11-19 16:56:14.822 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.822 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.824 | INFO     | src.backtesting.engine:run:273 -      EFA: 1454.57 shares @ $67.55 (Value: $98,256.23, P&L: $-8,751.80)
2025-11-19 16:56:14.824 | INFO     | src.backtesting.engine:run:273 -      EFA: 1454.57 shares @ $67.55 (Value: $98,256.23, P&L: $-8,751.80)
2025-11-19 16:56:14.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.844 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0943787395807727
2025-11-19 16:56:14.844 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0943787395807727
2025-11-19 16:56:14.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.13893106537976752
2025-11-19 16:56:14.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.13893106537976752
2025-11-19 16:56:14.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.0833577772241254
2025-11-19 16:56:14.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.0833577772241254
2025-11-19 16:56:14.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.019494188033459703
2025-11-19 16:56:14.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.019494188033459703
2025-11-19 16:56:14.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-11-19 16:56:14.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-11-19 16:56:14.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0944 (9.44%) - PASS
2025-11-19 16:56:14.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0944 (9.44%) - PASS
2025-11-19 16:56:14.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1389 (13.89%) - PASS
2025-11-19 16:56:14.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1389 (13.89%) - PASS
2025-11-19 16:56:14.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0834 (8.34%) - PASS
2025-11-19 16:56:14.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0834 (8.34%) - PASS
2025-11-19 16:56:14.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0195 (-1.95%) - FAIL
2025-11-19 16:56:14.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0195 (-1.95%) - FAIL
2025-11-19 16:56:14.865 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.865 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.867 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.867 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.870 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.870 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.871 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.871 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.873 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1454.57 shares @ $67.55 (Value: $98,256.23)
2025-11-19 16:56:14.873 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1454.57 shares @ $67.55 (Value: $98,256.23)
2025-11-19 16:56:14.874 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-11-01: PV=$98,305.61, Cash=$49.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:14.874 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-11-01: PV=$98,305.61, Cash=$49.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:14.879 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.879 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.881 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.881 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.885 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.885 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.886 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1454.57 shares worth $98,256.23
2025-11-19 16:56:14.886 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1454.57 shares worth $98,256.23
2025-11-19 16:56:14.890 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD EFA [relative_top]
2025-11-19 16:56:14.890 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD EFA [relative_top]
2025-11-19 16:56:14.891 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $67.55 ‚Üí $67.58 (slippage: 0.050%)
2025-11-19 16:56:14.891 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $67.55 ‚Üí $67.58 (slippage: 0.050%)
2025-11-19 16:56:14.895 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.80
2025-11-19 16:56:14.895 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.80
2025-11-19 16:56:14.897 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1454.57
2025-11-19 16:56:14.897 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1454.57
2025-11-19 16:56:14.898 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1454.57
2025-11-19 16:56:14.898 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1454.57
2025-11-19 16:56:14.900 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:14.900 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:14.902 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:14.902 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:14.904 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.26
2025-11-19 16:56:14.904 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.26
2025-11-19 16:56:14.906 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:14.906 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:14.908 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$49.39
2025-11-19 16:56:14.908 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$49.39
2025-11-19 16:56:14.913 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.913 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.915 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.915 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.916 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $98,305.61
2025-11-19 16:56:14.916 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $98,305.61
2025-11-19 16:56:14.918 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $49.39
2025-11-19 16:56:14.918 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $49.39
2025-11-19 16:56:14.919 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:14.919 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:14.921 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.921 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.926 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-12-01
2025-11-19 16:56:14.926 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-12-01
2025-11-19 16:56:14.929 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,494.84
2025-11-19 16:56:14.929 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,494.84
2025-11-19 16:56:14.931 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $49.39
2025-11-19 16:56:14.931 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $49.39
2025-11-19 16:56:14.933 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.933 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.935 | INFO     | src.backtesting.engine:run:273 -      EFA: 1454.57 shares @ $73.18 (Value: $106,445.46, P&L: $-562.57)
2025-11-19 16:56:14.935 | INFO     | src.backtesting.engine:run:273 -      EFA: 1454.57 shares @ $73.18 (Value: $106,445.46, P&L: $-562.57)
2025-11-19 16:56:14.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.958 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.12612837115268394
2025-11-19 16:56:14.958 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.12612837115268394
2025-11-19 16:56:14.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09028601475887665
2025-11-19 16:56:14.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09028601475887665
2025-11-19 16:56:14.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.005313741954458884
2025-11-19 16:56:14.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.005313741954458884
2025-11-19 16:56:14.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.014853994006240878
2025-11-19 16:56:14.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.014853994006240878
2025-11-19 16:56:14.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-11-19 16:56:14.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-11-19 16:56:14.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1261 (12.61%) - PASS
2025-11-19 16:56:14.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1261 (12.61%) - PASS
2025-11-19 16:56:14.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0903 (9.03%) - PASS
2025-11-19 16:56:14.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0903 (9.03%) - PASS
2025-11-19 16:56:14.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0053 (0.53%) - PASS
2025-11-19 16:56:14.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0053 (0.53%) - PASS
2025-11-19 16:56:14.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0149 (-1.49%) - FAIL
2025-11-19 16:56:14.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0149 (-1.49%) - FAIL
2025-11-19 16:56:14.982 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:14.982 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:14.984 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.984 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.986 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:14.986 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:14.988 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.988 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.990 | INFO     | src.backtesting.engine:_execute_signals:668 -      EFA: 1454.57 shares @ $73.18 (Value: $106,445.46, P&L: $-562.57)
2025-11-19 16:56:14.990 | INFO     | src.backtesting.engine:_execute_signals:668 -      EFA: 1454.57 shares @ $73.18 (Value: $106,445.46, P&L: $-562.57)
2025-11-19 16:56:14.991 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EFA x 1454.57 @ $73.14 (P&L: $-615.80)
2025-11-19 16:56:14.991 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EFA x 1454.57 @ $73.14 (P&L: $-615.80)
2025-11-19 16:56:14.994 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $106,335.23
2025-11-19 16:56:14.994 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $106,335.23
2025-11-19 16:56:14.997 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-12-01: PV=$106,494.84, Cash=$106,335.23, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:14.997 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-12-01: PV=$106,494.84, Cash=$106,335.23, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:14.999 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:14.999 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:15.000 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:15.000 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:15.003 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:15.003 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:15.005 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $459.10 ‚Üí $459.33 (slippage: 0.050%)
2025-11-19 16:56:15.005 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $459.10 ‚Üí $459.33 (slippage: 0.050%)
2025-11-19 16:56:15.011 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.79
2025-11-19 16:56:15.011 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.79
2025-11-19 16:56:15.015 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 231.85
2025-11-19 16:56:15.015 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 231.85
2025-11-19 16:56:15.017 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $106.49
2025-11-19 16:56:15.017 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $106.49
2025-11-19 16:56:15.018 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $106,601.34
2025-11-19 16:56:15.018 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $106,601.34
2025-11-19 16:56:15.021 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 231.27 @ $459.33
2025-11-19 16:56:15.021 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 231.27 @ $459.33
2025-11-19 16:56:15.021 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:15.021 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:15.024 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:15.024 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:15.026 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$106,335.23, Cash end=$-0.00
2025-11-19 16:56:15.026 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$106,335.23, Cash end=$-0.00
2025-11-19 16:56:15.029 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:15.029 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:15.031 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EFA: 1454.57 shares @ $73.18 (Value: $106,445.46, P&L: $-562.57)
2025-11-19 16:56:15.031 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EFA: 1454.57 shares @ $73.18 (Value: $106,445.46, P&L: $-562.57)
2025-11-19 16:56:15.033 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:15.033 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:15.034 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 231.27 shares @ $459.33 (Value: $106,229.00)
2025-11-19 16:56:15.034 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 231.27 shares @ $459.33 (Value: $106,229.00)
2025-11-19 16:56:15.035 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:15.035 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:15.037 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,229.00
2025-11-19 16:56:15.037 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,229.00
2025-11-19 16:56:15.038 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:15.038 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:15.045 | INFO     | src.backtesting.engine:run:316 -      Change: $-265.84
2025-11-19 16:56:15.045 | INFO     | src.backtesting.engine:run:316 -      Change: $-265.84
2025-11-19 16:56:15.046 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:15.046 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:15.048 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 231.27 @ $475.07 (P&L: $3,640.83)
2025-11-19 16:56:15.048 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 231.27 @ $475.07 (P&L: $3,640.83)
2025-11-19 16:56:15.055 | INFO     | src.backtesting.engine:_generate_results:1200 - üìä Performance metrics calculated from 2016-01-04 to 2023-12-29
2025-11-19 16:56:15.055 | INFO     | src.backtesting.engine:_generate_results:1200 - üìä Performance metrics calculated from 2016-01-04 to 2023-12-29
2025-11-19 16:56:15.065 | INFO     | src.backtesting.engine:_generate_results:1263 - üìä Benchmark data aligned and indexed to performance period:
2025-11-19 16:56:15.065 | INFO     | src.backtesting.engine:_generate_results:1263 - üìä Benchmark data aligned and indexed to performance period:
2025-11-19 16:56:15.067 | INFO     | src.backtesting.engine:_generate_results:1264 -    Strategy start value: $100,000.00
2025-11-19 16:56:15.067 | INFO     | src.backtesting.engine:_generate_results:1264 -    Strategy start value: $100,000.00
2025-11-19 16:56:15.068 | INFO     | src.backtesting.engine:_generate_results:1265 -    Benchmark start price: $201.02
2025-11-19 16:56:15.068 | INFO     | src.backtesting.engine:_generate_results:1265 -    Benchmark start price: $201.02
2025-11-19 16:56:15.071 | INFO     | src.backtesting.engine:_generate_results:1269 -    Benchmark includes transaction costs: NO (passive buy-and-hold)
2025-11-19 16:56:15.071 | INFO     | src.backtesting.engine:_generate_results:1269 -    Benchmark includes transaction costs: NO (passive buy-and-hold)
2025-11-19 16:56:15.073 | INFO     | src.backtesting.engine:_generate_results:1270 -    Strategy returns: 2011 periods (2016-01-05 to 2023-12-29)
2025-11-19 16:56:15.073 | INFO     | src.backtesting.engine:_generate_results:1270 -    Strategy returns: 2011 periods (2016-01-05 to 2023-12-29)
2025-11-19 16:56:15.075 | INFO     | src.backtesting.engine:_generate_results:1271 -    Benchmark returns: 2011 periods (2016-01-05 to 2023-12-29)
2025-11-19 16:56:15.075 | INFO     | src.backtesting.engine:_generate_results:1271 -    Benchmark returns: 2011 periods (2016-01-05 to 2023-12-29)
2025-11-19 16:56:15.078 | INFO     | src.backtesting.engine:_generate_results:1272 -    Both strategy and benchmark start with same notional value: $100,000.00
2025-11-19 16:56:15.078 | INFO     | src.backtesting.engine:_generate_results:1272 -    Both strategy and benchmark start with same notional value: $100,000.00
2025-11-19 16:56:15.230 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:569 - Creating positions DataFrame from 2264 snapshots
2025-11-19 16:56:15.230 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:569 - Creating positions DataFrame from 2264 snapshots
2025-11-19 16:56:15.277 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:574 - Initial DataFrame shape after conversion: (2264, 15)
2025-11-19 16:56:15.277 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:574 - Initial DataFrame shape after conversion: (2264, 15)
2025-11-19 16:56:15.335 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:575 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'EEM_quantity', 'EEM_price', 'EEM_value', 'EFA_quantity', 'EFA_price', 'EFA_value']
2025-11-19 16:56:15.335 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:575 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'EEM_quantity', 'EEM_price', 'EEM_value', 'EFA_quantity', 'EFA_price', 'EFA_value']
2025-11-19 16:56:15.360 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:586 - Filtered position history from 2264 to 2012 records (performance period)
2025-11-19 16:56:15.360 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:586 - Filtered position history from 2264 to 2012 records (performance period)
2025-11-19 16:56:15.717 | INFO     | src.backtesting.engine:_generate_results:1294 - ============================================================
2025-11-19 16:56:15.717 | INFO     | src.backtesting.engine:_generate_results:1294 - ============================================================
2025-11-19 16:56:15.719 | INFO     | src.backtesting.engine:_generate_results:1295 - POSITION DATA SUMMARY
2025-11-19 16:56:15.719 | INFO     | src.backtesting.engine:_generate_results:1295 - POSITION DATA SUMMARY
2025-11-19 16:56:15.720 | INFO     | src.backtesting.engine:_generate_results:1296 - ============================================================
2025-11-19 16:56:15.720 | INFO     | src.backtesting.engine:_generate_results:1296 - ============================================================
2025-11-19 16:56:15.721 | INFO     | src.backtesting.engine:_generate_results:1297 - Total timesteps in backtest: 2012
2025-11-19 16:56:15.721 | INFO     | src.backtesting.engine:_generate_results:1297 - Total timesteps in backtest: 2012
2025-11-19 16:56:15.722 | INFO     | src.backtesting.engine:_generate_results:1298 - Position history snapshots recorded: 2264
2025-11-19 16:56:15.722 | INFO     | src.backtesting.engine:_generate_results:1298 - Position history snapshots recorded: 2264
2025-11-19 16:56:15.723 | INFO     | src.backtesting.engine:_generate_results:1299 - Positions DataFrame shape: (2012, 22)
2025-11-19 16:56:15.723 | INFO     | src.backtesting.engine:_generate_results:1299 - Positions DataFrame shape: (2012, 22)
2025-11-19 16:56:15.725 | INFO     | src.backtesting.engine:_generate_results:1302 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'EEM_value', 'EEM_quantity', 'EEM_price', 'EEM_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct']
2025-11-19 16:56:15.725 | INFO     | src.backtesting.engine:_generate_results:1302 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'EEM_value', 'EEM_quantity', 'EEM_price', 'EEM_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct']
2025-11-19 16:56:15.726 | INFO     | src.backtesting.engine:_generate_results:1303 - First 3 rows of positions data:
2025-11-19 16:56:15.726 | INFO     | src.backtesting.engine:_generate_results:1303 - First 3 rows of positions data:
2025-11-19 16:56:15.749 | INFO     | src.backtesting.engine:_generate_results:1304 - 
            portfolio_value          cash      cash_pct  portfolio_quantity  portfolio_price  ...  EEM_pct  EFA_value  EFA_quantity  EFA_price  EFA_pct
timestamp                                                                                     ...                                                      
2016-01-04    100000.000000  1.000000e+05  1.000000e+02                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2016-01-05     99896.410356 -1.455192e-11 -1.456701e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2016-01-06    100275.579911 -1.455192e-11 -1.451192e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN

[3 rows x 22 columns]
2025-11-19 16:56:15.749 | INFO     | src.backtesting.engine:_generate_results:1304 - 
            portfolio_value          cash      cash_pct  portfolio_quantity  portfolio_price  ...  EEM_pct  EFA_value  EFA_quantity  EFA_price  EFA_pct
timestamp                                                                                     ...                                                      
2016-01-04    100000.000000  1.000000e+05  1.000000e+02                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2016-01-05     99896.410356 -1.455192e-11 -1.456701e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2016-01-06    100275.579911 -1.455192e-11 -1.451192e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN

[3 rows x 22 columns]
2025-11-19 16:56:15.753 | INFO     | src.backtesting.engine:_generate_results:1305 - Last 3 rows of positions data:
2025-11-19 16:56:15.753 | INFO     | src.backtesting.engine:_generate_results:1305 - Last 3 rows of positions data:
2025-11-19 16:56:15.766 | INFO     | src.backtesting.engine:_generate_results:1306 - 
            portfolio_value          cash      cash_pct  portfolio_quantity  portfolio_price  ...  EEM_pct  EFA_value  EFA_quantity  EFA_price  EFA_pct
timestamp                                                                                     ...                                                      
2023-12-27    110202.315166 -1.455192e-11 -1.320473e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2023-12-28    110243.942013 -1.455192e-11 -1.319974e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2023-12-29    109924.788733 -1.455192e-11 -1.323807e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN

[3 rows x 22 columns]
2025-11-19 16:56:15.766 | INFO     | src.backtesting.engine:_generate_results:1306 - 
            portfolio_value          cash      cash_pct  portfolio_quantity  portfolio_price  ...  EEM_pct  EFA_value  EFA_quantity  EFA_price  EFA_pct
timestamp                                                                                     ...                                                      
2023-12-27    110202.315166 -1.455192e-11 -1.320473e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2023-12-28    110243.942013 -1.455192e-11 -1.319974e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2023-12-29    109924.788733 -1.455192e-11 -1.323807e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN

[3 rows x 22 columns]
2025-11-19 16:56:15.768 | INFO     | src.backtesting.engine:_generate_results:1314 - ============================================================
2025-11-19 16:56:15.768 | INFO     | src.backtesting.engine:_generate_results:1314 - ============================================================
2025-11-19 16:56:15.769 | INFO     | src.backtesting.engine:run:336 - Backtest complete. Final value: $109,924.79 (9.92% return)
2025-11-19 16:56:15.769 | INFO     | src.backtesting.engine:run:336 - Backtest complete. Final value: $109,924.79 (9.92% return)
2025-11-19 16:56:15.771 | INFO     | src.backtesting.engine:run:340 - Detailed backtest log saved to: logs\backtest_DualMomentumStrategy_20251119_165559.log
2025-11-19 16:56:15.771 | INFO     | src.backtesting.engine:run:340 - Detailed backtest log saved to: logs\backtest_DualMomentumStrategy_20251119_165559.log
2025-11-19 16:56:15.776 | ERROR    | src.agents.strategy_comparison_agent:_run_parallel:253 - [16/16] ‚úó dual_momentum_classic: Error - unsupported format string passed to NoneType.__format__
2025-11-19 16:56:15.776 | ERROR    | src.agents.strategy_comparison_agent:_run_parallel:253 - [16/16] ‚úó dual_momentum_classic: Error - unsupported format string passed to NoneType.__format__

2025-10-31 10:28:16.349 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102816.log
2025-10-31 10:28:16.349 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:16.350 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:16.352 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:16.352 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:16.353 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:16.354 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:16.355 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:16.356 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:16.356 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:16.357 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:16.357 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:16.358 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:16.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.361 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.362 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.362 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:16.363 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:16.363 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:16.364 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:16.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:16.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:16.366 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:16.366 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.367 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.367 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.368 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:16.368 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.369 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.369 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.370 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:16.371 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:16.371 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:16.372 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:16.372 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:16.373 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:16.373 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.374 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.374 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:16.375 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.375 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:16.376 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.376 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:16.377 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.377 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:16.378 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.379 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:16.380 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:16.380 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.381 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.381 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:16.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.385 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.386 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:16.386 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:16.387 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:16.387 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:16.388 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:16.388 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:16.389 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:16.389 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.390 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.390 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.391 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.391 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:16.392 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:16.393 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:16.393 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.394 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.394 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.395 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.395 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:16.396 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:16.396 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:16.397 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:16.398 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:16.398 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:16.399 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.399 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.400 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:16.400 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.401 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:16.401 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.402 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:16.402 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.403 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:16.403 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.404 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:16.404 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.405 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:16.406 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:16.407 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:16.407 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.408 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:16.409 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.411 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.412 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.412 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:16.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:16.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:16.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:16.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:16.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:16.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:16.416 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.416 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.417 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.418 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.418 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:16.419 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:16.419 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:16.420 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.420 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.421 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.421 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.422 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:16.422 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:16.423 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:16.482 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:16.484 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:16.485 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:16.486 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.486 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.487 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:16.487 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.488 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:16.488 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.489 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:16.489 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.490 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:16.490 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.491 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:16.491 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.493 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:16.493 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:16.494 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.494 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.495 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:16.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:16.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:16.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:16.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:16.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:16.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:16.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:16.503 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.504 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.504 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.505 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.505 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:16.506 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:16.506 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:16.507 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.508 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.508 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.509 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.509 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:16.510 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:16.510 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:16.511 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:16.511 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:16.512 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:16.512 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.513 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.514 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:16.514 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.515 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:16.515 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.516 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:16.516 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.517 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:16.517 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.518 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:16.518 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.519 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:16.520 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:16.520 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.521 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.522 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:16.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:16.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:16.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:16.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:16.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:16.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:16.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:16.530 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.530 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.531 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.531 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.532 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:16.532 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:16.533 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.534 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.534 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:16.535 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:16.535 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:16.536 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:16.536 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:16.537 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:16.537 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:16.538 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:16.538 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:16.539 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:16.539 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:16.540 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:16.541 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:16.541 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:16.542 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.542 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.543 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:16.543 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:16.544 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:16.544 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.545 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:16.546 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:16.546 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:16.547 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.548 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:16.549 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:16.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:16.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:16.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:16.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:16.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:16.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:16.556 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.556 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.557 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.558 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.558 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:16.559 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:16.559 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:16.560 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:16.560 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.561 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.561 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.562 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:16.562 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:16.563 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:16.564 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:16.564 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:16.565 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:16.565 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.566 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.566 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:16.567 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.567 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:16.568 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.568 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:16.569 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.569 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:16.570 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.570 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:16.571 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.572 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:16.573 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:16.573 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:16.574 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.574 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:16.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:16.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:16.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:16.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:16.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:16.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:16.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:16.583 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.583 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.584 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.584 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.585 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:16.585 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:16.586 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:16.586 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.587 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.587 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.588 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.589 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:16.589 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:16.590 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:16.590 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:16.591 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:16.591 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:16.592 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.592 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.593 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:16.593 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.594 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:16.596 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.597 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:16.597 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.598 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:16.599 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.599 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:16.600 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.601 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:16.601 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:16.602 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.602 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.603 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:16.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:16.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:16.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:16.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:16.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:16.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:16.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:16.611 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.612 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.612 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.613 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.614 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:16.614 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:16.615 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:16.615 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.616 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.616 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.617 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.617 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:16.618 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:16.618 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:16.619 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:16.620 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:16.620 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:16.621 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.621 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.622 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:16.622 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.623 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:16.623 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.624 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:16.624 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.625 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:16.625 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.626 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:16.626 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.628 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:16.628 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:16.629 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.629 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.630 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:16.632 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.632 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.633 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.634 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.634 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:16.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:16.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:16.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:16.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:16.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:16.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:16.638 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.639 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.639 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.640 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.640 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:16.641 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:16.641 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.642 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.642 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:16.643 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:16.644 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:16.644 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:16.645 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:16.645 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:16.646 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:16.646 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:16.647 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:16.647 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:16.648 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:16.648 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:16.649 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:16.649 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:16.650 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.650 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.651 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:16.652 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:16.652 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:16.653 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.654 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:16.654 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:16.655 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:16.655 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.656 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:16.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.661 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:16.661 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:16.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:16.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:16.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:16.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:16.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:16.664 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.665 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.665 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.666 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.666 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:16.667 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:16.668 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:16.668 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:16.669 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.669 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.670 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.670 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:16.671 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:16.671 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:16.672 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:16.672 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:16.673 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:16.674 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.674 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.675 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:16.675 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.676 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:16.676 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.677 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:16.677 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.678 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:16.678 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.679 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:16.679 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.680 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:16.681 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:16.682 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.682 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.683 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:16.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:16.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:16.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:16.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:16.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:16.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:16.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:16.691 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.692 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.692 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.693 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.693 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:16.694 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:16.694 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:16.695 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.695 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.696 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.696 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.697 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:16.698 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:16.698 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:16.699 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:16.699 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:16.700 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:16.700 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.701 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.701 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:16.702 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.702 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:16.703 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.703 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:16.704 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.704 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:16.705 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.705 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:16.706 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.707 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:16.708 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:16.708 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.709 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.709 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:16.711 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.712 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.713 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.713 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:16.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:16.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:16.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:16.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:16.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:16.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:16.718 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.718 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.719 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.719 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.720 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:16.720 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:16.721 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:16.722 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.722 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.723 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.723 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.724 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:16.724 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:16.725 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:16.725 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:16.726 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:16.727 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:16.727 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.728 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.728 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:16.729 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.729 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:16.730 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.730 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:16.731 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.731 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:16.732 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.732 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:16.733 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.734 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:16.735 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:16.735 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.736 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.736 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:16.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.739 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.739 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.740 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:16.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:16.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:16.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:16.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:16.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:16.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:16.744 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.745 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.745 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.746 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.746 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:16.747 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:16.748 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:16.748 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.749 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.749 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.750 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.750 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:16.751 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:16.751 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:16.752 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:16.752 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:16.753 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:16.754 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.754 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.755 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:16.755 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.756 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:16.756 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.757 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:16.757 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.758 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:16.758 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.759 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:16.759 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.761 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:16.761 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:16.762 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.762 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.763 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:16.765 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.765 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:16.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:16.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:16.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:16.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:16.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:16.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:16.771 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.772 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.772 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.773 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.773 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:16.774 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:16.774 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.775 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.775 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:16.776 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:16.777 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:16.777 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:16.778 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:16.778 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:16.779 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:16.779 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:16.780 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:16.780 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:16.781 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:16.781 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:16.782 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:16.782 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:16.783 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.783 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.784 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:16.784 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:16.785 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:16.786 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.787 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:16.787 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:16.788 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:16.788 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.789 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:16.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:16.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:16.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:16.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:16.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:16.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:16.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:16.797 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.798 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.798 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.799 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.799 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:16.800 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:16.800 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:16.801 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:16.801 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.802 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.803 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.803 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:16.804 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:16.804 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:16.805 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:16.805 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:16.806 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:16.806 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.807 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.807 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:16.808 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.809 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:16.809 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.810 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:16.810 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.811 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:16.811 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.812 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:16.812 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.813 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:16.814 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:16.814 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.815 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.815 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:16.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.818 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.820 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:16.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:16.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:16.822 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:16.822 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:16.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:16.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:16.824 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.824 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.825 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.825 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.826 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:16.826 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:16.827 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:16.828 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.828 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.829 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.829 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.830 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:16.830 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:16.831 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:16.831 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:16.832 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:16.833 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:16.833 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.834 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.834 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:16.835 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.835 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:16.836 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.836 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:16.837 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.837 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:16.838 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.838 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:16.839 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.840 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:16.841 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:16.841 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.842 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.842 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:16.844 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.845 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:16.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:16.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:16.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:16.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:16.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:16.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:16.851 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.851 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.852 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.852 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.853 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:16.853 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:16.854 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:16.854 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.855 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.855 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.856 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.857 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:16.857 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:16.858 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:16.858 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:16.859 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:16.859 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:16.860 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.860 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.861 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:16.862 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.862 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:16.863 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.863 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:16.864 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.864 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:16.865 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.865 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:16.866 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.867 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:16.868 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:16.868 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.869 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.869 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:16.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:16.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:16.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:16.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:16.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:16.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:16.877 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:16.877 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.878 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.878 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.879 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.880 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:16.880 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:16.881 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:16.881 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.882 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.882 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.883 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.883 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:16.884 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:16.884 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:16.885 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:16.886 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:16.886 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:16.887 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.887 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.888 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:16.888 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.889 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:16.889 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.890 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:16.890 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.891 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:16.891 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.892 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:16.892 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.894 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:16.894 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:16.895 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:16.895 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.896 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:16.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:16.901 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:16.901 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:16.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:16.903 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:16.903 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:16.904 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:16.904 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.905 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.905 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.906 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.906 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:16.907 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:16.907 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:16.908 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.908 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.909 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.910 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.910 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:16.911 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:16.911 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:16.912 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:16.912 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:16.913 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:16.913 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.914 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.915 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:16.915 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.916 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:16.916 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.917 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:16.917 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.918 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:16.918 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.919 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:16.919 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.920 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:16.921 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:16.921 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:16.922 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.922 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:16.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.925 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.927 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:16.928 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:16.928 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:16.929 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:16.929 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:16.930 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:16.930 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:16.931 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.931 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.932 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.932 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.933 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:16.934 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:16.934 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.935 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.935 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:16.936 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:16.936 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:16.937 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:16.937 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:16.938 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:16.938 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:16.939 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:16.939 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:16.940 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:16.941 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:16.941 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:16.942 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:16.942 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:16.943 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.943 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.944 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:16.944 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:16.945 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:16.945 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.946 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:16.947 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:16.948 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:16.948 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.949 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:16.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.952 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:16.954 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:16.954 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:16.955 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:16.955 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:16.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:16.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:16.957 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.958 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.958 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.959 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.959 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:16.960 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:16.960 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:16.961 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:16.961 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.962 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.963 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.963 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:16.964 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:16.964 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:16.965 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:16.965 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:16.966 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:16.966 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.967 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.967 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:16.968 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.968 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:16.969 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.969 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:16.970 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.971 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:16.971 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.972 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:16.972 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.973 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:16.974 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:16.974 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.975 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.975 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:16.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.978 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.979 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.979 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.980 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:16.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:16.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:16.982 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:16.982 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:16.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:16.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:16.984 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.984 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.985 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.985 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.986 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:16.987 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:16.987 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:16.988 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.988 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.989 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.989 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.990 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:16.990 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:16.991 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:16.992 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:16.992 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:16.993 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:16.993 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.994 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.994 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:16.995 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.995 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:16.996 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.996 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:16.997 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.997 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:16.998 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.998 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:16.999 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.000 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:17.001 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:17.001 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.002 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.002 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:17.004 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.005 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.006 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.006 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:17.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:17.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:17.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:17.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:17.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:17.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:17.011 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.011 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.012 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.012 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.013 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:17.013 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:17.014 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:17.014 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.015 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.015 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.016 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.017 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:17.017 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:17.018 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:17.018 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:17.019 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:17.019 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:17.020 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.020 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.021 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:17.021 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.022 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:17.023 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.023 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:17.024 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.024 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:17.025 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.025 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:17.026 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.027 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:17.027 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:17.028 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.028 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.029 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:17.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:17.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:17.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:17.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:17.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:17.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:17.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:17.037 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.038 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.038 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.039 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.040 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:17.040 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:17.041 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:17.041 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.042 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.042 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.043 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.043 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:17.044 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:17.045 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:17.045 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:17.046 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:17.046 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:17.047 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.047 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.048 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:17.048 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.049 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:17.049 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.050 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:17.050 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.051 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:17.051 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.052 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:17.052 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.054 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:17.054 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:17.055 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.055 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.056 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:17.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:17.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:17.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:17.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:17.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:17.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:17.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:17.064 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.065 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.065 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.066 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.067 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:17.067 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.068 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.068 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.069 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:17.069 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:17.070 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:17.070 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:17.071 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:17.071 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:17.072 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:17.073 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:17.073 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:17.074 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:17.074 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:17.075 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.075 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:17.076 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:17.076 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.077 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.077 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:17.078 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:17.078 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:17.079 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.080 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:17.081 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:17.081 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:17.082 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.082 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:17.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.085 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:17.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:17.088 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:17.088 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:17.089 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:17.090 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:17.090 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:17.091 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.091 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.092 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.092 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.093 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:17.093 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:17.094 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.094 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.095 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:17.095 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:17.096 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:17.097 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:17.097 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:17.098 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:17.098 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:17.099 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:17.099 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:17.100 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:17.100 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:17.101 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:17.101 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.102 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.102 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:17.103 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:17.103 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:17.104 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.105 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:17.106 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:17.106 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:17.107 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.107 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:17.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:17.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:17.113 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:17.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:17.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:17.115 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:17.115 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:17.116 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.116 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.117 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.117 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.118 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:17.118 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:17.119 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:17.120 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.120 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.121 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.121 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.122 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:17.122 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:17.123 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:17.123 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:17.124 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:17.124 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:17.125 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.126 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.126 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:17.127 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.127 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:17.128 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.128 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:17.129 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.129 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:17.130 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.130 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:17.131 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.132 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:17.133 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:17.133 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.134 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.134 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:17.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.138 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:17.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:17.140 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:17.140 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:17.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:17.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:17.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:17.142 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.143 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.143 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.144 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.145 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:17.145 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:17.146 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:17.146 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.147 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.147 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.148 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.148 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:17.149 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:17.150 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:17.150 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:17.151 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:17.151 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:17.152 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.152 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.153 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:17.153 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.154 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:17.154 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.155 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:17.155 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.156 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:17.156 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.157 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:17.157 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.159 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:17.159 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:17.160 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.160 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.161 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:17.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:17.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:17.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:17.167 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:17.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:17.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:17.169 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:17.169 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.170 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.170 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.171 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.171 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:17.172 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:17.172 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:17.173 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.173 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.174 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.175 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.175 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:17.176 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:17.176 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:17.177 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:17.177 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:17.178 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:17.178 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.179 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.179 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:17.180 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.180 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:17.181 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.182 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:17.182 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.183 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:17.183 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.184 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:17.184 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.185 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:17.186 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:17.186 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.187 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.187 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:17.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:17.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:17.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:17.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:17.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:17.195 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:17.195 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:17.196 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.196 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.197 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.197 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.198 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:17.199 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.199 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.200 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.200 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:17.201 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:17.201 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:17.202 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:17.202 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:17.203 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:17.203 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:17.204 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:17.205 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:17.205 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:17.206 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:17.206 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.207 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:17.207 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:17.208 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.208 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.209 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:17.209 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:17.210 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:17.210 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.212 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:17.212 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:17.213 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:17.213 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.214 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:17.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.217 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.218 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.218 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:17.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:17.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:17.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:17.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:17.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:17.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:17.222 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.223 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.223 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.224 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.224 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:17.225 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:17.225 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:17.226 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.226 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.227 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.227 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.228 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:17.229 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:17.229 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:17.230 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:17.230 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:17.231 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:17.231 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.232 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.232 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:17.233 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.233 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:17.234 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.234 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:17.235 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.235 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:17.236 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.236 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:17.237 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.238 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:17.239 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:17.239 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.240 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.240 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:17.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:17.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:17.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:17.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:17.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:17.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:17.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:17.249 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.249 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.250 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.250 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.251 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:17.251 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:17.252 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:17.252 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.253 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.254 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.254 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.255 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:17.255 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:17.256 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:17.256 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:17.257 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:17.257 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:17.258 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.258 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.259 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:17.260 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.260 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:17.261 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.261 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:17.262 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.262 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:17.263 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.263 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:17.264 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.265 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:17.267 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:17.268 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:17.277 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:17.279 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:17.280 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:17.281 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:17.371 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:17.372 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:17.373 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:17.373 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:17.374 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:17.374 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:17.375 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:17.375 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:17.386 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:17.387 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:17.398 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:17.399 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:17.400 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:17.400 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102816.log
2025-10-31 10:28:17.401 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:17.401 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:17.409 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102817.log
2025-10-31 10:28:17.410 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:17.410 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:17.412 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:17.413 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:17.414 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:17.415 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:17.415 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:17.416 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:17.417 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:17.418 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:17.418 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:17.419 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:17.420 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.421 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.422 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:17.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:17.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:17.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:17.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:17.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:17.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:17.427 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.428 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.428 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.429 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:17.429 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.430 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.430 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.431 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:17.432 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:17.432 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:17.433 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:17.433 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:17.434 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:17.434 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.435 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.435 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:17.436 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.437 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:17.437 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.438 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:17.438 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.439 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:17.439 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.440 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:17.441 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:17.441 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.442 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.442 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:17.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:17.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:17.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:17.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:17.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:17.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:17.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:17.451 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.451 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.452 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.453 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.453 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:17.454 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:17.454 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:17.455 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.455 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.456 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.457 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.457 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:17.458 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:17.458 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:17.459 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:17.459 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:17.460 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:17.460 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.461 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.462 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:17.462 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.463 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:17.463 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.464 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:17.464 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.465 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:17.465 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.466 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:17.466 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.468 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:17.468 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:17.469 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.469 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.470 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:17.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.473 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.474 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.474 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:17.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:17.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:17.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:17.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:17.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:17.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:17.478 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.479 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.479 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.480 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.480 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:17.481 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:17.482 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:17.482 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.483 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.483 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.484 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.484 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:17.485 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:17.485 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:17.486 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:17.486 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:17.487 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:17.488 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.488 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.489 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:17.489 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.490 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:17.490 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.491 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:17.491 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.492 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:17.492 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.493 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:17.494 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.495 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:17.495 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:17.496 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.496 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.497 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:17.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:17.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:17.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:17.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:17.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:17.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:17.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:17.506 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.506 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.507 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.507 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.508 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:17.508 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:17.509 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:17.509 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.510 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.511 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.511 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.512 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:17.512 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:17.513 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:17.513 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:17.514 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:17.515 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:17.515 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.516 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.516 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:17.517 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.517 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:17.518 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.518 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:17.519 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.519 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:17.520 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.520 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:17.521 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.522 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:17.523 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:17.523 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.524 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.524 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:17.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:17.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:17.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:17.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:17.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:17.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:17.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:17.533 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.534 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.534 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.535 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.535 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:17.536 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.536 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.537 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.538 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:17.538 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:17.539 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:17.539 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:17.540 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:17.540 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:17.541 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:17.541 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:17.542 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:17.542 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:17.543 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:17.544 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.544 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:17.545 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:17.545 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.546 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.546 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:17.547 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:17.547 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:17.548 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.549 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:17.550 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:17.550 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:17.551 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.551 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:17.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:17.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:17.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:17.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:17.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:17.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:17.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:17.560 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.560 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.561 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.561 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.562 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:17.563 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:17.563 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:17.564 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.564 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.565 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.566 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.567 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:17.567 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:17.568 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:17.568 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:17.569 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:17.570 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:17.570 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.571 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.571 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:17.572 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.572 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:17.573 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.573 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:17.574 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.574 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:17.575 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.575 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:17.576 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.577 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:17.578 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:17.578 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.579 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.579 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:17.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:17.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:17.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:17.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:17.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:17.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:17.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:17.588 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.589 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.589 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.590 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.590 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:17.591 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:17.591 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:17.592 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.593 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.593 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.594 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.594 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:17.595 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:17.595 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:17.596 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:17.596 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:17.597 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:17.598 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.598 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.599 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:17.599 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.600 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:17.600 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.601 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:17.601 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.602 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:17.602 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.603 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:17.603 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.605 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:17.605 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:17.606 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.606 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.607 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:17.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:17.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:17.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:17.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:17.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:17.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:17.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:17.615 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.616 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.616 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.617 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.618 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:17.618 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:17.619 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:17.619 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.620 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.620 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.621 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.622 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:17.622 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:17.623 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:17.623 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:17.624 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:17.624 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:17.625 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.625 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.626 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:17.627 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.627 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:17.628 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.628 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:17.629 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.629 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:17.630 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.630 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:17.631 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.632 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:17.633 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:17.633 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.634 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.634 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:17.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:17.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:17.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:17.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:17.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:17.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:17.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:17.643 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.643 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.644 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.644 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.645 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:17.645 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.646 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.646 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.647 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:17.648 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:17.648 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:17.649 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:17.649 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:17.650 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:17.650 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:17.651 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:17.651 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:17.652 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:17.653 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:17.653 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.654 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:17.654 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:17.655 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.655 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.656 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:17.656 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:17.657 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:17.657 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.659 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:17.659 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:17.660 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:17.660 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.661 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:17.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:17.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:17.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:17.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:17.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:17.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:17.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:17.669 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.670 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.670 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.671 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.671 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:17.672 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:17.673 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:17.673 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.674 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.674 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.675 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.675 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:17.676 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:17.677 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:17.677 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:17.678 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:17.678 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:17.679 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.679 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.680 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:17.680 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.681 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:17.681 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.682 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:17.683 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.683 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:17.684 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.684 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:17.685 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.686 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:17.686 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:17.687 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.687 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.688 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:17.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:17.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:17.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:17.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:17.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:17.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:17.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:17.697 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.697 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.698 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.698 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.699 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:17.699 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:17.700 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:17.701 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.701 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.702 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.702 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.703 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:17.703 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:17.704 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:17.705 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:17.705 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:17.706 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:17.706 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.707 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.707 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:17.708 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.709 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:17.709 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.710 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:17.710 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.711 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:17.711 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.712 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:17.712 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.714 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:17.714 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:17.715 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.715 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.716 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:17.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:17.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:17.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:17.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:17.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:17.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:17.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:17.724 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.725 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.726 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.726 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.727 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:17.727 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:17.728 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:17.728 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.729 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.730 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.730 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.731 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:17.731 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:17.732 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:17.732 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:17.733 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:17.734 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:17.734 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.735 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.735 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:17.736 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.736 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:17.737 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.737 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:17.738 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.739 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:17.739 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.740 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:17.740 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.741 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:17.742 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:17.742 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.743 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.744 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:17.745 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.747 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:17.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:17.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:17.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:17.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:17.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:17.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:17.752 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.753 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.753 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.754 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.754 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:17.755 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:17.756 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:17.756 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.757 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.757 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.758 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.758 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:17.759 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:17.760 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:17.760 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:17.761 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:17.761 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:17.762 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.762 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.763 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:17.763 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.764 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:17.765 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.765 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:17.766 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.766 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:17.767 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.767 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:17.768 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.769 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:17.770 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:17.770 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.771 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.771 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:17.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:17.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:17.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:17.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:17.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:17.779 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:17.779 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:17.780 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.780 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.781 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.782 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.782 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:17.783 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.783 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.784 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.784 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:17.785 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:17.786 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:17.786 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:17.787 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:17.787 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:17.788 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:17.788 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:17.789 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:17.789 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:17.790 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:17.791 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.791 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:17.792 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:17.792 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.793 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.793 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:17.794 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:17.794 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:17.795 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.796 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:17.797 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:17.797 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:17.798 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.798 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:17.800 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.802 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.802 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.803 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:17.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:17.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:17.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:17.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:17.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:17.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:17.807 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.808 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.808 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.809 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.809 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:17.810 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:17.810 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:17.811 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.812 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.812 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.813 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.813 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:17.814 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:17.814 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:17.815 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:17.815 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:17.816 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:17.817 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.817 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.818 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:17.818 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.819 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:17.819 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.820 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:17.820 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.821 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:17.822 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.822 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:17.823 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.824 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:17.824 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:17.825 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.826 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.826 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:17.828 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.829 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:17.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:17.832 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:17.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:17.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:17.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:17.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:17.835 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.835 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.836 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.837 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.837 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:17.838 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:17.838 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:17.839 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.839 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.840 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.841 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.841 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:17.842 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:17.842 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:17.843 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:17.843 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:17.844 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:17.845 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.845 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.846 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:17.846 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.847 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:17.847 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.848 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:17.848 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.849 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:17.849 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.850 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:17.850 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.852 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:17.852 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:17.853 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.853 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.854 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:17.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.858 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:17.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:17.860 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:17.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:17.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:17.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:17.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:17.863 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.863 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.864 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.864 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.865 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:17.866 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:17.866 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:17.867 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.867 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.868 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.868 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.869 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:17.870 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:17.870 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:17.871 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:17.871 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:17.872 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:17.872 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.873 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.874 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:17.874 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.875 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:17.875 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.876 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:17.876 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.877 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:17.877 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.878 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:17.878 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.880 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:17.880 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:17.881 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.881 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.882 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:17.884 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.886 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:17.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:17.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:17.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:17.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:17.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:17.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:17.890 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.891 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.891 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.892 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.893 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:17.893 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:17.894 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:17.894 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.895 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.895 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.896 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.897 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:17.897 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:17.898 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:17.898 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:17.899 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:17.899 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:17.900 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.900 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.901 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:17.902 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.902 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:17.903 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.903 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:17.904 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.904 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:17.905 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.905 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:17.906 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.907 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:17.908 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:17.908 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.909 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.909 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:17.911 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:17.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:17.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:17.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:17.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:17.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:17.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:17.918 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.918 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.919 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.919 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.920 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:17.920 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:17.921 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:17.922 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.922 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.923 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.923 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.924 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:17.924 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:17.925 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:17.925 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:17.926 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:17.927 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:17.927 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.928 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.928 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:17.929 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.929 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:17.930 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.930 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:17.931 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.931 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:17.932 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.932 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:17.933 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.934 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:17.935 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:17.935 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.936 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.936 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:17.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:17.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:17.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:17.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:17.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:17.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:17.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:17.945 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.945 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.946 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.947 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.947 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:17.948 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.948 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.949 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.949 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:17.950 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:17.951 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:17.951 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:17.952 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:17.952 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:17.953 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:17.953 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:17.954 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:17.954 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:17.955 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:17.955 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.956 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:17.956 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:17.957 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.958 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.958 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:17.959 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:17.959 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:17.960 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.961 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:17.961 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:17.962 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:17.963 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.963 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:17.965 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.968 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:17.968 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:17.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:17.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:17.970 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:17.970 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:17.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:17.972 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.972 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.973 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.973 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.974 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:17.974 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:17.975 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:17.975 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.976 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.977 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.977 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.978 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:17.978 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:17.979 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:17.979 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:17.980 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:17.980 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:17.981 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.982 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.982 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:17.983 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.983 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:17.984 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.984 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:17.985 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.985 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:17.986 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.986 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:17.987 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.988 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:17.989 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:17.989 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.990 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.990 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:17.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.993 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:17.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:17.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:17.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:17.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:17.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:17.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:17.999 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.999 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.000 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.000 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.001 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:18.002 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:18.002 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:18.003 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.003 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.004 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.004 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.005 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:18.005 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:18.006 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:18.007 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:18.007 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:18.008 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:18.008 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.009 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.009 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:18.010 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.010 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:18.011 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.011 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:18.012 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.013 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:18.013 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.014 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:18.014 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.015 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:18.016 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:18.016 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.017 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.017 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:18.019 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.020 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.022 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:18.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:18.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:18.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:18.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:18.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:18.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:18.026 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.026 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.027 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.028 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.028 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:18.029 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:18.029 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:18.030 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.030 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.031 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.032 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.032 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:18.033 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:18.033 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:18.034 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:18.034 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:18.035 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:18.035 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.036 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.037 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:18.037 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.038 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:18.038 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.039 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:18.039 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.040 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:18.040 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.041 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:18.041 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.043 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:18.043 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:18.044 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.044 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.045 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:18.047 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.047 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.048 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:18.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:18.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:18.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:18.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:18.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:18.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:18.053 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.054 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.054 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.055 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.055 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:18.056 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:18.057 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:18.057 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.058 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.058 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.059 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.059 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:18.060 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:18.060 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:18.061 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:18.062 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:18.062 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:18.063 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.063 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.064 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:18.064 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.065 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:18.065 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.066 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:18.066 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.067 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:18.068 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.068 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:18.069 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.070 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:18.070 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:18.071 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.071 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.072 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:18.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:18.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:18.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:18.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:18.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:18.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:18.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:18.081 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.081 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.082 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.082 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.083 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:18.083 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.084 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.084 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.085 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:18.086 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:18.086 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:18.087 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:18.087 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:18.088 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:18.088 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:18.089 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:18.089 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:18.090 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:18.091 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:18.091 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.092 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:18.092 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:18.093 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.093 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.094 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:18.094 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:18.095 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:18.095 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.097 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:18.097 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:18.098 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:18.098 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.099 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:18.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:18.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:18.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:18.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:18.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:18.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:18.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:18.107 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.108 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.108 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.109 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.109 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:18.110 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:18.111 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.111 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.112 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:18.112 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:18.113 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:18.113 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:18.114 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:18.114 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:18.115 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:18.116 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:18.116 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:18.117 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:18.117 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:18.118 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:18.118 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.119 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.119 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:18.120 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:18.120 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:18.121 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.122 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:18.123 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:18.123 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:18.124 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.124 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:18.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:18.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:18.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:18.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:18.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:18.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:18.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:18.133 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.133 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.134 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.134 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.135 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:18.136 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:18.136 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:18.137 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.137 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.138 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.138 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.139 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:18.139 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:18.140 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:18.141 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:18.141 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:18.142 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:18.142 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.143 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.143 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:18.144 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.144 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:18.145 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.145 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:18.146 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.147 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:18.147 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.148 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:18.148 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.149 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:18.150 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:18.150 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.151 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.151 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:18.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:18.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:18.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:18.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:18.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:18.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:18.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:18.160 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.161 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.161 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.162 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.162 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:18.163 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:18.163 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:18.164 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.164 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.165 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.166 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.166 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:18.167 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:18.167 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:18.168 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:18.168 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:18.169 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:18.170 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.170 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.171 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:18.171 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.172 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:18.172 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.173 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:18.173 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.174 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:18.174 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.175 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:18.175 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.177 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:18.177 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:18.178 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:18.178 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.179 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:18.181 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.181 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.182 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.183 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.183 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:18.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:18.185 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:18.185 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:18.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:18.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:18.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:18.187 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.188 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.188 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.189 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.189 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:18.190 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:18.191 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:18.191 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.192 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.192 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.193 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.193 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:18.194 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:18.194 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:18.195 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:18.196 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:18.196 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:18.197 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.197 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.198 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:18.198 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.199 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:18.199 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.200 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:18.200 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.201 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:18.202 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.202 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:18.203 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.204 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:18.204 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:18.205 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.205 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.206 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:18.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.210 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:18.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:18.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:18.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:18.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:18.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:18.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:18.214 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.215 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.216 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.216 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.217 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:18.217 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.218 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.218 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.219 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:18.219 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:18.220 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:18.221 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:18.221 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:18.222 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:18.222 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:18.223 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:18.223 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:18.224 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:18.224 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:18.225 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.225 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:18.226 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:18.227 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.227 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.228 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:18.228 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:18.229 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:18.229 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.230 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:18.231 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:18.232 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:18.232 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.233 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:18.234 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.237 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.237 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:18.238 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:18.238 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:18.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:18.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:18.240 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:18.240 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:18.241 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.242 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.242 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.243 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.243 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:18.244 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:18.244 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:18.245 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.246 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.246 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.247 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.247 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:18.248 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:18.248 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:18.249 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:18.249 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:18.250 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:18.251 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.251 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.252 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:18.252 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.253 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:18.253 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.254 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:18.254 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.255 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:18.255 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.256 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:18.256 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.258 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:18.258 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:18.259 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:18.259 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.260 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:18.262 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.264 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:18.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:18.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:18.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:18.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:18.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:18.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:18.268 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.269 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.270 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.270 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.271 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:18.271 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:18.272 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:18.272 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.273 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.274 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.274 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.275 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:18.275 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:18.276 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:18.276 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:18.277 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:18.278 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:18.278 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.279 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.279 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:18.280 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.280 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:18.281 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.281 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:18.282 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.282 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:18.283 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.284 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:18.284 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.285 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:18.287 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:18.289 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:18.297 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:18.299 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:18.300 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:18.301 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:18.392 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:18.393 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:18.393 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:18.394 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:18.394 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:18.395 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:18.395 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:18.396 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:18.407 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:18.408 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:18.419 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:18.420 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:18.420 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:18.421 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102817.log
2025-10-31 10:28:18.421 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:18.422 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:18.430 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102818.log
2025-10-31 10:28:18.431 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:18.431 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:18.433 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:18.434 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-09-10 00:00:00 (after 252 periods of warm-up data)
2025-10-31 10:28:18.435 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:18.436 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:18.436 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:18.438 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-09-10
2025-10-31 10:28:18.438 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-10
2025-10-31 10:28:18.439 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:18.440 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:18.440 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:18.442 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0809326756523252
2025-10-31 10:28:18.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08149454604873574
2025-10-31 10:28:18.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08817543839164688
2025-10-31 10:28:18.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-10 00:00:00:
2025-10-31 10:28:18.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0809 (8.09%) - PASS
2025-10-31 10:28:18.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0815 (8.15%) - PASS
2025-10-31 10:28:18.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0882 (8.82%) - PASS
2025-10-31 10:28:18.449 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.449 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.450 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.451 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-10: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:18.451 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.452 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.452 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.453 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.53 ? $123.59 (slippage: 0.050%)
2025-10-31 10:28:18.454 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:18.454 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 809.15
2025-10-31 10:28:18.455 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:18.455 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:18.456 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 808.34 @ $123.59
2025-10-31 10:28:18.456 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.457 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.458 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:18.458 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.459 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 808.34 shares @ $123.59 (Value: $99,900.10)
2025-10-31 10:28:18.459 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.460 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:18.460 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.461 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:18.461 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.463 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:18.463 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,594.06
2025-10-31 10:28:18.464 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.464 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.465 | INFO     | src.backtesting.engine:run:293 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:18.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.469 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.469 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019551495925198337
2025-10-31 10:28:18.470 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07498293204285922
2025-10-31 10:28:18.471 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05824612172849841
2025-10-31 10:28:18.471 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:18.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0196 (1.96%) - PASS
2025-10-31 10:28:18.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0750 (7.50%) - PASS
2025-10-31 10:28:18.473 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0582 (5.82%) - PASS
2025-10-31 10:28:18.473 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.474 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.475 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.475 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.476 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:18.476 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 808.34 @ $121.91 (P&L: $-1,355.34)
2025-10-31 10:28:18.477 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,446.22
2025-10-31 10:28:18.477 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$98,594.06, Cash=$98,446.22, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.478 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.479 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.479 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.480 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:18.480 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:18.481 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 813.89
2025-10-31 10:28:18.482 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.59
2025-10-31 10:28:18.482 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,692.65
2025-10-31 10:28:18.483 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 811.85 @ $121.14
2025-10-31 10:28:18.483 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.484 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.484 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,446.22, Cash end=$-0.00
2025-10-31 10:28:18.485 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.486 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:18.486 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.487 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 811.85 shares @ $121.14 (Value: $98,347.87)
2025-10-31 10:28:18.487 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.488 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,347.87
2025-10-31 10:28:18.488 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.489 | INFO     | src.backtesting.engine:run:336 -      Change: $-246.19
2025-10-31 10:28:18.489 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.491 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:18.491 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,275.11
2025-10-31 10:28:18.492 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.492 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.493 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11, P&L: $927.24)
2025-10-31 10:28:18.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.496 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.496 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07511303569502892
2025-10-31 10:28:18.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08589327251529832
2025-10-31 10:28:18.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06452336484703469
2025-10-31 10:28:18.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:18.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0751 (7.51%) - PASS
2025-10-31 10:28:18.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0859 (8.59%) - PASS
2025-10-31 10:28:18.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0645 (6.45%) - PASS
2025-10-31 10:28:18.502 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.502 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.503 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.503 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.504 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11)
2025-10-31 10:28:18.505 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$99,275.11, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.506 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.506 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.507 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:18.507 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 811.85 shares worth $99,275.11
2025-10-31 10:28:18.508 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:18.509 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.28 ? $122.34 (slippage: 0.050%)
2025-10-31 10:28:18.509 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:18.510 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 811.45
2025-10-31 10:28:18.510 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 811.85
2025-10-31 10:28:18.511 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.41
2025-10-31 10:28:18.511 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:18.512 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.59
2025-10-31 10:28:18.513 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.41 shares at $122.22 (proceeds: $49.54)
2025-10-31 10:28:18.513 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.514 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.54
2025-10-31 10:28:18.514 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.59, Cash end=$49.54
2025-10-31 10:28:18.515 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.515 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.516 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,275.03
2025-10-31 10:28:18.516 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.54
2025-10-31 10:28:18.517 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:18.518 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.519 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:18.519 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,453.53
2025-10-31 10:28:18.520 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.54
2025-10-31 10:28:18.520 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.521 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:18.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07533958777997163
2025-10-31 10:28:18.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06332847983307777
2025-10-31 10:28:18.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06863582586745842
2025-10-31 10:28:18.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:18.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0753 (7.53%) - PASS
2025-10-31 10:28:18.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0633 (6.33%) - PASS
2025-10-31 10:28:18.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0686 (6.86%) - PASS
2025-10-31 10:28:18.530 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.530 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.531 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.531 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.532 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:18.533 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 811.45 @ $123.67 (P&L: $2,055.08)
2025-10-31 10:28:18.533 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,302.98
2025-10-31 10:28:18.534 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$100,453.53, Cash=$100,302.98, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.534 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.535 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.536 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.536 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.93 ? $122.99 (slippage: 0.050%)
2025-10-31 10:28:18.537 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:18.537 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 816.77
2025-10-31 10:28:18.538 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.45
2025-10-31 10:28:18.538 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,553.99
2025-10-31 10:28:18.539 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 814.73 @ $122.99
2025-10-31 10:28:18.540 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.540 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.541 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,302.98, Cash end=$-0.00
2025-10-31 10:28:18.541 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.542 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:18.542 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.543 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 814.73 shares @ $122.99 (Value: $100,202.78)
2025-10-31 10:28:18.543 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.544 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,202.78
2025-10-31 10:28:18.545 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.545 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.76
2025-10-31 10:28:18.546 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.547 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:18.547 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,275.19
2025-10-31 10:28:18.548 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.549 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.549 | INFO     | src.backtesting.engine:run:293 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:18.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.037374576779007684
2025-10-31 10:28:18.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0865684206777857
2025-10-31 10:28:18.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05637830462180449
2025-10-31 10:28:18.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:18.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0374 (3.74%) - PASS
2025-10-31 10:28:18.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0866 (8.66%) - PASS
2025-10-31 10:28:18.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0564 (5.64%) - PASS
2025-10-31 10:28:18.558 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.558 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.559 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.560 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.560 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:18.561 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 814.73 @ $123.02 (P&L: $22.28)
2025-10-31 10:28:18.561 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,124.83
2025-10-31 10:28:18.562 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$100,275.19, Cash=$100,124.83, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.562 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.563 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.564 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.564 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $124.66 ? $124.73 (slippage: 0.050%)
2025-10-31 10:28:18.565 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:18.565 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 803.97
2025-10-31 10:28:18.566 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.28
2025-10-31 10:28:18.566 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,375.47
2025-10-31 10:28:18.567 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 801.96 @ $124.73
2025-10-31 10:28:18.568 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.568 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.569 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,124.83, Cash end=$-0.00
2025-10-31 10:28:18.569 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.570 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:18.570 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.571 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 801.96 shares @ $124.73 (Value: $100,024.80)
2025-10-31 10:28:18.572 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.572 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,024.80
2025-10-31 10:28:18.573 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.573 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.39
2025-10-31 10:28:18.574 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.575 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:18.576 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,585.07
2025-10-31 10:28:18.576 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.577 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.577 | INFO     | src.backtesting.engine:run:293 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:18.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11193767893425632
2025-10-31 10:28:18.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.034556594930737594
2025-10-31 10:28:18.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04474012852421505
2025-10-31 10:28:18.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:18.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1119 (11.19%) - PASS
2025-10-31 10:28:18.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0346 (3.46%) - PASS
2025-10-31 10:28:18.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0447 (4.47%) - PASS
2025-10-31 10:28:18.586 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.587 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.587 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.588 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.588 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:18.589 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 801.96 @ $121.62 (P&L: $-2,488.52)
2025-10-31 10:28:18.590 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,438.74
2025-10-31 10:28:18.590 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$97,585.07, Cash=$97,438.74, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.591 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.591 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.592 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.592 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:18.593 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:18.594 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 743.33
2025-10-31 10:28:18.594 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.59
2025-10-31 10:28:18.595 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,682.66
2025-10-31 10:28:18.595 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 741.47 @ $131.28
2025-10-31 10:28:18.596 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.597 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.597 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,438.74, Cash end=$-0.00
2025-10-31 10:28:18.598 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.598 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:18.599 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.599 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 741.47 shares @ $131.28 (Value: $97,341.40)
2025-10-31 10:28:18.600 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.600 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,341.40
2025-10-31 10:28:18.601 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.602 | INFO     | src.backtesting.engine:run:336 -      Change: $-243.67
2025-10-31 10:28:18.602 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.603 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:18.604 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,844.40
2025-10-31 10:28:18.604 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.605 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.605 | INFO     | src.backtesting.engine:run:293 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:18.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.062080363269852556
2025-10-31 10:28:18.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11404037668171707
2025-10-31 10:28:18.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08587886730594763
2025-10-31 10:28:18.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:18.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0621 (6.21%) - PASS
2025-10-31 10:28:18.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1140 (11.40%) - PASS
2025-10-31 10:28:18.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:18.614 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.615 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.615 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.616 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.616 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:18.617 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 741.47 @ $127.85 (P&L: $-2,544.42)
2025-10-31 10:28:18.618 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,702.18
2025-10-31 10:28:18.618 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$94,844.40, Cash=$94,702.18, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.619 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.619 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.620 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.621 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.79 ? $130.86 (slippage: 0.050%)
2025-10-31 10:28:18.621 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:18.622 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 724.78
2025-10-31 10:28:18.622 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.84
2025-10-31 10:28:18.623 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,939.24
2025-10-31 10:28:18.624 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 722.97 @ $130.86
2025-10-31 10:28:18.624 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.625 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.625 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,702.18, Cash end=$-0.00
2025-10-31 10:28:18.626 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.626 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:18.627 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.627 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 722.97 shares @ $130.86 (Value: $94,607.57)
2025-10-31 10:28:18.628 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.629 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,607.57
2025-10-31 10:28:18.629 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.630 | INFO     | src.backtesting.engine:run:336 -      Change: $-236.83
2025-10-31 10:28:18.630 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.631 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:18.632 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,111.15
2025-10-31 10:28:18.633 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.633 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.634 | INFO     | src.backtesting.engine:run:293 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:18.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10230277701936319
2025-10-31 10:28:18.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09632721679950307
2025-10-31 10:28:18.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07945606670536898
2025-10-31 10:28:18.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:18.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1023 (10.23%) - PASS
2025-10-31 10:28:18.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0963 (9.63%) - PASS
2025-10-31 10:28:18.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0795 (7.95%) - PASS
2025-10-31 10:28:18.643 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.643 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.644 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.644 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.645 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:18.647 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 722.97 @ $128.73 (P&L: $-1,542.98)
2025-10-31 10:28:18.647 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,971.53
2025-10-31 10:28:18.648 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$93,111.15, Cash=$92,971.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.649 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.649 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.650 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.650 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:18.651 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:18.651 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.77
2025-10-31 10:28:18.652 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.11
2025-10-31 10:28:18.653 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,204.26
2025-10-31 10:28:18.653 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.99 @ $131.00
2025-10-31 10:28:18.654 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.654 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.655 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,971.53, Cash end=$-0.00
2025-10-31 10:28:18.655 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.656 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:18.657 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.657 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.99 shares @ $131.00 (Value: $92,878.65)
2025-10-31 10:28:18.658 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.658 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,878.65
2025-10-31 10:28:18.659 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.659 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.50
2025-10-31 10:28:18.660 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.661 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:18.662 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,774.56
2025-10-31 10:28:18.662 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.663 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.663 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:18.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05578194617471177
2025-10-31 10:28:18.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07522900530727417
2025-10-31 10:28:18.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08673886201403636
2025-10-31 10:28:18.670 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:18.670 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0558 (5.58%) - PASS
2025-10-31 10:28:18.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0752 (7.52%) - PASS
2025-10-31 10:28:18.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0867 (8.67%) - PASS
2025-10-31 10:28:18.672 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.673 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.673 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.674 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.674 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:18.675 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.99 @ $127.97 (P&L: $-2,149.48)
2025-10-31 10:28:18.675 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,638.44
2025-10-31 10:28:18.676 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$90,774.56, Cash=$90,638.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.677 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.677 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.678 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.678 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:18.679 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:18.680 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 705.94
2025-10-31 10:28:18.680 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.77
2025-10-31 10:28:18.681 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,865.33
2025-10-31 10:28:18.681 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 704.18 @ $128.59
2025-10-31 10:28:18.682 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.682 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.683 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,638.44, Cash end=$-0.00
2025-10-31 10:28:18.683 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.684 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:18.685 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.685 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 704.18 shares @ $128.59 (Value: $90,547.89)
2025-10-31 10:28:18.686 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.686 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,547.89
2025-10-31 10:28:18.687 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.687 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.66
2025-10-31 10:28:18.688 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.689 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:18.690 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,297.65
2025-10-31 10:28:18.690 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.691 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.691 | INFO     | src.backtesting.engine:run:293 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:18.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09337633282852487
2025-10-31 10:28:18.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05925575928114202
2025-10-31 10:28:18.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04087147827096205
2025-10-31 10:28:18.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:18.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0934 (9.34%) - PASS
2025-10-31 10:28:18.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:18.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0409 (4.09%) - PASS
2025-10-31 10:28:18.700 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.701 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.701 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.702 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.702 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:18.703 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 704.18 @ $128.17 (P&L: $-295.39)
2025-10-31 10:28:18.704 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,162.25
2025-10-31 10:28:18.704 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$90,297.65, Cash=$90,162.25, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.705 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.705 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.706 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.706 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.23 ? $129.29 (slippage: 0.050%)
2025-10-31 10:28:18.707 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:18.708 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.41
2025-10-31 10:28:18.708 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.30
2025-10-31 10:28:18.709 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,387.94
2025-10-31 10:28:18.709 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 696.66 @ $129.29
2025-10-31 10:28:18.710 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.710 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.711 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,162.25, Cash end=$0.00
2025-10-31 10:28:18.712 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.712 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:18.713 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.713 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 696.66 shares @ $129.29 (Value: $90,072.17)
2025-10-31 10:28:18.714 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.714 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,072.17
2025-10-31 10:28:18.715 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.715 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.47
2025-10-31 10:28:18.716 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.717 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:18.718 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,772.33
2025-10-31 10:28:18.718 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:18.719 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.719 | INFO     | src.backtesting.engine:run:293 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:18.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08460905845341782
2025-10-31 10:28:18.725 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058143063523203864
2025-10-31 10:28:18.725 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08521457036160784
2025-10-31 10:28:18.726 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:18.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0846 (8.46%) - PASS
2025-10-31 10:28:18.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0581 (5.81%) - PASS
2025-10-31 10:28:18.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0852 (8.52%) - PASS
2025-10-31 10:28:18.728 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.729 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.729 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.730 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.730 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:18.731 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 696.66 @ $131.67 (P&L: $1,654.27)
2025-10-31 10:28:18.732 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,634.71
2025-10-31 10:28:18.732 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,772.33, Cash=$91,634.71, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.733 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.733 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.734 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.735 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.28 ? $135.34 (slippage: 0.050%)
2025-10-31 10:28:18.735 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:18.736 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 678.07
2025-10-31 10:28:18.736 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.77
2025-10-31 10:28:18.737 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,864.10
2025-10-31 10:28:18.737 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 676.37 @ $135.34
2025-10-31 10:28:18.738 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.739 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.739 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,634.71, Cash end=$0.00
2025-10-31 10:28:18.740 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.740 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:18.741 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.741 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 676.37 shares @ $135.34 (Value: $91,543.17)
2025-10-31 10:28:18.742 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.742 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,543.17
2025-10-31 10:28:18.743 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.744 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.16
2025-10-31 10:28:18.744 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.745 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:18.746 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,459.48
2025-10-31 10:28:18.746 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:18.747 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.748 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:18.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.048523400437661346
2025-10-31 10:28:18.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06375280245768722
2025-10-31 10:28:18.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04266694489239309
2025-10-31 10:28:18.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:18.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0485 (4.85%) - PASS
2025-10-31 10:28:18.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:18.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0427 (4.27%) - PASS
2025-10-31 10:28:18.756 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.757 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.757 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.758 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.759 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:18.759 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.37 @ $129.24 (P&L: $-4,127.42)
2025-10-31 10:28:18.760 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,328.33
2025-10-31 10:28:18.760 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$87,459.48, Cash=$87,328.33, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.761 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.761 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.762 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.763 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.36 ? $130.43 (slippage: 0.050%)
2025-10-31 10:28:18.763 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:18.764 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 670.55
2025-10-31 10:28:18.764 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.46
2025-10-31 10:28:18.765 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,546.94
2025-10-31 10:28:18.766 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 668.87 @ $130.43
2025-10-31 10:28:18.766 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.767 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.767 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,328.33, Cash end=$0.00
2025-10-31 10:28:18.768 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.768 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:18.769 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.769 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 668.87 shares @ $130.43 (Value: $87,241.09)
2025-10-31 10:28:18.770 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.770 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,241.09
2025-10-31 10:28:18.771 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.772 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.39
2025-10-31 10:28:18.772 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.773 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:18.774 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,297.49
2025-10-31 10:28:18.774 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:18.775 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.775 | INFO     | src.backtesting.engine:run:293 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:18.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.779 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.780 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.780 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08550496050562328
2025-10-31 10:28:18.781 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.029203921523580645
2025-10-31 10:28:18.781 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.052898492074856085
2025-10-31 10:28:18.782 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:18.783 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0855 (8.55%) - PASS
2025-10-31 10:28:18.783 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0292 (2.92%) - PASS
2025-10-31 10:28:18.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0529 (5.29%) - PASS
2025-10-31 10:28:18.784 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.785 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.785 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.786 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.786 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:18.787 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 668.87 @ $131.94 (P&L: $1,012.25)
2025-10-31 10:28:18.788 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $88,165.09
2025-10-31 10:28:18.788 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$88,297.49, Cash=$88,165.09, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.789 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.789 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.790 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.791 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.46 ? $132.53 (slippage: 0.050%)
2025-10-31 10:28:18.791 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:18.792 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.25
2025-10-31 10:28:18.792 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $88.30
2025-10-31 10:28:18.793 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,385.79
2025-10-31 10:28:18.793 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.58 @ $132.53
2025-10-31 10:28:18.794 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.795 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.795 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$88,165.09, Cash end=$-0.00
2025-10-31 10:28:18.796 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.796 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:18.797 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.797 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.58 shares @ $132.53 (Value: $88,077.01)
2025-10-31 10:28:18.798 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.798 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,077.01
2025-10-31 10:28:18.799 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.800 | INFO     | src.backtesting.engine:run:336 -      Change: $-220.48
2025-10-31 10:28:18.800 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.801 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:18.802 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,236.89
2025-10-31 10:28:18.802 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.803 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.804 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89, P&L: $2,159.88)
2025-10-31 10:28:18.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.807 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09675418215912424
2025-10-31 10:28:18.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0711032800562954
2025-10-31 10:28:18.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08209555160058413
2025-10-31 10:28:18.810 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:18.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0968 (9.68%) - PASS
2025-10-31 10:28:18.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0711 (7.11%) - PASS
2025-10-31 10:28:18.812 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0821 (8.21%) - PASS
2025-10-31 10:28:18.812 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.813 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.813 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.814 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.815 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89)
2025-10-31 10:28:18.815 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$90,236.89, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.816 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.816 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.817 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:18.817 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.58 shares worth $90,236.89
2025-10-31 10:28:18.818 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:18.819 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:18.819 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:18.820 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.25
2025-10-31 10:28:18.820 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.58
2025-10-31 10:28:18.821 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:18.821 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:18.822 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.07
2025-10-31 10:28:18.823 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.33 shares at $135.71 (proceeds: $45.03)
2025-10-31 10:28:18.823 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.824 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.03
2025-10-31 10:28:18.824 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.07, Cash end=$45.03
2025-10-31 10:28:18.825 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.825 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.826 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,236.82
2025-10-31 10:28:18.826 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:18.827 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:18.827 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.829 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:18.829 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,105.47
2025-10-31 10:28:18.830 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:18.830 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.831 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44, P&L: $4,027.44)
2025-10-31 10:28:18.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08245274168982375
2025-10-31 10:28:18.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07346223866474255
2025-10-31 10:28:18.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.043413197059924746
2025-10-31 10:28:18.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:18.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0825 (8.25%) - PASS
2025-10-31 10:28:18.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0735 (7.35%) - PASS
2025-10-31 10:28:18.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0434 (4.34%) - PASS
2025-10-31 10:28:18.840 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.840 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.841 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.841 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.842 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44)
2025-10-31 10:28:18.842 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$92,105.47, Cash=$45.03, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:18.843 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.844 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.844 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:18.845 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.25 shares worth $92,060.44
2025-10-31 10:28:18.845 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD SPY [relative_top]
2025-10-31 10:28:18.846 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $138.59 ? $138.66 (slippage: 0.050%)
2025-10-31 10:28:18.846 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:18.847 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.24
2025-10-31 10:28:18.848 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.25
2025-10-31 10:28:18.848 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.01
2025-10-31 10:28:18.849 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:18.849 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1.00
2025-10-31 10:28:18.850 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:18.850 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.03
2025-10-31 10:28:18.851 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.851 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.852 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,105.47
2025-10-31 10:28:18.853 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:18.853 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:18.854 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.855 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:18.855 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,209.39
2025-10-31 10:28:18.856 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:18.856 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.857 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:18.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.860 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.860 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.046770856134837224
2025-10-31 10:28:18.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09687053348885044
2025-10-31 10:28:18.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04184317094333867
2025-10-31 10:28:18.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:18.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0468 (4.68%) - PASS
2025-10-31 10:28:18.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0969 (9.69%) - PASS
2025-10-31 10:28:18.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:18.866 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.866 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.867 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.868 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.868 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:18.869 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.25 @ $134.17 (P&L: $1,086.79)
2025-10-31 10:28:18.869 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,075.69
2025-10-31 10:28:18.870 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$89,209.39, Cash=$89,075.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.870 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.871 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.872 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.872 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:18.873 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.86
2025-10-31 10:28:18.873 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 646.42
2025-10-31 10:28:18.874 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.21
2025-10-31 10:28:18.874 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,298.60
2025-10-31 10:28:18.875 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 644.81 @ $138.01
2025-10-31 10:28:18.876 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.876 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.877 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,075.69, Cash end=$-0.00
2025-10-31 10:28:18.877 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.878 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:18.878 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.879 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 644.81 shares @ $138.01 (Value: $88,986.71)
2025-10-31 10:28:18.879 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.880 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,986.71
2025-10-31 10:28:18.881 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.881 | INFO     | src.backtesting.engine:run:336 -      Change: $-222.69
2025-10-31 10:28:18.882 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.883 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:18.883 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,617.00
2025-10-31 10:28:18.884 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.884 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.885 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00, P&L: $-369.70)
2025-10-31 10:28:18.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06541858782151833
2025-10-31 10:28:18.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09774311842405137
2025-10-31 10:28:18.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08593314284028253
2025-10-31 10:28:18.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:18.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0654 (6.54%) - PASS
2025-10-31 10:28:18.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0977 (9.77%) - PASS
2025-10-31 10:28:18.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:18.894 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.894 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.895 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.895 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.896 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00)
2025-10-31 10:28:18.897 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$88,617.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.897 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.898 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.898 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:18.899 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 644.81 shares worth $88,617.00
2025-10-31 10:28:18.899 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:18.900 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.43 ? $137.50 (slippage: 0.050%)
2025-10-31 10:28:18.901 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:18.901 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 644.48
2025-10-31 10:28:18.902 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 644.81
2025-10-31 10:28:18.902 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:18.903 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:18.903 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.26
2025-10-31 10:28:18.904 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $137.36 (proceeds: $44.22)
2025-10-31 10:28:18.904 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.905 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.22
2025-10-31 10:28:18.906 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.26, Cash end=$44.22
2025-10-31 10:28:18.906 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.907 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.907 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,616.94
2025-10-31 10:28:18.908 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.22
2025-10-31 10:28:18.908 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:18.909 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.910 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:18.911 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,376.47
2025-10-31 10:28:18.911 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.22
2025-10-31 10:28:18.912 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.912 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:18.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026449575231996203
2025-10-31 10:28:18.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06097758703104095
2025-10-31 10:28:18.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0810725080136625
2025-10-31 10:28:18.919 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:18.919 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0264 (2.64%) - PASS
2025-10-31 10:28:18.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0610 (6.10%) - PASS
2025-10-31 10:28:18.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0811 (8.11%) - PASS
2025-10-31 10:28:18.921 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.922 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.922 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.923 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.923 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:18.924 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 644.48 @ $140.09 (P&L: $1,344.85)
2025-10-31 10:28:18.924 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,241.02
2025-10-31 10:28:18.925 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$90,376.47, Cash=$90,241.02, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.926 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.926 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.927 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.927 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.55 ? $141.62 (slippage: 0.050%)
2025-10-31 10:28:18.928 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:18.928 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.17
2025-10-31 10:28:18.929 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.38
2025-10-31 10:28:18.930 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,466.85
2025-10-31 10:28:18.930 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 636.57 @ $141.62
2025-10-31 10:28:18.931 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.931 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.932 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,241.02, Cash end=$-0.00
2025-10-31 10:28:18.932 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.933 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:18.934 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.934 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 636.57 shares @ $141.62 (Value: $90,150.87)
2025-10-31 10:28:18.935 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.935 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,150.87
2025-10-31 10:28:18.936 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.936 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.60
2025-10-31 10:28:18.937 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.938 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:18.939 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,816.41
2025-10-31 10:28:18.939 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.940 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.940 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41, P&L: $-334.46)
2025-10-31 10:28:18.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.945 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.060629103850839305
2025-10-31 10:28:18.946 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04278850978852278
2025-10-31 10:28:18.946 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06600451891900727
2025-10-31 10:28:18.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:18.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0606 (6.06%) - PASS
2025-10-31 10:28:18.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0428 (4.28%) - PASS
2025-10-31 10:28:18.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0660 (6.60%) - PASS
2025-10-31 10:28:18.949 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.949 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.950 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.951 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.951 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41)
2025-10-31 10:28:18.952 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$89,816.41, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.952 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.953 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.953 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:18.954 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 636.57 shares worth $89,816.41
2025-10-31 10:28:18.955 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:18.955 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.09 ? $141.16 (slippage: 0.050%)
2025-10-31 10:28:18.956 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:18.956 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.25
2025-10-31 10:28:18.957 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 636.57
2025-10-31 10:28:18.957 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:18.958 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:18.958 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.86
2025-10-31 10:28:18.959 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.32 shares at $141.02 (proceeds: $44.82)
2025-10-31 10:28:18.960 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.960 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.82
2025-10-31 10:28:18.961 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.86, Cash end=$44.82
2025-10-31 10:28:18.961 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.962 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.962 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,816.34
2025-10-31 10:28:18.963 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.82
2025-10-31 10:28:18.963 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:18.964 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.965 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:18.966 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,931.33
2025-10-31 10:28:18.966 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.82
2025-10-31 10:28:18.967 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.967 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:18.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.970 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.04354100310713305
2025-10-31 10:28:18.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05817277610654825
2025-10-31 10:28:18.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.050749269499728245
2025-10-31 10:28:18.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:18.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0435 (4.35%) - PASS
2025-10-31 10:28:18.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0582 (5.82%) - PASS
2025-10-31 10:28:18.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0507 (5.07%) - PASS
2025-10-31 10:28:18.976 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.977 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.977 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.978 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.979 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:18.979 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 636.25 @ $138.06 (P&L: $-2,263.24)
2025-10-31 10:28:18.980 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,799.55
2025-10-31 10:28:18.980 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$87,931.33, Cash=$87,799.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.981 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.981 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.982 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.983 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:18.983 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:18.984 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.91
2025-10-31 10:28:18.984 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.93
2025-10-31 10:28:18.985 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,019.26
2025-10-31 10:28:18.985 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 635.32 @ $138.06
2025-10-31 10:28:18.986 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.987 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.987 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,799.55, Cash end=$-0.00
2025-10-31 10:28:18.988 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.988 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:18.989 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.989 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 635.32 shares @ $138.06 (Value: $87,711.83)
2025-10-31 10:28:18.990 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.990 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,711.83
2025-10-31 10:28:18.991 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.991 | INFO     | src.backtesting.engine:run:336 -      Change: $-219.50
2025-10-31 10:28:18.992 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.993 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:18.994 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,568.42
2025-10-31 10:28:18.994 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.995 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.995 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42, P&L: $3,856.59)
2025-10-31 10:28:18.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05618000180644045
2025-10-31 10:28:19.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06382148319011183
2025-10-31 10:28:19.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.021775481826179943
2025-10-31 10:28:19.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:19.003 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0562 (5.62%) - PASS
2025-10-31 10:28:19.003 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:19.004 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0218 (2.18%) - PASS
2025-10-31 10:28:19.004 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:19.005 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.005 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:19.006 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:19.006 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42)
2025-10-31 10:28:19.007 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$91,568.42, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:19.008 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:19.008 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:19.009 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:19.009 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.32 shares worth $91,568.42
2025-10-31 10:28:19.010 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:19.011 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:19.011 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:19.012 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.01
2025-10-31 10:28:19.012 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.32
2025-10-31 10:28:19.013 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:19.013 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:19.014 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.74
2025-10-31 10:28:19.014 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $144.06 (proceeds: $45.69)
2025-10-31 10:28:19.015 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:19.016 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.69
2025-10-31 10:28:19.016 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.74, Cash end=$45.69
2025-10-31 10:28:19.017 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:19.017 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.018 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,568.35
2025-10-31 10:28:19.018 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:19.019 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:19.019 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.021 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:19.021 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,663.80
2025-10-31 10:28:19.022 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:19.022 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.023 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10, P&L: $4,950.10)
2025-10-31 10:28:19.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.027 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05731563951086516
2025-10-31 10:28:19.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08652535999780908
2025-10-31 10:28:19.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028712997605179646
2025-10-31 10:28:19.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:19.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0573 (5.73%) - PASS
2025-10-31 10:28:19.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0865 (8.65%) - PASS
2025-10-31 10:28:19.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0287 (2.87%) - PASS
2025-10-31 10:28:19.032 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:19.032 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.033 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:19.033 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:19.034 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10)
2025-10-31 10:28:19.034 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$92,663.80, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:19.035 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:19.035 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:19.036 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:19.037 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,618.10
2025-10-31 10:28:19.037 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:19.038 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:19.038 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:19.039 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:19.040 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:19.040 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:19.041 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:19.041 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:19.042 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:19.042 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:19.043 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:19.043 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.044 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,663.80
2025-10-31 10:28:19.044 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:19.045 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:19.046 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.047 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:19.047 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,665.19
2025-10-31 10:28:19.048 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:19.048 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.049 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50, P&L: $4,951.50)
2025-10-31 10:28:19.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06283582279220967
2025-10-31 10:28:19.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0840282160513397
2025-10-31 10:28:19.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0781538240647981
2025-10-31 10:28:19.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:19.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0628 (6.28%) - PASS
2025-10-31 10:28:19.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0840 (8.40%) - PASS
2025-10-31 10:28:19.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0782 (7.82%) - PASS
2025-10-31 10:28:19.058 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:19.058 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.059 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:19.060 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:19.060 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50)
2025-10-31 10:28:19.061 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$92,665.19, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:19.061 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:19.062 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:19.062 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:19.063 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,619.50
2025-10-31 10:28:19.064 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:19.064 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.86 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:19.065 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:19.065 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:19.066 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:19.066 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:19.067 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:19.067 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:19.068 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:19.069 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:19.069 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:19.070 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.070 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,665.19
2025-10-31 10:28:19.071 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:19.071 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:19.072 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.073 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:19.074 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,844.44
2025-10-31 10:28:19.074 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:19.075 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.075 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:19.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0797353250554409
2025-10-31 10:28:19.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0663792780678536
2025-10-31 10:28:19.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06865645520660602
2025-10-31 10:28:19.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:19.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0797 (7.97%) - PASS
2025-10-31 10:28:19.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0664 (6.64%) - PASS
2025-10-31 10:28:19.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0687 (6.87%) - PASS
2025-10-31 10:28:19.084 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:19.085 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.085 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:19.086 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:19.086 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:19.087 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 635.01 @ $142.92 (P&L: $3,085.34)
2025-10-31 10:28:19.087 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,708.28
2025-10-31 10:28:19.088 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$90,844.44, Cash=$90,708.28, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:19.088 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:19.089 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:19.090 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:19.090 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $146.97 ? $147.04 (slippage: 0.050%)
2025-10-31 10:28:19.091 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:19.091 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 617.82
2025-10-31 10:28:19.092 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.84
2025-10-31 10:28:19.092 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,935.28
2025-10-31 10:28:19.093 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 616.28 @ $147.04
2025-10-31 10:28:19.094 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:19.094 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:19.095 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,708.28, Cash end=$0.00
2025-10-31 10:28:19.095 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:19.096 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:19.096 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:19.097 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 616.28 shares @ $147.04 (Value: $90,617.67)
2025-10-31 10:28:19.097 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.098 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,617.67
2025-10-31 10:28:19.099 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:19.099 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.77
2025-10-31 10:28:19.100 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.101 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:19.101 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,098.27
2025-10-31 10:28:19.102 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:19.103 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.103 | INFO     | src.backtesting.engine:run:293 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:19.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.061678785162375904
2025-10-31 10:28:19.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0630140413189888
2025-10-31 10:28:19.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06351458377721841
2025-10-31 10:28:19.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:19.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0617 (6.17%) - PASS
2025-10-31 10:28:19.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0630 (6.30%) - PASS
2025-10-31 10:28:19.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0635 (6.35%) - PASS
2025-10-31 10:28:19.112 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:19.112 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.113 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:19.113 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:19.114 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:19.115 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 616.28 @ $146.12 (P&L: $-564.45)
2025-10-31 10:28:19.115 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,963.16
2025-10-31 10:28:19.116 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$90,098.27, Cash=$89,963.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:19.116 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:19.117 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:19.118 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:19.118 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:19.119 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:19.119 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 611.99
2025-10-31 10:28:19.120 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.10
2025-10-31 10:28:19.120 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,188.36
2025-10-31 10:28:19.121 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 610.46 @ $147.22
2025-10-31 10:28:19.122 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:19.122 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:19.123 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,963.16, Cash end=$0.00
2025-10-31 10:28:19.123 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:19.124 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:19.124 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:19.125 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 610.46 shares @ $147.22 (Value: $89,873.29)
2025-10-31 10:28:19.125 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.126 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,873.29
2025-10-31 10:28:19.126 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:19.127 | INFO     | src.backtesting.engine:run:336 -      Change: $-224.98
2025-10-31 10:28:19.128 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.129 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:19.129 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,403.63
2025-10-31 10:28:19.130 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:19.130 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.131 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63, P&L: $1,530.34)
2025-10-31 10:28:19.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05049848489114539
2025-10-31 10:28:19.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050013878843399695
2025-10-31 10:28:19.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08398809728515122
2025-10-31 10:28:19.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:19.138 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0505 (5.05%) - PASS
2025-10-31 10:28:19.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0500 (5.00%) - PASS
2025-10-31 10:28:19.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0840 (8.40%) - PASS
2025-10-31 10:28:19.140 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:19.140 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.141 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:19.141 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:19.142 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63)
2025-10-31 10:28:19.142 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$91,403.63, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:19.143 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:19.144 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:19.144 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:19.145 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 610.46 shares worth $91,403.63
2025-10-31 10:28:19.145 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:19.146 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:19.146 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:19.147 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 610.15
2025-10-31 10:28:19.147 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 610.46
2025-10-31 10:28:19.148 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.31
2025-10-31 10:28:19.149 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:19.149 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.66
2025-10-31 10:28:19.150 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.31 shares at $149.66 (proceeds: $45.61)
2025-10-31 10:28:19.150 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:19.151 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.61
2025-10-31 10:28:19.151 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.66, Cash end=$45.61
2025-10-31 10:28:19.152 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:19.152 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.153 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,403.56
2025-10-31 10:28:19.154 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.61
2025-10-31 10:28:19.154 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:19.155 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.156 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:19.156 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,696.12
2025-10-31 10:28:19.157 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.61
2025-10-31 10:28:19.157 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.158 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:19.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.162 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02348918660372412
2025-10-31 10:28:19.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08750655028956023
2025-10-31 10:28:19.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0390661027483481
2025-10-31 10:28:19.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:19.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0235 (2.35%) - PASS
2025-10-31 10:28:19.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0875 (8.75%) - PASS
2025-10-31 10:28:19.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0391 (3.91%) - PASS
2025-10-31 10:28:19.167 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:19.167 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.168 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:19.168 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:19.169 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:19.169 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 610.15 @ $143.58 (P&L: $-2,221.69)
2025-10-31 10:28:19.170 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,564.69
2025-10-31 10:28:19.170 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$87,696.12, Cash=$87,564.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:19.171 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:19.172 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:19.172 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:19.173 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:19.173 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:19.174 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 583.20
2025-10-31 10:28:19.174 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.70
2025-10-31 10:28:19.175 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,783.82
2025-10-31 10:28:19.176 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 581.74 @ $150.37
2025-10-31 10:28:19.176 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:19.177 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:19.177 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,564.69, Cash end=$-0.00
2025-10-31 10:28:19.178 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:19.178 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:19.179 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:19.179 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 581.74 shares @ $150.37 (Value: $87,477.21)
2025-10-31 10:28:19.180 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.180 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,477.21
2025-10-31 10:28:19.181 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:19.182 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.91
2025-10-31 10:28:19.182 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.183 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:19.184 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $85,079.53
2025-10-31 10:28:19.184 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:19.185 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.186 | INFO     | src.backtesting.engine:run:293 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:19.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.188 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0811051176218518
2025-10-31 10:28:19.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03823797219127867
2025-10-31 10:28:19.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08937036751513094
2025-10-31 10:28:19.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:19.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0811 (8.11%) - PASS
2025-10-31 10:28:19.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0382 (3.82%) - PASS
2025-10-31 10:28:19.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0894 (8.94%) - PASS
2025-10-31 10:28:19.194 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:19.195 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.195 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:19.196 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:19.196 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:19.197 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 581.74 @ $146.18 (P&L: $-2,440.22)
2025-10-31 10:28:19.198 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $84,951.96
2025-10-31 10:28:19.198 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$85,079.53, Cash=$84,951.96, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:19.199 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:19.199 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:19.200 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:19.200 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:19.201 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:19.202 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 559.63
2025-10-31 10:28:19.202 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $85.08
2025-10-31 10:28:19.203 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $85,164.61
2025-10-31 10:28:19.203 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 558.24 @ $152.03
2025-10-31 10:28:19.204 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:19.204 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:19.205 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$84,951.96, Cash end=$-0.00
2025-10-31 10:28:19.205 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:19.206 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:19.207 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:19.207 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 558.24 shares @ $152.03 (Value: $84,867.09)
2025-10-31 10:28:19.208 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.208 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $84,867.09
2025-10-31 10:28:19.209 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:19.209 | INFO     | src.backtesting.engine:run:336 -      Change: $-212.44
2025-10-31 10:28:19.210 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.211 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 558.24 @ $151.85 (P&L: $-96.75)
2025-10-31 10:28:19.213 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-09-10 to 2023-12-31
2025-10-31 10:28:19.214 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:19.222 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:19.224 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:19.225 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'AGG_quantity', 'AGG_price', 'AGG_value', 'EFA_quantity', 'EFA_price', 'EFA_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:19.226 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 843 records (performance period)
2025-10-31 10:28:19.305 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:19.306 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:19.307 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:19.307 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 843
2025-10-31 10:28:19.308 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:19.308 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (843, 18)
2025-10-31 10:28:19.309 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:19.309 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:19.320 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-09-10    100000.000000  1.000000e+05  ...        NaN      NaN
2021-09-11     96272.216190 -1.455192e-11  ...        NaN      NaN
2021-09-12    101109.070476 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:19.321 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:19.332 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2023-12-29     84299.707862 -1.455192e-11  ...        NaN      NaN
2023-12-30     82574.588149 -1.455192e-11  ...        NaN      NaN
2023-12-31     84812.741501 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:19.333 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:19.333 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $84,812.74 (-15.19% return)
2025-10-31 10:28:19.334 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102818.log
2025-10-31 10:28:19.338 | INFO     | src.backtesting.hyperparameter_tuner:save_comparison_results:1022 - Saved comparison metrics to /tmp/pytest-of-ubuntu/pytest-0/test_save_comparison_results0/test_comparison_20251031_102819_comparison.csv
2025-10-31 10:28:19.340 | INFO     | src.backtesting.hyperparameter_tuner:save_comparison_results:1043 - Saved comparison summary to /tmp/pytest-of-ubuntu/pytest-0/test_save_comparison_results0/test_comparison_20251031_102819_summary.json
2025-10-31 10:28:19.341 | INFO     | src.backtesting.hyperparameter_tuner:save_comparison_results:1050 - Saved full comparison to /tmp/pytest-of-ubuntu/pytest-0/test_save_comparison_results0/test_comparison_20251031_102819_full_comparison.pkl
2025-10-31 10:28:19.347 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:19.349 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:19.349 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-31 10:28:19.359 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-31 10:28:19.360 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-31 10:28:19.361 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-31 10:28:19.363 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-31 10:28:19.363 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-31 10:28:19.364 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-31 10:28:19.365 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-31 10:28:19.365 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-31 10:28:19.366 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-31 10:28:19.366 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-31 10:28:19.368 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:19.369 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-31 10:28:20.210 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-31 10:28:20.211 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-31 10:28:20.212 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-31 10:28:20.213 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-31 10:28:20.214 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-31 10:28:20.215 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-31 10:28:20.215 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-31 10:28:20.216 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-31 10:28:20.216 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-31 10:28:20.217 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-31 10:28:20.219 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.219 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-31 10:28:20.220 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-31 10:28:20.222 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-31 10:28:20.222 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-31 10:28:20.223 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-31 10:28:20.225 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.225 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-31 10:28:20.238 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-31 10:28:20.239 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-31 10:28:20.240 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-31 10:28:20.241 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-31 10:28:20.243 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.244 | INFO     | src.core.plugin_manager:discover_all:173 - Starting plugin discovery...
2025-10-31 10:28:20.244 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-31 10:28:20.245 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-31 10:28:20.246 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-31 10:28:20.247 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-31 10:28:20.248 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-31 10:28:20.249 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-31 10:28:20.250 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-31 10:28:20.251 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-31 10:28:20.251 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-31 10:28:20.252 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-31 10:28:20.252 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-31 10:28:20.253 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-31 10:28:20.254 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-31 10:28:20.255 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-31 10:28:20.256 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-31 10:28:20.257 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-31 10:28:20.258 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-31 10:28:20.259 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-31 10:28:20.259 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-31 10:28:20.260 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-31 10:28:20.261 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-31 10:28:20.261 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-31 10:28:20.262 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-31 10:28:20.263 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-31 10:28:20.264 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-31 10:28:20.264 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-31 10:28:20.265 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-31 10:28:20.266 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-31 10:28:20.271 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-31 10:28:20.272 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-31 10:28:20.273 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-31 10:28:20.274 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-31 10:28:20.274 | INFO     | src.core.plugin_manager:discover_all:180 - Plugin discovery complete
2025-10-31 10:28:20.275 | INFO     | src.core.plugin_manager:_log_summary:454 - ============================================================
2025-10-31 10:28:20.276 | INFO     | src.core.plugin_manager:_log_summary:455 - PLUGIN DISCOVERY SUMMARY
2025-10-31 10:28:20.276 | INFO     | src.core.plugin_manager:_log_summary:456 - ============================================================
2025-10-31 10:28:20.277 | INFO     | src.core.plugin_manager:_log_summary:457 - Asset Classes:  5
2025-10-31 10:28:20.277 | INFO     | src.core.plugin_manager:_log_summary:458 - Data Sources:   5
2025-10-31 10:28:20.278 | INFO     | src.core.plugin_manager:_log_summary:459 - Strategies:     2
2025-10-31 10:28:20.278 | INFO     | src.core.plugin_manager:_log_summary:460 - Risk Managers:  1
2025-10-31 10:28:20.279 | INFO     | src.core.plugin_manager:_log_summary:461 - ============================================================
2025-10-31 10:28:20.279 | INFO     | src.core.plugin_manager:_log_summary:464 - Asset Classes: EquityAsset, BondAsset, CommodityAsset, FXAsset, CryptoAsset
2025-10-31 10:28:20.280 | INFO     | src.core.plugin_manager:_log_summary:466 - Data Sources: MultiSourceDataProvider, YahooFinanceDirectSource, TwelveDataSource, AlphaVantageSource, YahooFinanceSource
2025-10-31 10:28:20.281 | INFO     | src.core.plugin_manager:_log_summary:468 - Strategies: AbsoluteMomentumStrategy, DualMomentumStrategy
2025-10-31 10:28:20.281 | INFO     | src.core.plugin_manager:_log_summary:470 - Risk Managers: BasicRiskManager
2025-10-31 10:28:20.283 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.284 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-31 10:28:20.285 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-31 10:28:20.286 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-31 10:28:20.287 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-31 10:28:20.288 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-31 10:28:20.289 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-31 10:28:20.289 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-31 10:28:20.290 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-31 10:28:20.290 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-31 10:28:20.291 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-31 10:28:20.291 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-31 10:28:20.293 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.294 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-31 10:28:20.295 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-31 10:28:20.297 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-31 10:28:20.298 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-31 10:28:20.299 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-31 10:28:20.300 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-31 10:28:20.301 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-31 10:28:20.301 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-31 10:28:20.302 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-31 10:28:20.302 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-31 10:28:20.303 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-31 10:28:20.305 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.305 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-31 10:28:20.306 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-31 10:28:20.307 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-31 10:28:20.308 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-31 10:28:20.309 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-31 10:28:20.309 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-31 10:28:20.311 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.312 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-31 10:28:20.316 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-31 10:28:20.318 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-31 10:28:20.319 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-31 10:28:20.320 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-31 10:28:20.320 | INFO     | src.core.cash_manager:__init__:93 - Initialized CashManager: strategic=0.0%, operational=2.0%, min_buffer=$100.00
2025-10-31 10:28:20.322 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.323 | INFO     | src.core.plugin_manager:discover_all:173 - Starting plugin discovery...
2025-10-31 10:28:20.323 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-31 10:28:20.324 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-31 10:28:20.325 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-31 10:28:20.326 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-31 10:28:20.327 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-31 10:28:20.328 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-31 10:28:20.329 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-31 10:28:20.330 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-31 10:28:20.330 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-31 10:28:20.331 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-31 10:28:20.331 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-31 10:28:20.332 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-31 10:28:20.333 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-31 10:28:20.334 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-31 10:28:20.335 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-31 10:28:20.336 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-31 10:28:20.337 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-31 10:28:20.338 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-31 10:28:20.339 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-31 10:28:20.339 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-31 10:28:20.340 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-31 10:28:20.340 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-31 10:28:20.341 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-31 10:28:20.342 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-31 10:28:20.343 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-31 10:28:20.343 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-31 10:28:20.344 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-31 10:28:20.345 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-31 10:28:20.350 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-31 10:28:20.351 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-31 10:28:20.352 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-31 10:28:20.353 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-31 10:28:20.354 | INFO     | src.core.plugin_manager:discover_all:180 - Plugin discovery complete
2025-10-31 10:28:20.354 | INFO     | src.core.plugin_manager:_log_summary:454 - ============================================================
2025-10-31 10:28:20.355 | INFO     | src.core.plugin_manager:_log_summary:455 - PLUGIN DISCOVERY SUMMARY
2025-10-31 10:28:20.355 | INFO     | src.core.plugin_manager:_log_summary:456 - ============================================================
2025-10-31 10:28:20.356 | INFO     | src.core.plugin_manager:_log_summary:457 - Asset Classes:  5
2025-10-31 10:28:20.356 | INFO     | src.core.plugin_manager:_log_summary:458 - Data Sources:   5
2025-10-31 10:28:20.357 | INFO     | src.core.plugin_manager:_log_summary:459 - Strategies:     2
2025-10-31 10:28:20.357 | INFO     | src.core.plugin_manager:_log_summary:460 - Risk Managers:  1
2025-10-31 10:28:20.358 | INFO     | src.core.plugin_manager:_log_summary:461 - ============================================================
2025-10-31 10:28:20.359 | INFO     | src.core.plugin_manager:_log_summary:464 - Asset Classes: EquityAsset, BondAsset, CommodityAsset, FXAsset, CryptoAsset
2025-10-31 10:28:20.359 | INFO     | src.core.plugin_manager:_log_summary:466 - Data Sources: MultiSourceDataProvider, YahooFinanceDirectSource, TwelveDataSource, AlphaVantageSource, YahooFinanceSource
2025-10-31 10:28:20.360 | INFO     | src.core.plugin_manager:_log_summary:468 - Strategies: AbsoluteMomentumStrategy, DualMomentumStrategy
2025-10-31 10:28:20.360 | INFO     | src.core.plugin_manager:_log_summary:470 - Risk Managers: BasicRiskManager
2025-10-31 10:28:20.362 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.363 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: TestStrategy
2025-10-31 10:28:20.366 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-31 10:28:20.367 | INFO     | src.backtesting.engine:__init__:101 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-31 10:28:20.367 | INFO     | src.backtesting.engine:__init__:108 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-31 10:28:20.368 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:20.376 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102820.log
2025-10-31 10:28:20.376 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:20.377 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2023-01-01 to 2023-12-31
2025-10-31 10:28:20.379 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2023-01-01 00:00:00 to 2023-12-31 00:00:00 (365 periods)
2025-10-31 10:28:20.379 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2023-03-02 00:00:00 (after 60 periods of warm-up data)
2025-10-31 10:28:20.380 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.381 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.381 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.382 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2023-03-02
2025-10-31 10:28:20.383 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-02
2025-10-31 10:28:20.386 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:20.387 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:20.387 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:20.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.391 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.392 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.04499753275362561
2025-10-31 10:28:20.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.11410227867333256
2025-10-31 10:28:20.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.06402916556234939
2025-10-31 10:28:20.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03043683262574659
2025-10-31 10:28:20.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-02 00:00:00:
2025-10-31 10:28:20.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0450 (-4.50%) - FAIL
2025-10-31 10:28:20.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1141 (11.41%) - PASS
2025-10-31 10:28:20.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0640 (-6.40%) - FAIL
2025-10-31 10:28:20.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0304 (-3.04%) - FAIL
2025-10-31 10:28:20.461 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['QQQ']
2025-10-31 10:28:20.461 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:20.462 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:20.462 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-02: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:20.463 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=33.33%
2025-10-31 10:28:20.464 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['QQQ']
2025-10-31 10:28:20.464 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:20.465 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $200.02 ? $200.12 (slippage: 0.050%)
2025-10-31 10:28:20.465 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:20.466 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 166.57
2025-10-31 10:28:20.467 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.33
2025-10-31 10:28:20.467 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,366.67
2025-10-31 10:28:20.468 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 166.57 @ $200.12
2025-10-31 10:28:20.468 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.469 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,633.33
2025-10-31 10:28:20.469 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$33,366.67, Cash end=$66,633.33
2025-10-31 10:28:20.470 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.471 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 166.57 shares @ $200.12 (Value: $33,333.33)
2025-10-31 10:28:20.471 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.472 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,966.67
2025-10-31 10:28:20.472 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,633.33
2025-10-31 10:28:20.473 | INFO     | src.backtesting.engine:run:336 -      Change: $-33.33
2025-10-31 10:28:20.473 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.475 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:20.475 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $101,791.68
2025-10-31 10:28:20.476 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,633.33
2025-10-31 10:28:20.476 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.477 | INFO     | src.backtesting.engine:run:293 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35, P&L: $1,825.01)
2025-10-31 10:28:20.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.480 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.481 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.481 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.482 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.482 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.015725998040660993
2025-10-31 10:28:20.483 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.05316804719891466
2025-10-31 10:28:20.484 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.05842940431667065
2025-10-31 10:28:20.484 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.031081946897098534
2025-10-31 10:28:20.485 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:20.485 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0157 (1.57%) - PASS
2025-10-31 10:28:20.486 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0532 (5.32%) - PASS
2025-10-31 10:28:20.486 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0584 (5.84%) - PASS
2025-10-31 10:28:20.487 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0311 (-3.11%) - FAIL
2025-10-31 10:28:20.488 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:20.488 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.489 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:20.489 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.91)
2025-10-31 10:28:20.490 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.27)
2025-10-31 10:28:20.490 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.491 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35)
2025-10-31 10:28:20.492 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$101,791.68, Cash=$66,633.33, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:20.492 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=45.89%, QQQ=41.76%, SPY=12.35%
2025-10-31 10:28:20.493 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:20.493 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:20.494 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:20.495 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $159.65 ? $159.73 (slippage: 0.050%)
2025-10-31 10:28:20.495 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:20.496 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 292.46
2025-10-31 10:28:20.496 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $46.71
2025-10-31 10:28:20.497 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $46,759.45
2025-10-31 10:28:20.497 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 292.46 @ $159.73
2025-10-31 10:28:20.498 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.498 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $19,873.88
2025-10-31 10:28:20.499 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 166.57 shares worth $35,158.35
2025-10-31 10:28:20.500 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:20.500 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $211.07 ? $211.18 (slippage: 0.050%)
2025-10-31 10:28:20.501 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.91 confidence=0.73
2025-10-31 10:28:20.501 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 201.28
2025-10-31 10:28:20.502 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 166.57
2025-10-31 10:28:20.503 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +34.71
2025-10-31 10:28:20.503 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.33
2025-10-31 10:28:20.504 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,337.83
2025-10-31 10:28:20.504 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 34.71 more shares at $211.18 (cost: $7,337.83)
2025-10-31 10:28:20.505 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.505 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,536.05
2025-10-31 10:28:20.506 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:20.507 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.65 ? $147.73 (slippage: 0.050%)
2025-10-31 10:28:20.507 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.27 confidence=0.73
2025-10-31 10:28:20.508 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 85.11
2025-10-31 10:28:20.508 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.57
2025-10-31 10:28:20.509 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $12,585.09
2025-10-31 10:28:20.510 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 84.77 @ $147.73
2025-10-31 10:28:20.510 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.511 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.511 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,633.33, Cash end=$-0.00
2025-10-31 10:28:20.512 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.512 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 84.77 shares @ $147.73 (Value: $12,523.53)
2025-10-31 10:28:20.513 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 292.46 shares @ $159.73 (Value: $46,712.74)
2025-10-31 10:28:20.513 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.514 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $101,721.45
2025-10-31 10:28:20.514 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.515 | INFO     | src.backtesting.engine:run:336 -      Change: $-70.23
2025-10-31 10:28:20.516 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.518 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:20.518 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,945.18
2025-10-31 10:28:20.519 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:20.519 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.520 | INFO     | src.backtesting.engine:run:293 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51, P&L: $3,630.66)
2025-10-31 10:28:20.520 | INFO     | src.backtesting.engine:run:293 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24, P&L: $-431.50)
2025-10-31 10:28:20.521 | INFO     | src.backtesting.engine:run:293 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43, P&L: $229.90)
2025-10-31 10:28:20.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.045393745602212654
2025-10-31 10:28:20.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.09068098737114672
2025-10-31 10:28:20.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.06923287243941179
2025-10-31 10:28:20.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.01663965694722691
2025-10-31 10:28:20.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:20.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0454 (4.54%) - PASS
2025-10-31 10:28:20.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0907 (9.07%) - PASS
2025-10-31 10:28:20.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0692 (6.92%) - PASS
2025-10-31 10:28:20.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0166 (1.66%) - PASS
2025-10-31 10:28:20.532 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'SPY']
2025-10-31 10:28:20.533 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.533 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:20.534 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.76)
2025-10-31 10:28:20.534 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.50)
2025-10-31 10:28:20.535 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.535 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51)
2025-10-31 10:28:20.536 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24)
2025-10-31 10:28:20.537 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43)
2025-10-31 10:28:20.537 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$102,945.18, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:20.538 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=44.17%, DIA=33.72%, SPY=22.11%
2025-10-31 10:28:20.538 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-31 10:28:20.539 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['QQQ', 'SPY']
2025-10-31 10:28:20.540 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 292.46 shares worth $46,281.24
2025-10-31 10:28:20.540 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:20.541 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $158.25 ? $158.33 (slippage: 0.050%)
2025-10-31 10:28:20.541 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.76 confidence=0.77
2025-10-31 10:28:20.542 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 219.26
2025-10-31 10:28:20.542 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 292.46
2025-10-31 10:28:20.543 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -73.20
2025-10-31 10:28:20.544 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.59
2025-10-31 10:28:20.544 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-11,578.10
2025-10-31 10:28:20.545 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 73.20 shares at $158.17 (proceeds: $11,566.53)
2025-10-31 10:28:20.545 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.546 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $11,566.53
2025-10-31 10:28:20.546 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 201.28 shares worth $43,910.51
2025-10-31 10:28:20.547 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:20.548 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $218.15 ? $218.26 (slippage: 0.050%)
2025-10-31 10:28:20.548 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:20.549 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 208.32
2025-10-31 10:28:20.549 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 201.28
2025-10-31 10:28:20.550 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +7.04
2025-10-31 10:28:20.550 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.54
2025-10-31 10:28:20.551 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $1,538.26
2025-10-31 10:28:20.552 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 7.04 more shares at $218.26 (cost: $1,538.26)
2025-10-31 10:28:20.552 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.553 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,028.26
2025-10-31 10:28:20.553 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 84.77 shares worth $12,753.43
2025-10-31 10:28:20.554 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:20.554 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.44 ? $150.51 (slippage: 0.050%)
2025-10-31 10:28:20.555 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.50 confidence=0.77
2025-10-31 10:28:20.556 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 151.22
2025-10-31 10:28:20.556 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 84.77
2025-10-31 10:28:20.557 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +66.45
2025-10-31 10:28:20.557 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.00
2025-10-31 10:28:20.558 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,011.49
2025-10-31 10:28:20.558 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 66.45 more shares at $150.51 (cost: $10,011.49)
2025-10-31 10:28:20.559 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.559 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $16.77
2025-10-31 10:28:20.560 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$23,127.85, Cash end=$16.77
2025-10-31 10:28:20.561 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:20.561 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.562 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,910.50
2025-10-31 10:28:20.562 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $16.77
2025-10-31 10:28:20.563 | INFO     | src.backtesting.engine:run:336 -      Change: $-34.67
2025-10-31 10:28:20.563 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.565 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:20.566 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,774.69
2025-10-31 10:28:20.567 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $16.77
2025-10-31 10:28:20.567 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.568 | INFO     | src.backtesting.engine:run:293 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62, P&L: $4,612.82)
2025-10-31 10:28:20.568 | INFO     | src.backtesting.engine:run:293 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:20.569 | INFO     | src.backtesting.engine:run:293 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65, P&L: $279.84)
2025-10-31 10:28:20.571 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.572 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.574 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.004610003578679356
2025-10-31 10:28:20.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06348391297189138
2025-10-31 10:28:20.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.03305545502013918
2025-10-31 10:28:20.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.009852101656577128
2025-10-31 10:28:20.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:20.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0046 (0.46%) - PASS
2025-10-31 10:28:20.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0635 (6.35%) - PASS
2025-10-31 10:28:20.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0331 (-3.31%) - FAIL
2025-10-31 10:28:20.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0099 (0.99%) - PASS
2025-10-31 10:28:20.580 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'IWM', 'SPY']
2025-10-31 10:28:20.580 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.581 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:20.581 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.16)
2025-10-31 10:28:20.582 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.07)
2025-10-31 10:28:20.582 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.583 | INFO     | src.backtesting.engine:_execute_signals:787 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:20.584 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 219.26 @ $154.25 (P&L: $-1,201.11)
2025-10-31 10:28:20.584 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $33,802.68
2025-10-31 10:28:20.585 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.585 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62)
2025-10-31 10:28:20.586 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65)
2025-10-31 10:28:20.586 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$102,774.69, Cash=$33,802.68, Comm=0.1000%, Slip=0.0500%, Scale=0.670090
2025-10-31 10:28:20.587 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=81.45%, IWM=12.64%, SPY=5.91%
2025-10-31 10:28:20.588 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:20.588 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['QQQ', 'IWM']
2025-10-31 10:28:20.589 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 151.22 shares worth $22,619.65
2025-10-31 10:28:20.589 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:20.590 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.58 ? $149.65 (slippage: 0.050%)
2025-10-31 10:28:20.590 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.07 confidence=0.95
2025-10-31 10:28:20.591 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 40.62
2025-10-31 10:28:20.592 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 151.22
2025-10-31 10:28:20.592 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -110.61
2025-10-31 10:28:20.593 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $16.55
2025-10-31 10:28:20.593 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-16,535.95
2025-10-31 10:28:20.594 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 110.61 shares at $149.50 (proceeds: $16,519.42)
2025-10-31 10:28:20.594 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.595 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,322.10
2025-10-31 10:28:20.596 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 208.32 shares worth $46,301.62
2025-10-31 10:28:20.596 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:20.597 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $222.26 ? $222.37 (slippage: 0.050%)
2025-10-31 10:28:20.597 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:20.598 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 376.43
2025-10-31 10:28:20.598 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 208.32
2025-10-31 10:28:20.599 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +168.10
2025-10-31 10:28:20.600 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $37.38
2025-10-31 10:28:20.600 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $37,418.48
2025-10-31 10:28:20.601 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 168.10 more shares at $222.37 (cost: $37,418.48)
2025-10-31 10:28:20.601 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.602 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,903.62
2025-10-31 10:28:20.602 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:20.603 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $139.90 ? $139.97 (slippage: 0.050%)
2025-10-31 10:28:20.604 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.16 confidence=0.95
2025-10-31 10:28:20.604 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 92.81
2025-10-31 10:28:20.605 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.99
2025-10-31 10:28:20.605 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $13,003.35
2025-10-31 10:28:20.606 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 92.10 @ $139.97
2025-10-31 10:28:20.606 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.607 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.608 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,858.05, Cash end=$-0.00
2025-10-31 10:28:20.608 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.609 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:20.609 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.610 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 92.10 shares @ $139.97 (Value: $12,890.73)
2025-10-31 10:28:20.610 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.611 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,630.20
2025-10-31 10:28:20.611 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.612 | INFO     | src.backtesting.engine:run:336 -      Change: $-144.50
2025-10-31 10:28:20.613 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.615 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:20.615 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,657.36
2025-10-31 10:28:20.616 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:20.616 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.617 | INFO     | src.backtesting.engine:run:293 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:20.618 | INFO     | src.backtesting.engine:run:293 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12, P&L: $569.86)
2025-10-31 10:28:20.618 | INFO     | src.backtesting.engine:run:293 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:20.620 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.621 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.622 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.624 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08243568296077863
2025-10-31 10:28:20.624 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: -0.011855044558411465
2025-10-31 10:28:20.625 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.04793936688623612
2025-10-31 10:28:20.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.014465489862648284
2025-10-31 10:28:20.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:20.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0824 (8.24%) - PASS
2025-10-31 10:28:20.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: -0.0119 (-1.19%) - FAIL
2025-10-31 10:28:20.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0479 (-4.79%) - FAIL
2025-10-31 10:28:20.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0145 (-1.45%) - FAIL
2025-10-31 10:28:20.629 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:20.630 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:20.630 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:20.631 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.631 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:20.632 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 376.43 @ $216.54 (P&L: $6,183.15)
2025-10-31 10:28:20.632 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:20.633 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 92.10 @ $136.03 (P&L: $-362.67)
2025-10-31 10:28:20.634 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,946.16
2025-10-31 10:28:20.634 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.635 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12)
2025-10-31 10:28:20.635 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$100,657.36, Cash=$93,946.16, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:20.636 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=33.33%
2025-10-31 10:28:20.636 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:20.637 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:20.638 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 40.62 shares worth $6,570.12
2025-10-31 10:28:20.638 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:20.639 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.76 ? $161.84 (slippage: 0.050%)
2025-10-31 10:28:20.639 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:20.640 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 207.32
2025-10-31 10:28:20.640 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 40.62
2025-10-31 10:28:20.641 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +166.70
2025-10-31 10:28:20.642 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.98
2025-10-31 10:28:20.642 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $27,006.02
2025-10-31 10:28:20.643 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 166.70 more shares at $161.84 (cost: $27,006.02)
2025-10-31 10:28:20.643 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.644 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,940.13
2025-10-31 10:28:20.644 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$27,006.02, Cash end=$66,940.13
2025-10-31 10:28:20.645 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.646 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:20.646 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:20.647 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.647 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,475.82
2025-10-31 10:28:20.648 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,940.13
2025-10-31 10:28:20.648 | INFO     | src.backtesting.engine:run:336 -      Change: $-181.55
2025-10-31 10:28:20.649 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.650 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:20.651 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,459.85
2025-10-31 10:28:20.651 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,940.13
2025-10-31 10:28:20.652 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.652 | INFO     | src.backtesting.engine:run:293 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71, P&L: $4,892.77)
2025-10-31 10:28:20.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.656 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.656 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1509633395417309
2025-10-31 10:28:20.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025289187687097314
2025-10-31 10:28:20.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.062017589828790465
2025-10-31 10:28:20.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03926623386501071
2025-10-31 10:28:20.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:20.661 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1510 (15.10%) - PASS
2025-10-31 10:28:20.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0253 (2.53%) - PASS
2025-10-31 10:28:20.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0620 (6.20%) - PASS
2025-10-31 10:28:20.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0393 (-3.93%) - FAIL
2025-10-31 10:28:20.663 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:20.664 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.664 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:20.665 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.41)
2025-10-31 10:28:20.666 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.17)
2025-10-31 10:28:20.666 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.667 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71)
2025-10-31 10:28:20.667 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$102,459.85, Cash=$66,940.13, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:20.668 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=63.36%, DIA=26.03%, QQQ=10.61%
2025-10-31 10:28:20.668 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:20.669 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:20.670 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 207.32 shares worth $35,519.71
2025-10-31 10:28:20.670 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:20.671 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.33 ? $171.41 (slippage: 0.050%)
2025-10-31 10:28:20.671 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:20.672 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 378.71
2025-10-31 10:28:20.672 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 207.32
2025-10-31 10:28:20.673 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +171.39
2025-10-31 10:28:20.674 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.38
2025-10-31 10:28:20.674 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,408.48
2025-10-31 10:28:20.675 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 171.39 more shares at $171.41 (cost: $29,408.48)
2025-10-31 10:28:20.675 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.676 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $37,531.65
2025-10-31 10:28:20.676 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:20.677 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.45 ? $161.53 (slippage: 0.050%)
2025-10-31 10:28:20.678 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.41 confidence=0.88
2025-10-31 10:28:20.678 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 165.10
2025-10-31 10:28:20.679 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.67
2025-10-31 10:28:20.679 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $26,695.19
2025-10-31 10:28:20.680 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 165.10 @ $161.53
2025-10-31 10:28:20.680 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.681 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,836.46
2025-10-31 10:28:20.682 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:20.682 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $226.13 ? $226.24 (slippage: 0.050%)
2025-10-31 10:28:20.683 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.17 confidence=0.88
2025-10-31 10:28:20.683 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 48.07
2025-10-31 10:28:20.684 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.87
2025-10-31 10:28:20.684 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,885.62
2025-10-31 10:28:20.685 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 47.85 @ $226.24
2025-10-31 10:28:20.686 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.686 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.687 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,940.13, Cash end=$-0.00
2025-10-31 10:28:20.687 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.688 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 47.85 shares @ $226.24 (Value: $10,825.63)
2025-10-31 10:28:20.688 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 165.10 shares @ $161.53 (Value: $26,668.53)
2025-10-31 10:28:20.689 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.690 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,378.29
2025-10-31 10:28:20.690 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.691 | INFO     | src.backtesting.engine:run:336 -      Change: $-81.56
2025-10-31 10:28:20.691 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.693 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:20.694 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,776.38
2025-10-31 10:28:20.695 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:20.695 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.696 | INFO     | src.backtesting.engine:run:293 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75, P&L: $9,757.28)
2025-10-31 10:28:20.696 | INFO     | src.backtesting.engine:run:293 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63, P&L: $328.11)
2025-10-31 10:28:20.697 | INFO     | src.backtesting.engine:run:293 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:20.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.701 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.702 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.702 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07630945219379859
2025-10-31 10:28:20.703 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06449609968159464
2025-10-31 10:28:20.704 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.09037486049938193
2025-10-31 10:28:20.704 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.07872675247019179
2025-10-31 10:28:20.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:20.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0763 (7.63%) - PASS
2025-10-31 10:28:20.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0645 (6.45%) - PASS
2025-10-31 10:28:20.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0904 (9.04%) - PASS
2025-10-31 10:28:20.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0787 (7.87%) - PASS
2025-10-31 10:28:20.708 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'IWM', 'SPY']
2025-10-31 10:28:20.708 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.709 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:20.709 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.87)
2025-10-31 10:28:20.710 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.84)
2025-10-31 10:28:20.710 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.711 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:20.712 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 47.85 @ $231.36 (P&L: $244.83)
2025-10-31 10:28:20.712 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $11,059.39
2025-10-31 10:28:20.713 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.713 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75)
2025-10-31 10:28:20.714 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63)
2025-10-31 10:28:20.714 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$103,776.38, Cash=$11,059.39, Comm=0.1000%, Slip=0.0500%, Scale=0.248216
2025-10-31 10:28:20.715 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=36.83%, IWM=32.08%, SPY=31.09%
2025-10-31 10:28:20.716 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:20.716 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['DIA', 'IWM']
2025-10-31 10:28:20.717 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 378.71 shares worth $65,703.75
2025-10-31 10:28:20.717 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:20.718 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $173.49 ? $173.58 (slippage: 0.050%)
2025-10-31 10:28:20.718 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.84 confidence=0.74
2025-10-31 10:28:20.719 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 185.90
2025-10-31 10:28:20.720 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 378.71
2025-10-31 10:28:20.720 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -192.81
2025-10-31 10:28:20.721 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.47
2025-10-31 10:28:20.721 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-33,434.34
2025-10-31 10:28:20.722 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 192.81 shares at $173.41 (proceeds: $33,400.93)
2025-10-31 10:28:20.722 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.723 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44,460.31
2025-10-31 10:28:20.724 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 165.10 shares worth $26,996.63
2025-10-31 10:28:20.724 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:20.725 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $163.51 ? $163.60 (slippage: 0.050%)
2025-10-31 10:28:20.725 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:20.726 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 233.60
2025-10-31 10:28:20.726 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 165.10
2025-10-31 10:28:20.727 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +68.50
2025-10-31 10:28:20.728 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.21
2025-10-31 10:28:20.728 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $11,217.67
2025-10-31 10:28:20.729 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 68.50 more shares at $163.60 (cost: $11,217.67)
2025-10-31 10:28:20.729 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.730 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $33,242.64
2025-10-31 10:28:20.730 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:20.731 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.47 ? $147.54 (slippage: 0.050%)
2025-10-31 10:28:20.732 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.87 confidence=0.74
2025-10-31 10:28:20.732 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 225.64
2025-10-31 10:28:20.733 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.29
2025-10-31 10:28:20.733 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,324.28
2025-10-31 10:28:20.734 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 225.09 @ $147.54
2025-10-31 10:28:20.734 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.735 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:20.736 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$77,894.66, Cash end=$0.00
2025-10-31 10:28:20.736 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.737 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:20.737 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.738 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 225.09 shares @ $147.54 (Value: $33,209.43)
2025-10-31 10:28:20.738 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.739 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,659.60
2025-10-31 10:28:20.739 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:20.740 | INFO     | src.backtesting.engine:run:336 -      Change: $-116.78
2025-10-31 10:28:20.740 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.743 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:20.743 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,935.60
2025-10-31 10:28:20.744 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:20.744 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.745 | INFO     | src.backtesting.engine:run:293 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:20.745 | INFO     | src.backtesting.engine:run:293 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76, P&L: $2,221.50)
2025-10-31 10:28:20.746 | INFO     | src.backtesting.engine:run:293 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47, P&L: $-1,137.96)
2025-10-31 10:28:20.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0039514597871386226
2025-10-31 10:28:20.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.10084006286237446
2025-10-31 10:28:20.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.051236546823340445
2025-10-31 10:28:20.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.04667704995213828
2025-10-31 10:28:20.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:20.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0040 (-0.40%) - FAIL
2025-10-31 10:28:20.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1008 (10.08%) - PASS
2025-10-31 10:28:20.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0512 (5.12%) - PASS
2025-10-31 10:28:20.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0467 (4.67%) - PASS
2025-10-31 10:28:20.757 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'IWM']
2025-10-31 10:28:20.758 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.758 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:20.759 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.51)
2025-10-31 10:28:20.759 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.46)
2025-10-31 10:28:20.760 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.760 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:20.761 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 185.90 @ $171.56 (P&L: $4,430.40)
2025-10-31 10:28:20.761 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $31,861.52
2025-10-31 10:28:20.762 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.763 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76)
2025-10-31 10:28:20.763 | INFO     | src.backtesting.engine:_execute_signals:796 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47)
2025-10-31 10:28:20.764 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$103,935.60, Cash=$31,861.52, Comm=0.1000%, Slip=0.0500%, Scale=0.603601
2025-10-31 10:28:20.764 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=50.74%, DIA=25.78%, IWM=23.48%
2025-10-31 10:28:20.765 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:20.765 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA', 'IWM'], then buys: ['QQQ']
2025-10-31 10:28:20.766 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 233.60 shares worth $39,954.76
2025-10-31 10:28:20.767 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:20.767 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.04 ? $171.12 (slippage: 0.050%)
2025-10-31 10:28:20.768 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.51 confidence=0.85
2025-10-31 10:28:20.768 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 156.57
2025-10-31 10:28:20.769 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 233.60
2025-10-31 10:28:20.769 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -77.03
2025-10-31 10:28:20.770 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $13.18
2025-10-31 10:28:20.771 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-13,168.08
2025-10-31 10:28:20.771 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 77.03 shares at $170.95 (proceeds: $13,154.92)
2025-10-31 10:28:20.772 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.772 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45,016.44
2025-10-31 10:28:20.773 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 225.09 shares worth $32,071.47
2025-10-31 10:28:20.774 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE IWM [relative_top]
2025-10-31 10:28:20.774 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.48 ? $142.56 (slippage: 0.050%)
2025-10-31 10:28:20.775 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.85
2025-10-31 10:28:20.775 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 171.23
2025-10-31 10:28:20.776 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 225.09
2025-10-31 10:28:20.776 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -53.86
2025-10-31 10:28:20.777 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.68
2025-10-31 10:28:20.777 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-7,670.69
2025-10-31 10:28:20.778 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting IWM: selling 53.86 shares at $142.41 (proceeds: $7,663.02)
2025-10-31 10:28:20.779 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.779 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,679.46
2025-10-31 10:28:20.780 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:20.780 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $248.11 ? $248.24 (slippage: 0.050%)
2025-10-31 10:28:20.781 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.85
2025-10-31 10:28:20.781 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 212.43
2025-10-31 10:28:20.782 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $52.73
2025-10-31 10:28:20.783 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $52,785.71
2025-10-31 10:28:20.783 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 212.00 @ $248.24
2025-10-31 10:28:20.784 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.784 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.785 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$73,518.22, Cash end=$-0.00
2025-10-31 10:28:20.786 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.786 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:20.787 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.787 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 212.00 shares @ $248.24 (Value: $52,626.83)
2025-10-31 10:28:20.788 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.788 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,803.86
2025-10-31 10:28:20.789 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.789 | INFO     | src.backtesting.engine:run:336 -      Change: $-131.74
2025-10-31 10:28:20.790 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.792 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:20.793 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,349.31
2025-10-31 10:28:20.793 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:20.794 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.794 | INFO     | src.backtesting.engine:run:293 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36, P&L: $1,574.25)
2025-10-31 10:28:20.795 | INFO     | src.backtesting.engine:run:293 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:20.795 | INFO     | src.backtesting.engine:run:293 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05, P&L: $-1,361.77)
2025-10-31 10:28:20.798 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.799 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.799 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.800 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03331412880741369
2025-10-31 10:28:20.802 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025524862883118393
2025-10-31 10:28:20.802 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.055422735445618265
2025-10-31 10:28:20.803 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.041833731525131146
2025-10-31 10:28:20.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:20.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0333 (3.33%) - PASS
2025-10-31 10:28:20.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0255 (2.55%) - PASS
2025-10-31 10:28:20.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0554 (5.54%) - PASS
2025-10-31 10:28:20.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0418 (-4.18%) - FAIL
2025-10-31 10:28:20.806 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'SPY', 'QQQ']
2025-10-31 10:28:20.807 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.807 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:20.808 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.60)
2025-10-31 10:28:20.809 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.46)
2025-10-31 10:28:20.809 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.810 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:20.810 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 171.23 @ $141.37 (P&L: $-1,055.81)
2025-10-31 10:28:20.811 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $24,182.58
2025-10-31 10:28:20.811 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.812 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36)
2025-10-31 10:28:20.813 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05)
2025-10-31 10:28:20.813 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$102,349.31, Cash=$24,182.58, Comm=0.1000%, Slip=0.0500%, Scale=0.459109
2025-10-31 10:28:20.814 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=48.51%, SPY=29.16%, QQQ=22.34%
2025-10-31 10:28:20.814 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:20.815 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['QQQ'], then buys: ['DIA', 'SPY']
2025-10-31 10:28:20.815 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 212.00 shares worth $51,265.05
2025-10-31 10:28:20.816 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE QQQ [relative_top]
2025-10-31 10:28:20.817 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $241.81 ? $241.93 (slippage: 0.050%)
2025-10-31 10:28:20.817 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.82
2025-10-31 10:28:20.818 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 94.50
2025-10-31 10:28:20.818 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 212.00
2025-10-31 10:28:20.819 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -117.50
2025-10-31 10:28:20.819 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $28.43
2025-10-31 10:28:20.820 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-28,398.51
2025-10-31 10:28:20.821 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting QQQ: selling 117.50 shares at $241.69 (proceeds: $28,370.12)
2025-10-31 10:28:20.821 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.822 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,552.70
2025-10-31 10:28:20.822 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 156.57 shares worth $26,865.36
2025-10-31 10:28:20.823 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:20.823 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.58 ? $171.67 (slippage: 0.050%)
2025-10-31 10:28:20.824 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:20.825 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 289.19
2025-10-31 10:28:20.825 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 156.57
2025-10-31 10:28:20.826 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +132.62
2025-10-31 10:28:20.826 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $22.77
2025-10-31 10:28:20.827 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $22,788.58
2025-10-31 10:28:20.827 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 132.62 more shares at $171.67 (cost: $22,788.58)
2025-10-31 10:28:20.828 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.828 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $29,764.12
2025-10-31 10:28:20.829 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:20.830 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $177.66 ? $177.75 (slippage: 0.050%)
2025-10-31 10:28:20.830 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.60 confidence=0.82
2025-10-31 10:28:20.831 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 167.88
2025-10-31 10:28:20.831 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.84
2025-10-31 10:28:20.832 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,870.79
2025-10-31 10:28:20.833 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 167.28 @ $177.75
2025-10-31 10:28:20.833 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.834 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.834 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$80,951.21, Cash end=$-0.00
2025-10-31 10:28:20.835 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.835 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:20.836 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.836 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 167.28 shares @ $177.75 (Value: $29,734.38)
2025-10-31 10:28:20.837 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.838 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,206.51
2025-10-31 10:28:20.838 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.839 | INFO     | src.backtesting.engine:run:336 -      Change: $-142.80
2025-10-31 10:28:20.839 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.841 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:20.842 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $110,342.65
2025-10-31 10:28:20.842 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:20.843 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.844 | INFO     | src.backtesting.engine:run:293 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92, P&L: $7,870.74)
2025-10-31 10:28:20.844 | INFO     | src.backtesting.engine:run:293 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:20.845 | INFO     | src.backtesting.engine:run:293 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30, P&L: $2,517.92)
2025-10-31 10:28:20.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13145818824275746
2025-10-31 10:28:20.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.0028299795316499843
2025-10-31 10:28:20.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.10642118748796281
2025-10-31 10:28:20.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.018232201653917368
2025-10-31 10:28:20.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:20.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1315 (13.15%) - PASS
2025-10-31 10:28:20.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0028 (0.28%) - PASS
2025-10-31 10:28:20.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.1064 (10.64%) - PASS
2025-10-31 10:28:20.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0182 (1.82%) - PASS
2025-10-31 10:28:20.856 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'IWM']
2025-10-31 10:28:20.856 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.857 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:20.857 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.81)
2025-10-31 10:28:20.858 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.14)
2025-10-31 10:28:20.858 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.859 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:20.860 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 94.50 @ $248.62 (P&L: $36.31)
2025-10-31 10:28:20.860 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $23,472.18
2025-10-31 10:28:20.861 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.861 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92)
2025-10-31 10:28:20.862 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30)
2025-10-31 10:28:20.862 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$110,342.65, Cash=$23,472.18, Comm=0.1000%, Slip=0.0500%, Scale=0.727317
2025-10-31 10:28:20.863 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=51.33%, DIA=41.55%, IWM=7.12%
2025-10-31 10:28:20.864 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:20.864 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['SPY', 'IWM']
2025-10-31 10:28:20.865 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 289.19 shares worth $54,582.92
2025-10-31 10:28:20.865 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:20.866 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $188.74 ? $188.84 (slippage: 0.050%)
2025-10-31 10:28:20.867 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.81 confidence=0.76
2025-10-31 10:28:20.867 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 242.80
2025-10-31 10:28:20.868 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 289.19
2025-10-31 10:28:20.868 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -46.39
2025-10-31 10:28:20.869 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.76
2025-10-31 10:28:20.869 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-8,751.14
2025-10-31 10:28:20.870 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 46.39 shares at $188.65 (proceeds: $8,742.39)
2025-10-31 10:28:20.870 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.871 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $32,214.57
2025-10-31 10:28:20.872 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 167.28 shares worth $32,252.30
2025-10-31 10:28:20.872 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:20.873 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $192.81 ? $192.90 (slippage: 0.050%)
2025-10-31 10:28:20.873 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:20.874 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 293.61
2025-10-31 10:28:20.874 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 167.28
2025-10-31 10:28:20.875 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +126.33
2025-10-31 10:28:20.876 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $24.37
2025-10-31 10:28:20.876 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $24,393.15
2025-10-31 10:28:20.877 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 126.33 more shares at $192.90 (cost: $24,393.15)
2025-10-31 10:28:20.877 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.878 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $7,821.42
2025-10-31 10:28:20.879 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:20.879 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.38 ? $144.45 (slippage: 0.050%)
2025-10-31 10:28:20.880 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.14 confidence=0.76
2025-10-31 10:28:20.880 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 54.38
2025-10-31 10:28:20.881 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.86
2025-10-31 10:28:20.881 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,862.98
2025-10-31 10:28:20.882 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 54.09 @ $144.45
2025-10-31 10:28:20.883 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.883 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.884 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$40,965.71, Cash end=$-0.00
2025-10-31 10:28:20.884 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.885 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:20.885 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.886 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 54.09 shares @ $144.45 (Value: $7,813.61)
2025-10-31 10:28:20.886 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.887 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $110,249.91
2025-10-31 10:28:20.888 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.888 | INFO     | src.backtesting.engine:run:336 -      Change: $-92.74
2025-10-31 10:28:20.889 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.891 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 242.80 @ $181.45 (P&L: $4,836.61)
2025-10-31 10:28:20.891 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 293.61 @ $192.13 (P&L: $4,221.30)
2025-10-31 10:28:20.892 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 54.09 @ $153.90 (P&L: $511.04)
2025-10-31 10:28:20.893 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2023-03-02 to 2023-12-31
2025-10-31 10:28:20.895 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:20.901 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 365 snapshots
2025-10-31 10:28:20.903 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (365, 15)
2025-10-31 10:28:20.904 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'QQQ_quantity', 'QQQ_price', 'QQQ_value', 'DIA_quantity', 'DIA_price', 'DIA_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'IWM_quantity', 'IWM_price', 'IWM_value']
2025-10-31 10:28:20.905 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 365 to 305 records (performance period)
2025-10-31 10:28:20.938 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:20.939 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:20.939 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:20.940 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 305
2025-10-31 10:28:20.940 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 365
2025-10-31 10:28:20.941 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (305, 22)
2025-10-31 10:28:20.941 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'QQQ_value', 'QQQ_quantity', 'QQQ_price', 'QQQ_pct', 'DIA_value', 'DIA_quantity', 'DIA_price', 'DIA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'IWM_value', 'IWM_quantity', 'IWM_price', 'IWM_pct']
2025-10-31 10:28:20.942 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:20.954 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value           cash  ...  IWM_price  IWM_pct
timestamp                                   ...                    
2023-03-02    100000.000000  100000.000000  ...        NaN      NaN
2023-03-03    100162.038573   66633.333333  ...        NaN      NaN
2023-03-04    100634.890545   66633.333333  ...        NaN      NaN

[3 rows x 22 columns]
2025-10-31 10:28:20.955 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:20.968 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...   IWM_price   IWM_pct
timestamp                                  ...                      
2023-12-29    108432.744206 -9.094947e-13  ...  154.352403  7.699974
2023-12-30    108513.989856 -9.094947e-13  ...  153.144139  7.633979
2023-12-31    108845.649027 -9.094947e-13  ...  153.973721  7.651945

[3 rows x 22 columns]
2025-10-31 10:28:20.969 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:20.969 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $108,845.65 (8.85% return)
2025-10-31 10:28:20.970 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102820.log
2025-10-31 10:28:20.973 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-31 10:28:20.974 | INFO     | src.backtesting.engine:__init__:101 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-31 10:28:20.975 | INFO     | src.backtesting.engine:__init__:108 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-31 10:28:20.975 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:20.983 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102820.log
2025-10-31 10:28:20.984 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:20.984 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2023-01-01 to 2023-12-31
2025-10-31 10:28:20.986 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2023-01-01 00:00:00 to 2023-12-31 00:00:00 (365 periods)
2025-10-31 10:28:20.987 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2023-03-02 00:00:00 (after 60 periods of warm-up data)
2025-10-31 10:28:20.988 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.988 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.989 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.990 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2023-03-02
2025-10-31 10:28:20.990 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-02
2025-10-31 10:28:20.991 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:20.991 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:20.992 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:20.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.04499753275362561
2025-10-31 10:28:20.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.11410227867333256
2025-10-31 10:28:20.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.06402916556234939
2025-10-31 10:28:21.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03043683262574659
2025-10-31 10:28:21.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-02 00:00:00:
2025-10-31 10:28:21.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0450 (-4.50%) - FAIL
2025-10-31 10:28:21.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1141 (11.41%) - PASS
2025-10-31 10:28:21.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0640 (-6.40%) - FAIL
2025-10-31 10:28:21.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0304 (-3.04%) - FAIL
2025-10-31 10:28:21.003 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['QQQ']
2025-10-31 10:28:21.004 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:21.004 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.005 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-02: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:21.005 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=50.00%
2025-10-31 10:28:21.006 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['QQQ']
2025-10-31 10:28:21.007 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:21.007 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $200.02 ? $200.12 (slippage: 0.050%)
2025-10-31 10:28:21.008 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:21.008 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 249.86
2025-10-31 10:28:21.009 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $50.00
2025-10-31 10:28:21.009 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $50,050.00
2025-10-31 10:28:21.010 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 249.86 @ $200.12
2025-10-31 10:28:21.011 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.011 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49,950.00
2025-10-31 10:28:21.012 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$50,050.00, Cash end=$49,950.00
2025-10-31 10:28:21.012 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.013 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 249.86 shares @ $200.12 (Value: $50,000.00)
2025-10-31 10:28:21.013 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.014 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,950.00
2025-10-31 10:28:21.015 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49,950.00
2025-10-31 10:28:21.015 | INFO     | src.backtesting.engine:run:336 -      Change: $-50.00
2025-10-31 10:28:21.016 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.017 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:21.017 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,687.52
2025-10-31 10:28:21.018 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49,950.00
2025-10-31 10:28:21.019 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.019 | INFO     | src.backtesting.engine:run:293 -      QQQ: 249.86 shares @ $211.07 (Value: $52,737.52, P&L: $2,737.52)
2025-10-31 10:28:21.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.022 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.015725998040660993
2025-10-31 10:28:21.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.05316804719891466
2025-10-31 10:28:21.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.05842940431667065
2025-10-31 10:28:21.027 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.031081946897098534
2025-10-31 10:28:21.027 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:21.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0157 (1.57%) - PASS
2025-10-31 10:28:21.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0532 (5.32%) - PASS
2025-10-31 10:28:21.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0584 (5.84%) - PASS
2025-10-31 10:28:21.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0311 (-3.11%) - FAIL
2025-10-31 10:28:21.030 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['DIA', 'QQQ']
2025-10-31 10:28:21.031 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.031 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.032 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.91)
2025-10-31 10:28:21.032 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.033 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 249.86 shares @ $211.07 (Value: $52,737.52)
2025-10-31 10:28:21.034 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$102,687.52, Cash=$49,950.00, Comm=0.1000%, Slip=0.0500%, Scale=0.928125
2025-10-31 10:28:21.034 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=52.36%, QQQ=47.64%
2025-10-31 10:28:21.035 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.035 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['QQQ'], then buys: ['DIA']
2025-10-31 10:28:21.036 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 249.86 shares worth $52,737.52
2025-10-31 10:28:21.036 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE QQQ [relative_top]
2025-10-31 10:28:21.037 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $211.07 ? $211.18 (slippage: 0.050%)
2025-10-31 10:28:21.038 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.91 confidence=0.73
2025-10-31 10:28:21.038 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 231.67
2025-10-31 10:28:21.039 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 249.86
2025-10-31 10:28:21.039 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -18.19
2025-10-31 10:28:21.040 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $3.84
2025-10-31 10:28:21.040 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-3,836.93
2025-10-31 10:28:21.041 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting QQQ: selling 18.19 shares at $210.97 (proceeds: $3,833.10)
2025-10-31 10:28:21.042 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.042 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $53,783.10
2025-10-31 10:28:21.043 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:21.044 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $159.65 ? $159.73 (slippage: 0.050%)
2025-10-31 10:28:21.044 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:21.045 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 336.60
2025-10-31 10:28:21.045 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $53.76
2025-10-31 10:28:21.046 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $53,818.17
2025-10-31 10:28:21.046 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 336.38 @ $159.73
2025-10-31 10:28:21.047 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.048 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.048 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$57,620.03, Cash end=$-0.00
2025-10-31 10:28:21.049 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.049 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 336.38 shares @ $159.73 (Value: $53,729.37)
2025-10-31 10:28:21.050 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.050 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,628.04
2025-10-31 10:28:21.051 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.052 | INFO     | src.backtesting.engine:run:336 -      Change: $-59.49
2025-10-31 10:28:21.052 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.054 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:21.054 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,772.21
2025-10-31 10:28:21.055 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.055 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.056 | INFO     | src.backtesting.engine:run:293 -      QQQ: 231.67 shares @ $218.15 (Value: $50,539.15, P&L: $4,178.74)
2025-10-31 10:28:21.056 | INFO     | src.backtesting.engine:run:293 -      DIA: 336.38 shares @ $158.25 (Value: $53,233.05, P&L: $-496.32)
2025-10-31 10:28:21.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.045393745602212654
2025-10-31 10:28:21.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.09068098737114672
2025-10-31 10:28:21.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.06923287243941179
2025-10-31 10:28:21.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.01663965694722691
2025-10-31 10:28:21.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:21.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0454 (4.54%) - PASS
2025-10-31 10:28:21.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0907 (9.07%) - PASS
2025-10-31 10:28:21.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0692 (6.92%) - PASS
2025-10-31 10:28:21.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0166 (1.66%) - PASS
2025-10-31 10:28:21.067 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['QQQ', 'DIA']
2025-10-31 10:28:21.068 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.069 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.069 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.76)
2025-10-31 10:28:21.070 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.070 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 231.67 shares @ $218.15 (Value: $50,539.15)
2025-10-31 10:28:21.071 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 336.38 shares @ $158.25 (Value: $53,233.05)
2025-10-31 10:28:21.071 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$103,772.21, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:21.072 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=56.71%, DIA=43.29%
2025-10-31 10:28:21.073 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.073 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['QQQ']
2025-10-31 10:28:21.074 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 336.38 shares worth $53,233.05
2025-10-31 10:28:21.074 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.075 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $158.25 ? $158.33 (slippage: 0.050%)
2025-10-31 10:28:21.076 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.76 confidence=0.77
2025-10-31 10:28:21.076 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 283.76
2025-10-31 10:28:21.077 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 336.38
2025-10-31 10:28:21.077 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -52.63
2025-10-31 10:28:21.078 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.33
2025-10-31 10:28:21.078 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-8,324.35
2025-10-31 10:28:21.079 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 52.63 shares at $158.17 (proceeds: $8,316.03)
2025-10-31 10:28:21.080 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.080 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $8,316.03
2025-10-31 10:28:21.081 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 231.67 shares worth $50,539.15
2025-10-31 10:28:21.081 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:21.082 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $218.15 ? $218.26 (slippage: 0.050%)
2025-10-31 10:28:21.083 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:21.083 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 269.61
2025-10-31 10:28:21.084 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 231.67
2025-10-31 10:28:21.084 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +37.94
2025-10-31 10:28:21.085 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.28
2025-10-31 10:28:21.085 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $8,289.08
2025-10-31 10:28:21.086 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 37.94 more shares at $218.26 (cost: $8,289.08)
2025-10-31 10:28:21.087 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.087 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $26.95
2025-10-31 10:28:21.088 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$16,613.43, Cash end=$26.95
2025-10-31 10:28:21.088 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:21.089 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.089 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,747.30
2025-10-31 10:28:21.090 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $26.95
2025-10-31 10:28:21.091 | INFO     | src.backtesting.engine:run:336 -      Change: $-24.91
2025-10-31 10:28:21.091 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.093 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:21.093 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,740.13
2025-10-31 10:28:21.094 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $26.95
2025-10-31 10:28:21.094 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.095 | INFO     | src.backtesting.engine:run:293 -      QQQ: 269.61 shares @ $222.26 (Value: $59,922.54, P&L: $5,969.81)
2025-10-31 10:28:21.096 | INFO     | src.backtesting.engine:run:293 -      DIA: 283.76 shares @ $154.33 (Value: $43,790.64, P&L: $-1,532.56)
2025-10-31 10:28:21.098 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.004610003578679356
2025-10-31 10:28:21.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06348391297189138
2025-10-31 10:28:21.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.03305545502013918
2025-10-31 10:28:21.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.009852101656577128
2025-10-31 10:28:21.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:21.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0046 (0.46%) - PASS
2025-10-31 10:28:21.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0635 (6.35%) - PASS
2025-10-31 10:28:21.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0331 (-3.31%) - FAIL
2025-10-31 10:28:21.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0099 (0.99%) - PASS
2025-10-31 10:28:21.106 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['QQQ', 'IWM']
2025-10-31 10:28:21.107 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.108 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.108 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.16)
2025-10-31 10:28:21.109 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.109 | INFO     | src.backtesting.engine:_execute_signals:787 -      DIA: 283.76 shares @ $154.33 (Value: $43,790.64, P&L: $-1,532.56)
2025-10-31 10:28:21.110 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 283.76 @ $154.25 (P&L: $-1,554.45)
2025-10-31 10:28:21.110 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $43,751.93
2025-10-31 10:28:21.111 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.112 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 269.61 shares @ $222.26 (Value: $59,922.54)
2025-10-31 10:28:21.112 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$103,740.13, Cash=$43,751.93, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:21.113 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=86.57%, IWM=13.43%
2025-10-31 10:28:21.113 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.114 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['QQQ', 'IWM']
2025-10-31 10:28:21.115 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 269.61 shares worth $59,922.54
2025-10-31 10:28:21.115 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:21.116 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $222.26 ? $222.37 (slippage: 0.050%)
2025-10-31 10:28:21.116 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:21.117 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 403.85
2025-10-31 10:28:21.117 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 269.61
2025-10-31 10:28:21.118 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +134.24
2025-10-31 10:28:21.119 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.85
2025-10-31 10:28:21.119 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,880.84
2025-10-31 10:28:21.120 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 134.24 more shares at $222.37 (cost: $29,880.84)
2025-10-31 10:28:21.120 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.121 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $13,871.10
2025-10-31 10:28:21.122 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:21.122 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $139.90 ? $139.97 (slippage: 0.050%)
2025-10-31 10:28:21.123 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.16 confidence=0.95
2025-10-31 10:28:21.123 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 99.57
2025-10-31 10:28:21.124 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $13.94
2025-10-31 10:28:21.124 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $13,950.59
2025-10-31 10:28:21.125 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 99.00 @ $139.97
2025-10-31 10:28:21.126 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.126 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:21.127 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43,751.93, Cash end=$0.00
2025-10-31 10:28:21.127 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.128 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      DIA: 283.76 shares @ $154.33 (Value: $43,790.64, P&L: $-1,532.56)
2025-10-31 10:28:21.128 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.129 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 99.00 shares @ $139.97 (Value: $13,857.24)
2025-10-31 10:28:21.130 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.130 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,615.84
2025-10-31 10:28:21.131 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:21.131 | INFO     | src.backtesting.engine:run:336 -      Change: $-124.29
2025-10-31 10:28:21.132 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.133 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:21.134 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,967.80
2025-10-31 10:28:21.135 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:21.135 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.136 | INFO     | src.backtesting.engine:run:293 -      QQQ: 403.85 shares @ $216.65 (Value: $87,493.68, P&L: $6,677.31)
2025-10-31 10:28:21.136 | INFO     | src.backtesting.engine:run:293 -      IWM: 99.00 shares @ $136.10 (Value: $13,474.12, P&L: $-383.12)
2025-10-31 10:28:21.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.140 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08243568296077863
2025-10-31 10:28:21.143 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: -0.011855044558411465
2025-10-31 10:28:21.143 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.04793936688623612
2025-10-31 10:28:21.144 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.014465489862648284
2025-10-31 10:28:21.144 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:21.145 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0824 (8.24%) - PASS
2025-10-31 10:28:21.146 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: -0.0119 (-1.19%) - FAIL
2025-10-31 10:28:21.146 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0479 (-4.79%) - FAIL
2025-10-31 10:28:21.147 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0145 (-1.45%) - FAIL
2025-10-31 10:28:21.147 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:21.148 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:21.148 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.149 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.150 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 403.85 shares @ $216.65 (Value: $87,493.68, P&L: $6,677.31)
2025-10-31 10:28:21.150 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 403.85 @ $216.54 (P&L: $6,633.57)
2025-10-31 10:28:21.151 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 99.00 shares @ $136.10 (Value: $13,474.12, P&L: $-383.12)
2025-10-31 10:28:21.151 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 99.00 @ $136.03 (P&L: $-389.86)
2025-10-31 10:28:21.152 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,816.40
2025-10-31 10:28:21.153 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$100,967.80, Cash=$100,816.40, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:21.153 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%
2025-10-31 10:28:21.154 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:21.154 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:21.155 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.76 ? $161.84 (slippage: 0.050%)
2025-10-31 10:28:21.156 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:21.156 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 311.94
2025-10-31 10:28:21.157 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $50.48
2025-10-31 10:28:21.157 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $50,534.38
2025-10-31 10:28:21.158 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 311.94 @ $161.84
2025-10-31 10:28:21.158 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.159 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,282.01
2025-10-31 10:28:21.160 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$50,534.38, Cash end=$50,282.01
2025-10-31 10:28:21.160 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.161 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 403.85 shares @ $216.65 (Value: $87,493.68, P&L: $6,677.31)
2025-10-31 10:28:21.161 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 99.00 shares @ $136.10 (Value: $13,474.12, P&L: $-383.12)
2025-10-31 10:28:21.162 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.162 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 311.94 shares @ $161.84 (Value: $50,483.90)
2025-10-31 10:28:21.163 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.164 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,765.92
2025-10-31 10:28:21.164 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $50,282.01
2025-10-31 10:28:21.165 | INFO     | src.backtesting.engine:run:336 -      Change: $-201.89
2025-10-31 10:28:21.165 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.166 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:21.167 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,725.91
2025-10-31 10:28:21.168 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $50,282.01
2025-10-31 10:28:21.168 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.169 | INFO     | src.backtesting.engine:run:293 -      SPY: 311.94 shares @ $171.33 (Value: $53,443.89, P&L: $2,959.99)
2025-10-31 10:28:21.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1509633395417309
2025-10-31 10:28:21.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025289187687097314
2025-10-31 10:28:21.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.062017589828790465
2025-10-31 10:28:21.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03926623386501071
2025-10-31 10:28:21.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:21.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1510 (15.10%) - PASS
2025-10-31 10:28:21.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0253 (2.53%) - PASS
2025-10-31 10:28:21.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0620 (6.20%) - PASS
2025-10-31 10:28:21.179 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0393 (-3.93%) - FAIL
2025-10-31 10:28:21.180 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'DIA']
2025-10-31 10:28:21.180 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.181 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.181 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.41)
2025-10-31 10:28:21.182 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.182 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 311.94 shares @ $171.33 (Value: $53,443.89)
2025-10-31 10:28:21.183 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$103,725.91, Cash=$50,282.01, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:21.184 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=70.88%, DIA=29.12%
2025-10-31 10:28:21.184 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.185 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'DIA']
2025-10-31 10:28:21.185 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 311.94 shares worth $53,443.89
2025-10-31 10:28:21.186 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.187 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.33 ? $171.41 (slippage: 0.050%)
2025-10-31 10:28:21.187 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:21.188 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 428.92
2025-10-31 10:28:21.188 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 311.94
2025-10-31 10:28:21.189 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +116.98
2025-10-31 10:28:21.189 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $20.05
2025-10-31 10:28:21.190 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $20,071.56
2025-10-31 10:28:21.191 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 116.98 more shares at $171.41 (cost: $20,071.56)
2025-10-31 10:28:21.191 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.192 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $30,210.46
2025-10-31 10:28:21.192 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:21.193 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.45 ? $161.53 (slippage: 0.050%)
2025-10-31 10:28:21.194 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.41 confidence=0.88
2025-10-31 10:28:21.194 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 186.99
2025-10-31 10:28:21.195 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $30.20
2025-10-31 10:28:21.195 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $30,233.99
2025-10-31 10:28:21.196 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 186.84 @ $161.53
2025-10-31 10:28:21.196 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.197 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.198 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$50,282.01, Cash end=$-0.00
2025-10-31 10:28:21.198 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.199 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 186.84 shares @ $161.53 (Value: $30,180.28)
2025-10-31 10:28:21.199 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.200 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,665.65
2025-10-31 10:28:21.200 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.201 | INFO     | src.backtesting.engine:run:336 -      Change: $-60.25
2025-10-31 10:28:21.202 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.203 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:21.204 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,965.24
2025-10-31 10:28:21.204 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.205 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.205 | INFO     | src.backtesting.engine:run:293 -      SPY: 428.92 shares @ $173.49 (Value: $74,413.65, P&L: $4,998.26)
2025-10-31 10:28:21.206 | INFO     | src.backtesting.engine:run:293 -      DIA: 186.84 shares @ $163.51 (Value: $30,551.59, P&L: $371.31)
2025-10-31 10:28:21.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.210 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07630945219379859
2025-10-31 10:28:21.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06449609968159464
2025-10-31 10:28:21.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.09037486049938193
2025-10-31 10:28:21.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.07872675247019179
2025-10-31 10:28:21.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:21.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0763 (7.63%) - PASS
2025-10-31 10:28:21.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0645 (6.45%) - PASS
2025-10-31 10:28:21.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0904 (9.04%) - PASS
2025-10-31 10:28:21.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0787 (7.87%) - PASS
2025-10-31 10:28:21.217 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['DIA', 'IWM']
2025-10-31 10:28:21.218 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.218 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.219 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.87)
2025-10-31 10:28:21.219 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.220 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 428.92 shares @ $173.49 (Value: $74,413.65, P&L: $4,998.26)
2025-10-31 10:28:21.221 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 428.92 @ $173.41 (P&L: $4,961.05)
2025-10-31 10:28:21.221 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $74,302.06
2025-10-31 10:28:21.222 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.222 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 186.84 shares @ $163.51 (Value: $30,551.59)
2025-10-31 10:28:21.223 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$104,965.24, Cash=$74,302.06, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:21.223 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=53.44%, IWM=46.56%
2025-10-31 10:28:21.224 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.225 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['DIA', 'IWM']
2025-10-31 10:28:21.225 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 186.84 shares worth $30,551.59
2025-10-31 10:28:21.226 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:21.226 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $163.51 ? $163.60 (slippage: 0.050%)
2025-10-31 10:28:21.227 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:21.228 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 342.90
2025-10-31 10:28:21.228 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 186.84
2025-10-31 10:28:21.229 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +156.06
2025-10-31 10:28:21.229 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $25.53
2025-10-31 10:28:21.230 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $25,556.41
2025-10-31 10:28:21.230 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 156.06 more shares at $163.60 (cost: $25,556.41)
2025-10-31 10:28:21.231 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.232 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $48,745.66
2025-10-31 10:28:21.232 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:21.233 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.47 ? $147.54 (slippage: 0.050%)
2025-10-31 10:28:21.233 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.87 confidence=0.74
2025-10-31 10:28:21.234 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 331.22
2025-10-31 10:28:21.234 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $48.87
2025-10-31 10:28:21.235 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $48,916.36
2025-10-31 10:28:21.236 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 330.06 @ $147.54
2025-10-31 10:28:21.236 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.237 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:21.237 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$74,302.06, Cash end=$0.00
2025-10-31 10:28:21.238 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.239 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 428.92 shares @ $173.49 (Value: $74,413.65, P&L: $4,998.26)
2025-10-31 10:28:21.239 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.240 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 330.06 shares @ $147.54 (Value: $48,696.96)
2025-10-31 10:28:21.240 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.241 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,766.67
2025-10-31 10:28:21.241 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:21.242 | INFO     | src.backtesting.engine:run:336 -      Change: $-198.57
2025-10-31 10:28:21.242 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.244 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:21.245 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $105,677.47
2025-10-31 10:28:21.245 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:21.246 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.246 | INFO     | src.backtesting.engine:run:293 -      DIA: 342.90 shares @ $171.04 (Value: $58,649.16, P&L: $3,260.91)
2025-10-31 10:28:21.247 | INFO     | src.backtesting.engine:run:293 -      IWM: 330.06 shares @ $142.48 (Value: $47,028.31, P&L: $-1,668.65)
2025-10-31 10:28:21.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0039514597871386226
2025-10-31 10:28:21.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.10084006286237446
2025-10-31 10:28:21.254 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.051236546823340445
2025-10-31 10:28:21.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.04667704995213828
2025-10-31 10:28:21.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:21.256 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0040 (-0.40%) - FAIL
2025-10-31 10:28:21.256 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1008 (10.08%) - PASS
2025-10-31 10:28:21.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0512 (5.12%) - PASS
2025-10-31 10:28:21.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0467 (4.67%) - PASS
2025-10-31 10:28:21.258 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['QQQ', 'DIA']
2025-10-31 10:28:21.259 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.259 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.260 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.51)
2025-10-31 10:28:21.260 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.261 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 330.06 shares @ $142.48 (Value: $47,028.31, P&L: $-1,668.65)
2025-10-31 10:28:21.262 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 330.06 @ $142.41 (P&L: $-1,692.17)
2025-10-31 10:28:21.262 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $46,957.79
2025-10-31 10:28:21.263 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.263 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 342.90 shares @ $171.04 (Value: $58,649.16)
2025-10-31 10:28:21.264 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$105,677.47, Cash=$46,957.79, Comm=0.1000%, Slip=0.0500%, Scale=0.669454
2025-10-31 10:28:21.264 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=66.31%, DIA=33.69%
2025-10-31 10:28:21.265 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.266 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['QQQ']
2025-10-31 10:28:21.266 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 342.90 shares worth $58,649.16
2025-10-31 10:28:21.267 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.267 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.04 ? $171.12 (slippage: 0.050%)
2025-10-31 10:28:21.268 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.51 confidence=0.85
2025-10-31 10:28:21.268 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 208.06
2025-10-31 10:28:21.269 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 342.90
2025-10-31 10:28:21.270 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -134.84
2025-10-31 10:28:21.270 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $23.07
2025-10-31 10:28:21.271 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-23,051.33
2025-10-31 10:28:21.271 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 134.84 shares at $170.95 (proceeds: $23,028.29)
2025-10-31 10:28:21.272 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.273 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $69,986.08
2025-10-31 10:28:21.273 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:21.274 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $248.11 ? $248.24 (slippage: 0.050%)
2025-10-31 10:28:21.274 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.85
2025-10-31 10:28:21.275 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 282.29
2025-10-31 10:28:21.275 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $70.07
2025-10-31 10:28:21.276 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $70,143.46
2025-10-31 10:28:21.277 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 281.65 @ $248.24
2025-10-31 10:28:21.277 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.278 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.278 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,037.40, Cash end=$-0.00
2025-10-31 10:28:21.279 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.280 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 330.06 shares @ $142.48 (Value: $47,028.31, P&L: $-1,668.65)
2025-10-31 10:28:21.280 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.281 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 281.65 shares @ $248.24 (Value: $69,916.16)
2025-10-31 10:28:21.281 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.282 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $105,502.45
2025-10-31 10:28:21.282 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.283 | INFO     | src.backtesting.engine:run:336 -      Change: $-175.02
2025-10-31 10:28:21.283 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.285 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:21.286 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,806.61
2025-10-31 10:28:21.286 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.287 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.287 | INFO     | src.backtesting.engine:run:293 -      DIA: 208.06 shares @ $171.58 (Value: $35,699.60, P&L: $2,091.92)
2025-10-31 10:28:21.288 | INFO     | src.backtesting.engine:run:293 -      QQQ: 281.65 shares @ $241.81 (Value: $68,107.01, P&L: $-1,809.15)
2025-10-31 10:28:21.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.292 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03331412880741369
2025-10-31 10:28:21.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025524862883118393
2025-10-31 10:28:21.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.055422735445618265
2025-10-31 10:28:21.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.041833731525131146
2025-10-31 10:28:21.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:21.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0333 (3.33%) - PASS
2025-10-31 10:28:21.298 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0255 (2.55%) - PASS
2025-10-31 10:28:21.298 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0554 (5.54%) - PASS
2025-10-31 10:28:21.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0418 (-4.18%) - FAIL
2025-10-31 10:28:21.299 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['DIA', 'SPY']
2025-10-31 10:28:21.300 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.300 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.301 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.60)
2025-10-31 10:28:21.302 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.302 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 281.65 shares @ $241.81 (Value: $68,107.01, P&L: $-1,809.15)
2025-10-31 10:28:21.303 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 281.65 @ $241.69 (P&L: $-1,843.21)
2025-10-31 10:28:21.303 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $68,004.88
2025-10-31 10:28:21.304 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.304 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 208.06 shares @ $171.58 (Value: $35,699.60)
2025-10-31 10:28:21.305 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$103,806.61, Cash=$68,004.88, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:21.306 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=62.46%, SPY=37.54%
2025-10-31 10:28:21.306 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.307 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['DIA', 'SPY']
2025-10-31 10:28:21.307 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 208.06 shares worth $35,699.60
2025-10-31 10:28:21.308 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:21.309 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.58 ? $171.67 (slippage: 0.050%)
2025-10-31 10:28:21.309 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:21.310 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 377.68
2025-10-31 10:28:21.310 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 208.06
2025-10-31 10:28:21.311 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +169.62
2025-10-31 10:28:21.311 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.12
2025-10-31 10:28:21.312 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,146.57
2025-10-31 10:28:21.313 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 169.62 more shares at $171.67 (cost: $29,146.57)
2025-10-31 10:28:21.313 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.314 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $38,858.31
2025-10-31 10:28:21.314 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:21.315 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $177.66 ? $177.75 (slippage: 0.050%)
2025-10-31 10:28:21.316 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.60 confidence=0.82
2025-10-31 10:28:21.316 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 219.25
2025-10-31 10:28:21.317 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $38.97
2025-10-31 10:28:21.317 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $39,010.68
2025-10-31 10:28:21.318 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 218.39 @ $177.75
2025-10-31 10:28:21.319 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.319 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.320 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$68,004.88, Cash end=$-0.00
2025-10-31 10:28:21.320 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.321 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 281.65 shares @ $241.81 (Value: $68,107.01, P&L: $-1,809.15)
2025-10-31 10:28:21.321 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.322 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 218.39 shares @ $177.75 (Value: $38,819.49)
2025-10-31 10:28:21.323 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.323 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,622.00
2025-10-31 10:28:21.324 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.324 | INFO     | src.backtesting.engine:run:336 -      Change: $-184.61
2025-10-31 10:28:21.325 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.327 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:21.327 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $113,390.99
2025-10-31 10:28:21.328 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.328 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.329 | INFO     | src.backtesting.engine:run:293 -      DIA: 377.68 shares @ $188.74 (Value: $71,284.25, P&L: $10,279.03)
2025-10-31 10:28:21.329 | INFO     | src.backtesting.engine:run:293 -      SPY: 218.39 shares @ $192.81 (Value: $42,106.74, P&L: $3,287.25)
2025-10-31 10:28:21.332 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13145818824275746
2025-10-31 10:28:21.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.0028299795316499843
2025-10-31 10:28:21.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.10642118748796281
2025-10-31 10:28:21.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.018232201653917368
2025-10-31 10:28:21.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:21.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1315 (13.15%) - PASS
2025-10-31 10:28:21.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0028 (0.28%) - PASS
2025-10-31 10:28:21.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.1064 (10.64%) - PASS
2025-10-31 10:28:21.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0182 (1.82%) - PASS
2025-10-31 10:28:21.340 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'DIA']
2025-10-31 10:28:21.341 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.342 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.342 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.81)
2025-10-31 10:28:21.343 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.343 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 377.68 shares @ $188.74 (Value: $71,284.25)
2025-10-31 10:28:21.344 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 218.39 shares @ $192.81 (Value: $42,106.74)
2025-10-31 10:28:21.344 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$113,390.99, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:21.345 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=55.26%, DIA=44.74%
2025-10-31 10:28:21.346 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.346 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['SPY']
2025-10-31 10:28:21.347 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 377.68 shares worth $71,284.25
2025-10-31 10:28:21.347 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.348 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $188.74 ? $188.84 (slippage: 0.050%)
2025-10-31 10:28:21.349 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.81 confidence=0.76
2025-10-31 10:28:21.349 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 268.63
2025-10-31 10:28:21.350 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 377.68
2025-10-31 10:28:21.350 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -109.04
2025-10-31 10:28:21.351 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $20.59
2025-10-31 10:28:21.351 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-20,571.05
2025-10-31 10:28:21.352 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 109.04 shares at $188.65 (proceeds: $20,550.49)
2025-10-31 10:28:21.353 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.353 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $20,550.49
2025-10-31 10:28:21.354 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 218.39 shares worth $42,106.74
2025-10-31 10:28:21.354 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.355 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $192.81 ? $192.90 (slippage: 0.050%)
2025-10-31 10:28:21.356 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:21.356 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 324.84
2025-10-31 10:28:21.357 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 218.39
2025-10-31 10:28:21.357 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +106.45
2025-10-31 10:28:21.358 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $20.53
2025-10-31 10:28:21.358 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $20,555.48
2025-10-31 10:28:21.359 | WARNING  | src.backtesting.engine:_execute_signals:1079 -      ??  Cannot fully adjust SPY - insufficient cash
2025-10-31 10:28:21.360 | WARNING  | src.backtesting.engine:_execute_signals:1080 -         Required: $20,555.48, Available: $20,550.49
2025-10-31 10:28:21.360 | INFO     | src.backtesting.engine:_execute_signals:1088 -         Adjusted to partial increase: 324.82 shares
2025-10-31 10:28:21.361 | WARNING  | src.backtesting.engine:_adjust_position:1204 - Insufficient cash to adjust SPY position (need $20,550.49, have $20,550.49)
2025-10-31 10:28:21.361 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.362 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $20,550.49
2025-10-31 10:28:21.362 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$41,121.55, Cash end=$20,550.49
2025-10-31 10:28:21.363 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:21.364 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.364 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $113,360.13
2025-10-31 10:28:21.365 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $20,550.49
2025-10-31 10:28:21.365 | INFO     | src.backtesting.engine:run:336 -      Change: $-30.86
2025-10-31 10:28:21.366 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.368 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 268.63 @ $181.45 (P&L: $5,351.17)
2025-10-31 10:28:21.368 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 218.39 @ $192.13 (P&L: $3,139.88)
2025-10-31 10:28:21.369 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2023-03-02 to 2023-12-31
2025-10-31 10:28:21.371 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:21.377 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 365 snapshots
2025-10-31 10:28:21.379 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (365, 15)
2025-10-31 10:28:21.379 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'QQQ_quantity', 'QQQ_price', 'QQQ_value', 'DIA_quantity', 'DIA_price', 'DIA_value', 'IWM_quantity', 'IWM_price', 'IWM_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:21.380 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 365 to 305 records (performance period)
2025-10-31 10:28:21.415 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:21.416 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:21.416 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:21.417 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 305
2025-10-31 10:28:21.418 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 365
2025-10-31 10:28:21.418 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (305, 22)
2025-10-31 10:28:21.419 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'QQQ_value', 'QQQ_quantity', 'QQQ_price', 'QQQ_pct', 'DIA_value', 'DIA_quantity', 'DIA_price', 'DIA_pct', 'IWM_value', 'IWM_quantity', 'IWM_price', 'IWM_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:21.419 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:21.432 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value      cash  ...  SPY_price  SPY_pct
timestamp                              ...                    
2023-03-02    100000.000000  100000.0  ...        NaN      NaN
2023-03-03    100243.057860   49950.0  ...        NaN      NaN
2023-03-04    100952.335817   49950.0  ...        NaN      NaN

[3 rows x 22 columns]
2025-10-31 10:28:21.433 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:21.445 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...   SPY_price    SPY_pct
timestamp                                  ...                       
2023-12-29    111020.855825  20550.492526  ...  190.327057  37.439234
2023-12-30    111105.640316  20550.492526  ...  191.054292  37.553609
2023-12-31    111298.060865  20550.492526  ...  192.227350  37.718862

[3 rows x 22 columns]
2025-10-31 10:28:21.446 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:21.446 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $111,298.06 (11.30% return)
2025-10-31 10:28:21.447 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102820.log
2025-10-31 10:28:21.450 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-31 10:28:21.451 | INFO     | src.backtesting.engine:__init__:101 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-31 10:28:21.452 | INFO     | src.backtesting.engine:__init__:108 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-31 10:28:21.452 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:21.460 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102821.log
2025-10-31 10:28:21.461 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:21.462 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2023-01-01 to 2023-12-31
2025-10-31 10:28:21.463 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2023-01-01 00:00:00 to 2023-12-31 00:00:00 (365 periods)
2025-10-31 10:28:21.464 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2023-03-02 00:00:00 (after 60 periods of warm-up data)
2025-10-31 10:28:21.465 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:21.465 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:21.466 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:21.467 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2023-03-02
2025-10-31 10:28:21.468 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-02
2025-10-31 10:28:21.468 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:21.469 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:21.469 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:21.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.473 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.474 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.04499753275362561
2025-10-31 10:28:21.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.11410227867333256
2025-10-31 10:28:21.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.06402916556234939
2025-10-31 10:28:21.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03043683262574659
2025-10-31 10:28:21.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-02 00:00:00:
2025-10-31 10:28:21.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0450 (-4.50%) - FAIL
2025-10-31 10:28:21.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1141 (11.41%) - PASS
2025-10-31 10:28:21.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0640 (-6.40%) - FAIL
2025-10-31 10:28:21.480 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0304 (-3.04%) - FAIL
2025-10-31 10:28:21.481 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['QQQ']
2025-10-31 10:28:21.481 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:21.482 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.482 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-02: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:21.483 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=33.33%
2025-10-31 10:28:21.484 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['QQQ']
2025-10-31 10:28:21.484 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:21.485 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $200.02 ? $200.12 (slippage: 0.050%)
2025-10-31 10:28:21.485 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:21.486 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 166.57
2025-10-31 10:28:21.487 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.33
2025-10-31 10:28:21.487 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,366.67
2025-10-31 10:28:21.488 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 166.57 @ $200.12
2025-10-31 10:28:21.488 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.489 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,633.33
2025-10-31 10:28:21.490 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$33,366.67, Cash end=$66,633.33
2025-10-31 10:28:21.490 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.491 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 166.57 shares @ $200.12 (Value: $33,333.33)
2025-10-31 10:28:21.491 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.492 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,966.67
2025-10-31 10:28:21.492 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,633.33
2025-10-31 10:28:21.493 | INFO     | src.backtesting.engine:run:336 -      Change: $-33.33
2025-10-31 10:28:21.494 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.495 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:21.495 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $101,791.68
2025-10-31 10:28:21.496 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,633.33
2025-10-31 10:28:21.497 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.497 | INFO     | src.backtesting.engine:run:293 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35, P&L: $1,825.01)
2025-10-31 10:28:21.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.015725998040660993
2025-10-31 10:28:21.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.05316804719891466
2025-10-31 10:28:21.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.05842940431667065
2025-10-31 10:28:21.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.031081946897098534
2025-10-31 10:28:21.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:21.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0157 (1.57%) - PASS
2025-10-31 10:28:21.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0532 (5.32%) - PASS
2025-10-31 10:28:21.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0584 (5.84%) - PASS
2025-10-31 10:28:21.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0311 (-3.11%) - FAIL
2025-10-31 10:28:21.508 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:21.509 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.510 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.510 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.91)
2025-10-31 10:28:21.511 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.27)
2025-10-31 10:28:21.511 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.512 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35)
2025-10-31 10:28:21.512 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$101,791.68, Cash=$66,633.33, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:21.513 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=45.89%, QQQ=41.76%, SPY=12.35%
2025-10-31 10:28:21.514 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.514 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:21.515 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:21.516 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $159.65 ? $159.73 (slippage: 0.050%)
2025-10-31 10:28:21.516 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:21.517 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 292.46
2025-10-31 10:28:21.517 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $46.71
2025-10-31 10:28:21.518 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $46,759.45
2025-10-31 10:28:21.519 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 292.46 @ $159.73
2025-10-31 10:28:21.519 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.520 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $19,873.88
2025-10-31 10:28:21.520 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 166.57 shares worth $35,158.35
2025-10-31 10:28:21.521 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:21.522 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $211.07 ? $211.18 (slippage: 0.050%)
2025-10-31 10:28:21.522 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.91 confidence=0.73
2025-10-31 10:28:21.523 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 201.28
2025-10-31 10:28:21.523 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 166.57
2025-10-31 10:28:21.524 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +34.71
2025-10-31 10:28:21.524 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.33
2025-10-31 10:28:21.525 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,337.83
2025-10-31 10:28:21.526 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 34.71 more shares at $211.18 (cost: $7,337.83)
2025-10-31 10:28:21.526 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.527 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,536.05
2025-10-31 10:28:21.528 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:21.528 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.65 ? $147.73 (slippage: 0.050%)
2025-10-31 10:28:21.529 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.27 confidence=0.73
2025-10-31 10:28:21.529 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 85.11
2025-10-31 10:28:21.530 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.57
2025-10-31 10:28:21.531 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $12,585.09
2025-10-31 10:28:21.531 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 84.77 @ $147.73
2025-10-31 10:28:21.532 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.532 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.533 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,633.33, Cash end=$-0.00
2025-10-31 10:28:21.534 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.534 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 84.77 shares @ $147.73 (Value: $12,523.53)
2025-10-31 10:28:21.535 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 292.46 shares @ $159.73 (Value: $46,712.74)
2025-10-31 10:28:21.535 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.536 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $101,721.45
2025-10-31 10:28:21.536 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.537 | INFO     | src.backtesting.engine:run:336 -      Change: $-70.23
2025-10-31 10:28:21.538 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.540 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:21.540 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,945.18
2025-10-31 10:28:21.541 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.541 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.542 | INFO     | src.backtesting.engine:run:293 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51, P&L: $3,630.66)
2025-10-31 10:28:21.543 | INFO     | src.backtesting.engine:run:293 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24, P&L: $-431.50)
2025-10-31 10:28:21.543 | INFO     | src.backtesting.engine:run:293 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43, P&L: $229.90)
2025-10-31 10:28:21.545 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.547 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.549 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.045393745602212654
2025-10-31 10:28:21.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.09068098737114672
2025-10-31 10:28:21.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.06923287243941179
2025-10-31 10:28:21.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.01663965694722691
2025-10-31 10:28:21.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:21.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0454 (4.54%) - PASS
2025-10-31 10:28:21.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0907 (9.07%) - PASS
2025-10-31 10:28:21.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0692 (6.92%) - PASS
2025-10-31 10:28:21.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0166 (1.66%) - PASS
2025-10-31 10:28:21.554 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'SPY']
2025-10-31 10:28:21.555 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.556 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.556 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.76)
2025-10-31 10:28:21.557 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.50)
2025-10-31 10:28:21.557 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.558 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51)
2025-10-31 10:28:21.559 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24)
2025-10-31 10:28:21.559 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43)
2025-10-31 10:28:21.560 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$102,945.18, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:21.560 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=44.17%, DIA=33.72%, SPY=22.11%
2025-10-31 10:28:21.561 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-31 10:28:21.562 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['QQQ', 'SPY']
2025-10-31 10:28:21.562 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 292.46 shares worth $46,281.24
2025-10-31 10:28:21.563 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.563 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $158.25 ? $158.33 (slippage: 0.050%)
2025-10-31 10:28:21.564 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.76 confidence=0.77
2025-10-31 10:28:21.565 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 219.26
2025-10-31 10:28:21.565 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 292.46
2025-10-31 10:28:21.566 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -73.20
2025-10-31 10:28:21.566 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.59
2025-10-31 10:28:21.567 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-11,578.10
2025-10-31 10:28:21.568 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 73.20 shares at $158.17 (proceeds: $11,566.53)
2025-10-31 10:28:21.568 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.569 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $11,566.53
2025-10-31 10:28:21.570 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 201.28 shares worth $43,910.51
2025-10-31 10:28:21.570 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:21.571 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $218.15 ? $218.26 (slippage: 0.050%)
2025-10-31 10:28:21.571 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:21.572 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 208.32
2025-10-31 10:28:21.573 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 201.28
2025-10-31 10:28:21.573 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +7.04
2025-10-31 10:28:21.574 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.54
2025-10-31 10:28:21.574 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $1,538.26
2025-10-31 10:28:21.575 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 7.04 more shares at $218.26 (cost: $1,538.26)
2025-10-31 10:28:21.575 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.576 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,028.26
2025-10-31 10:28:21.577 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 84.77 shares worth $12,753.43
2025-10-31 10:28:21.577 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.578 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.44 ? $150.51 (slippage: 0.050%)
2025-10-31 10:28:21.579 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.50 confidence=0.77
2025-10-31 10:28:21.579 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 151.22
2025-10-31 10:28:21.580 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 84.77
2025-10-31 10:28:21.580 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +66.45
2025-10-31 10:28:21.581 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.00
2025-10-31 10:28:21.582 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,011.49
2025-10-31 10:28:21.582 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 66.45 more shares at $150.51 (cost: $10,011.49)
2025-10-31 10:28:21.583 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.583 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $16.77
2025-10-31 10:28:21.584 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$23,127.85, Cash end=$16.77
2025-10-31 10:28:21.585 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:21.585 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.586 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,910.50
2025-10-31 10:28:21.586 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $16.77
2025-10-31 10:28:21.587 | INFO     | src.backtesting.engine:run:336 -      Change: $-34.67
2025-10-31 10:28:21.587 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.590 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:21.590 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,774.69
2025-10-31 10:28:21.591 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $16.77
2025-10-31 10:28:21.591 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.592 | INFO     | src.backtesting.engine:run:293 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62, P&L: $4,612.82)
2025-10-31 10:28:21.593 | INFO     | src.backtesting.engine:run:293 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:21.593 | INFO     | src.backtesting.engine:run:293 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65, P&L: $279.84)
2025-10-31 10:28:21.595 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.596 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.597 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.598 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.004610003578679356
2025-10-31 10:28:21.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06348391297189138
2025-10-31 10:28:21.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.03305545502013918
2025-10-31 10:28:21.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.009852101656577128
2025-10-31 10:28:21.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:21.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0046 (0.46%) - PASS
2025-10-31 10:28:21.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0635 (6.35%) - PASS
2025-10-31 10:28:21.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0331 (-3.31%) - FAIL
2025-10-31 10:28:21.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0099 (0.99%) - PASS
2025-10-31 10:28:21.605 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'IWM', 'SPY']
2025-10-31 10:28:21.605 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.606 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.606 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.16)
2025-10-31 10:28:21.607 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.07)
2025-10-31 10:28:21.608 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.608 | INFO     | src.backtesting.engine:_execute_signals:787 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:21.609 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 219.26 @ $154.25 (P&L: $-1,201.11)
2025-10-31 10:28:21.609 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $33,802.68
2025-10-31 10:28:21.610 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.611 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62)
2025-10-31 10:28:21.611 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65)
2025-10-31 10:28:21.612 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$102,774.69, Cash=$33,802.68, Comm=0.1000%, Slip=0.0500%, Scale=0.670090
2025-10-31 10:28:21.612 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=81.45%, IWM=12.64%, SPY=5.91%
2025-10-31 10:28:21.613 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.614 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['QQQ', 'IWM']
2025-10-31 10:28:21.614 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 151.22 shares worth $22,619.65
2025-10-31 10:28:21.615 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:21.615 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.58 ? $149.65 (slippage: 0.050%)
2025-10-31 10:28:21.616 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.07 confidence=0.95
2025-10-31 10:28:21.617 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 40.62
2025-10-31 10:28:21.617 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 151.22
2025-10-31 10:28:21.618 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -110.61
2025-10-31 10:28:21.618 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $16.55
2025-10-31 10:28:21.619 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-16,535.95
2025-10-31 10:28:21.619 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 110.61 shares at $149.50 (proceeds: $16,519.42)
2025-10-31 10:28:21.620 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.621 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,322.10
2025-10-31 10:28:21.621 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 208.32 shares worth $46,301.62
2025-10-31 10:28:21.622 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:21.623 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $222.26 ? $222.37 (slippage: 0.050%)
2025-10-31 10:28:21.623 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:21.624 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 376.43
2025-10-31 10:28:21.624 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 208.32
2025-10-31 10:28:21.625 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +168.10
2025-10-31 10:28:21.625 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $37.38
2025-10-31 10:28:21.626 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $37,418.48
2025-10-31 10:28:21.627 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 168.10 more shares at $222.37 (cost: $37,418.48)
2025-10-31 10:28:21.627 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.628 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,903.62
2025-10-31 10:28:21.628 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:21.629 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $139.90 ? $139.97 (slippage: 0.050%)
2025-10-31 10:28:21.630 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.16 confidence=0.95
2025-10-31 10:28:21.630 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 92.81
2025-10-31 10:28:21.631 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.99
2025-10-31 10:28:21.631 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $13,003.35
2025-10-31 10:28:21.632 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 92.10 @ $139.97
2025-10-31 10:28:21.633 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.633 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.634 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,858.05, Cash end=$-0.00
2025-10-31 10:28:21.634 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.635 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:21.636 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.636 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 92.10 shares @ $139.97 (Value: $12,890.73)
2025-10-31 10:28:21.637 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.637 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,630.20
2025-10-31 10:28:21.638 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.638 | INFO     | src.backtesting.engine:run:336 -      Change: $-144.50
2025-10-31 10:28:21.639 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.641 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:21.642 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,657.36
2025-10-31 10:28:21.642 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.643 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.644 | INFO     | src.backtesting.engine:run:293 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:21.644 | INFO     | src.backtesting.engine:run:293 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12, P&L: $569.86)
2025-10-31 10:28:21.645 | INFO     | src.backtesting.engine:run:293 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:21.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08243568296077863
2025-10-31 10:28:21.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: -0.011855044558411465
2025-10-31 10:28:21.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.04793936688623612
2025-10-31 10:28:21.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.014465489862648284
2025-10-31 10:28:21.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:21.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0824 (8.24%) - PASS
2025-10-31 10:28:21.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: -0.0119 (-1.19%) - FAIL
2025-10-31 10:28:21.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0479 (-4.79%) - FAIL
2025-10-31 10:28:21.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0145 (-1.45%) - FAIL
2025-10-31 10:28:21.656 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:21.657 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:21.657 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.658 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.658 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:21.659 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 376.43 @ $216.54 (P&L: $6,183.15)
2025-10-31 10:28:21.660 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:21.660 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 92.10 @ $136.03 (P&L: $-362.67)
2025-10-31 10:28:21.661 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,946.16
2025-10-31 10:28:21.661 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.662 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12)
2025-10-31 10:28:21.663 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$100,657.36, Cash=$93,946.16, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:21.663 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=33.33%
2025-10-31 10:28:21.664 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.664 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:21.665 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 40.62 shares worth $6,570.12
2025-10-31 10:28:21.666 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.666 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.76 ? $161.84 (slippage: 0.050%)
2025-10-31 10:28:21.667 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:21.667 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 207.32
2025-10-31 10:28:21.668 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 40.62
2025-10-31 10:28:21.669 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +166.70
2025-10-31 10:28:21.669 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.98
2025-10-31 10:28:21.670 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $27,006.02
2025-10-31 10:28:21.670 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 166.70 more shares at $161.84 (cost: $27,006.02)
2025-10-31 10:28:21.671 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.671 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,940.13
2025-10-31 10:28:21.672 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$27,006.02, Cash end=$66,940.13
2025-10-31 10:28:21.673 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.673 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:21.674 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:21.674 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.675 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,475.82
2025-10-31 10:28:21.676 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,940.13
2025-10-31 10:28:21.676 | INFO     | src.backtesting.engine:run:336 -      Change: $-181.55
2025-10-31 10:28:21.677 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.678 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:21.679 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,459.85
2025-10-31 10:28:21.679 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,940.13
2025-10-31 10:28:21.680 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.680 | INFO     | src.backtesting.engine:run:293 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71, P&L: $4,892.77)
2025-10-31 10:28:21.683 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.683 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.684 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1509633395417309
2025-10-31 10:28:21.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025289187687097314
2025-10-31 10:28:21.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.062017589828790465
2025-10-31 10:28:21.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03926623386501071
2025-10-31 10:28:21.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:21.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1510 (15.10%) - PASS
2025-10-31 10:28:21.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0253 (2.53%) - PASS
2025-10-31 10:28:21.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0620 (6.20%) - PASS
2025-10-31 10:28:21.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0393 (-3.93%) - FAIL
2025-10-31 10:28:21.692 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:21.692 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.693 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.693 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.41)
2025-10-31 10:28:21.694 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.17)
2025-10-31 10:28:21.695 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.695 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71)
2025-10-31 10:28:21.696 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$102,459.85, Cash=$66,940.13, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:21.696 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=63.36%, DIA=26.03%, QQQ=10.61%
2025-10-31 10:28:21.697 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.698 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:21.698 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 207.32 shares worth $35,519.71
2025-10-31 10:28:21.699 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.699 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.33 ? $171.41 (slippage: 0.050%)
2025-10-31 10:28:21.700 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:21.701 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 378.71
2025-10-31 10:28:21.701 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 207.32
2025-10-31 10:28:21.702 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +171.39
2025-10-31 10:28:21.702 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.38
2025-10-31 10:28:21.703 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,408.48
2025-10-31 10:28:21.704 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 171.39 more shares at $171.41 (cost: $29,408.48)
2025-10-31 10:28:21.704 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.705 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $37,531.65
2025-10-31 10:28:21.705 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:21.706 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.45 ? $161.53 (slippage: 0.050%)
2025-10-31 10:28:21.707 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.41 confidence=0.88
2025-10-31 10:28:21.707 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 165.10
2025-10-31 10:28:21.708 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.67
2025-10-31 10:28:21.708 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $26,695.19
2025-10-31 10:28:21.709 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 165.10 @ $161.53
2025-10-31 10:28:21.710 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.710 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,836.46
2025-10-31 10:28:21.711 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:21.711 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $226.13 ? $226.24 (slippage: 0.050%)
2025-10-31 10:28:21.712 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.17 confidence=0.88
2025-10-31 10:28:21.713 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 48.07
2025-10-31 10:28:21.713 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.87
2025-10-31 10:28:21.714 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,885.62
2025-10-31 10:28:21.714 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 47.85 @ $226.24
2025-10-31 10:28:21.715 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.716 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.716 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,940.13, Cash end=$-0.00
2025-10-31 10:28:21.717 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.717 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 47.85 shares @ $226.24 (Value: $10,825.63)
2025-10-31 10:28:21.718 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 165.10 shares @ $161.53 (Value: $26,668.53)
2025-10-31 10:28:21.718 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.719 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,378.29
2025-10-31 10:28:21.720 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.720 | INFO     | src.backtesting.engine:run:336 -      Change: $-81.56
2025-10-31 10:28:21.721 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.723 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:21.723 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,776.38
2025-10-31 10:28:21.724 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.725 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.725 | INFO     | src.backtesting.engine:run:293 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75, P&L: $9,757.28)
2025-10-31 10:28:21.726 | INFO     | src.backtesting.engine:run:293 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63, P&L: $328.11)
2025-10-31 10:28:21.726 | INFO     | src.backtesting.engine:run:293 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:21.729 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.731 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07630945219379859
2025-10-31 10:28:21.733 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06449609968159464
2025-10-31 10:28:21.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.09037486049938193
2025-10-31 10:28:21.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.07872675247019179
2025-10-31 10:28:21.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:21.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0763 (7.63%) - PASS
2025-10-31 10:28:21.736 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0645 (6.45%) - PASS
2025-10-31 10:28:21.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0904 (9.04%) - PASS
2025-10-31 10:28:21.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0787 (7.87%) - PASS
2025-10-31 10:28:21.738 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'IWM', 'SPY']
2025-10-31 10:28:21.738 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.739 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.740 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.87)
2025-10-31 10:28:21.740 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.84)
2025-10-31 10:28:21.741 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.741 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:21.742 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 47.85 @ $231.36 (P&L: $244.83)
2025-10-31 10:28:21.743 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $11,059.39
2025-10-31 10:28:21.743 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.744 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75)
2025-10-31 10:28:21.744 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63)
2025-10-31 10:28:21.745 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$103,776.38, Cash=$11,059.39, Comm=0.1000%, Slip=0.0500%, Scale=0.248216
2025-10-31 10:28:21.746 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=36.83%, IWM=32.08%, SPY=31.09%
2025-10-31 10:28:21.746 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.747 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['DIA', 'IWM']
2025-10-31 10:28:21.747 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 378.71 shares worth $65,703.75
2025-10-31 10:28:21.748 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:21.749 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $173.49 ? $173.58 (slippage: 0.050%)
2025-10-31 10:28:21.749 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.84 confidence=0.74
2025-10-31 10:28:21.750 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 185.90
2025-10-31 10:28:21.750 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 378.71
2025-10-31 10:28:21.751 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -192.81
2025-10-31 10:28:21.751 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.47
2025-10-31 10:28:21.752 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-33,434.34
2025-10-31 10:28:21.753 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 192.81 shares at $173.41 (proceeds: $33,400.93)
2025-10-31 10:28:21.753 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.754 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44,460.31
2025-10-31 10:28:21.754 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 165.10 shares worth $26,996.63
2025-10-31 10:28:21.755 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:21.756 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $163.51 ? $163.60 (slippage: 0.050%)
2025-10-31 10:28:21.756 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:21.757 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 233.60
2025-10-31 10:28:21.757 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 165.10
2025-10-31 10:28:21.758 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +68.50
2025-10-31 10:28:21.759 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.21
2025-10-31 10:28:21.759 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $11,217.67
2025-10-31 10:28:21.760 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 68.50 more shares at $163.60 (cost: $11,217.67)
2025-10-31 10:28:21.760 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.761 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $33,242.64
2025-10-31 10:28:21.762 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:21.762 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.47 ? $147.54 (slippage: 0.050%)
2025-10-31 10:28:21.763 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.87 confidence=0.74
2025-10-31 10:28:21.763 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 225.64
2025-10-31 10:28:21.764 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.29
2025-10-31 10:28:21.765 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,324.28
2025-10-31 10:28:21.765 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 225.09 @ $147.54
2025-10-31 10:28:21.766 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.766 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:21.767 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$77,894.66, Cash end=$0.00
2025-10-31 10:28:21.768 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.768 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:21.769 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.769 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 225.09 shares @ $147.54 (Value: $33,209.43)
2025-10-31 10:28:21.770 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.771 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,659.60
2025-10-31 10:28:21.771 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:21.772 | INFO     | src.backtesting.engine:run:336 -      Change: $-116.78
2025-10-31 10:28:21.772 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.774 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:21.775 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,935.60
2025-10-31 10:28:21.776 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:21.776 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.777 | INFO     | src.backtesting.engine:run:293 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:21.777 | INFO     | src.backtesting.engine:run:293 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76, P&L: $2,221.50)
2025-10-31 10:28:21.778 | INFO     | src.backtesting.engine:run:293 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47, P&L: $-1,137.96)
2025-10-31 10:28:21.780 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.781 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.782 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.782 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.783 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0039514597871386226
2025-10-31 10:28:21.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.10084006286237446
2025-10-31 10:28:21.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.051236546823340445
2025-10-31 10:28:21.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.04667704995213828
2025-10-31 10:28:21.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:21.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0040 (-0.40%) - FAIL
2025-10-31 10:28:21.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1008 (10.08%) - PASS
2025-10-31 10:28:21.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0512 (5.12%) - PASS
2025-10-31 10:28:21.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0467 (4.67%) - PASS
2025-10-31 10:28:21.789 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'IWM']
2025-10-31 10:28:21.790 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.790 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.791 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.51)
2025-10-31 10:28:21.791 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.46)
2025-10-31 10:28:21.792 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.793 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:21.793 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 185.90 @ $171.56 (P&L: $4,430.40)
2025-10-31 10:28:21.794 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $31,861.52
2025-10-31 10:28:21.794 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.795 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76)
2025-10-31 10:28:21.796 | INFO     | src.backtesting.engine:_execute_signals:796 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47)
2025-10-31 10:28:21.796 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$103,935.60, Cash=$31,861.52, Comm=0.1000%, Slip=0.0500%, Scale=0.603601
2025-10-31 10:28:21.797 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=50.74%, DIA=25.78%, IWM=23.48%
2025-10-31 10:28:21.797 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.798 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA', 'IWM'], then buys: ['QQQ']
2025-10-31 10:28:21.799 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 233.60 shares worth $39,954.76
2025-10-31 10:28:21.799 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.800 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.04 ? $171.12 (slippage: 0.050%)
2025-10-31 10:28:21.800 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.51 confidence=0.85
2025-10-31 10:28:21.801 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 156.57
2025-10-31 10:28:21.802 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 233.60
2025-10-31 10:28:21.802 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -77.03
2025-10-31 10:28:21.803 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $13.18
2025-10-31 10:28:21.803 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-13,168.08
2025-10-31 10:28:21.804 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 77.03 shares at $170.95 (proceeds: $13,154.92)
2025-10-31 10:28:21.804 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.805 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45,016.44
2025-10-31 10:28:21.806 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 225.09 shares worth $32,071.47
2025-10-31 10:28:21.806 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE IWM [relative_top]
2025-10-31 10:28:21.807 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.48 ? $142.56 (slippage: 0.050%)
2025-10-31 10:28:21.807 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.85
2025-10-31 10:28:21.808 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 171.23
2025-10-31 10:28:21.809 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 225.09
2025-10-31 10:28:21.809 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -53.86
2025-10-31 10:28:21.810 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.68
2025-10-31 10:28:21.810 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-7,670.69
2025-10-31 10:28:21.811 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting IWM: selling 53.86 shares at $142.41 (proceeds: $7,663.02)
2025-10-31 10:28:21.812 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.812 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,679.46
2025-10-31 10:28:21.813 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:21.813 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $248.11 ? $248.24 (slippage: 0.050%)
2025-10-31 10:28:21.814 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.85
2025-10-31 10:28:21.815 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 212.43
2025-10-31 10:28:21.815 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $52.73
2025-10-31 10:28:21.816 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $52,785.71
2025-10-31 10:28:21.816 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 212.00 @ $248.24
2025-10-31 10:28:21.817 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.818 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.818 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$73,518.22, Cash end=$-0.00
2025-10-31 10:28:21.819 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.819 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:21.820 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.820 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 212.00 shares @ $248.24 (Value: $52,626.83)
2025-10-31 10:28:21.821 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.822 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,803.86
2025-10-31 10:28:21.822 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.823 | INFO     | src.backtesting.engine:run:336 -      Change: $-131.74
2025-10-31 10:28:21.823 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.825 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:21.826 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,349.31
2025-10-31 10:28:21.827 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.827 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.828 | INFO     | src.backtesting.engine:run:293 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36, P&L: $1,574.25)
2025-10-31 10:28:21.828 | INFO     | src.backtesting.engine:run:293 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:21.829 | INFO     | src.backtesting.engine:run:293 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05, P&L: $-1,361.77)
2025-10-31 10:28:21.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.832 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03331412880741369
2025-10-31 10:28:21.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025524862883118393
2025-10-31 10:28:21.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.055422735445618265
2025-10-31 10:28:21.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.041833731525131146
2025-10-31 10:28:21.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:21.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0333 (3.33%) - PASS
2025-10-31 10:28:21.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0255 (2.55%) - PASS
2025-10-31 10:28:21.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0554 (5.54%) - PASS
2025-10-31 10:28:21.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0418 (-4.18%) - FAIL
2025-10-31 10:28:21.840 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'SPY', 'QQQ']
2025-10-31 10:28:21.841 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.841 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.842 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.60)
2025-10-31 10:28:21.843 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.46)
2025-10-31 10:28:21.843 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.844 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:21.844 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 171.23 @ $141.37 (P&L: $-1,055.81)
2025-10-31 10:28:21.845 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $24,182.58
2025-10-31 10:28:21.846 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.846 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36)
2025-10-31 10:28:21.847 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05)
2025-10-31 10:28:21.847 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$102,349.31, Cash=$24,182.58, Comm=0.1000%, Slip=0.0500%, Scale=0.459109
2025-10-31 10:28:21.848 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=48.51%, SPY=29.16%, QQQ=22.34%
2025-10-31 10:28:21.848 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.849 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['QQQ'], then buys: ['DIA', 'SPY']
2025-10-31 10:28:21.850 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 212.00 shares worth $51,265.05
2025-10-31 10:28:21.850 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE QQQ [relative_top]
2025-10-31 10:28:21.851 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $241.81 ? $241.93 (slippage: 0.050%)
2025-10-31 10:28:21.852 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.82
2025-10-31 10:28:21.852 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 94.50
2025-10-31 10:28:21.853 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 212.00
2025-10-31 10:28:21.853 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -117.50
2025-10-31 10:28:21.854 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $28.43
2025-10-31 10:28:21.854 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-28,398.51
2025-10-31 10:28:21.855 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting QQQ: selling 117.50 shares at $241.69 (proceeds: $28,370.12)
2025-10-31 10:28:21.856 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.856 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,552.70
2025-10-31 10:28:21.857 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 156.57 shares worth $26,865.36
2025-10-31 10:28:21.858 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:21.858 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.58 ? $171.67 (slippage: 0.050%)
2025-10-31 10:28:21.859 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:21.859 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 289.19
2025-10-31 10:28:21.860 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 156.57
2025-10-31 10:28:21.860 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +132.62
2025-10-31 10:28:21.861 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $22.77
2025-10-31 10:28:21.862 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $22,788.58
2025-10-31 10:28:21.862 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 132.62 more shares at $171.67 (cost: $22,788.58)
2025-10-31 10:28:21.863 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.863 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $29,764.12
2025-10-31 10:28:21.864 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:21.865 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $177.66 ? $177.75 (slippage: 0.050%)
2025-10-31 10:28:21.865 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.60 confidence=0.82
2025-10-31 10:28:21.866 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 167.88
2025-10-31 10:28:21.866 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.84
2025-10-31 10:28:21.867 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,870.79
2025-10-31 10:28:21.868 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 167.28 @ $177.75
2025-10-31 10:28:21.868 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.869 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.869 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$80,951.21, Cash end=$-0.00
2025-10-31 10:28:21.870 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.871 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:21.871 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.872 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 167.28 shares @ $177.75 (Value: $29,734.38)
2025-10-31 10:28:21.872 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.873 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,206.51
2025-10-31 10:28:21.873 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.874 | INFO     | src.backtesting.engine:run:336 -      Change: $-142.80
2025-10-31 10:28:21.875 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.877 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:21.877 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $110,342.65
2025-10-31 10:28:21.878 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.878 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.879 | INFO     | src.backtesting.engine:run:293 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92, P&L: $7,870.74)
2025-10-31 10:28:21.880 | INFO     | src.backtesting.engine:run:293 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:21.880 | INFO     | src.backtesting.engine:run:293 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30, P&L: $2,517.92)
2025-10-31 10:28:21.882 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.883 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.884 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.886 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13145818824275746
2025-10-31 10:28:21.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.0028299795316499843
2025-10-31 10:28:21.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.10642118748796281
2025-10-31 10:28:21.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.018232201653917368
2025-10-31 10:28:21.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:21.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1315 (13.15%) - PASS
2025-10-31 10:28:21.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0028 (0.28%) - PASS
2025-10-31 10:28:21.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.1064 (10.64%) - PASS
2025-10-31 10:28:21.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0182 (1.82%) - PASS
2025-10-31 10:28:21.891 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'IWM']
2025-10-31 10:28:21.892 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.893 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.893 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.81)
2025-10-31 10:28:21.894 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.14)
2025-10-31 10:28:21.894 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.895 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:21.896 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 94.50 @ $248.62 (P&L: $36.31)
2025-10-31 10:28:21.896 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $23,472.18
2025-10-31 10:28:21.897 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.897 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92)
2025-10-31 10:28:21.898 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30)
2025-10-31 10:28:21.899 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$110,342.65, Cash=$23,472.18, Comm=0.1000%, Slip=0.0500%, Scale=0.727317
2025-10-31 10:28:21.899 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=51.33%, DIA=41.55%, IWM=7.12%
2025-10-31 10:28:21.900 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.900 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['SPY', 'IWM']
2025-10-31 10:28:21.901 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 289.19 shares worth $54,582.92
2025-10-31 10:28:21.902 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.902 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $188.74 ? $188.84 (slippage: 0.050%)
2025-10-31 10:28:21.903 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.81 confidence=0.76
2025-10-31 10:28:21.903 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 242.80
2025-10-31 10:28:21.904 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 289.19
2025-10-31 10:28:21.905 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -46.39
2025-10-31 10:28:21.905 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.76
2025-10-31 10:28:21.906 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-8,751.14
2025-10-31 10:28:21.906 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 46.39 shares at $188.65 (proceeds: $8,742.39)
2025-10-31 10:28:21.907 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.907 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $32,214.57
2025-10-31 10:28:21.908 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 167.28 shares worth $32,252.30
2025-10-31 10:28:21.909 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.909 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $192.81 ? $192.90 (slippage: 0.050%)
2025-10-31 10:28:21.910 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:21.910 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 293.61
2025-10-31 10:28:21.911 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 167.28
2025-10-31 10:28:21.912 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +126.33
2025-10-31 10:28:21.912 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $24.37
2025-10-31 10:28:21.913 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $24,393.15
2025-10-31 10:28:21.913 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 126.33 more shares at $192.90 (cost: $24,393.15)
2025-10-31 10:28:21.914 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.915 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $7,821.42
2025-10-31 10:28:21.915 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:21.916 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.38 ? $144.45 (slippage: 0.050%)
2025-10-31 10:28:21.916 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.14 confidence=0.76
2025-10-31 10:28:21.917 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 54.38
2025-10-31 10:28:21.918 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.86
2025-10-31 10:28:21.918 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,862.98
2025-10-31 10:28:21.919 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 54.09 @ $144.45
2025-10-31 10:28:21.919 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.920 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.921 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$40,965.71, Cash end=$-0.00
2025-10-31 10:28:21.921 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.922 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:21.922 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.923 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 54.09 shares @ $144.45 (Value: $7,813.61)
2025-10-31 10:28:21.923 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.924 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $110,249.91
2025-10-31 10:28:21.925 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.925 | INFO     | src.backtesting.engine:run:336 -      Change: $-92.74
2025-10-31 10:28:21.926 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.928 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 242.80 @ $181.45 (P&L: $4,836.61)
2025-10-31 10:28:21.928 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 293.61 @ $192.13 (P&L: $4,221.30)
2025-10-31 10:28:21.929 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 54.09 @ $153.90 (P&L: $511.04)
2025-10-31 10:28:21.930 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2023-03-02 to 2023-12-31
2025-10-31 10:28:21.932 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:21.938 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 365 snapshots
2025-10-31 10:28:21.940 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (365, 15)
2025-10-31 10:28:21.941 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'QQQ_quantity', 'QQQ_price', 'QQQ_value', 'DIA_quantity', 'DIA_price', 'DIA_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'IWM_quantity', 'IWM_price', 'IWM_value']
2025-10-31 10:28:21.942 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 365 to 305 records (performance period)
2025-10-31 10:28:21.974 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:21.975 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:21.976 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:21.976 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 305
2025-10-31 10:28:21.977 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 365
2025-10-31 10:28:21.977 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (305, 22)
2025-10-31 10:28:21.978 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'QQQ_value', 'QQQ_quantity', 'QQQ_price', 'QQQ_pct', 'DIA_value', 'DIA_quantity', 'DIA_price', 'DIA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'IWM_value', 'IWM_quantity', 'IWM_price', 'IWM_pct']
2025-10-31 10:28:21.979 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:21.991 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value           cash  ...  IWM_price  IWM_pct
timestamp                                   ...                    
2023-03-02    100000.000000  100000.000000  ...        NaN      NaN
2023-03-03    100162.038573   66633.333333  ...        NaN      NaN
2023-03-04    100634.890545   66633.333333  ...        NaN      NaN

[3 rows x 22 columns]
2025-10-31 10:28:21.992 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:22.004 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...   IWM_price   IWM_pct
timestamp                                  ...                      
2023-12-29    108432.744206 -9.094947e-13  ...  154.352403  7.699974
2023-12-30    108513.989856 -9.094947e-13  ...  153.144139  7.633979
2023-12-31    108845.649027 -9.094947e-13  ...  153.973721  7.651945

[3 rows x 22 columns]
2025-10-31 10:28:22.005 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:22.006 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $108,845.65 (8.85% return)
2025-10-31 10:28:22.006 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102821.log
2025-10-31 10:28:22.011 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-31 10:28:22.012 | INFO     | src.backtesting.engine:__init__:101 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-31 10:28:22.012 | INFO     | src.backtesting.engine:__init__:108 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-31 10:28:22.013 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:22.021 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102822.log
2025-10-31 10:28:22.021 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:22.022 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2023-01-01 to 2023-12-31
2025-10-31 10:28:22.024 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2023-01-01 00:00:00 to 2023-12-31 00:00:00 (365 periods)
2025-10-31 10:28:22.025 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2023-03-02 00:00:00 (after 60 periods of warm-up data)
2025-10-31 10:28:22.025 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:22.026 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:22.026 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:22.027 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2023-03-02
2025-10-31 10:28:22.028 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-02
2025-10-31 10:28:22.029 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:22.029 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:22.030 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:22.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.04499753275362561
2025-10-31 10:28:22.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.11410227867333256
2025-10-31 10:28:22.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.06402916556234939
2025-10-31 10:28:22.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03043683262574659
2025-10-31 10:28:22.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-02 00:00:00:
2025-10-31 10:28:22.039 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0450 (-4.50%) - FAIL
2025-10-31 10:28:22.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1141 (11.41%) - PASS
2025-10-31 10:28:22.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0640 (-6.40%) - FAIL
2025-10-31 10:28:22.041 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0304 (-3.04%) - FAIL
2025-10-31 10:28:22.041 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['QQQ']
2025-10-31 10:28:22.042 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:22.042 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:22.043 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-02: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:22.044 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=33.33%
2025-10-31 10:28:22.044 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['QQQ']
2025-10-31 10:28:22.045 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:22.046 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $200.02 ? $200.12 (slippage: 0.050%)
2025-10-31 10:28:22.046 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:22.047 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 166.57
2025-10-31 10:28:22.047 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.33
2025-10-31 10:28:22.048 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,366.67
2025-10-31 10:28:22.049 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 166.57 @ $200.12
2025-10-31 10:28:22.049 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.050 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,633.33
2025-10-31 10:28:22.050 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$33,366.67, Cash end=$66,633.33
2025-10-31 10:28:22.051 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.052 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 166.57 shares @ $200.12 (Value: $33,333.33)
2025-10-31 10:28:22.052 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.053 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,966.67
2025-10-31 10:28:22.053 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,633.33
2025-10-31 10:28:22.054 | INFO     | src.backtesting.engine:run:336 -      Change: $-33.33
2025-10-31 10:28:22.055 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.056 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:22.056 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $101,791.68
2025-10-31 10:28:22.057 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,633.33
2025-10-31 10:28:22.058 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.058 | INFO     | src.backtesting.engine:run:293 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35, P&L: $1,825.01)
2025-10-31 10:28:22.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.015725998040660993
2025-10-31 10:28:22.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.05316804719891466
2025-10-31 10:28:22.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.05842940431667065
2025-10-31 10:28:22.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.031081946897098534
2025-10-31 10:28:22.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:22.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0157 (1.57%) - PASS
2025-10-31 10:28:22.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0532 (5.32%) - PASS
2025-10-31 10:28:22.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0584 (5.84%) - PASS
2025-10-31 10:28:22.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0311 (-3.11%) - FAIL
2025-10-31 10:28:22.069 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:22.070 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.071 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:22.071 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.91)
2025-10-31 10:28:22.072 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.27)
2025-10-31 10:28:22.072 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.073 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35)
2025-10-31 10:28:22.074 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$101,791.68, Cash=$66,633.33, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:22.074 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=45.89%, QQQ=41.76%, SPY=12.35%
2025-10-31 10:28:22.075 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:22.075 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:22.076 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:22.077 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $159.65 ? $159.73 (slippage: 0.050%)
2025-10-31 10:28:22.077 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:22.078 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 292.46
2025-10-31 10:28:22.079 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $46.71
2025-10-31 10:28:22.079 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $46,759.45
2025-10-31 10:28:22.080 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 292.46 @ $159.73
2025-10-31 10:28:22.080 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.081 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $19,873.88
2025-10-31 10:28:22.082 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 166.57 shares worth $35,158.35
2025-10-31 10:28:22.082 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:22.083 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $211.07 ? $211.18 (slippage: 0.050%)
2025-10-31 10:28:22.083 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.91 confidence=0.73
2025-10-31 10:28:22.084 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 201.28
2025-10-31 10:28:22.085 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 166.57
2025-10-31 10:28:22.085 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +34.71
2025-10-31 10:28:22.086 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.33
2025-10-31 10:28:22.086 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,337.83
2025-10-31 10:28:22.087 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 34.71 more shares at $211.18 (cost: $7,337.83)
2025-10-31 10:28:22.088 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.088 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,536.05
2025-10-31 10:28:22.089 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:22.090 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.65 ? $147.73 (slippage: 0.050%)
2025-10-31 10:28:22.090 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.27 confidence=0.73
2025-10-31 10:28:22.091 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 85.11
2025-10-31 10:28:22.091 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.57
2025-10-31 10:28:22.092 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $12,585.09
2025-10-31 10:28:22.093 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 84.77 @ $147.73
2025-10-31 10:28:22.093 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.094 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.094 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,633.33, Cash end=$-0.00
2025-10-31 10:28:22.095 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.096 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 84.77 shares @ $147.73 (Value: $12,523.53)
2025-10-31 10:28:22.096 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 292.46 shares @ $159.73 (Value: $46,712.74)
2025-10-31 10:28:22.097 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.097 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $101,721.45
2025-10-31 10:28:22.098 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.098 | INFO     | src.backtesting.engine:run:336 -      Change: $-70.23
2025-10-31 10:28:22.099 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.101 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:22.102 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,945.18
2025-10-31 10:28:22.102 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:22.103 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.104 | INFO     | src.backtesting.engine:run:293 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51, P&L: $3,630.66)
2025-10-31 10:28:22.104 | INFO     | src.backtesting.engine:run:293 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24, P&L: $-431.50)
2025-10-31 10:28:22.105 | INFO     | src.backtesting.engine:run:293 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43, P&L: $229.90)
2025-10-31 10:28:22.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.045393745602212654
2025-10-31 10:28:22.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.09068098737114672
2025-10-31 10:28:22.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.06923287243941179
2025-10-31 10:28:22.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.01663965694722691
2025-10-31 10:28:22.113 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:22.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0454 (4.54%) - PASS
2025-10-31 10:28:22.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0907 (9.07%) - PASS
2025-10-31 10:28:22.115 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0692 (6.92%) - PASS
2025-10-31 10:28:22.115 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0166 (1.66%) - PASS
2025-10-31 10:28:22.116 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'SPY']
2025-10-31 10:28:22.117 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.117 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:22.118 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.76)
2025-10-31 10:28:22.118 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.50)
2025-10-31 10:28:22.119 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.120 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51)
2025-10-31 10:28:22.120 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24)
2025-10-31 10:28:22.121 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43)
2025-10-31 10:28:22.121 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$102,945.18, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:22.122 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=44.17%, DIA=33.72%, SPY=22.11%
2025-10-31 10:28:22.123 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-31 10:28:22.123 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['QQQ', 'SPY']
2025-10-31 10:28:22.124 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 292.46 shares worth $46,281.24
2025-10-31 10:28:22.124 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:22.125 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $158.25 ? $158.33 (slippage: 0.050%)
2025-10-31 10:28:22.126 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.76 confidence=0.77
2025-10-31 10:28:22.126 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 219.26
2025-10-31 10:28:22.127 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 292.46
2025-10-31 10:28:22.127 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -73.20
2025-10-31 10:28:22.128 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.59
2025-10-31 10:28:22.129 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-11,578.10
2025-10-31 10:28:22.129 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 73.20 shares at $158.17 (proceeds: $11,566.53)
2025-10-31 10:28:22.130 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.130 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $11,566.53
2025-10-31 10:28:22.131 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 201.28 shares worth $43,910.51
2025-10-31 10:28:22.132 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:22.132 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $218.15 ? $218.26 (slippage: 0.050%)
2025-10-31 10:28:22.133 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:22.133 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 208.32
2025-10-31 10:28:22.134 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 201.28
2025-10-31 10:28:22.135 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +7.04
2025-10-31 10:28:22.135 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.54
2025-10-31 10:28:22.136 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $1,538.26
2025-10-31 10:28:22.136 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 7.04 more shares at $218.26 (cost: $1,538.26)
2025-10-31 10:28:22.137 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.138 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,028.26
2025-10-31 10:28:22.138 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 84.77 shares worth $12,753.43
2025-10-31 10:28:22.139 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:22.139 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.44 ? $150.51 (slippage: 0.050%)
2025-10-31 10:28:22.140 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.50 confidence=0.77
2025-10-31 10:28:22.141 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 151.22
2025-10-31 10:28:22.141 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 84.77
2025-10-31 10:28:22.142 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +66.45
2025-10-31 10:28:22.142 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.00
2025-10-31 10:28:22.143 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,011.49
2025-10-31 10:28:22.144 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 66.45 more shares at $150.51 (cost: $10,011.49)
2025-10-31 10:28:22.144 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.145 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $16.77
2025-10-31 10:28:22.145 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$23,127.85, Cash end=$16.77
2025-10-31 10:28:22.146 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:22.147 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.147 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,910.50
2025-10-31 10:28:22.148 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $16.77
2025-10-31 10:28:22.148 | INFO     | src.backtesting.engine:run:336 -      Change: $-34.67
2025-10-31 10:28:22.149 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.151 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:22.152 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,774.69
2025-10-31 10:28:22.152 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $16.77
2025-10-31 10:28:22.153 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.153 | INFO     | src.backtesting.engine:run:293 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62, P&L: $4,612.82)
2025-10-31 10:28:22.154 | INFO     | src.backtesting.engine:run:293 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:22.155 | INFO     | src.backtesting.engine:run:293 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65, P&L: $279.84)
2025-10-31 10:28:22.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.004610003578679356
2025-10-31 10:28:22.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06348391297189138
2025-10-31 10:28:22.162 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.03305545502013918
2025-10-31 10:28:22.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.009852101656577128
2025-10-31 10:28:22.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:22.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0046 (0.46%) - PASS
2025-10-31 10:28:22.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0635 (6.35%) - PASS
2025-10-31 10:28:22.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0331 (-3.31%) - FAIL
2025-10-31 10:28:22.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0099 (0.99%) - PASS
2025-10-31 10:28:22.166 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'IWM', 'SPY']
2025-10-31 10:28:22.167 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.167 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:22.168 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.16)
2025-10-31 10:28:22.168 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.07)
2025-10-31 10:28:22.169 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.170 | INFO     | src.backtesting.engine:_execute_signals:787 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:22.170 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 219.26 @ $154.25 (P&L: $-1,201.11)
2025-10-31 10:28:22.171 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $33,802.68
2025-10-31 10:28:22.171 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.172 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62)
2025-10-31 10:28:22.173 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65)
2025-10-31 10:28:22.173 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$102,774.69, Cash=$33,802.68, Comm=0.1000%, Slip=0.0500%, Scale=0.670090
2025-10-31 10:28:22.174 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=81.45%, IWM=12.64%, SPY=5.91%
2025-10-31 10:28:22.174 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:22.175 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['QQQ', 'IWM']
2025-10-31 10:28:22.176 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 151.22 shares worth $22,619.65
2025-10-31 10:28:22.176 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:22.177 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.58 ? $149.65 (slippage: 0.050%)
2025-10-31 10:28:22.178 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.07 confidence=0.95
2025-10-31 10:28:22.178 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 40.62
2025-10-31 10:28:22.179 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 151.22
2025-10-31 10:28:22.179 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -110.61
2025-10-31 10:28:22.180 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $16.55
2025-10-31 10:28:22.180 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-16,535.95
2025-10-31 10:28:22.181 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 110.61 shares at $149.50 (proceeds: $16,519.42)
2025-10-31 10:28:22.182 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.182 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,322.10
2025-10-31 10:28:22.183 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 208.32 shares worth $46,301.62
2025-10-31 10:28:22.184 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:22.184 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $222.26 ? $222.37 (slippage: 0.050%)
2025-10-31 10:28:22.185 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:22.185 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 376.43
2025-10-31 10:28:22.186 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 208.32
2025-10-31 10:28:22.187 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +168.10
2025-10-31 10:28:22.187 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $37.38
2025-10-31 10:28:22.188 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $37,418.48
2025-10-31 10:28:22.188 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 168.10 more shares at $222.37 (cost: $37,418.48)
2025-10-31 10:28:22.189 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.190 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,903.62
2025-10-31 10:28:22.190 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:22.191 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $139.90 ? $139.97 (slippage: 0.050%)
2025-10-31 10:28:22.191 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.16 confidence=0.95
2025-10-31 10:28:22.192 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 92.81
2025-10-31 10:28:22.193 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.99
2025-10-31 10:28:22.193 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $13,003.35
2025-10-31 10:28:22.194 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 92.10 @ $139.97
2025-10-31 10:28:22.194 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.195 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.196 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,858.05, Cash end=$-0.00
2025-10-31 10:28:22.196 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.197 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:22.197 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.198 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 92.10 shares @ $139.97 (Value: $12,890.73)
2025-10-31 10:28:22.199 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.199 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,630.20
2025-10-31 10:28:22.200 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.200 | INFO     | src.backtesting.engine:run:336 -      Change: $-144.50
2025-10-31 10:28:22.201 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.203 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:22.204 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,657.36
2025-10-31 10:28:22.204 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:22.205 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.205 | INFO     | src.backtesting.engine:run:293 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:22.206 | INFO     | src.backtesting.engine:run:293 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12, P&L: $569.86)
2025-10-31 10:28:22.207 | INFO     | src.backtesting.engine:run:293 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:22.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.210 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08243568296077863
2025-10-31 10:28:22.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: -0.011855044558411465
2025-10-31 10:28:22.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.04793936688623612
2025-10-31 10:28:22.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.014465489862648284
2025-10-31 10:28:22.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:22.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0824 (8.24%) - PASS
2025-10-31 10:28:22.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: -0.0119 (-1.19%) - FAIL
2025-10-31 10:28:22.217 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0479 (-4.79%) - FAIL
2025-10-31 10:28:22.217 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0145 (-1.45%) - FAIL
2025-10-31 10:28:22.218 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:22.219 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:22.219 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:22.220 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.220 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:22.221 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 376.43 @ $216.54 (P&L: $6,183.15)
2025-10-31 10:28:22.222 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:22.222 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 92.10 @ $136.03 (P&L: $-362.67)
2025-10-31 10:28:22.223 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,946.16
2025-10-31 10:28:22.223 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.224 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12)
2025-10-31 10:28:22.225 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$100,657.36, Cash=$93,946.16, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:22.225 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=33.33%
2025-10-31 10:28:22.226 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:22.226 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:22.227 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 40.62 shares worth $6,570.12
2025-10-31 10:28:22.228 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:22.228 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.76 ? $161.84 (slippage: 0.050%)
2025-10-31 10:28:22.229 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:22.230 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 207.32
2025-10-31 10:28:22.230 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 40.62
2025-10-31 10:28:22.231 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +166.70
2025-10-31 10:28:22.231 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.98
2025-10-31 10:28:22.232 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $27,006.02
2025-10-31 10:28:22.232 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 166.70 more shares at $161.84 (cost: $27,006.02)
2025-10-31 10:28:22.233 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.234 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,940.13
2025-10-31 10:28:22.234 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$27,006.02, Cash end=$66,940.13
2025-10-31 10:28:22.235 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.235 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:22.236 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:22.237 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.237 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,475.82
2025-10-31 10:28:22.238 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,940.13
2025-10-31 10:28:22.238 | INFO     | src.backtesting.engine:run:336 -      Change: $-181.55
2025-10-31 10:28:22.239 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.240 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:22.241 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,459.85
2025-10-31 10:28:22.241 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,940.13
2025-10-31 10:28:22.242 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.243 | INFO     | src.backtesting.engine:run:293 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71, P&L: $4,892.77)
2025-10-31 10:28:22.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1509633395417309
2025-10-31 10:28:22.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025289187687097314
2025-10-31 10:28:22.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.062017589828790465
2025-10-31 10:28:22.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03926623386501071
2025-10-31 10:28:22.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:22.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1510 (15.10%) - PASS
2025-10-31 10:28:22.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0253 (2.53%) - PASS
2025-10-31 10:28:22.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0620 (6.20%) - PASS
2025-10-31 10:28:22.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0393 (-3.93%) - FAIL
2025-10-31 10:28:22.254 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:22.255 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.255 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:22.256 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.41)
2025-10-31 10:28:22.256 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.17)
2025-10-31 10:28:22.257 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.258 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71)
2025-10-31 10:28:22.258 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$102,459.85, Cash=$66,940.13, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:22.259 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=63.36%, DIA=26.03%, QQQ=10.61%
2025-10-31 10:28:22.259 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:22.260 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:22.261 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 207.32 shares worth $35,519.71
2025-10-31 10:28:22.261 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:22.262 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.33 ? $171.41 (slippage: 0.050%)
2025-10-31 10:28:22.263 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:22.263 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 378.71
2025-10-31 10:28:22.264 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 207.32
2025-10-31 10:28:22.264 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +171.39
2025-10-31 10:28:22.265 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.38
2025-10-31 10:28:22.265 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,408.48
2025-10-31 10:28:22.266 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 171.39 more shares at $171.41 (cost: $29,408.48)
2025-10-31 10:28:22.267 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.267 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $37,531.65
2025-10-31 10:28:22.268 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:22.269 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.45 ? $161.53 (slippage: 0.050%)
2025-10-31 10:28:22.269 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.41 confidence=0.88
2025-10-31 10:28:22.270 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 165.10
2025-10-31 10:28:22.270 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.67
2025-10-31 10:28:22.271 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $26,695.19
2025-10-31 10:28:22.272 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 165.10 @ $161.53
2025-10-31 10:28:22.272 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.273 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,836.46
2025-10-31 10:28:22.274 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:22.274 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $226.13 ? $226.24 (slippage: 0.050%)
2025-10-31 10:28:22.275 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.17 confidence=0.88
2025-10-31 10:28:22.275 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 48.07
2025-10-31 10:28:22.276 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.87
2025-10-31 10:28:22.277 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,885.62
2025-10-31 10:28:22.277 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 47.85 @ $226.24
2025-10-31 10:28:22.278 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.278 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.279 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,940.13, Cash end=$-0.00
2025-10-31 10:28:22.280 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.280 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 47.85 shares @ $226.24 (Value: $10,825.63)
2025-10-31 10:28:22.281 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 165.10 shares @ $161.53 (Value: $26,668.53)
2025-10-31 10:28:22.281 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.282 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,378.29
2025-10-31 10:28:22.283 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.283 | INFO     | src.backtesting.engine:run:336 -      Change: $-81.56
2025-10-31 10:28:22.284 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.287 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:22.288 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,776.38
2025-10-31 10:28:22.289 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:22.290 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.290 | INFO     | src.backtesting.engine:run:293 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75, P&L: $9,757.28)
2025-10-31 10:28:22.291 | INFO     | src.backtesting.engine:run:293 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63, P&L: $328.11)
2025-10-31 10:28:22.291 | INFO     | src.backtesting.engine:run:293 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:22.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07630945219379859
2025-10-31 10:28:22.298 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06449609968159464
2025-10-31 10:28:22.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.09037486049938193
2025-10-31 10:28:22.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.07872675247019179
2025-10-31 10:28:22.300 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:22.301 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0763 (7.63%) - PASS
2025-10-31 10:28:22.301 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0645 (6.45%) - PASS
2025-10-31 10:28:22.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0904 (9.04%) - PASS
2025-10-31 10:28:22.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0787 (7.87%) - PASS
2025-10-31 10:28:22.303 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'IWM', 'SPY']
2025-10-31 10:28:22.304 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.304 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:22.305 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.87)
2025-10-31 10:28:22.305 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.84)
2025-10-31 10:28:22.306 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.306 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:22.307 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 47.85 @ $231.36 (P&L: $244.83)
2025-10-31 10:28:22.308 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $11,059.39
2025-10-31 10:28:22.308 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.309 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75)
2025-10-31 10:28:22.310 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63)
2025-10-31 10:28:22.310 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$103,776.38, Cash=$11,059.39, Comm=0.1000%, Slip=0.0500%, Scale=0.248216
2025-10-31 10:28:22.311 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=36.83%, IWM=32.08%, SPY=31.09%
2025-10-31 10:28:22.311 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:22.312 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['DIA', 'IWM']
2025-10-31 10:28:22.313 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 378.71 shares worth $65,703.75
2025-10-31 10:28:22.313 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:22.314 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $173.49 ? $173.58 (slippage: 0.050%)
2025-10-31 10:28:22.314 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.84 confidence=0.74
2025-10-31 10:28:22.315 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 185.90
2025-10-31 10:28:22.316 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 378.71
2025-10-31 10:28:22.316 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -192.81
2025-10-31 10:28:22.317 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.47
2025-10-31 10:28:22.317 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-33,434.34
2025-10-31 10:28:22.318 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 192.81 shares at $173.41 (proceeds: $33,400.93)
2025-10-31 10:28:22.319 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.319 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44,460.31
2025-10-31 10:28:22.320 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 165.10 shares worth $26,996.63
2025-10-31 10:28:22.320 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:22.321 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $163.51 ? $163.60 (slippage: 0.050%)
2025-10-31 10:28:22.322 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:22.322 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 233.60
2025-10-31 10:28:22.323 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 165.10
2025-10-31 10:28:22.323 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +68.50
2025-10-31 10:28:22.324 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.21
2025-10-31 10:28:22.325 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $11,217.67
2025-10-31 10:28:22.325 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 68.50 more shares at $163.60 (cost: $11,217.67)
2025-10-31 10:28:22.326 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.327 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $33,242.64
2025-10-31 10:28:22.328 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:22.328 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.47 ? $147.54 (slippage: 0.050%)
2025-10-31 10:28:22.329 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.87 confidence=0.74
2025-10-31 10:28:22.330 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 225.64
2025-10-31 10:28:22.330 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.29
2025-10-31 10:28:22.331 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,324.28
2025-10-31 10:28:22.331 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 225.09 @ $147.54
2025-10-31 10:28:22.332 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.333 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:22.333 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$77,894.66, Cash end=$0.00
2025-10-31 10:28:22.334 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.334 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:22.335 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.335 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 225.09 shares @ $147.54 (Value: $33,209.43)
2025-10-31 10:28:22.336 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.337 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,659.60
2025-10-31 10:28:22.337 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:22.338 | INFO     | src.backtesting.engine:run:336 -      Change: $-116.78
2025-10-31 10:28:22.338 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.341 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:22.341 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,935.60
2025-10-31 10:28:22.342 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:22.342 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.343 | INFO     | src.backtesting.engine:run:293 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:22.343 | INFO     | src.backtesting.engine:run:293 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76, P&L: $2,221.50)
2025-10-31 10:28:22.344 | INFO     | src.backtesting.engine:run:293 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47, P&L: $-1,137.96)
2025-10-31 10:28:22.346 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.347 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.348 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.350 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0039514597871386226
2025-10-31 10:28:22.351 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.10084006286237446
2025-10-31 10:28:22.351 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.051236546823340445
2025-10-31 10:28:22.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.04667704995213828
2025-10-31 10:28:22.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:22.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0040 (-0.40%) - FAIL
2025-10-31 10:28:22.354 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1008 (10.08%) - PASS
2025-10-31 10:28:22.354 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0512 (5.12%) - PASS
2025-10-31 10:28:22.355 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0467 (4.67%) - PASS
2025-10-31 10:28:22.356 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'IWM']
2025-10-31 10:28:22.356 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.357 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:22.357 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.51)
2025-10-31 10:28:22.358 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.46)
2025-10-31 10:28:22.358 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.359 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:22.360 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 185.90 @ $171.56 (P&L: $4,430.40)
2025-10-31 10:28:22.360 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $31,861.52
2025-10-31 10:28:22.361 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.361 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76)
2025-10-31 10:28:22.362 | INFO     | src.backtesting.engine:_execute_signals:796 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47)
2025-10-31 10:28:22.363 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$103,935.60, Cash=$31,861.52, Comm=0.1000%, Slip=0.0500%, Scale=0.603601
2025-10-31 10:28:22.363 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=50.74%, DIA=25.78%, IWM=23.48%
2025-10-31 10:28:22.364 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:22.365 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA', 'IWM'], then buys: ['QQQ']
2025-10-31 10:28:22.365 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 233.60 shares worth $39,954.76
2025-10-31 10:28:22.366 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:22.366 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.04 ? $171.12 (slippage: 0.050%)
2025-10-31 10:28:22.367 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.51 confidence=0.85
2025-10-31 10:28:22.368 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 156.57
2025-10-31 10:28:22.368 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 233.60
2025-10-31 10:28:22.369 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -77.03
2025-10-31 10:28:22.369 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $13.18
2025-10-31 10:28:22.370 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-13,168.08
2025-10-31 10:28:22.371 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 77.03 shares at $170.95 (proceeds: $13,154.92)
2025-10-31 10:28:22.371 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.372 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45,016.44
2025-10-31 10:28:22.372 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 225.09 shares worth $32,071.47
2025-10-31 10:28:22.373 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE IWM [relative_top]
2025-10-31 10:28:22.374 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.48 ? $142.56 (slippage: 0.050%)
2025-10-31 10:28:22.374 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.85
2025-10-31 10:28:22.375 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 171.23
2025-10-31 10:28:22.375 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 225.09
2025-10-31 10:28:22.376 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -53.86
2025-10-31 10:28:22.377 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.68
2025-10-31 10:28:22.377 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-7,670.69
2025-10-31 10:28:22.378 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting IWM: selling 53.86 shares at $142.41 (proceeds: $7,663.02)
2025-10-31 10:28:22.378 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.379 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,679.46
2025-10-31 10:28:22.380 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:22.380 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $248.11 ? $248.24 (slippage: 0.050%)
2025-10-31 10:28:22.381 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.85
2025-10-31 10:28:22.381 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 212.43
2025-10-31 10:28:22.382 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $52.73
2025-10-31 10:28:22.383 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $52,785.71
2025-10-31 10:28:22.383 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 212.00 @ $248.24
2025-10-31 10:28:22.384 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.384 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.385 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$73,518.22, Cash end=$-0.00
2025-10-31 10:28:22.386 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.386 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:22.387 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.387 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 212.00 shares @ $248.24 (Value: $52,626.83)
2025-10-31 10:28:22.388 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.388 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,803.86
2025-10-31 10:28:22.389 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.390 | INFO     | src.backtesting.engine:run:336 -      Change: $-131.74
2025-10-31 10:28:22.390 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.392 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:22.393 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,349.31
2025-10-31 10:28:22.394 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:22.394 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.395 | INFO     | src.backtesting.engine:run:293 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36, P&L: $1,574.25)
2025-10-31 10:28:22.395 | INFO     | src.backtesting.engine:run:293 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:22.396 | INFO     | src.backtesting.engine:run:293 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05, P&L: $-1,361.77)
2025-10-31 10:28:22.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03331412880741369
2025-10-31 10:28:22.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025524862883118393
2025-10-31 10:28:22.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.055422735445618265
2025-10-31 10:28:22.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.041833731525131146
2025-10-31 10:28:22.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:22.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0333 (3.33%) - PASS
2025-10-31 10:28:22.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0255 (2.55%) - PASS
2025-10-31 10:28:22.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0554 (5.54%) - PASS
2025-10-31 10:28:22.407 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0418 (-4.18%) - FAIL
2025-10-31 10:28:22.408 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'SPY', 'QQQ']
2025-10-31 10:28:22.408 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.409 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:22.409 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.60)
2025-10-31 10:28:22.410 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.46)
2025-10-31 10:28:22.410 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.411 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:22.412 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 171.23 @ $141.37 (P&L: $-1,055.81)
2025-10-31 10:28:22.412 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $24,182.58
2025-10-31 10:28:22.413 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.414 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36)
2025-10-31 10:28:22.414 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05)
2025-10-31 10:28:22.415 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$102,349.31, Cash=$24,182.58, Comm=0.1000%, Slip=0.0500%, Scale=0.459109
2025-10-31 10:28:22.415 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=48.51%, SPY=29.16%, QQQ=22.34%
2025-10-31 10:28:22.416 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:22.417 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['QQQ'], then buys: ['DIA', 'SPY']
2025-10-31 10:28:22.417 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 212.00 shares worth $51,265.05
2025-10-31 10:28:22.418 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE QQQ [relative_top]
2025-10-31 10:28:22.418 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $241.81 ? $241.93 (slippage: 0.050%)
2025-10-31 10:28:22.419 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.82
2025-10-31 10:28:22.420 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 94.50
2025-10-31 10:28:22.420 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 212.00
2025-10-31 10:28:22.421 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -117.50
2025-10-31 10:28:22.421 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $28.43
2025-10-31 10:28:22.422 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-28,398.51
2025-10-31 10:28:22.423 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting QQQ: selling 117.50 shares at $241.69 (proceeds: $28,370.12)
2025-10-31 10:28:22.423 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.424 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,552.70
2025-10-31 10:28:22.424 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 156.57 shares worth $26,865.36
2025-10-31 10:28:22.425 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:22.426 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.58 ? $171.67 (slippage: 0.050%)
2025-10-31 10:28:22.426 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:22.427 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 289.19
2025-10-31 10:28:22.427 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 156.57
2025-10-31 10:28:22.428 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +132.62
2025-10-31 10:28:22.429 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $22.77
2025-10-31 10:28:22.429 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $22,788.58
2025-10-31 10:28:22.430 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 132.62 more shares at $171.67 (cost: $22,788.58)
2025-10-31 10:28:22.430 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.431 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $29,764.12
2025-10-31 10:28:22.432 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:22.432 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $177.66 ? $177.75 (slippage: 0.050%)
2025-10-31 10:28:22.433 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.60 confidence=0.82
2025-10-31 10:28:22.433 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 167.88
2025-10-31 10:28:22.434 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.84
2025-10-31 10:28:22.435 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,870.79
2025-10-31 10:28:22.435 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 167.28 @ $177.75
2025-10-31 10:28:22.436 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.436 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.437 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$80,951.21, Cash end=$-0.00
2025-10-31 10:28:22.438 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.438 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:22.439 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.439 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 167.28 shares @ $177.75 (Value: $29,734.38)
2025-10-31 10:28:22.440 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.441 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,206.51
2025-10-31 10:28:22.441 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.442 | INFO     | src.backtesting.engine:run:336 -      Change: $-142.80
2025-10-31 10:28:22.442 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.444 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:22.445 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $110,342.65
2025-10-31 10:28:22.446 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:22.446 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.447 | INFO     | src.backtesting.engine:run:293 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92, P&L: $7,870.74)
2025-10-31 10:28:22.447 | INFO     | src.backtesting.engine:run:293 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:22.448 | INFO     | src.backtesting.engine:run:293 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30, P&L: $2,517.92)
2025-10-31 10:28:22.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.454 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13145818824275746
2025-10-31 10:28:22.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.0028299795316499843
2025-10-31 10:28:22.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.10642118748796281
2025-10-31 10:28:22.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.018232201653917368
2025-10-31 10:28:22.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:22.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1315 (13.15%) - PASS
2025-10-31 10:28:22.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0028 (0.28%) - PASS
2025-10-31 10:28:22.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.1064 (10.64%) - PASS
2025-10-31 10:28:22.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0182 (1.82%) - PASS
2025-10-31 10:28:22.459 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'IWM']
2025-10-31 10:28:22.460 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.461 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:22.461 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.81)
2025-10-31 10:28:22.462 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.14)
2025-10-31 10:28:22.462 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.463 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:22.464 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 94.50 @ $248.62 (P&L: $36.31)
2025-10-31 10:28:22.464 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $23,472.18
2025-10-31 10:28:22.465 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.465 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92)
2025-10-31 10:28:22.466 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30)
2025-10-31 10:28:22.467 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$110,342.65, Cash=$23,472.18, Comm=0.1000%, Slip=0.0500%, Scale=0.727317
2025-10-31 10:28:22.467 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=51.33%, DIA=41.55%, IWM=7.12%
2025-10-31 10:28:22.468 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:22.468 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['SPY', 'IWM']
2025-10-31 10:28:22.469 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 289.19 shares worth $54,582.92
2025-10-31 10:28:22.470 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:22.470 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $188.74 ? $188.84 (slippage: 0.050%)
2025-10-31 10:28:22.471 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.81 confidence=0.76
2025-10-31 10:28:22.472 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 242.80
2025-10-31 10:28:22.472 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 289.19
2025-10-31 10:28:22.473 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -46.39
2025-10-31 10:28:22.473 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.76
2025-10-31 10:28:22.474 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-8,751.14
2025-10-31 10:28:22.474 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 46.39 shares at $188.65 (proceeds: $8,742.39)
2025-10-31 10:28:22.475 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.476 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $32,214.57
2025-10-31 10:28:22.476 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 167.28 shares worth $32,252.30
2025-10-31 10:28:22.477 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:22.478 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $192.81 ? $192.90 (slippage: 0.050%)
2025-10-31 10:28:22.478 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:22.479 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 293.61
2025-10-31 10:28:22.479 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 167.28
2025-10-31 10:28:22.480 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +126.33
2025-10-31 10:28:22.480 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $24.37
2025-10-31 10:28:22.481 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $24,393.15
2025-10-31 10:28:22.501 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 126.33 more shares at $192.90 (cost: $24,393.15)
2025-10-31 10:28:22.501 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.502 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $7,821.42
2025-10-31 10:28:22.503 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:22.510 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.38 ? $144.45 (slippage: 0.050%)
2025-10-31 10:28:22.518 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.14 confidence=0.76
2025-10-31 10:28:22.518 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 54.38
2025-10-31 10:28:22.519 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.86
2025-10-31 10:28:22.519 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,862.98
2025-10-31 10:28:22.520 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 54.09 @ $144.45
2025-10-31 10:28:22.521 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.521 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.522 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$40,965.71, Cash end=$-0.00
2025-10-31 10:28:22.528 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.528 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:22.529 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.536 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 54.09 shares @ $144.45 (Value: $7,813.61)
2025-10-31 10:28:22.537 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.538 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $110,249.91
2025-10-31 10:28:22.538 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.552 | INFO     | src.backtesting.engine:run:336 -      Change: $-92.74
2025-10-31 10:28:22.562 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.564 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 242.80 @ $181.45 (P&L: $4,836.61)
2025-10-31 10:28:22.573 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 293.61 @ $192.13 (P&L: $4,221.30)
2025-10-31 10:28:22.574 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 54.09 @ $153.90 (P&L: $511.04)
2025-10-31 10:28:22.575 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2023-03-02 to 2023-12-31
2025-10-31 10:28:22.577 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:22.583 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 365 snapshots
2025-10-31 10:28:22.585 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (365, 15)
2025-10-31 10:28:22.585 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'QQQ_quantity', 'QQQ_price', 'QQQ_value', 'DIA_quantity', 'DIA_price', 'DIA_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'IWM_quantity', 'IWM_price', 'IWM_value']
2025-10-31 10:28:22.586 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 365 to 305 records (performance period)
2025-10-31 10:28:22.619 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:22.620 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:22.620 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:22.621 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 305
2025-10-31 10:28:22.622 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 365
2025-10-31 10:28:22.622 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (305, 22)
2025-10-31 10:28:22.623 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'QQQ_value', 'QQQ_quantity', 'QQQ_price', 'QQQ_pct', 'DIA_value', 'DIA_quantity', 'DIA_price', 'DIA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'IWM_value', 'IWM_quantity', 'IWM_price', 'IWM_pct']
2025-10-31 10:28:22.623 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:22.636 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value           cash  ...  IWM_price  IWM_pct
timestamp                                   ...                    
2023-03-02    100000.000000  100000.000000  ...        NaN      NaN
2023-03-03    100162.038573   66633.333333  ...        NaN      NaN
2023-03-04    100634.890545   66633.333333  ...        NaN      NaN

[3 rows x 22 columns]
2025-10-31 10:28:22.637 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:22.649 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...   IWM_price   IWM_pct
timestamp                                  ...                      
2023-12-29    108432.744206 -9.094947e-13  ...  154.352403  7.699974
2023-12-30    108513.989856 -9.094947e-13  ...  153.144139  7.633979
2023-12-31    108845.649027 -9.094947e-13  ...  153.973721  7.651945

[3 rows x 22 columns]
2025-10-31 10:28:22.650 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:22.651 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $108,845.65 (8.85% return)
2025-10-31 10:28:22.651 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102822.log

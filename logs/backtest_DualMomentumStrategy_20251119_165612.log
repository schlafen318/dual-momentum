2025-11-19 16:56:12.234 | INFO     | src.backtesting.engine:_setup_logging:122 - Backtest logging enabled: logs\backtest_DualMomentumStrategy_20251119_165612.log
2025-11-19 16:56:12.236 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.239 | INFO     | src.backtesting.engine:_setup_logging:123 - Strategy: DualMomentumStrategy
2025-11-19 16:56:12.240 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.241 | INFO     | src.backtesting.engine:_setup_logging:124 - Period: 2015-01-01 to 2024-01-01
2025-11-19 16:56:12.256 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:12.263 | INFO     | src.backtesting.engine:run:180 - Backtesting from 2015-01-02 00:00:00 to 2023-12-29 00:00:00 (2264 periods)
2025-11-19 16:56:12.265 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $430.43 ‚Üí $430.65 (slippage: 0.050%)
2025-11-19 16:56:12.267 | INFO     | src.backtesting.engine:run:197 - First rebalancing expected on or after 2015-07-06 00:00:00 (after 126 periods of warm-up data)
2025-11-19 16:56:12.268 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.72
2025-11-19 16:56:12.271 | ERROR    | src.backtesting.engine:_validate_safe_asset_data:390 - 
================================================================================
‚ùå CONFIGURATION ERROR: Safe asset 'SHY' configured but no price data available!

IMPACT: During bearish markets, defensive signals will fail, leaving portfolio in CASH.

SOLUTIONS:
  1. Add 'SHY' to your asset universe, OR
  2. Use a safe asset already in your universe (e.g., 'AGG', 'TLT'), OR
  3. Use utils.ensure_safe_asset_data() to auto-fetch, OR
  4. Set safe_asset=None to explicitly hold cash

Available symbols in price data: ['SPY', 'EFA', 'EEM', 'AGG']
================================================================================
2025-11-19 16:56:12.272 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 267.49
2025-11-19 16:56:12.274 | ERROR    | src.agents.strategy_comparison_agent:_test_strategy:444 - Error testing strategy sector_rotation_monthly: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:12.276 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $115.19
2025-11-19 16:56:12.279 | WARNING  | src.agents.strategy_comparison_agent:_run_parallel:250 - [15/16] ‚úó sector_rotation_monthly: Safe asset 'SHY' configured but not in price data. Add to universe or use utils.ensure_safe_asset_data().
2025-11-19 16:56:12.282 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $115,306.77
2025-11-19 16:56:12.284 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 266.82 @ $430.65
2025-11-19 16:56:12.284 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:12.286 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:12.287 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$115,018.94, Cash end=$0.00
2025-11-19 16:56:12.289 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:12.290 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EEM: 2099.43 shares @ $54.84 (Value: $115,132.80, P&L: $5,907.80)
2025-11-19 16:56:12.292 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:12.294 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 266.82 shares @ $430.65 (Value: $114,904.03)
2025-11-19 16:56:12.295 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.297 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $114,904.03
2025-11-19 16:56:12.301 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:12.303 | INFO     | src.backtesting.engine:run:316 -      Change: $-287.55
2025-11-19 16:56:12.306 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.308 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-08-02
2025-11-19 16:56:12.309 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $116,757.03
2025-11-19 16:56:12.310 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:12.313 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.315 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.82 shares @ $437.59 (Value: $116,757.03, P&L: $1,853.00)
2025-11-19 16:56:12.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.320 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.323 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.324 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.34016296417175274
2025-11-19 16:56:12.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.2875100785163687
2025-11-19 16:56:12.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.2005082033172798
2025-11-19 16:56:12.329 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.025259256479880476
2025-11-19 16:56:12.331 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-02 00:00:00:
2025-11-19 16:56:12.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.3402 (34.02%) - PASS
2025-11-19 16:56:12.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2875 (28.75%) - PASS
2025-11-19 16:56:12.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.2005 (20.05%) - PASS
2025-11-19 16:56:12.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0253 (-2.53%) - FAIL
2025-11-19 16:56:12.338 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.339 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.340 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.342 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.342 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.82 shares @ $437.59 (Value: $116,757.03)
2025-11-19 16:56:12.344 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-08-02: PV=$116,757.03, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:12.346 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.348 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.350 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.352 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.82 shares worth $116,757.03
2025-11-19 16:56:12.353 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:12.355 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $437.59 ‚Üí $437.81 (slippage: 0.050%)
2025-11-19 16:56:12.357 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.75
2025-11-19 16:56:12.358 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.361 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.82
2025-11-19 16:56:12.362 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.13
2025-11-19 16:56:12.364 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:12.366 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-58.32
2025-11-19 16:56:12.367 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.13 shares at $437.37 (proceeds: $58.26)
2025-11-19 16:56:12.367 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:12.368 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $58.26
2025-11-19 16:56:12.369 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$58.32, Cash end=$58.26
2025-11-19 16:56:12.371 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.372 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.373 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $116,756.94
2025-11-19 16:56:12.374 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.375 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.09
2025-11-19 16:56:12.377 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.380 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-09-01
2025-11-19 16:56:12.382 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,546.53
2025-11-19 16:56:12.383 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.385 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.386 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $451.80 (Value: $120,488.27, P&L: $5,641.66)
2025-11-19 16:56:12.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.391 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.393 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.395 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.28133857053970157
2025-11-19 16:56:12.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.25088391897290174
2025-11-19 16:56:12.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.17174398951488756
2025-11-19 16:56:12.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.021026835857716697
2025-11-19 16:56:12.407 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-11-19 16:56:12.408 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2813 (28.13%) - PASS
2025-11-19 16:56:12.409 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2509 (25.09%) - PASS
2025-11-19 16:56:12.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1717 (17.17%) - PASS
2025-11-19 16:56:12.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0210 (-2.10%) - FAIL
2025-11-19 16:56:12.415 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.416 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.417 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.417 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.418 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $451.80 (Value: $120,488.27)
2025-11-19 16:56:12.419 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-09-01: PV=$120,546.53, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.420 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.420 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.421 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.421 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $120,488.27
2025-11-19 16:56:12.423 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.424 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $451.80 ‚Üí $452.03 (slippage: 0.050%)
2025-11-19 16:56:12.424 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:12.425 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.426 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.427 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:12.427 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.429 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.98
2025-11-19 16:56:12.429 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.431 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.433 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.434 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.435 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,546.53
2025-11-19 16:56:12.435 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.436 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.437 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.438 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-10-01
2025-11-19 16:56:12.440 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $115,863.55
2025-11-19 16:56:12.441 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.442 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.443 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $434.24 (Value: $115,805.28, P&L: $958.67)
2025-11-19 16:56:12.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.28839300743281937
2025-11-19 16:56:12.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.22149329972999188
2025-11-19 16:56:12.454 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.1310112771023526
2025-11-19 16:56:12.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.025588855524203535
2025-11-19 16:56:12.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-11-19 16:56:12.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2884 (28.84%) - PASS
2025-11-19 16:56:12.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2215 (22.15%) - PASS
2025-11-19 16:56:12.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1310 (13.10%) - PASS
2025-11-19 16:56:12.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0256 (-2.56%) - FAIL
2025-11-19 16:56:12.459 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.462 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.466 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.473 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.474 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $434.24 (Value: $115,805.28)
2025-11-19 16:56:12.476 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-10-01: PV=$115,863.55, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.477 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.478 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.481 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.481 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $115,805.28
2025-11-19 16:56:12.483 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.485 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $434.24 ‚Üí $434.46 (slippage: 0.050%)
2025-11-19 16:56:12.486 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.77
2025-11-19 16:56:12.486 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.69
2025-11-19 16:56:12.487 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.488 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:12.488 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.489 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.36
2025-11-19 16:56:12.489 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.489 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.490 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.491 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.491 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $115,863.55
2025-11-19 16:56:12.493 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.494 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.497 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.501 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-11-01
2025-11-19 16:56:12.503 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $122,744.02
2025-11-19 16:56:12.504 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.505 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.506 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $460.04 (Value: $122,685.76, P&L: $7,839.15)
2025-11-19 16:56:12.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.510 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.40883198538176835
2025-11-19 16:56:12.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.32383120135313326
2025-11-19 16:56:12.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.14784166284286848
2025-11-19 16:56:12.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.02397608900821646
2025-11-19 16:56:12.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-11-19 16:56:12.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.4088 (40.88%) - PASS
2025-11-19 16:56:12.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.3238 (32.38%) - PASS
2025-11-19 16:56:12.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.1478 (14.78%) - PASS
2025-11-19 16:56:12.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0240 (-2.40%) - FAIL
2025-11-19 16:56:12.525 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.528 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.534 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.535 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.536 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $460.04 (Value: $122,685.76)
2025-11-19 16:56:12.538 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-11-01: PV=$122,744.02, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.538 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.539 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.539 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.541 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $122,685.76
2025-11-19 16:56:12.541 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.543 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $460.04 ‚Üí $460.27 (slippage: 0.050%)
2025-11-19 16:56:12.545 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.76
2025-11-19 16:56:12.547 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.549 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.550 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:12.550 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.551 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-3.08
2025-11-19 16:56:12.551 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.553 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.554 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.554 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.555 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $122,744.02
2025-11-19 16:56:12.556 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.556 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.557 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.558 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2021-12-01
2025-11-19 16:56:12.565 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,199.85
2025-11-19 16:56:12.568 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.570 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.573 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $450.50 (Value: $120,141.58, P&L: $5,294.97)
2025-11-19 16:56:12.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.23080709666698707
2025-11-19 16:56:12.590 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06406682839282252
2025-11-19 16:56:12.594 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.013483561832605462
2025-11-19 16:56:12.597 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.027240318942886033
2025-11-19 16:56:12.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-11-19 16:56:12.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2308 (23.08%) - PASS
2025-11-19 16:56:12.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0641 (6.41%) - PASS
2025-11-19 16:56:12.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0135 (-1.35%) - FAIL
2025-11-19 16:56:12.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0272 (-2.72%) - FAIL
2025-11-19 16:56:12.610 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.611 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.614 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.615 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.616 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $450.50 (Value: $120,141.58)
2025-11-19 16:56:12.617 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-12-01: PV=$120,199.85, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.618 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.619 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.619 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.620 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $120,141.58
2025-11-19 16:56:12.621 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.623 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $450.50 ‚Üí $450.73 (slippage: 0.050%)
2025-11-19 16:56:12.624 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.92
2025-11-19 16:56:12.625 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.626 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.627 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.00
2025-11-19 16:56:12.630 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.632 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.81
2025-11-19 16:56:12.633 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.634 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$58.26
2025-11-19 16:56:12.635 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.636 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.636 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,199.85
2025-11-19 16:56:12.637 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $58.26
2025-11-19 16:56:12.637 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.638 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.640 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-01-03
2025-11-19 16:56:12.641 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $127,456.34
2025-11-19 16:56:12.641 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $58.26
2025-11-19 16:56:12.642 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.643 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.68 shares @ $477.71 (Value: $127,398.08, P&L: $12,551.47)
2025-11-19 16:56:12.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.29534418066233714
2025-11-19 16:56:12.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07976556307098237
2025-11-19 16:56:12.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.0538461391742413
2025-11-19 16:56:12.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04015586095396262
2025-11-19 16:56:12.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-03 00:00:00:
2025-11-19 16:56:12.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.2953 (29.53%) - PASS
2025-11-19 16:56:12.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0798 (7.98%) - PASS
2025-11-19 16:56:12.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0538 (-5.38%) - FAIL
2025-11-19 16:56:12.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0402 (-4.02%) - FAIL
2025-11-19 16:56:12.669 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.670 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.670 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.671 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.672 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.68 shares @ $477.71 (Value: $127,398.08)
2025-11-19 16:56:12.673 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-01-03: PV=$127,456.34, Cash=$58.26, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.673 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.674 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.675 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.676 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.68 shares worth $127,398.08
2025-11-19 16:56:12.677 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE SPY [relative_top]
2025-11-19 16:56:12.678 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $477.71 ‚Üí $477.95 (slippage: 0.050%)
2025-11-19 16:56:12.680 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.92
2025-11-19 16:56:12.682 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.67
2025-11-19 16:56:12.683 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.68
2025-11-19 16:56:12.684 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:12.684 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.01
2025-11-19 16:56:12.685 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-5.43
2025-11-19 16:56:12.686 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 0.01 shares at $477.47 (proceeds: $5.43)
2025-11-19 16:56:12.686 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:12.687 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $63.69
2025-11-19 16:56:12.688 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$5.43, Cash end=$63.69
2025-11-19 16:56:12.689 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.689 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.692 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $127,456.33
2025-11-19 16:56:12.694 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $63.69
2025-11-19 16:56:12.697 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.01
2025-11-19 16:56:12.700 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.702 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-02-01
2025-11-19 16:56:12.703 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,853.50
2025-11-19 16:56:12.704 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $63.69
2025-11-19 16:56:12.706 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.706 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.67 shares @ $452.95 (Value: $120,789.81, P&L: $5,948.10)
2025-11-19 16:56:12.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.710 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.713 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.18713150753081553
2025-11-19 16:56:12.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03446415901312605
2025-11-19 16:56:12.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.11395600070598721
2025-11-19 16:56:12.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04656133648477401
2025-11-19 16:56:12.726 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-11-19 16:56:12.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1871 (18.71%) - PASS
2025-11-19 16:56:12.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0345 (3.45%) - PASS
2025-11-19 16:56:12.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1140 (-11.40%) - FAIL
2025-11-19 16:56:12.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0466 (-4.66%) - FAIL
2025-11-19 16:56:12.751 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.753 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.755 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.755 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.757 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.67 shares @ $452.95 (Value: $120,789.81)
2025-11-19 16:56:12.758 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-02-01: PV=$120,853.50, Cash=$63.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.760 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.763 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.765 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.768 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.67 shares worth $120,789.81
2025-11-19 16:56:12.770 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.773 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $452.95 ‚Üí $453.18 (slippage: 0.050%)
2025-11-19 16:56:12.774 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.94
2025-11-19 16:56:12.775 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.779 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.67
2025-11-19 16:56:12.784 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:12.787 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.789 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $3.30
2025-11-19 16:56:12.790 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.792 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$63.69
2025-11-19 16:56:12.794 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.796 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.799 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,853.50
2025-11-19 16:56:12.802 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $63.69
2025-11-19 16:56:12.804 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.806 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.809 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-03-01
2025-11-19 16:56:12.812 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $114,728.01
2025-11-19 16:56:12.813 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $63.69
2025-11-19 16:56:12.816 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.817 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.67 shares @ $429.98 (Value: $114,664.32, P&L: $-177.39)
2025-11-19 16:56:12.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.825 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.827 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11238164609384249
2025-11-19 16:56:12.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.049123698396621784
2025-11-19 16:56:12.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.15595827001981089
2025-11-19 16:56:12.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.037268707260709966
2025-11-19 16:56:12.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-11-19 16:56:12.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1124 (11.24%) - PASS
2025-11-19 16:56:12.841 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0491 (-4.91%) - FAIL
2025-11-19 16:56:12.842 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1560 (-15.60%) - FAIL
2025-11-19 16:56:12.843 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0373 (-3.73%) - FAIL
2025-11-19 16:56:12.846 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.847 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.848 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.851 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.852 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.67 shares @ $429.98 (Value: $114,664.32)
2025-11-19 16:56:12.853 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-03-01: PV=$114,728.01, Cash=$63.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.853 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.855 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.856 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:12.856 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.67 shares worth $114,664.32
2025-11-19 16:56:12.857 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD SPY [relative_top]
2025-11-19 16:56:12.858 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $429.98 ‚Üí $430.20 (slippage: 0.050%)
2025-11-19 16:56:12.862 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:12.864 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.69
2025-11-19 16:56:12.866 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.67
2025-11-19 16:56:12.867 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:12.868 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.01
2025-11-19 16:56:12.870 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $6.36
2025-11-19 16:56:12.872 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 0.01 more shares at $430.20 (cost: $6.36)
2025-11-19 16:56:12.873 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:12.874 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $57.33
2025-11-19 16:56:12.875 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$6.36, Cash end=$57.33
2025-11-19 16:56:12.876 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.877 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.878 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $114,728.00
2025-11-19 16:56:12.880 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $57.33
2025-11-19 16:56:12.882 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.01
2025-11-19 16:56:12.883 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.884 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-04-01
2025-11-19 16:56:12.885 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $120,845.83
2025-11-19 16:56:12.886 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $57.33
2025-11-19 16:56:12.887 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.888 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.69 shares @ $452.92 (Value: $120,788.51, P&L: $5,940.43)
2025-11-19 16:56:12.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11457827973856838
2025-11-19 16:56:12.904 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.04731985486735879
2025-11-19 16:56:12.905 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.15110039236281658
2025-11-19 16:56:12.906 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.062033193129267916
2025-11-19 16:56:12.908 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-11-19 16:56:12.910 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1146 (11.46%) - PASS
2025-11-19 16:56:12.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0473 (-4.73%) - FAIL
2025-11-19 16:56:12.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1511 (-15.11%) - FAIL
2025-11-19 16:56:12.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0620 (-6.20%) - FAIL
2025-11-19 16:56:12.917 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:12.917 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:12.918 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:12.918 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:12.921 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 266.69 shares @ $452.92 (Value: $120,788.51)
2025-11-19 16:56:12.922 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-04-01: PV=$120,845.83, Cash=$57.33, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:12.923 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:12.924 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:12.925 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-11-19 16:56:12.926 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.69 shares worth $120,788.51
2025-11-19 16:56:12.927 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD SPY [relative_top]
2025-11-19 16:56:12.931 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $452.92 ‚Üí $453.15 (slippage: 0.050%)
2025-11-19 16:56:12.933 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:12.935 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.68
2025-11-19 16:56:12.936 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.69
2025-11-19 16:56:12.938 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:12.939 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:12.941 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-3.07
2025-11-19 16:56:12.942 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:12.943 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$57.33
2025-11-19 16:56:12.946 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:12.948 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:12.950 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $120,845.83
2025-11-19 16:56:12.952 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $57.33
2025-11-19 16:56:12.953 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:12.954 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:12.956 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-05-02
2025-11-19 16:56:12.957 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $110,594.33
2025-11-19 16:56:12.959 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $57.33
2025-11-19 16:56:12.962 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:12.967 | INFO     | src.backtesting.engine:run:273 -      SPY: 266.69 shares @ $414.48 (Value: $110,537.00, P&L: $-4,311.07)
2025-11-19 16:56:12.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:12.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.979 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:12.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.008895268082540153
2025-11-19 16:56:12.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.1329618822045462
2025-11-19 16:56:12.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2160059271265612
2025-11-19 16:56:12.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.10717722005110808
2025-11-19 16:56:12.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-02 00:00:00:
2025-11-19 16:56:12.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0089 (-0.89%) - FAIL
2025-11-19 16:56:12.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1330 (-13.30%) - FAIL
2025-11-19 16:56:12.990 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2160 (-21.60%) - FAIL
2025-11-19 16:56:12.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1072 (-10.72%) - FAIL
2025-11-19 16:56:12.993 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:12.996 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:12.998 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.000 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.002 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:13.003 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 266.69 shares @ $414.48 (Value: $110,537.00, P&L: $-4,311.07)
2025-11-19 16:56:13.003 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 266.69 @ $414.27 (P&L: $-4,366.34)
2025-11-19 16:56:13.004 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $110,428.58
2025-11-19 16:56:13.004 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-05-02: PV=$110,594.33, Cash=$110,428.58, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:13.006 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.007 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.008 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY AGG [defensive_rotation]
2025-11-19 16:56:13.009 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $102.13 ‚Üí $102.18 (slippage: 0.050%)
2025-11-19 16:56:13.010 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.013 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1082.34
2025-11-19 16:56:13.015 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $110.59
2025-11-19 16:56:13.016 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $110,704.92
2025-11-19 16:56:13.017 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 1079.64 @ $102.18
2025-11-19 16:56:13.018 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:13.018 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:13.020 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$110,428.58, Cash end=$0.00
2025-11-19 16:56:13.021 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:13.023 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 266.69 shares @ $414.48 (Value: $110,537.00, P&L: $-4,311.07)
2025-11-19 16:56:13.024 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:13.028 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 1079.64 shares @ $102.18 (Value: $110,318.26)
2025-11-19 16:56:13.032 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.035 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $110,318.26
2025-11-19 16:56:13.037 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:13.038 | INFO     | src.backtesting.engine:run:316 -      Change: $-276.07
2025-11-19 16:56:13.038 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.041 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-06-01
2025-11-19 16:56:13.042 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $111,051.27
2025-11-19 16:56:13.042 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:13.043 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.046 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.64 shares @ $102.86 (Value: $111,051.27, P&L: $733.01)
2025-11-19 16:56:13.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.02555133009176469
2025-11-19 16:56:13.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.14891267769346506
2025-11-19 16:56:13.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.24514173582803245
2025-11-19 16:56:13.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.10150246685748598
2025-11-19 16:56:13.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-11-19 16:56:13.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0256 (-2.56%) - FAIL
2025-11-19 16:56:13.070 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1489 (-14.89%) - FAIL
2025-11-19 16:56:13.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2451 (-24.51%) - FAIL
2025-11-19 16:56:13.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1015 (-10.15%) - FAIL
2025-11-19 16:56:13.073 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.074 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.075 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.076 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.077 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.077 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.64 shares @ $102.86 (Value: $111,051.27)
2025-11-19 16:56:13.079 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-06-01: PV=$111,051.27, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:13.081 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.084 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.086 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.087 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.64 shares worth $111,051.27
2025-11-19 16:56:13.089 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:13.091 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $102.86 ‚Üí $102.91 (slippage: 0.050%)
2025-11-19 16:56:13.092 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.093 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.10
2025-11-19 16:56:13.095 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.64
2025-11-19 16:56:13.095 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.54
2025-11-19 16:56:13.097 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.06
2025-11-19 16:56:13.099 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-55.47
2025-11-19 16:56:13.100 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.54 shares at $102.81 (proceeds: $55.41)
2025-11-19 16:56:13.104 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.106 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $55.41
2025-11-19 16:56:13.108 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$55.47, Cash end=$55.41
2025-11-19 16:56:13.108 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.109 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.113 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $111,051.18
2025-11-19 16:56:13.117 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $55.41
2025-11-19 16:56:13.118 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:13.121 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.123 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-07-01
2025-11-19 16:56:13.133 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $110,490.05
2025-11-19 16:56:13.137 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $55.41
2025-11-19 16:56:13.142 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.146 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.10 shares @ $102.34 (Value: $110,434.63, P&L: $171.51)
2025-11-19 16:56:13.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.11428107538606935
2025-11-19 16:56:13.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.2077905699834126
2025-11-19 16:56:13.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2733406571254253
2025-11-19 16:56:13.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.11093740078837744
2025-11-19 16:56:13.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-11-19 16:56:13.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1143 (-11.43%) - FAIL
2025-11-19 16:56:13.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2078 (-20.78%) - FAIL
2025-11-19 16:56:13.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2733 (-27.33%) - FAIL
2025-11-19 16:56:13.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1109 (-11.09%) - FAIL
2025-11-19 16:56:13.176 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.179 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.182 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.184 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.185 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.186 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.10 shares @ $102.34 (Value: $110,434.63)
2025-11-19 16:56:13.186 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-07-01: PV=$110,490.05, Cash=$55.41, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.187 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.187 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.188 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.188 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.10 shares worth $110,434.63
2025-11-19 16:56:13.189 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.191 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $102.34 ‚Üí $102.39 (slippage: 0.050%)
2025-11-19 16:56:13.193 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.196 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.10
2025-11-19 16:56:13.197 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.10
2025-11-19 16:56:13.200 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:13.203 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.204 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.20
2025-11-19 16:56:13.205 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.206 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$55.41
2025-11-19 16:56:13.207 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.208 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.211 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $110,490.05
2025-11-19 16:56:13.216 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $55.41
2025-11-19 16:56:13.219 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.220 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.221 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-08-01
2025-11-19 16:56:13.223 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $112,529.55
2025-11-19 16:56:13.224 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $55.41
2025-11-19 16:56:13.225 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.228 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.10 shares @ $104.23 (Value: $112,474.13, P&L: $2,211.00)
2025-11-19 16:56:13.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.237 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.06325972072286246
2025-11-19 16:56:13.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.1720971275986276
2025-11-19 16:56:13.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.23217054062985387
2025-11-19 16:56:13.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.10501456142609278
2025-11-19 16:56:13.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-11-19 16:56:13.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0633 (-6.33%) - FAIL
2025-11-19 16:56:13.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1721 (-17.21%) - FAIL
2025-11-19 16:56:13.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2322 (-23.22%) - FAIL
2025-11-19 16:56:13.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1050 (-10.50%) - FAIL
2025-11-19 16:56:13.254 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.255 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.255 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.257 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.257 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.257 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.10 shares @ $104.23 (Value: $112,474.13)
2025-11-19 16:56:13.259 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-08-01: PV=$112,529.55, Cash=$55.41, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.261 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.265 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.267 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.269 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.10 shares worth $112,474.13
2025-11-19 16:56:13.272 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.274 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $104.23 ‚Üí $104.28 (slippage: 0.050%)
2025-11-19 16:56:13.275 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.276 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.09
2025-11-19 16:56:13.276 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.10
2025-11-19 16:56:13.278 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:13.279 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.283 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.82
2025-11-19 16:56:13.283 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.284 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$55.41
2025-11-19 16:56:13.285 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.286 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.286 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $112,529.55
2025-11-19 16:56:13.287 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $55.41
2025-11-19 16:56:13.287 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.288 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.290 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-09-01
2025-11-19 16:56:13.290 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $108,040.51
2025-11-19 16:56:13.291 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $55.41
2025-11-19 16:56:13.292 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.292 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.10 shares @ $100.07 (Value: $107,985.09, P&L: $-2,278.04)
2025-11-19 16:56:13.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.304 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.307 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.12257630779443829
2025-11-19 16:56:13.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.2519356411790016
2025-11-19 16:56:13.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.26299929196691474
2025-11-19 16:56:13.309 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.1368066985991674
2025-11-19 16:56:13.312 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-11-19 16:56:13.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1226 (-12.26%) - FAIL
2025-11-19 16:56:13.316 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2519 (-25.19%) - FAIL
2025-11-19 16:56:13.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2630 (-26.30%) - FAIL
2025-11-19 16:56:13.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1368 (-13.68%) - FAIL
2025-11-19 16:56:13.318 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.320 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.321 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.322 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.323 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.323 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.10 shares @ $100.07 (Value: $107,985.09)
2025-11-19 16:56:13.324 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-09-01: PV=$108,040.51, Cash=$55.41, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.325 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.325 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.328 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.335 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.10 shares worth $107,985.09
2025-11-19 16:56:13.340 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.347 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $100.07 ‚Üí $100.12 (slippage: 0.050%)
2025-11-19 16:56:13.356 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.358 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.11
2025-11-19 16:56:13.368 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.10
2025-11-19 16:56:13.374 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.378 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.379 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.42
2025-11-19 16:56:13.381 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.01 more shares at $100.12 (cost: $1.42)
2025-11-19 16:56:13.386 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.388 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $53.99
2025-11-19 16:56:13.390 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.42, Cash end=$53.99
2025-11-19 16:56:13.395 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.403 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.406 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $108,040.50
2025-11-19 16:56:13.407 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.99
2025-11-19 16:56:13.408 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.409 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.410 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-10-03
2025-11-19 16:56:13.413 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,630.52
2025-11-19 16:56:13.415 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.99
2025-11-19 16:56:13.416 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.418 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.11 shares @ $96.91 (Value: $104,576.53, P&L: $-5,688.05)
2025-11-19 16:56:13.420 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.421 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.15574338246993358
2025-11-19 16:56:13.433 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.26956520254482275
2025-11-19 16:56:13.436 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.2956487289244236
2025-11-19 16:56:13.437 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.15730431598165762
2025-11-19 16:56:13.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-03 00:00:00:
2025-11-19 16:56:13.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1557 (-15.57%) - FAIL
2025-11-19 16:56:13.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2696 (-26.96%) - FAIL
2025-11-19 16:56:13.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2956 (-29.56%) - FAIL
2025-11-19 16:56:13.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1573 (-15.73%) - FAIL
2025-11-19 16:56:13.443 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.445 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.447 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.449 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.449 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.451 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.11 shares @ $96.91 (Value: $104,576.53)
2025-11-19 16:56:13.453 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-10-03: PV=$104,630.52, Cash=$53.99, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.455 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.456 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.457 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.458 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.11 shares worth $104,576.53
2025-11-19 16:56:13.459 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.460 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $96.91 ‚Üí $96.96 (slippage: 0.050%)
2025-11-19 16:56:13.461 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.465 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.13
2025-11-19 16:56:13.467 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.11
2025-11-19 16:56:13.469 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.02
2025-11-19 16:56:13.472 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.474 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.70
2025-11-19 16:56:13.475 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.02 more shares at $96.96 (cost: $1.70)
2025-11-19 16:56:13.478 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.482 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $52.29
2025-11-19 16:56:13.485 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.70, Cash end=$52.29
2025-11-19 16:56:13.487 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.488 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.488 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,630.52
2025-11-19 16:56:13.489 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.29
2025-11-19 16:56:13.490 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.491 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.492 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-11-01
2025-11-19 16:56:13.493 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $102,418.30
2025-11-19 16:56:13.493 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.29
2025-11-19 16:56:13.494 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.496 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.13 shares @ $94.86 (Value: $102,366.02, P&L: $-7,900.36)
2025-11-19 16:56:13.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.509 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.1641596776987183
2025-11-19 16:56:13.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.2644272025524067
2025-11-19 16:56:13.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.32151208297189593
2025-11-19 16:56:13.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.17073169755663287
2025-11-19 16:56:13.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-11-19 16:56:13.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1642 (-16.42%) - FAIL
2025-11-19 16:56:13.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.2644 (-26.44%) - FAIL
2025-11-19 16:56:13.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.3215 (-32.15%) - FAIL
2025-11-19 16:56:13.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1707 (-17.07%) - FAIL
2025-11-19 16:56:13.526 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.527 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.528 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.530 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.533 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.535 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.13 shares @ $94.86 (Value: $102,366.02)
2025-11-19 16:56:13.536 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-11-01: PV=$102,418.30, Cash=$52.29, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.537 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.538 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.540 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.541 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.13 shares worth $102,366.02
2025-11-19 16:56:13.542 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.543 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $94.86 ‚Üí $94.91 (slippage: 0.050%)
2025-11-19 16:56:13.544 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.546 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.14
2025-11-19 16:56:13.547 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.13
2025-11-19 16:56:13.548 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.551 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.552 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.10
2025-11-19 16:56:13.552 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.01 more shares at $94.91 (cost: $1.10)
2025-11-19 16:56:13.553 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.554 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $51.18
2025-11-19 16:56:13.555 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.10, Cash end=$51.18
2025-11-19 16:56:13.555 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.556 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.556 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $102,418.30
2025-11-19 16:56:13.557 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $51.18
2025-11-19 16:56:13.558 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.558 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.559 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2022-12-01
2025-11-19 16:56:13.563 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,756.44
2025-11-19 16:56:13.565 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $51.18
2025-11-19 16:56:13.567 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.569 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.14 shares @ $98.88 (Value: $106,705.26, P&L: $-3,562.31)
2025-11-19 16:56:13.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.574 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0957158604155105
2025-11-19 16:56:13.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.11295817683837694
2025-11-19 16:56:13.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.19645044835143521
2025-11-19 16:56:13.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.13739859004952015
2025-11-19 16:56:13.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-11-19 16:56:13.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0957 (-9.57%) - FAIL
2025-11-19 16:56:13.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1130 (-11.30%) - FAIL
2025-11-19 16:56:13.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1965 (-19.65%) - FAIL
2025-11-19 16:56:13.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1374 (-13.74%) - FAIL
2025-11-19 16:56:13.589 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.591 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.592 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.593 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.594 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.596 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.14 shares @ $98.88 (Value: $106,705.26)
2025-11-19 16:56:13.598 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-12-01: PV=$106,756.44, Cash=$51.18, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.601 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.603 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.605 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.607 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.14 shares worth $106,705.26
2025-11-19 16:56:13.608 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:13.610 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $98.88 ‚Üí $98.93 (slippage: 0.050%)
2025-11-19 16:56:13.613 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.615 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.12
2025-11-19 16:56:13.616 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.14
2025-11-19 16:56:13.618 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.02
2025-11-19 16:56:13.620 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.622 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-2.17
2025-11-19 16:56:13.623 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.02 shares at $98.83 (proceeds: $2.17)
2025-11-19 16:56:13.624 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.625 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $53.35
2025-11-19 16:56:13.626 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$2.17, Cash end=$53.35
2025-11-19 16:56:13.627 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.629 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.631 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,756.43
2025-11-19 16:56:13.633 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.35
2025-11-19 16:56:13.635 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:13.636 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.638 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-01-03
2025-11-19 16:56:13.642 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $105,332.00
2025-11-19 16:56:13.645 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.35
2025-11-19 16:56:13.653 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.655 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.12 shares @ $97.56 (Value: $105,278.65, P&L: $-4,986.67)
2025-11-19 16:56:13.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.1982061348840225
2025-11-19 16:56:13.681 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.15836297707351432
2025-11-19 16:56:13.684 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.21760486357127207
2025-11-19 16:56:13.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.1448106943136802
2025-11-19 16:56:13.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-03 00:00:00:
2025-11-19 16:56:13.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.1982 (-19.82%) - FAIL
2025-11-19 16:56:13.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.1584 (-15.84%) - FAIL
2025-11-19 16:56:13.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.2176 (-21.76%) - FAIL
2025-11-19 16:56:13.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1448 (-14.48%) - FAIL
2025-11-19 16:56:13.688 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.691 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.692 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.692 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.694 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.697 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.12 shares @ $97.56 (Value: $105,278.65)
2025-11-19 16:56:13.699 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-01-03: PV=$105,332.00, Cash=$53.35, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.703 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.705 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.707 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.708 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.12 shares worth $105,278.65
2025-11-19 16:56:13.710 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.712 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $97.56 ‚Üí $97.61 (slippage: 0.050%)
2025-11-19 16:56:13.715 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.715 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.12
2025-11-19 16:56:13.717 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.12
2025-11-19 16:56:13.717 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.718 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.719 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.71
2025-11-19 16:56:13.721 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.722 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$53.35
2025-11-19 16:56:13.722 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.723 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.723 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $105,332.00
2025-11-19 16:56:13.724 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.35
2025-11-19 16:56:13.724 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.725 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.726 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-02-01
2025-11-19 16:56:13.728 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $108,698.85
2025-11-19 16:56:13.731 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.35
2025-11-19 16:56:13.735 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.737 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.12 shares @ $100.68 (Value: $108,645.50, P&L: $-1,619.82)
2025-11-19 16:56:13.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.08692853137471679
2025-11-19 16:56:13.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.04787651369069801
2025-11-19 16:56:13.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.14271091725895102
2025-11-19 16:56:13.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.099463349222218
2025-11-19 16:56:13.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-11-19 16:56:13.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0869 (-8.69%) - FAIL
2025-11-19 16:56:13.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0479 (-4.79%) - FAIL
2025-11-19 16:56:13.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1427 (-14.27%) - FAIL
2025-11-19 16:56:13.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0995 (-9.95%) - FAIL
2025-11-19 16:56:13.757 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.757 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.758 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.758 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.759 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.761 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.12 shares @ $100.68 (Value: $108,645.50)
2025-11-19 16:56:13.766 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-02-01: PV=$108,698.85, Cash=$53.35, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.769 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.773 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.775 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:13.777 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.12 shares worth $108,645.50
2025-11-19 16:56:13.780 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD AGG [defensive_rotation]
2025-11-19 16:56:13.784 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $100.68 ‚Üí $100.73 (slippage: 0.050%)
2025-11-19 16:56:13.787 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.788 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.11
2025-11-19 16:56:13.789 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.12
2025-11-19 16:56:13.791 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.01
2025-11-19 16:56:13.795 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.799 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-0.97
2025-11-19 16:56:13.801 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:13.805 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$53.35
2025-11-19 16:56:13.807 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.809 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:13.813 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $108,698.85
2025-11-19 16:56:13.815 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.35
2025-11-19 16:56:13.817 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:13.818 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:13.820 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-03-01
2025-11-19 16:56:13.823 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,209.72
2025-11-19 16:56:13.824 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.35
2025-11-19 16:56:13.825 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:13.825 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.12 shares @ $96.52 (Value: $104,156.37, P&L: $-6,108.95)
2025-11-19 16:56:13.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:13.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.867 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:13.868 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.09593938616215891
2025-11-19 16:56:13.870 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.04780114643060629
2025-11-19 16:56:13.880 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.16434839247610755
2025-11-19 16:56:13.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.12540779168849503
2025-11-19 16:56:13.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-11-19 16:56:13.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0959 (-9.59%) - FAIL
2025-11-19 16:56:13.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0478 (-4.78%) - FAIL
2025-11-19 16:56:13.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1643 (-16.43%) - FAIL
2025-11-19 16:56:13.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.1254 (-12.54%) - FAIL
2025-11-19 16:56:13.901 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:13.903 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:13.907 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:13.911 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:13.917 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:13.921 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.12 shares @ $96.52 (Value: $104,156.37)
2025-11-19 16:56:13.926 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-03-01: PV=$104,209.72, Cash=$53.35, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:13.930 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:13.936 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:13.946 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-11-19 16:56:13.953 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.12 shares worth $104,156.37
2025-11-19 16:56:13.957 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD AGG [defensive_rotation]
2025-11-19 16:56:13.961 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $96.52 ‚Üí $96.57 (slippage: 0.050%)
2025-11-19 16:56:13.963 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:13.966 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.13
2025-11-19 16:56:13.971 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.12
2025-11-19 16:56:13.975 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.01
2025-11-19 16:56:13.979 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:13.981 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1.27
2025-11-19 16:56:13.985 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.01 more shares at $96.57 (cost: $1.27)
2025-11-19 16:56:13.986 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:13.987 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $52.08
2025-11-19 16:56:13.989 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.27, Cash end=$52.08
2025-11-19 16:56:13.994 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:13.998 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.002 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,209.72
2025-11-19 16:56:14.006 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $52.08
2025-11-19 16:56:14.009 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:14.016 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.019 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-04-03
2025-11-19 16:56:14.020 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $107,770.85
2025-11-19 16:56:14.022 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $52.08
2025-11-19 16:56:14.024 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.025 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.13 shares @ $99.82 (Value: $107,718.77, P&L: $-2,547.89)
2025-11-19 16:56:14.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.044 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.09009388256503326
2025-11-19 16:56:14.048 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.020516333798042297
2025-11-19 16:56:14.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.12425250101345053
2025-11-19 16:56:14.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.06797384577980148
2025-11-19 16:56:14.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-03 00:00:00:
2025-11-19 16:56:14.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0901 (-9.01%) - FAIL
2025-11-19 16:56:14.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0205 (-2.05%) - FAIL
2025-11-19 16:56:14.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.1243 (-12.43%) - FAIL
2025-11-19 16:56:14.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0680 (-6.80%) - FAIL
2025-11-19 16:56:14.057 | INFO     | src.strategies.dual_momentum:generate_signals:277 - No assets pass absolute momentum filter
2025-11-19 16:56:14.057 | INFO     | src.strategies.dual_momentum:generate_signals:296 - Defensive rotation to safe asset: AGG (100% allocation)
2025-11-19 16:56:14.058 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.059 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-11-19 16:56:14.059 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.063 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 1079.13 shares @ $99.82 (Value: $107,718.77)
2025-11-19 16:56:14.066 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-04-03: PV=$107,770.85, Cash=$52.08, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:14.067 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: AGG=100.00%
2025-11-19 16:56:14.069 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.073 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-11-19 16:56:14.073 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1079.13 shares worth $107,718.77
2025-11-19 16:56:14.075 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE AGG [defensive_rotation]
2025-11-19 16:56:14.077 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $99.82 ‚Üí $99.87 (slippage: 0.050%)
2025-11-19 16:56:14.080 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:14.082 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1079.11
2025-11-19 16:56:14.083 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1079.13
2025-11-19 16:56:14.085 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.02
2025-11-19 16:56:14.087 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:14.088 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1.78
2025-11-19 16:56:14.090 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.02 shares at $99.77 (proceeds: $1.78)
2025-11-19 16:56:14.091 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.092 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $53.86
2025-11-19 16:56:14.096 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1.78, Cash end=$53.86
2025-11-19 16:56:14.100 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.102 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.103 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $107,770.85
2025-11-19 16:56:14.105 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $53.86
2025-11-19 16:56:14.106 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:14.108 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.110 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-05-01
2025-11-19 16:56:14.113 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,551.45
2025-11-19 16:56:14.114 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $53.86
2025-11-19 16:56:14.115 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.117 | INFO     | src.backtesting.engine:run:273 -      AGG: 1079.11 shares @ $98.69 (Value: $106,497.60, P&L: $-3,767.25)
2025-11-19 16:56:14.120 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.123 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.02875105271770584
2025-11-19 16:56:14.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058459400524006
2025-11-19 16:56:14.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.07648590047948844
2025-11-19 16:56:14.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04638124960328838
2025-11-19 16:56:14.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-11-19 16:56:14.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0288 (-2.88%) - FAIL
2025-11-19 16:56:14.138 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0585 (5.85%) - PASS
2025-11-19 16:56:14.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0765 (-7.65%) - FAIL
2025-11-19 16:56:14.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0464 (-4.64%) - FAIL
2025-11-19 16:56:14.142 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.144 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.146 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.147 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.149 | INFO     | src.backtesting.engine:_execute_signals:668 -      AGG: 1079.11 shares @ $98.69 (Value: $106,497.60, P&L: $-3,767.25)
2025-11-19 16:56:14.150 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 1079.11 @ $98.64 (P&L: $-3,820.49)
2025-11-19 16:56:14.152 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $106,391.76
2025-11-19 16:56:14.153 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-05-01: PV=$106,551.45, Cash=$106,391.76, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:14.154 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.155 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.157 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY EFA [relative_top]
2025-11-19 16:56:14.158 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $73.51 ‚Üí $73.55 (slippage: 0.050%)
2025-11-19 16:56:14.158 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=1.00
2025-11-19 16:56:14.163 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1448.76
2025-11-19 16:56:14.165 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $106.55
2025-11-19 16:56:14.167 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $106,658.00
2025-11-19 16:56:14.169 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: EFA x 1445.14 @ $73.55
2025-11-19 16:56:14.170 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:14.171 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:14.174 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$106,391.76, Cash end=$-0.00
2025-11-19 16:56:14.176 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:14.181 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      AGG: 1079.11 shares @ $98.69 (Value: $106,497.60, P&L: $-3,767.25)
2025-11-19 16:56:14.186 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:14.189 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      EFA: 1445.14 shares @ $73.55 (Value: $106,285.47)
2025-11-19 16:56:14.192 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.195 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,285.47
2025-11-19 16:56:14.197 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:14.200 | INFO     | src.backtesting.engine:run:316 -      Change: $-265.98
2025-11-19 16:56:14.202 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.204 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-06-01
2025-11-19 16:56:14.207 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $103,645.55
2025-11-19 16:56:14.212 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-11-19 16:56:14.215 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.218 | INFO     | src.backtesting.engine:run:273 -      EFA: 1445.14 shares @ $71.72 (Value: $103,645.55, P&L: $-2,639.92)
2025-11-19 16:56:14.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.225 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.227 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.233 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02152910858044077
2025-11-19 16:56:14.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.024425068308742803
2025-11-19 16:56:14.238 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.08841464614745986
2025-11-19 16:56:14.240 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.046970141616071936
2025-11-19 16:56:14.241 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-11-19 16:56:14.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0215 (2.15%) - PASS
2025-11-19 16:56:14.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0244 (2.44%) - PASS
2025-11-19 16:56:14.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0884 (-8.84%) - FAIL
2025-11-19 16:56:14.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0470 (-4.70%) - FAIL
2025-11-19 16:56:14.255 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.256 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.258 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.261 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.263 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1445.14 shares @ $71.72 (Value: $103,645.55)
2025-11-19 16:56:14.280 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-06-01: PV=$103,645.55, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:14.317 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.345 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.356 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-11-19 16:56:14.358 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1445.14 shares worth $103,645.55
2025-11-19 16:56:14.359 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE EFA [relative_top]
2025-11-19 16:56:14.362 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $71.72 ‚Üí $71.76 (slippage: 0.050%)
2025-11-19 16:56:14.366 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:14.368 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1444.42
2025-11-19 16:56:14.369 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1445.14
2025-11-19 16:56:14.372 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.72
2025-11-19 16:56:14.376 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.05
2025-11-19 16:56:14.379 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-51.77
2025-11-19 16:56:14.381 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 0.72 shares at $71.68 (proceeds: $51.72)
2025-11-19 16:56:14.383 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.385 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $51.72
2025-11-19 16:56:14.387 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$51.77, Cash end=$51.72
2025-11-19 16:56:14.389 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.391 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.392 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $103,645.47
2025-11-19 16:56:14.394 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $51.72
2025-11-19 16:56:14.396 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:14.397 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.400 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-07-03
2025-11-19 16:56:14.402 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,656.56
2025-11-19 16:56:14.404 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $51.72
2025-11-19 16:56:14.406 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.409 | INFO     | src.backtesting.engine:run:273 -      EFA: 1444.42 shares @ $72.42 (Value: $104,604.84, P&L: $-1,627.51)
2025-11-19 16:56:14.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.416 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.419 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.429 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.17638173239210575
2025-11-19 16:56:14.432 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.15890536443848835
2025-11-19 16:56:14.435 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: -0.0024937276290828425
2025-11-19 16:56:14.436 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04032256551746283
2025-11-19 16:56:14.438 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-03 00:00:00:
2025-11-19 16:56:14.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1764 (17.64%) - PASS
2025-11-19 16:56:14.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1589 (15.89%) - PASS
2025-11-19 16:56:14.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: -0.0025 (-0.25%) - FAIL
2025-11-19 16:56:14.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0403 (-4.03%) - FAIL
2025-11-19 16:56:14.445 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:14.447 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.449 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:14.451 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.452 | INFO     | src.backtesting.engine:_execute_signals:668 -      EFA: 1444.42 shares @ $72.42 (Value: $104,604.84, P&L: $-1,627.51)
2025-11-19 16:56:14.452 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EFA x 1444.42 @ $72.38 (P&L: $-1,679.81)
2025-11-19 16:56:14.454 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $104,499.71
2025-11-19 16:56:14.455 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-07-03: PV=$104,656.56, Cash=$104,499.71, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:14.456 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:14.456 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:14.457 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:14.458 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $443.79 ‚Üí $444.01 (slippage: 0.050%)
2025-11-19 16:56:14.459 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:14.461 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 235.71
2025-11-19 16:56:14.463 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $104.66
2025-11-19 16:56:14.464 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $104,761.22
2025-11-19 16:56:14.466 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 235.12 @ $444.01
2025-11-19 16:56:14.467 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:14.470 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:14.473 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$104,499.71, Cash end=$0.00
2025-11-19 16:56:14.475 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:14.478 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EFA: 1444.42 shares @ $72.42 (Value: $104,604.84, P&L: $-1,627.51)
2025-11-19 16:56:14.481 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:14.483 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 235.12 shares @ $444.01 (Value: $104,395.31)
2025-11-19 16:56:14.484 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.486 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,395.31
2025-11-19 16:56:14.488 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:14.489 | INFO     | src.backtesting.engine:run:316 -      Change: $-261.25
2025-11-19 16:56:14.493 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.496 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-08-01
2025-11-19 16:56:14.499 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $107,326.79
2025-11-19 16:56:14.503 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:14.507 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.512 | INFO     | src.backtesting.engine:run:273 -      SPY: 235.12 shares @ $456.48 (Value: $107,326.79, P&L: $2,931.48)
2025-11-19 16:56:14.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10798811089231419
2025-11-19 16:56:14.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11883745303603921
2025-11-19 16:56:14.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.036536514462533365
2025-11-19 16:56:14.543 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.07014512417761509
2025-11-19 16:56:14.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-11-19 16:56:14.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1080 (10.80%) - PASS
2025-11-19 16:56:14.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1188 (11.88%) - PASS
2025-11-19 16:56:14.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0365 (3.65%) - PASS
2025-11-19 16:56:14.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0701 (-7.01%) - FAIL
2025-11-19 16:56:14.559 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.563 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.566 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.567 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.569 | INFO     | src.backtesting.engine:_execute_signals:668 -      SPY: 235.12 shares @ $456.48 (Value: $107,326.79, P&L: $2,931.48)
2025-11-19 16:56:14.570 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 235.12 @ $456.25 (P&L: $2,877.82)
2025-11-19 16:56:14.571 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $107,165.86
2025-11-19 16:56:14.571 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-08-01: PV=$107,326.79, Cash=$107,165.86, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-11-19 16:56:14.572 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.573 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.574 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY EFA [relative_top]
2025-11-19 16:56:14.576 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $73.53 ‚Üí $73.57 (slippage: 0.050%)
2025-11-19 16:56:14.578 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:14.580 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1458.90
2025-11-19 16:56:14.582 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $107.33
2025-11-19 16:56:14.586 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $107,434.12
2025-11-19 16:56:14.588 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: EFA x 1455.26 @ $73.57
2025-11-19 16:56:14.589 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:14.591 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $0.00
2025-11-19 16:56:14.596 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$107,165.86, Cash end=$0.00
2025-11-19 16:56:14.599 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:14.602 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      SPY: 235.12 shares @ $456.48 (Value: $107,326.79, P&L: $2,931.48)
2025-11-19 16:56:14.603 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:14.605 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      EFA: 1455.26 shares @ $73.57 (Value: $107,058.80)
2025-11-19 16:56:14.607 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.609 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $107,058.80
2025-11-19 16:56:14.612 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-11-19 16:56:14.615 | INFO     | src.backtesting.engine:run:316 -      Change: $-268.00
2025-11-19 16:56:14.616 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.619 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-09-01
2025-11-19 16:56:14.621 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $104,036.56
2025-11-19 16:56:14.623 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-11-19 16:56:14.625 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.627 | INFO     | src.backtesting.engine:run:273 -      EFA: 1455.26 shares @ $71.49 (Value: $104,036.56, P&L: $-3,022.24)
2025-11-19 16:56:14.631 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.643 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.14173290855738596
2025-11-19 16:56:14.644 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.1586709397045989
2025-11-19 16:56:14.645 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.0050722992998100125
2025-11-19 16:56:14.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.04637074979047762
2025-11-19 16:56:14.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-11-19 16:56:14.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1417 (14.17%) - PASS
2025-11-19 16:56:14.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1587 (15.87%) - PASS
2025-11-19 16:56:14.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0051 (0.51%) - PASS
2025-11-19 16:56:14.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0464 (-4.64%) - FAIL
2025-11-19 16:56:14.656 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.658 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.659 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.661 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.664 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1455.26 shares @ $71.49 (Value: $104,036.56)
2025-11-19 16:56:14.665 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-09-01: PV=$104,036.56, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-11-19 16:56:14.667 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.669 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.670 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-11-19 16:56:14.673 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1455.26 shares worth $104,036.56
2025-11-19 16:56:14.675 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà REDUCE EFA [relative_top]
2025-11-19 16:56:14.677 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $71.49 ‚Üí $71.53 (slippage: 0.050%)
2025-11-19 16:56:14.680 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-11-19 16:56:14.683 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1454.53
2025-11-19 16:56:14.686 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1455.26
2025-11-19 16:56:14.687 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.73
2025-11-19 16:56:14.690 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.05
2025-11-19 16:56:14.691 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-51.97
2025-11-19 16:56:14.693 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 0.73 shares at $71.45 (proceeds: $51.91)
2025-11-19 16:56:14.695 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.696 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $51.91
2025-11-19 16:56:14.698 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$51.97, Cash end=$51.91
2025-11-19 16:56:14.699 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.701 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.701 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $104,036.48
2025-11-19 16:56:14.704 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $51.91
2025-11-19 16:56:14.707 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.08
2025-11-19 16:56:14.709 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.711 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-10-02
2025-11-19 16:56:14.713 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $98,829.26
2025-11-19 16:56:14.714 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $51.91
2025-11-19 16:56:14.716 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.717 | INFO     | src.backtesting.engine:run:273 -      EFA: 1454.53 shares @ $67.91 (Value: $98,777.35, P&L: $-8,227.94)
2025-11-19 16:56:14.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.725 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1778438972794445
2025-11-19 16:56:14.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.20814810119555238
2025-11-19 16:56:14.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.07854898976983349
2025-11-19 16:56:14.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.035621854119055385
2025-11-19 16:56:14.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-02 00:00:00:
2025-11-19 16:56:14.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1778 (17.78%) - PASS
2025-11-19 16:56:14.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.2081 (20.81%) - PASS
2025-11-19 16:56:14.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0785 (7.85%) - PASS
2025-11-19 16:56:14.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0356 (-3.56%) - FAIL
2025-11-19 16:56:14.755 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.757 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.758 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.759 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.761 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1454.53 shares @ $67.91 (Value: $98,777.35)
2025-11-19 16:56:14.763 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-10-02: PV=$98,829.26, Cash=$51.91, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:14.765 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.766 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.769 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.774 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1454.53 shares worth $98,777.35
2025-11-19 16:56:14.776 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà ADD EFA [relative_top]
2025-11-19 16:56:14.779 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $67.91 ‚Üí $67.94 (slippage: 0.050%)
2025-11-19 16:56:14.782 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-11-19 16:56:14.784 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1454.57
2025-11-19 16:56:14.785 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1454.53
2025-11-19 16:56:14.787 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.04
2025-11-19 16:56:14.789 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:14.790 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $2.53
2025-11-19 16:56:14.793 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 0.04 more shares at $67.94 (cost: $2.53)
2025-11-19 16:56:14.797 | INFO     | src.backtesting.engine:_execute_signals:963 -         ‚úÖ Position adjusted successfully
2025-11-19 16:56:14.798 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $49.39
2025-11-19 16:56:14.802 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$2.53, Cash end=$49.39
2025-11-19 16:56:14.805 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.807 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.808 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $98,829.26
2025-11-19 16:56:14.809 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $49.39
2025-11-19 16:56:14.812 | INFO     | src.backtesting.engine:run:316 -      Change: $-0.00
2025-11-19 16:56:14.813 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.816 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-11-01
2025-11-19 16:56:14.818 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $98,305.61
2025-11-19 16:56:14.820 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $49.39
2025-11-19 16:56:14.822 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.824 | INFO     | src.backtesting.engine:run:273 -      EFA: 1454.57 shares @ $67.55 (Value: $98,256.23, P&L: $-8,751.80)
2025-11-19 16:56:14.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.844 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0943787395807727
2025-11-19 16:56:14.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.13893106537976752
2025-11-19 16:56:14.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.0833577772241254
2025-11-19 16:56:14.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.019494188033459703
2025-11-19 16:56:14.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-11-19 16:56:14.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0944 (9.44%) - PASS
2025-11-19 16:56:14.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1389 (13.89%) - PASS
2025-11-19 16:56:14.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0834 (8.34%) - PASS
2025-11-19 16:56:14.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0195 (-1.95%) - FAIL
2025-11-19 16:56:14.865 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-11-19 16:56:14.867 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.870 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-11-19 16:56:14.871 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-11-19 16:56:14.873 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 1454.57 shares @ $67.55 (Value: $98,256.23)
2025-11-19 16:56:14.874 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-11-01: PV=$98,305.61, Cash=$49.39, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-11-19 16:56:14.879 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=100.00%
2025-11-19 16:56:14.881 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-11-19 16:56:14.885 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-11-19 16:56:14.886 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 1454.57 shares worth $98,256.23
2025-11-19 16:56:14.890 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà HOLD EFA [relative_top]
2025-11-19 16:56:14.891 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $67.55 ‚Üí $67.58 (slippage: 0.050%)
2025-11-19 16:56:14.895 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.80
2025-11-19 16:56:14.897 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 1454.57
2025-11-19 16:56:14.898 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 1454.57
2025-11-19 16:56:14.900 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.00
2025-11-19 16:56:14.902 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.00
2025-11-19 16:56:14.904 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $0.26
2025-11-19 16:56:14.906 | INFO     | src.backtesting.engine:_execute_signals:915 -         ‚úÖ No adjustment needed (already at target)
2025-11-19 16:56:14.908 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$49.39
2025-11-19 16:56:14.913 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-11-19 16:56:14.915 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:14.916 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $98,305.61
2025-11-19 16:56:14.918 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $49.39
2025-11-19 16:56:14.919 | INFO     | src.backtesting.engine:run:316 -      Change: $0.00
2025-11-19 16:56:14.921 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:14.926 | INFO     | src.backtesting.engine:run:263 - üîÑ REBALANCING on 2023-12-01
2025-11-19 16:56:14.929 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,494.84
2025-11-19 16:56:14.931 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $49.39
2025-11-19 16:56:14.933 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-11-19 16:56:14.935 | INFO     | src.backtesting.engine:run:273 -      EFA: 1454.57 shares @ $73.18 (Value: $106,445.46, P&L: $-562.57)
2025-11-19 16:56:14.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-11-19 16:56:14.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EEM: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-11-19 16:56:14.958 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.12612837115268394
2025-11-19 16:56:14.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09028601475887665
2025-11-19 16:56:14.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EEM latest momentum: 0.005313741954458884
2025-11-19 16:56:14.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: -0.014853994006240878
2025-11-19 16:56:14.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-11-19 16:56:14.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1261 (12.61%) - PASS
2025-11-19 16:56:14.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0903 (9.03%) - PASS
2025-11-19 16:56:14.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EEM: 0.0053 (0.53%) - PASS
2025-11-19 16:56:14.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: -0.0149 (-1.49%) - FAIL
2025-11-19 16:56:14.982 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-11-19 16:56:14.984 | INFO     | src.backtesting.engine:run:289 -    Generated 1 signals:
2025-11-19 16:56:14.986 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-11-19 16:56:14.988 | INFO     | src.backtesting.engine:_execute_signals:663 -    Closing positions no longer in signals:
2025-11-19 16:56:14.990 | INFO     | src.backtesting.engine:_execute_signals:668 -      EFA: 1454.57 shares @ $73.18 (Value: $106,445.46, P&L: $-562.57)
2025-11-19 16:56:14.991 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EFA x 1454.57 @ $73.14 (P&L: $-615.80)
2025-11-19 16:56:14.994 | INFO     | src.backtesting.engine:_execute_signals:670 -    Proceeds from sales added to cash. New cash: $106,335.23
2025-11-19 16:56:14.997 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-12-01: PV=$106,494.84, Cash=$106,335.23, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-11-19 16:56:14.999 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=100.00%
2025-11-19 16:56:15.000 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-11-19 16:56:15.003 | INFO     | src.backtesting.engine:_execute_signals:901 -      üìà BUY SPY [relative_top]
2025-11-19 16:56:15.005 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $459.10 ‚Üí $459.33 (slippage: 0.050%)
2025-11-19 16:56:15.011 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.79
2025-11-19 16:56:15.015 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 231.85
2025-11-19 16:56:15.017 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $106.49
2025-11-19 16:56:15.018 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $106,601.34
2025-11-19 16:56:15.021 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 231.27 @ $459.33
2025-11-19 16:56:15.021 | INFO     | src.backtesting.engine:_execute_signals:972 -         ‚úÖ Position opened successfully
2025-11-19 16:56:15.024 | INFO     | src.backtesting.engine:_execute_signals:976 -         üí∞ Cash remaining: $-0.00
2025-11-19 16:56:15.026 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$106,335.23, Cash end=$-0.00
2025-11-19 16:56:15.029 | INFO     | src.backtesting.engine:_log_position_changes:1148 -    Positions Closed:
2025-11-19 16:56:15.031 | INFO     | src.backtesting.engine:_log_position_changes:1153 -      EFA: 1454.57 shares @ $73.18 (Value: $106,445.46, P&L: $-562.57)
2025-11-19 16:56:15.033 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-11-19 16:56:15.034 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 231.27 shares @ $459.33 (Value: $106,229.00)
2025-11-19 16:56:15.035 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-11-19 16:56:15.037 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,229.00
2025-11-19 16:56:15.038 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-11-19 16:56:15.045 | INFO     | src.backtesting.engine:run:316 -      Change: $-265.84
2025-11-19 16:56:15.046 | INFO     | src.backtesting.engine:run:322 -    ‚úÖ Rebalancing complete
2025-11-19 16:56:15.048 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 231.27 @ $475.07 (P&L: $3,640.83)
2025-11-19 16:56:15.055 | INFO     | src.backtesting.engine:_generate_results:1200 - üìä Performance metrics calculated from 2016-01-04 to 2023-12-29
2025-11-19 16:56:15.065 | INFO     | src.backtesting.engine:_generate_results:1263 - üìä Benchmark data aligned and indexed to performance period:
2025-11-19 16:56:15.067 | INFO     | src.backtesting.engine:_generate_results:1264 -    Strategy start value: $100,000.00
2025-11-19 16:56:15.068 | INFO     | src.backtesting.engine:_generate_results:1265 -    Benchmark start price: $201.02
2025-11-19 16:56:15.071 | INFO     | src.backtesting.engine:_generate_results:1269 -    Benchmark includes transaction costs: NO (passive buy-and-hold)
2025-11-19 16:56:15.073 | INFO     | src.backtesting.engine:_generate_results:1270 -    Strategy returns: 2011 periods (2016-01-05 to 2023-12-29)
2025-11-19 16:56:15.075 | INFO     | src.backtesting.engine:_generate_results:1271 -    Benchmark returns: 2011 periods (2016-01-05 to 2023-12-29)
2025-11-19 16:56:15.078 | INFO     | src.backtesting.engine:_generate_results:1272 -    Both strategy and benchmark start with same notional value: $100,000.00
2025-11-19 16:56:15.230 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:569 - Creating positions DataFrame from 2264 snapshots
2025-11-19 16:56:15.277 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:574 - Initial DataFrame shape after conversion: (2264, 15)
2025-11-19 16:56:15.335 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:575 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'EEM_quantity', 'EEM_price', 'EEM_value', 'EFA_quantity', 'EFA_price', 'EFA_value']
2025-11-19 16:56:15.360 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:586 - Filtered position history from 2264 to 2012 records (performance period)
2025-11-19 16:56:15.717 | INFO     | src.backtesting.engine:_generate_results:1294 - ============================================================
2025-11-19 16:56:15.719 | INFO     | src.backtesting.engine:_generate_results:1295 - POSITION DATA SUMMARY
2025-11-19 16:56:15.720 | INFO     | src.backtesting.engine:_generate_results:1296 - ============================================================
2025-11-19 16:56:15.721 | INFO     | src.backtesting.engine:_generate_results:1297 - Total timesteps in backtest: 2012
2025-11-19 16:56:15.722 | INFO     | src.backtesting.engine:_generate_results:1298 - Position history snapshots recorded: 2264
2025-11-19 16:56:15.723 | INFO     | src.backtesting.engine:_generate_results:1299 - Positions DataFrame shape: (2012, 22)
2025-11-19 16:56:15.725 | INFO     | src.backtesting.engine:_generate_results:1302 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'EEM_value', 'EEM_quantity', 'EEM_price', 'EEM_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct']
2025-11-19 16:56:15.726 | INFO     | src.backtesting.engine:_generate_results:1303 - First 3 rows of positions data:
2025-11-19 16:56:15.749 | INFO     | src.backtesting.engine:_generate_results:1304 - 
            portfolio_value          cash      cash_pct  portfolio_quantity  portfolio_price  ...  EEM_pct  EFA_value  EFA_quantity  EFA_price  EFA_pct
timestamp                                                                                     ...                                                      
2016-01-04    100000.000000  1.000000e+05  1.000000e+02                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2016-01-05     99896.410356 -1.455192e-11 -1.456701e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2016-01-06    100275.579911 -1.455192e-11 -1.451192e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN

[3 rows x 22 columns]
2025-11-19 16:56:15.753 | INFO     | src.backtesting.engine:_generate_results:1305 - Last 3 rows of positions data:
2025-11-19 16:56:15.766 | INFO     | src.backtesting.engine:_generate_results:1306 - 
            portfolio_value          cash      cash_pct  portfolio_quantity  portfolio_price  ...  EEM_pct  EFA_value  EFA_quantity  EFA_price  EFA_pct
timestamp                                                                                     ...                                                      
2023-12-27    110202.315166 -1.455192e-11 -1.320473e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2023-12-28    110243.942013 -1.455192e-11 -1.319974e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN
2023-12-29    109924.788733 -1.455192e-11 -1.323807e-14                   0                0  ...      NaN        NaN           NaN        NaN      NaN

[3 rows x 22 columns]
2025-11-19 16:56:15.768 | INFO     | src.backtesting.engine:_generate_results:1314 - ============================================================
2025-11-19 16:56:15.769 | INFO     | src.backtesting.engine:run:336 - Backtest complete. Final value: $109,924.79 (9.92% return)
2025-11-19 16:56:15.771 | INFO     | src.backtesting.engine:run:340 - Detailed backtest log saved to: logs\backtest_DualMomentumStrategy_20251119_165559.log
2025-11-19 16:56:15.776 | ERROR    | src.agents.strategy_comparison_agent:_run_parallel:253 - [16/16] ‚úó dual_momentum_classic: Error - unsupported format string passed to NoneType.__format__

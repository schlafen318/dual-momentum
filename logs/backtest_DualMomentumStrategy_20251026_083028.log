2025-10-26 08:30:28.260 | INFO     | src.backtesting.engine:_setup_logging:122 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251026_083028.log
2025-10-26 08:30:28.260 | INFO     | src.backtesting.engine:_setup_logging:123 - Strategy: DualMomentumStrategy
2025-10-26 08:30:28.260 | INFO     | src.backtesting.engine:_setup_logging:124 - Period: 2021-01-01 to 2023-12-31
2025-10-26 08:30:28.262 | INFO     | src.backtesting.engine:run:180 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-26 08:30:28.262 | INFO     | src.backtesting.engine:run:197 - First rebalancing expected on or after 2021-09-10 00:00:00 (after 252 periods of warm-up data)
2025-10-26 08:30:28.263 | DEBUG    | src.backtesting.engine:_record_position_snapshot:553 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-26 08:30:28.263 | DEBUG    | src.backtesting.engine:_record_position_snapshot:553 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-26 08:30:28.263 | DEBUG    | src.backtesting.engine:_record_position_snapshot:553 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-26 08:30:28.264 | INFO     | src.backtesting.engine:run:260 - 📊 Performance tracking starts from first rebalancing: 2021-09-10
2025-10-26 08:30:28.264 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2021-09-10
2025-10-26 08:30:28.264 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $100,000.00
2025-10-26 08:30:28.264 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $100,000.00
2025-10-26 08:30:28.264 | INFO     | src.backtesting.engine:run:276 -    Current Positions: None
2025-10-26 08:30:28.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0809326756523252
2025-10-26 08:30:28.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08149454604873574
2025-10-26 08:30:28.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08817543839164688
2025-10-26 08:30:28.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-10 00:00:00:
2025-10-26 08:30:28.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0809 (8.09%) - PASS
2025-10-26 08:30:28.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0815 (8.15%) - PASS
2025-10-26 08:30:28.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0882 (8.82%) - PASS
2025-10-26 08:30:28.268 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['AGG', 'EFA', 'SPY']
2025-10-26 08:30:28.268 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.268 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-10-26 08:30:28.268 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.92)
2025-10-26 08:30:28.268 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.92)
2025-10-26 08:30:28.268 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-09-10: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-26 08:30:28.268 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=33.45%, SPY=33.22%, AGG=33.33%
2025-10-26 08:30:28.269 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA', 'SPY', 'AGG']
2025-10-26 08:30:28.269 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 BUY EFA [relative_top]
2025-10-26 08:30:28.269 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $121.15 → $121.21 (slippage: 0.050%)
2025-10-26 08:30:28.269 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.92 confidence=0.72
2025-10-26 08:30:28.269 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 275.95
2025-10-26 08:30:28.269 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $33.45
2025-10-26 08:30:28.269 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $33,482.09
2025-10-26 08:30:28.269 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: EFA x 275.95 @ $121.21
2025-10-26 08:30:28.270 | INFO     | src.backtesting.engine:_execute_signals:972 -         ✅ Position opened successfully
2025-10-26 08:30:28.270 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $66,517.91
2025-10-26 08:30:28.270 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 BUY SPY [relative_top]
2025-10-26 08:30:28.270 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $122.13 → $122.19 (slippage: 0.050%)
2025-10-26 08:30:28.270 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.92 confidence=0.72
2025-10-26 08:30:28.270 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 271.86
2025-10-26 08:30:28.270 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $33.22
2025-10-26 08:30:28.270 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $33,251.24
2025-10-26 08:30:28.271 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: SPY x 271.86 @ $122.19
2025-10-26 08:30:28.271 | INFO     | src.backtesting.engine:_execute_signals:972 -         ✅ Position opened successfully
2025-10-26 08:30:28.271 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $33,266.67
2025-10-26 08:30:28.271 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 BUY AGG [relative_top]
2025-10-26 08:30:28.271 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $123.53 → $123.59 (slippage: 0.050%)
2025-10-26 08:30:28.271 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.72
2025-10-26 08:30:28.271 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 269.72
2025-10-26 08:30:28.271 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $33.33
2025-10-26 08:30:28.271 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $33,366.67
2025-10-26 08:30:28.272 | DEBUG    | src.backtesting.engine:_open_position:1003 - Opened position: AGG x 268.91 @ $123.59
2025-10-26 08:30:28.272 | INFO     | src.backtesting.engine:_execute_signals:972 -         ✅ Position opened successfully
2025-10-26 08:30:28.272 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $-0.00
2025-10-26 08:30:28.272 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-26 08:30:28.272 | INFO     | src.backtesting.engine:_log_position_changes:1159 -    Positions Opened:
2025-10-26 08:30:28.272 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      EFA: 275.95 shares @ $121.21 (Value: $33,448.64)
2025-10-26 08:30:28.272 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      SPY: 271.86 shares @ $122.19 (Value: $33,218.03)
2025-10-26 08:30:28.272 | INFO     | src.backtesting.engine:_log_position_changes:1163 -      AGG: 268.91 shares @ $123.59 (Value: $33,233.43)
2025-10-26 08:30:28.273 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.273 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $99,900.10
2025-10-26 08:30:28.273 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $-0.00
2025-10-26 08:30:28.273 | INFO     | src.backtesting.engine:run:316 -      Change: $-99.90
2025-10-26 08:30:28.273 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.274 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2021-10-01
2025-10-26 08:30:28.274 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $98,641.72
2025-10-26 08:30:28.274 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $-0.00
2025-10-26 08:30:28.275 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.275 | INFO     | src.backtesting.engine:run:273 -      EFA: 275.95 shares @ $121.08 (Value: $33,411.52, P&L: $-37.12)
2025-10-26 08:30:28.275 | INFO     | src.backtesting.engine:run:273 -      SPY: 271.86 shares @ $119.29 (Value: $32,431.24, P&L: $-786.78)
2025-10-26 08:30:28.275 | INFO     | src.backtesting.engine:run:273 -      AGG: 268.91 shares @ $121.97 (Value: $32,798.96, P&L: $-434.48)
2025-10-26 08:30:28.276 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.277 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.277 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.277 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.277 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019551495925198337
2025-10-26 08:30:28.277 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07498293204285922
2025-10-26 08:30:28.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05824612172849841
2025-10-26 08:30:28.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-26 08:30:28.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0196 (1.96%) - PASS
2025-10-26 08:30:28.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0750 (7.50%) - PASS
2025-10-26 08:30:28.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0582 (5.82%) - PASS
2025-10-26 08:30:28.278 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'AGG', 'SPY']
2025-10-26 08:30:28.278 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.278 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.278 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.78)
2025-10-26 08:30:28.279 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.26)
2025-10-26 08:30:28.279 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.279 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 275.95 shares @ $121.08 (Value: $33,411.52)
2025-10-26 08:30:28.279 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 271.86 shares @ $119.29 (Value: $32,431.24)
2025-10-26 08:30:28.279 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 268.91 shares @ $121.97 (Value: $32,798.96)
2025-10-26 08:30:28.279 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-10-01: PV=$98,641.72, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-26 08:30:28.279 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=52.88%, SPY=13.79%, AGG=33.33%
2025-10-26 08:30:28.279 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.280 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA', 'AGG']
2025-10-26 08:30:28.280 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 271.86 shares worth $32,431.24
2025-10-26 08:30:28.280 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.280 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $119.29 → $119.35 (slippage: 0.050%)
2025-10-26 08:30:28.280 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.26 confidence=0.77
2025-10-26 08:30:28.280 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 113.95
2025-10-26 08:30:28.280 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 271.86
2025-10-26 08:30:28.281 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -157.91
2025-10-26 08:30:28.281 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $18.85
2025-10-26 08:30:28.281 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-18,827.97
2025-10-26 08:30:28.281 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 157.91 shares at $119.23 (proceeds: $18,809.15)
2025-10-26 08:30:28.281 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.281 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $18,809.15
2025-10-26 08:30:28.281 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 275.95 shares worth $33,411.52
2025-10-26 08:30:28.281 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.281 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $121.08 → $121.14 (slippage: 0.050%)
2025-10-26 08:30:28.282 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.77
2025-10-26 08:30:28.282 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 430.58
2025-10-26 08:30:28.282 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 275.95
2025-10-26 08:30:28.282 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +154.63
2025-10-26 08:30:28.282 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $18.73
2025-10-26 08:30:28.282 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $18,751.01
2025-10-26 08:30:28.282 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 154.63 more shares at $121.14 (cost: $18,751.01)
2025-10-26 08:30:28.282 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.282 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $58.14
2025-10-26 08:30:28.283 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 268.91 shares worth $32,798.96
2025-10-26 08:30:28.283 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.283 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $121.97 → $122.03 (slippage: 0.050%)
2025-10-26 08:30:28.283 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.78 confidence=0.77
2025-10-26 08:30:28.283 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 269.44
2025-10-26 08:30:28.283 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 268.91
2025-10-26 08:30:28.283 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.53
2025-10-26 08:30:28.283 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.07
2025-10-26 08:30:28.284 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $65.28
2025-10-26 08:30:28.284 | WARNING  | src.backtesting.engine:_execute_signals:922 -      ⚠️  Cannot fully adjust AGG - insufficient cash
2025-10-26 08:30:28.284 | WARNING  | src.backtesting.engine:_execute_signals:923 -         Required: $65.28, Available: $58.14
2025-10-26 08:30:28.284 | INFO     | src.backtesting.engine:_execute_signals:931 -         Adjusted to partial increase: 269.38 shares
2025-10-26 08:30:28.284 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.48 more shares at $122.03 (cost: $58.14)
2025-10-26 08:30:28.284 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.284 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $0.00
2025-10-26 08:30:28.284 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$37,637.12, Cash end=$0.00
2025-10-26 08:30:28.284 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.285 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.285 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $98,585.29
2025-10-26 08:30:28.285 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-10-26 08:30:28.285 | INFO     | src.backtesting.engine:run:316 -      Change: $-56.43
2025-10-26 08:30:28.285 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.287 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2021-11-01
2025-10-26 08:30:28.287 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $99,807.22
2025-10-26 08:30:28.287 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-10-26 08:30:28.287 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.287 | INFO     | src.backtesting.engine:run:273 -      EFA: 430.58 shares @ $122.28 (Value: $52,652.28, P&L: $459.92)
2025-10-26 08:30:28.287 | INFO     | src.backtesting.engine:run:273 -      SPY: 113.95 shares @ $125.44 (Value: $14,293.97, P&L: $370.34)
2025-10-26 08:30:28.288 | INFO     | src.backtesting.engine:run:273 -      AGG: 269.38 shares @ $121.99 (Value: $32,860.97, P&L: $-431.29)
2025-10-26 08:30:28.289 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.289 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07511303569502892
2025-10-26 08:30:28.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08589327251529832
2025-10-26 08:30:28.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06452336484703469
2025-10-26 08:30:28.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-26 08:30:28.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0751 (7.51%) - PASS
2025-10-26 08:30:28.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0859 (8.59%) - PASS
2025-10-26 08:30:28.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0645 (6.45%) - PASS
2025-10-26 08:30:28.291 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'SPY', 'AGG']
2025-10-26 08:30:28.291 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.291 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.291 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.87)
2025-10-26 08:30:28.291 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.75)
2025-10-26 08:30:28.291 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.291 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 430.58 shares @ $122.28 (Value: $52,652.28)
2025-10-26 08:30:28.292 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 113.95 shares @ $125.44 (Value: $14,293.97)
2025-10-26 08:30:28.292 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 269.38 shares @ $121.99 (Value: $32,860.97)
2025-10-26 08:30:28.292 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-11-01: PV=$99,807.22, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=0.000000
2025-10-26 08:30:28.292 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=35.57%, SPY=31.10%, AGG=33.33%
2025-10-26 08:30:28.292 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.292 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['SPY', 'AGG']
2025-10-26 08:30:28.292 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 430.58 shares worth $52,652.28
2025-10-26 08:30:28.293 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.293 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $122.28 → $122.34 (slippage: 0.050%)
2025-10-26 08:30:28.293 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-10-26 08:30:28.293 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 290.14
2025-10-26 08:30:28.293 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 430.58
2025-10-26 08:30:28.293 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -140.44
2025-10-26 08:30:28.293 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $17.18
2025-10-26 08:30:28.293 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-17,164.81
2025-10-26 08:30:28.294 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 140.44 shares at $122.22 (proceeds: $17,147.66)
2025-10-26 08:30:28.294 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.294 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $17,147.66
2025-10-26 08:30:28.294 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 113.95 shares worth $14,293.97
2025-10-26 08:30:28.294 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.294 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $125.44 → $125.50 (slippage: 0.050%)
2025-10-26 08:30:28.294 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.87 confidence=0.74
2025-10-26 08:30:28.294 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 247.34
2025-10-26 08:30:28.294 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 113.95
2025-10-26 08:30:28.295 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +133.39
2025-10-26 08:30:28.295 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $16.74
2025-10-26 08:30:28.295 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $16,757.15
2025-10-26 08:30:28.295 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 133.39 more shares at $125.50 (cost: $16,757.15)
2025-10-26 08:30:28.295 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.295 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $390.50
2025-10-26 08:30:28.295 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 269.38 shares worth $32,860.97
2025-10-26 08:30:28.295 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.296 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $121.99 → $122.05 (slippage: 0.050%)
2025-10-26 08:30:28.296 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.75 confidence=0.74
2025-10-26 08:30:28.296 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 272.59
2025-10-26 08:30:28.296 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 269.38
2025-10-26 08:30:28.296 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +3.21
2025-10-26 08:30:28.296 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.39
2025-10-26 08:30:28.296 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $392.07
2025-10-26 08:30:28.296 | WARNING  | src.backtesting.engine:_execute_signals:922 -      ⚠️  Cannot fully adjust AGG - insufficient cash
2025-10-26 08:30:28.296 | WARNING  | src.backtesting.engine:_execute_signals:923 -         Required: $392.07, Available: $390.50
2025-10-26 08:30:28.297 | INFO     | src.backtesting.engine:_execute_signals:931 -         Adjusted to partial increase: 272.58 shares
2025-10-26 08:30:28.297 | WARNING  | src.backtesting.engine:_adjust_position:1047 - Insufficient cash to adjust AGG position (need $390.50, have $390.50)
2025-10-26 08:30:28.297 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.297 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $390.50
2025-10-26 08:30:28.297 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$34,312.47, Cash end=$390.50
2025-10-26 08:30:28.297 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.297 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.297 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $99,756.36
2025-10-26 08:30:28.297 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $390.50
2025-10-26 08:30:28.298 | INFO     | src.backtesting.engine:run:316 -      Change: $-50.86
2025-10-26 08:30:28.298 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.299 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2021-12-01
2025-10-26 08:30:28.300 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $100,666.81
2025-10-26 08:30:28.300 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $390.50
2025-10-26 08:30:28.300 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.300 | INFO     | src.backtesting.engine:run:273 -      EFA: 290.14 shares @ $123.73 (Value: $35,900.26, P&L: $731.29)
2025-10-26 08:30:28.300 | INFO     | src.backtesting.engine:run:273 -      SPY: 247.34 shares @ $122.93 (Value: $30,405.13, P&L: $182.96)
2025-10-26 08:30:28.300 | INFO     | src.backtesting.engine:run:273 -      AGG: 269.38 shares @ $126.11 (Value: $33,970.91, P&L: $678.66)
2025-10-26 08:30:28.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07533958777997163
2025-10-26 08:30:28.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06332847983307777
2025-10-26 08:30:28.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06863582586745842
2025-10-26 08:30:28.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-26 08:30:28.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0753 (7.53%) - PASS
2025-10-26 08:30:28.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0633 (6.33%) - PASS
2025-10-26 08:30:28.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0686 (6.86%) - PASS
2025-10-26 08:30:28.303 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'AGG', 'EFA']
2025-10-26 08:30:28.304 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.304 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-10-26 08:30:28.304 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.91)
2025-10-26 08:30:28.304 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.84)
2025-10-26 08:30:28.304 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.304 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 290.14 shares @ $123.73 (Value: $35,900.26)
2025-10-26 08:30:28.304 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 247.34 shares @ $122.93 (Value: $30,405.13)
2025-10-26 08:30:28.304 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 269.38 shares @ $126.11 (Value: $33,970.91)
2025-10-26 08:30:28.305 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2021-12-01: PV=$100,666.81, Cash=$390.50, Comm=0.1000%, Slip=0.0500%, Scale=0.064407
2025-10-26 08:30:28.305 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=36.22%, EFA=30.45%, AGG=33.33%
2025-10-26 08:30:28.305 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.305 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA', 'AGG'], then buys: ['SPY']
2025-10-26 08:30:28.305 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 290.14 shares worth $35,900.26
2025-10-26 08:30:28.305 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.305 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $123.73 → $123.80 (slippage: 0.050%)
2025-10-26 08:30:28.305 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.84 confidence=0.73
2025-10-26 08:30:28.306 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 247.58
2025-10-26 08:30:28.306 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 290.14
2025-10-26 08:30:28.306 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -42.56
2025-10-26 08:30:28.306 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $5.27
2025-10-26 08:30:28.306 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-5,263.85
2025-10-26 08:30:28.306 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 42.56 shares at $123.67 (proceeds: $5,258.59)
2025-10-26 08:30:28.306 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.306 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $5,649.09
2025-10-26 08:30:28.307 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 269.38 shares worth $33,970.91
2025-10-26 08:30:28.307 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.307 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $126.11 → $126.17 (slippage: 0.050%)
2025-10-26 08:30:28.307 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.91 confidence=0.73
2025-10-26 08:30:28.307 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 265.96
2025-10-26 08:30:28.307 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 269.38
2025-10-26 08:30:28.307 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -3.43
2025-10-26 08:30:28.307 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.43
2025-10-26 08:30:28.307 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-431.87
2025-10-26 08:30:28.308 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 3.43 shares at $126.04 (proceeds: $431.43)
2025-10-26 08:30:28.308 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.308 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $6,080.52
2025-10-26 08:30:28.308 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 247.34 shares worth $30,405.13
2025-10-26 08:30:28.308 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.308 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $122.93 → $122.99 (slippage: 0.050%)
2025-10-26 08:30:28.308 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-10-26 08:30:28.308 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 296.47
2025-10-26 08:30:28.308 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 247.34
2025-10-26 08:30:28.309 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +49.12
2025-10-26 08:30:28.309 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $6.04
2025-10-26 08:30:28.309 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $6,047.82
2025-10-26 08:30:28.309 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 49.12 more shares at $122.99 (cost: $6,047.82)
2025-10-26 08:30:28.309 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.309 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $32.70
2025-10-26 08:30:28.309 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$11,743.53, Cash end=$32.70
2025-10-26 08:30:28.309 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.310 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.310 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $100,649.20
2025-10-26 08:30:28.310 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $32.70
2025-10-26 08:30:28.310 | INFO     | src.backtesting.engine:run:316 -      Change: $-17.61
2025-10-26 08:30:28.310 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.312 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-01-01
2025-10-26 08:30:28.312 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $101,038.86
2025-10-26 08:30:28.312 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $32.70
2025-10-26 08:30:28.312 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.312 | INFO     | src.backtesting.engine:run:273 -      EFA: 247.58 shares @ $124.66 (Value: $30,863.82, P&L: $854.06)
2025-10-26 08:30:28.312 | INFO     | src.backtesting.engine:run:273 -      SPY: 296.47 shares @ $123.08 (Value: $36,488.46, P&L: $263.87)
2025-10-26 08:30:28.312 | INFO     | src.backtesting.engine:run:273 -      AGG: 265.96 shares @ $126.54 (Value: $33,653.88, P&L: $785.07)
2025-10-26 08:30:28.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.037374576779007684
2025-10-26 08:30:28.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0865684206777857
2025-10-26 08:30:28.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05637830462180449
2025-10-26 08:30:28.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-26 08:30:28.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0374 (3.74%) - PASS
2025-10-26 08:30:28.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0866 (8.66%) - PASS
2025-10-26 08:30:28.316 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0564 (5.64%) - PASS
2025-10-26 08:30:28.316 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'AGG', 'SPY']
2025-10-26 08:30:28.316 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.316 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.316 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.65)
2025-10-26 08:30:28.316 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.43)
2025-10-26 08:30:28.316 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.316 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 247.58 shares @ $124.66 (Value: $30,863.82)
2025-10-26 08:30:28.317 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 296.47 shares @ $123.08 (Value: $36,488.46)
2025-10-26 08:30:28.317 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 265.96 shares @ $126.54 (Value: $33,653.88)
2025-10-26 08:30:28.317 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-01-01: PV=$101,038.86, Cash=$32.70, Comm=0.1000%, Slip=0.0500%, Scale=0.002015
2025-10-26 08:30:28.317 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=46.56%, SPY=20.10%, AGG=33.33%
2025-10-26 08:30:28.317 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.317 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA', 'AGG']
2025-10-26 08:30:28.317 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 296.47 shares worth $36,488.46
2025-10-26 08:30:28.318 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.318 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $123.08 → $123.14 (slippage: 0.050%)
2025-10-26 08:30:28.318 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.43 confidence=0.80
2025-10-26 08:30:28.318 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 164.95
2025-10-26 08:30:28.318 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 296.47
2025-10-26 08:30:28.318 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -131.52
2025-10-26 08:30:28.318 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $16.19
2025-10-26 08:30:28.318 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-16,178.57
2025-10-26 08:30:28.318 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 131.52 shares at $123.02 (proceeds: $16,162.40)
2025-10-26 08:30:28.319 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.319 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $16,195.10
2025-10-26 08:30:28.319 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 247.58 shares worth $30,863.82
2025-10-26 08:30:28.319 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.319 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $124.66 → $124.73 (slippage: 0.050%)
2025-10-26 08:30:28.319 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.80
2025-10-26 08:30:28.319 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 377.21
2025-10-26 08:30:28.319 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 247.58
2025-10-26 08:30:28.320 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +129.63
2025-10-26 08:30:28.320 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $16.17
2025-10-26 08:30:28.320 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $16,184.21
2025-10-26 08:30:28.320 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 129.63 more shares at $124.73 (cost: $16,184.21)
2025-10-26 08:30:28.320 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.320 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $10.88
2025-10-26 08:30:28.320 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 265.96 shares worth $33,653.88
2025-10-26 08:30:28.320 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.320 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $126.54 → $126.60 (slippage: 0.050%)
2025-10-26 08:30:28.321 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.65 confidence=0.80
2025-10-26 08:30:28.321 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 266.03
2025-10-26 08:30:28.321 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 265.96
2025-10-26 08:30:28.321 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.07
2025-10-26 08:30:28.321 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.01
2025-10-26 08:30:28.321 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $8.92
2025-10-26 08:30:28.321 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.07 more shares at $126.60 (cost: $8.92)
2025-10-26 08:30:28.321 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.321 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $1.96
2025-10-26 08:30:28.322 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$32,371.71, Cash end=$1.96
2025-10-26 08:30:28.322 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.322 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.322 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $100,990.33
2025-10-26 08:30:28.322 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $1.96
2025-10-26 08:30:28.322 | INFO     | src.backtesting.engine:run:316 -      Change: $-48.53
2025-10-26 08:30:28.322 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.324 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-02-01
2025-10-26 08:30:28.324 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $100,776.41
2025-10-26 08:30:28.324 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $1.96
2025-10-26 08:30:28.324 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.325 | INFO     | src.backtesting.engine:run:273 -      EFA: 377.21 shares @ $121.68 (Value: $45,899.75, P&L: $177.20)
2025-10-26 08:30:28.325 | INFO     | src.backtesting.engine:run:273 -      SPY: 164.95 shares @ $131.22 (Value: $21,644.26, P&L: $1,489.28)
2025-10-26 08:30:28.325 | INFO     | src.backtesting.engine:run:273 -      AGG: 266.03 shares @ $124.91 (Value: $33,230.44, P&L: $352.93)
2025-10-26 08:30:28.326 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11193767893425632
2025-10-26 08:30:28.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.034556594930737594
2025-10-26 08:30:28.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04474012852421505
2025-10-26 08:30:28.328 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-26 08:30:28.328 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1119 (11.19%) - PASS
2025-10-26 08:30:28.328 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0346 (3.46%) - PASS
2025-10-26 08:30:28.328 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0447 (4.47%) - PASS
2025-10-26 08:30:28.328 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'AGG', 'EFA']
2025-10-26 08:30:28.328 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.328 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-10-26 08:30:28.328 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.40)
2025-10-26 08:30:28.329 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.31)
2025-10-26 08:30:28.329 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.329 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 377.21 shares @ $121.68 (Value: $45,899.75)
2025-10-26 08:30:28.329 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 164.95 shares @ $131.22 (Value: $21,644.26)
2025-10-26 08:30:28.329 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 266.03 shares @ $124.91 (Value: $33,230.44)
2025-10-26 08:30:28.329 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-02-01: PV=$100,776.41, Cash=$1.96, Comm=0.1000%, Slip=0.0500%, Scale=0.000065
2025-10-26 08:30:28.329 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=50.94%, EFA=15.73%, AGG=33.33%
2025-10-26 08:30:28.329 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.330 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['SPY', 'AGG']
2025-10-26 08:30:28.330 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 377.21 shares worth $45,899.75
2025-10-26 08:30:28.330 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.330 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $121.68 → $121.74 (slippage: 0.050%)
2025-10-26 08:30:28.330 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.31 confidence=0.88
2025-10-26 08:30:28.330 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 130.18
2025-10-26 08:30:28.330 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 377.21
2025-10-26 08:30:28.330 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -247.03
2025-10-26 08:30:28.331 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $30.07
2025-10-26 08:30:28.331 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-30,044.50
2025-10-26 08:30:28.331 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 247.03 shares at $121.62 (proceeds: $30,014.47)
2025-10-26 08:30:28.331 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.331 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $30,016.43
2025-10-26 08:30:28.331 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 164.95 shares worth $21,644.26
2025-10-26 08:30:28.331 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.331 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $131.22 → $131.28 (slippage: 0.050%)
2025-10-26 08:30:28.332 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.88
2025-10-26 08:30:28.332 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 391.04
2025-10-26 08:30:28.332 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 164.95
2025-10-26 08:30:28.332 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +226.09
2025-10-26 08:30:28.332 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $29.68
2025-10-26 08:30:28.332 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $29,710.75
2025-10-26 08:30:28.332 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 226.09 more shares at $131.28 (cost: $29,710.75)
2025-10-26 08:30:28.332 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.332 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $305.69
2025-10-26 08:30:28.333 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 266.03 shares worth $33,230.44
2025-10-26 08:30:28.333 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.333 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $124.91 → $124.98 (slippage: 0.050%)
2025-10-26 08:30:28.333 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.40 confidence=0.88
2025-10-26 08:30:28.333 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 268.79
2025-10-26 08:30:28.333 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 266.03
2025-10-26 08:30:28.333 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +2.76
2025-10-26 08:30:28.333 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.35
2025-10-26 08:30:28.333 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $345.43
2025-10-26 08:30:28.334 | WARNING  | src.backtesting.engine:_execute_signals:922 -      ⚠️  Cannot fully adjust AGG - insufficient cash
2025-10-26 08:30:28.334 | WARNING  | src.backtesting.engine:_execute_signals:923 -         Required: $345.43, Available: $305.69
2025-10-26 08:30:28.334 | INFO     | src.backtesting.engine:_execute_signals:931 -         Adjusted to partial increase: 268.47 shares
2025-10-26 08:30:28.334 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 2.44 more shares at $124.98 (cost: $305.69)
2025-10-26 08:30:28.334 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.334 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $0.00
2025-10-26 08:30:28.334 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$60,060.94, Cash end=$0.00
2025-10-26 08:30:28.334 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.334 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.335 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $100,686.36
2025-10-26 08:30:28.335 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-10-26 08:30:28.335 | INFO     | src.backtesting.engine:run:316 -      Change: $-90.05
2025-10-26 08:30:28.335 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.337 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-03-01
2025-10-26 08:30:28.337 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $101,929.73
2025-10-26 08:30:28.337 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-10-26 08:30:28.337 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.337 | INFO     | src.backtesting.engine:run:273 -      EFA: 130.18 shares @ $130.79 (Value: $17,026.28, P&L: $1,247.23)
2025-10-26 08:30:28.337 | INFO     | src.backtesting.engine:run:273 -      SPY: 391.04 shares @ $127.91 (Value: $50,019.27, P&L: $2,239.31)
2025-10-26 08:30:28.337 | INFO     | src.backtesting.engine:run:273 -      AGG: 268.47 shares @ $129.94 (Value: $34,884.17, P&L: $1,704.68)
2025-10-26 08:30:28.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.062080363269852556
2025-10-26 08:30:28.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11404037668171707
2025-10-26 08:30:28.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08587886730594763
2025-10-26 08:30:28.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-26 08:30:28.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0621 (6.21%) - PASS
2025-10-26 08:30:28.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1140 (11.40%) - PASS
2025-10-26 08:30:28.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-26 08:30:28.341 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'AGG', 'SPY']
2025-10-26 08:30:28.341 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.341 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.341 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.75)
2025-10-26 08:30:28.341 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.54)
2025-10-26 08:30:28.341 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.341 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 130.18 shares @ $130.79 (Value: $17,026.28)
2025-10-26 08:30:28.341 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 391.04 shares @ $127.91 (Value: $50,019.27)
2025-10-26 08:30:28.342 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 268.47 shares @ $129.94 (Value: $34,884.17)
2025-10-26 08:30:28.342 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-03-01: PV=$101,929.73, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=0.000000
2025-10-26 08:30:28.342 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=43.17%, SPY=23.50%, AGG=33.33%
2025-10-26 08:30:28.342 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.342 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY', 'AGG'], then buys: ['EFA']
2025-10-26 08:30:28.342 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 391.04 shares worth $50,019.27
2025-10-26 08:30:28.342 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.343 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $127.91 → $127.98 (slippage: 0.050%)
2025-10-26 08:30:28.343 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.54 confidence=0.77
2025-10-26 08:30:28.343 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 187.16
2025-10-26 08:30:28.343 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 391.04
2025-10-26 08:30:28.343 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -203.88
2025-10-26 08:30:28.343 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $26.09
2025-10-26 08:30:28.343 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-26,065.55
2025-10-26 08:30:28.343 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 203.88 shares at $127.85 (proceeds: $26,039.50)
2025-10-26 08:30:28.343 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.344 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $26,039.50
2025-10-26 08:30:28.344 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 268.47 shares worth $34,884.17
2025-10-26 08:30:28.344 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.344 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $129.94 → $130.00 (slippage: 0.050%)
2025-10-26 08:30:28.344 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.75 confidence=0.77
2025-10-26 08:30:28.344 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 261.35
2025-10-26 08:30:28.344 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 268.47
2025-10-26 08:30:28.344 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -7.12
2025-10-26 08:30:28.344 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.93
2025-10-26 08:30:28.345 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-924.11
2025-10-26 08:30:28.345 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 7.12 shares at $129.87 (proceeds: $923.19)
2025-10-26 08:30:28.345 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.345 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $26,962.69
2025-10-26 08:30:28.345 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 130.18 shares worth $17,026.28
2025-10-26 08:30:28.345 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.345 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $130.79 → $130.86 (slippage: 0.050%)
2025-10-26 08:30:28.345 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.77
2025-10-26 08:30:28.346 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 336.24
2025-10-26 08:30:28.346 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 130.18
2025-10-26 08:30:28.346 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +206.06
2025-10-26 08:30:28.346 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $26.97
2025-10-26 08:30:28.346 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $26,992.68
2025-10-26 08:30:28.346 | WARNING  | src.backtesting.engine:_execute_signals:922 -      ⚠️  Cannot fully adjust EFA - insufficient cash
2025-10-26 08:30:28.346 | WARNING  | src.backtesting.engine:_execute_signals:923 -         Required: $26,992.68, Available: $26,962.69
2025-10-26 08:30:28.346 | INFO     | src.backtesting.engine:_execute_signals:931 -         Adjusted to partial increase: 336.01 shares
2025-10-26 08:30:28.346 | WARNING  | src.backtesting.engine:_adjust_position:1047 - Insufficient cash to adjust EFA position (need $26,962.69, have $26,962.69)
2025-10-26 08:30:28.347 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.347 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $26,962.69
2025-10-26 08:30:28.347 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$53,952.35, Cash end=$26,962.69
2025-10-26 08:30:28.347 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.347 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.347 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $101,889.24
2025-10-26 08:30:28.347 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $26,962.69
2025-10-26 08:30:28.347 | INFO     | src.backtesting.engine:run:316 -      Change: $-40.49
2025-10-26 08:30:28.347 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.349 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-04-01
2025-10-26 08:30:28.349 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $101,887.15
2025-10-26 08:30:28.350 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $26,962.69
2025-10-26 08:30:28.350 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.350 | INFO     | src.backtesting.engine:run:273 -      EFA: 130.18 shares @ $128.79 (Value: $16,765.36, P&L: $986.30)
2025-10-26 08:30:28.350 | INFO     | src.backtesting.engine:run:273 -      SPY: 187.16 shares @ $130.94 (Value: $24,506.10, P&L: $1,637.23)
2025-10-26 08:30:28.350 | INFO     | src.backtesting.engine:run:273 -      AGG: 261.35 shares @ $128.76 (Value: $33,653.00, P&L: $1,352.90)
2025-10-26 08:30:28.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10230277701936319
2025-10-26 08:30:28.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09632721679950307
2025-10-26 08:30:28.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07945606670536898
2025-10-26 08:30:28.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-26 08:30:28.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1023 (10.23%) - PASS
2025-10-26 08:30:28.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0963 (9.63%) - PASS
2025-10-26 08:30:28.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0795 (7.95%) - PASS
2025-10-26 08:30:28.353 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'EFA', 'AGG']
2025-10-26 08:30:28.353 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.354 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-10-26 08:30:28.354 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.94)
2025-10-26 08:30:28.354 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.78)
2025-10-26 08:30:28.354 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.354 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 130.18 shares @ $128.79 (Value: $16,765.36)
2025-10-26 08:30:28.354 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 187.16 shares @ $130.94 (Value: $24,506.10)
2025-10-26 08:30:28.354 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 261.35 shares @ $128.76 (Value: $33,653.00)
2025-10-26 08:30:28.354 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-04-01: PV=$101,887.15, Cash=$26,962.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-26 08:30:28.355 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=34.34%, EFA=32.33%, AGG=33.33%
2025-10-26 08:30:28.355 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.355 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'EFA', 'AGG']
2025-10-26 08:30:28.355 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 187.16 shares worth $24,506.10
2025-10-26 08:30:28.355 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.355 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $130.94 → $131.00 (slippage: 0.050%)
2025-10-26 08:30:28.355 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.72
2025-10-26 08:30:28.355 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 267.05
2025-10-26 08:30:28.356 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 187.16
2025-10-26 08:30:28.356 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +79.89
2025-10-26 08:30:28.356 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $10.47
2025-10-26 08:30:28.356 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $10,476.21
2025-10-26 08:30:28.356 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 79.89 more shares at $131.00 (cost: $10,476.21)
2025-10-26 08:30:28.356 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.356 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $16,486.48
2025-10-26 08:30:28.356 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 130.18 shares worth $16,765.36
2025-10-26 08:30:28.356 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.357 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $128.79 → $128.85 (slippage: 0.050%)
2025-10-26 08:30:28.357 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.94 confidence=0.72
2025-10-26 08:30:28.357 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 255.64
2025-10-26 08:30:28.357 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 130.18
2025-10-26 08:30:28.357 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +125.47
2025-10-26 08:30:28.357 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $16.17
2025-10-26 08:30:28.357 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $16,183.09
2025-10-26 08:30:28.357 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 125.47 more shares at $128.85 (cost: $16,183.09)
2025-10-26 08:30:28.357 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.358 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $303.38
2025-10-26 08:30:28.358 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 261.35 shares worth $33,653.00
2025-10-26 08:30:28.358 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.358 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $128.76 → $128.83 (slippage: 0.050%)
2025-10-26 08:30:28.358 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.78 confidence=0.72
2025-10-26 08:30:28.358 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 263.63
2025-10-26 08:30:28.358 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 261.35
2025-10-26 08:30:28.358 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +2.27
2025-10-26 08:30:28.359 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.29
2025-10-26 08:30:28.359 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $292.85
2025-10-26 08:30:28.359 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 2.27 more shares at $128.83 (cost: $292.85)
2025-10-26 08:30:28.359 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.359 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $10.54
2025-10-26 08:30:28.359 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$26,952.15, Cash end=$10.54
2025-10-26 08:30:28.359 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.359 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.359 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $101,846.77
2025-10-26 08:30:28.360 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $10.54
2025-10-26 08:30:28.360 | INFO     | src.backtesting.engine:run:316 -      Change: $-40.38
2025-10-26 08:30:28.360 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.362 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-05-01
2025-10-26 08:30:28.362 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $101,347.79
2025-10-26 08:30:28.362 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $10.54
2025-10-26 08:30:28.362 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.362 | INFO     | src.backtesting.engine:run:273 -      EFA: 255.64 shares @ $130.12 (Value: $33,263.87, P&L: $2,276.60)
2025-10-26 08:30:28.362 | INFO     | src.backtesting.engine:run:273 -      SPY: 267.05 shares @ $128.03 (Value: $34,191.57, P&L: $1,561.04)
2025-10-26 08:30:28.362 | INFO     | src.backtesting.engine:run:273 -      AGG: 263.63 shares @ $128.52 (Value: $33,881.81, P&L: $1,301.06)
2025-10-26 08:30:28.364 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.364 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.364 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05578194617471177
2025-10-26 08:30:28.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07522900530727417
2025-10-26 08:30:28.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08673886201403636
2025-10-26 08:30:28.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-26 08:30:28.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0558 (5.58%) - PASS
2025-10-26 08:30:28.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0752 (7.52%) - PASS
2025-10-26 08:30:28.366 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0867 (8.67%) - PASS
2025-10-26 08:30:28.366 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['AGG', 'EFA', 'SPY']
2025-10-26 08:30:28.366 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.366 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-10-26 08:30:28.366 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.87)
2025-10-26 08:30:28.366 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.64)
2025-10-26 08:30:28.366 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.366 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 255.64 shares @ $130.12 (Value: $33,263.87)
2025-10-26 08:30:28.366 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 267.05 shares @ $128.03 (Value: $34,191.57)
2025-10-26 08:30:28.367 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 263.63 shares @ $128.52 (Value: $33,881.81)
2025-10-26 08:30:28.367 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-05-01: PV=$101,347.79, Cash=$10.54, Comm=0.1000%, Slip=0.0500%, Scale=0.001902
2025-10-26 08:30:28.367 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=38.28%, SPY=28.39%, AGG=33.33%
2025-10-26 08:30:28.367 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.367 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY', 'AGG'], then buys: ['EFA']
2025-10-26 08:30:28.367 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 267.05 shares worth $34,191.57
2025-10-26 08:30:28.367 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.368 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $128.03 → $128.10 (slippage: 0.050%)
2025-10-26 08:30:28.368 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.64 confidence=0.74
2025-10-26 08:30:28.368 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 224.58
2025-10-26 08:30:28.368 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 267.05
2025-10-26 08:30:28.368 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -42.47
2025-10-26 08:30:28.368 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $5.44
2025-10-26 08:30:28.368 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-5,435.26
2025-10-26 08:30:28.368 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 42.47 shares at $127.97 (proceeds: $5,429.83)
2025-10-26 08:30:28.368 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.369 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $5,440.36
2025-10-26 08:30:28.369 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 263.63 shares worth $33,881.81
2025-10-26 08:30:28.369 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.369 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $128.52 → $128.59 (slippage: 0.050%)
2025-10-26 08:30:28.369 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-10-26 08:30:28.369 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 262.72
2025-10-26 08:30:28.369 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 263.63
2025-10-26 08:30:28.369 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.90
2025-10-26 08:30:28.369 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.12
2025-10-26 08:30:28.370 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-116.04
2025-10-26 08:30:28.370 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.90 shares at $128.46 (proceeds: $115.93)
2025-10-26 08:30:28.370 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.370 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $5,556.29
2025-10-26 08:30:28.370 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 255.64 shares worth $33,263.87
2025-10-26 08:30:28.370 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.370 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $130.12 → $130.18 (slippage: 0.050%)
2025-10-26 08:30:28.370 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.87 confidence=0.74
2025-10-26 08:30:28.371 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 298.02
2025-10-26 08:30:28.371 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 255.64
2025-10-26 08:30:28.371 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +42.38
2025-10-26 08:30:28.371 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $5.52
2025-10-26 08:30:28.371 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $5,522.24
2025-10-26 08:30:28.371 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 42.38 more shares at $130.18 (cost: $5,522.24)
2025-10-26 08:30:28.371 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.371 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $34.05
2025-10-26 08:30:28.371 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$11,073.55, Cash end=$34.05
2025-10-26 08:30:28.372 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.372 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.372 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $101,331.18
2025-10-26 08:30:28.372 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $34.05
2025-10-26 08:30:28.372 | INFO     | src.backtesting.engine:run:316 -      Change: $-16.60
2025-10-26 08:30:28.372 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.374 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-06-01
2025-10-26 08:30:28.374 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $101,324.42
2025-10-26 08:30:28.374 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $34.05
2025-10-26 08:30:28.374 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.374 | INFO     | src.backtesting.engine:run:273 -      EFA: 298.02 shares @ $129.45 (Value: $38,579.47, P&L: $2,455.61)
2025-10-26 08:30:28.375 | INFO     | src.backtesting.engine:run:273 -      SPY: 224.58 shares @ $129.23 (Value: $29,021.67, P&L: $1,580.85)
2025-10-26 08:30:28.375 | INFO     | src.backtesting.engine:run:273 -      AGG: 262.72 shares @ $128.23 (Value: $33,689.23, P&L: $1,220.12)
2025-10-26 08:30:28.376 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.376 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.377 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.377 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.377 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09337633282852487
2025-10-26 08:30:28.377 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05925575928114202
2025-10-26 08:30:28.377 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04087147827096205
2025-10-26 08:30:28.377 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-26 08:30:28.378 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0934 (9.34%) - PASS
2025-10-26 08:30:28.378 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-26 08:30:28.378 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0409 (4.09%) - PASS
2025-10-26 08:30:28.378 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'EFA', 'AGG']
2025-10-26 08:30:28.378 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.378 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-10-26 08:30:28.378 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.63)
2025-10-26 08:30:28.378 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.44)
2025-10-26 08:30:28.379 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.379 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 298.02 shares @ $129.45 (Value: $38,579.47)
2025-10-26 08:30:28.379 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 224.58 shares @ $129.23 (Value: $29,021.67)
2025-10-26 08:30:28.379 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 262.72 shares @ $128.23 (Value: $33,689.23)
2025-10-26 08:30:28.379 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-06-01: PV=$101,324.42, Cash=$34.05, Comm=0.1000%, Slip=0.0500%, Scale=0.002745
2025-10-26 08:30:28.379 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=40.78%, EFA=25.88%, AGG=33.33%
2025-10-26 08:30:28.379 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.379 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['SPY', 'AGG']
2025-10-26 08:30:28.380 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 298.02 shares worth $38,579.47
2025-10-26 08:30:28.380 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.380 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $129.45 → $129.52 (slippage: 0.050%)
2025-10-26 08:30:28.380 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.63 confidence=0.81
2025-10-26 08:30:28.380 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 202.48
2025-10-26 08:30:28.380 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 298.02
2025-10-26 08:30:28.380 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -95.54
2025-10-26 08:30:28.380 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $12.37
2025-10-26 08:30:28.381 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-12,361.87
2025-10-26 08:30:28.381 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 95.54 shares at $129.39 (proceeds: $12,349.51)
2025-10-26 08:30:28.381 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.381 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $12,383.56
2025-10-26 08:30:28.381 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 224.58 shares worth $29,021.67
2025-10-26 08:30:28.381 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.381 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $129.23 → $129.29 (slippage: 0.050%)
2025-10-26 08:30:28.381 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.81
2025-10-26 08:30:28.381 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 319.63
2025-10-26 08:30:28.382 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 224.58
2025-10-26 08:30:28.382 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +95.05
2025-10-26 08:30:28.382 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $12.29
2025-10-26 08:30:28.382 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $12,301.20
2025-10-26 08:30:28.382 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 95.05 more shares at $129.29 (cost: $12,301.20)
2025-10-26 08:30:28.382 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.382 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $82.36
2025-10-26 08:30:28.382 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 262.72 shares worth $33,689.23
2025-10-26 08:30:28.383 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.383 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $128.23 → $128.30 (slippage: 0.050%)
2025-10-26 08:30:28.383 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.44 confidence=0.81
2025-10-26 08:30:28.383 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 263.26
2025-10-26 08:30:28.383 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 262.72
2025-10-26 08:30:28.383 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.54
2025-10-26 08:30:28.383 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.07
2025-10-26 08:30:28.383 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $68.80
2025-10-26 08:30:28.383 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 0.54 more shares at $128.30 (cost: $68.80)
2025-10-26 08:30:28.384 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.384 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $13.56
2025-10-26 08:30:28.384 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$24,731.87, Cash end=$13.56
2025-10-26 08:30:28.384 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.384 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.384 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $101,287.34
2025-10-26 08:30:28.384 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $13.56
2025-10-26 08:30:28.384 | INFO     | src.backtesting.engine:run:316 -      Change: $-37.08
2025-10-26 08:30:28.384 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.386 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-07-01
2025-10-26 08:30:28.386 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $103,886.11
2025-10-26 08:30:28.386 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $13.56
2025-10-26 08:30:28.387 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.387 | INFO     | src.backtesting.engine:run:273 -      EFA: 202.48 shares @ $129.17 (Value: $26,154.82, P&L: $1,611.77)
2025-10-26 08:30:28.387 | INFO     | src.backtesting.engine:run:273 -      SPY: 319.63 shares @ $131.73 (Value: $42,105.12, P&L: $3,050.59)
2025-10-26 08:30:28.387 | INFO     | src.backtesting.engine:run:273 -      AGG: 263.26 shares @ $135.28 (Value: $35,612.62, P&L: $3,077.29)
2025-10-26 08:30:28.389 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.389 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.389 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.389 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08460905845341782
2025-10-26 08:30:28.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058143063523203864
2025-10-26 08:30:28.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08521457036160784
2025-10-26 08:30:28.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-26 08:30:28.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0846 (8.46%) - PASS
2025-10-26 08:30:28.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0581 (5.81%) - PASS
2025-10-26 08:30:28.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0852 (8.52%) - PASS
2025-10-26 08:30:28.391 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['AGG', 'SPY', 'EFA']
2025-10-26 08:30:28.391 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.391 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-10-26 08:30:28.391 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.99)
2025-10-26 08:30:28.391 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.68)
2025-10-26 08:30:28.391 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.391 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 202.48 shares @ $129.17 (Value: $26,154.82)
2025-10-26 08:30:28.391 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 319.63 shares @ $131.73 (Value: $42,105.12)
2025-10-26 08:30:28.391 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 263.26 shares @ $135.28 (Value: $35,612.62)
2025-10-26 08:30:28.392 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-07-01: PV=$103,886.11, Cash=$13.56, Comm=0.1000%, Slip=0.0500%, Scale=0.006595
2025-10-26 08:30:28.392 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=39.51%, EFA=27.15%, AGG=33.33%
2025-10-26 08:30:28.392 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.392 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY', 'AGG'], then buys: ['EFA']
2025-10-26 08:30:28.392 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 319.63 shares worth $42,105.12
2025-10-26 08:30:28.392 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.392 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $131.73 → $131.80 (slippage: 0.050%)
2025-10-26 08:30:28.393 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.99 confidence=0.70
2025-10-26 08:30:28.393 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 311.45
2025-10-26 08:30:28.393 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 319.63
2025-10-26 08:30:28.393 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -8.17
2025-10-26 08:30:28.393 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $1.08
2025-10-26 08:30:28.393 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1,076.29
2025-10-26 08:30:28.393 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 8.17 shares at $131.67 (proceeds: $1,075.22)
2025-10-26 08:30:28.393 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.393 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $1,088.77
2025-10-26 08:30:28.394 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 263.26 shares worth $35,612.62
2025-10-26 08:30:28.394 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.394 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $135.28 → $135.34 (slippage: 0.050%)
2025-10-26 08:30:28.394 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.70
2025-10-26 08:30:28.394 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 255.86
2025-10-26 08:30:28.394 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 263.26
2025-10-26 08:30:28.394 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -7.40
2025-10-26 08:30:28.394 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $1.00
2025-10-26 08:30:28.395 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1,000.72
2025-10-26 08:30:28.395 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 7.40 shares at $135.21 (proceeds: $999.72)
2025-10-26 08:30:28.395 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.395 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $2,088.49
2025-10-26 08:30:28.395 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 202.48 shares worth $26,154.82
2025-10-26 08:30:28.395 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.395 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $129.17 → $129.24 (slippage: 0.050%)
2025-10-26 08:30:28.395 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.68 confidence=0.70
2025-10-26 08:30:28.395 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 218.27
2025-10-26 08:30:28.396 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 202.48
2025-10-26 08:30:28.396 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +15.79
2025-10-26 08:30:28.396 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $2.04
2025-10-26 08:30:28.396 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $2,042.75
2025-10-26 08:30:28.396 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 15.79 more shares at $129.24 (cost: $2,042.75)
2025-10-26 08:30:28.396 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.396 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $45.74
2025-10-26 08:30:28.396 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$4,119.76, Cash end=$45.74
2025-10-26 08:30:28.397 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.397 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.397 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $103,879.94
2025-10-26 08:30:28.397 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $45.74
2025-10-26 08:30:28.397 | INFO     | src.backtesting.engine:run:316 -      Change: $-6.18
2025-10-26 08:30:28.397 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.399 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-08-01
2025-10-26 08:30:28.399 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $102,725.85
2025-10-26 08:30:28.399 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $45.74
2025-10-26 08:30:28.399 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.399 | INFO     | src.backtesting.engine:run:273 -      EFA: 218.27 shares @ $130.36 (Value: $28,454.35, P&L: $1,997.31)
2025-10-26 08:30:28.400 | INFO     | src.backtesting.engine:run:273 -      SPY: 311.45 shares @ $132.10 (Value: $41,141.82, P&L: $3,086.10)
2025-10-26 08:30:28.400 | INFO     | src.backtesting.engine:run:273 -      AGG: 255.86 shares @ $129.31 (Value: $33,083.94, P&L: $1,463.32)
2025-10-26 08:30:28.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.048523400437661346
2025-10-26 08:30:28.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06375280245768722
2025-10-26 08:30:28.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04266694489239309
2025-10-26 08:30:28.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-26 08:30:28.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0485 (4.85%) - PASS
2025-10-26 08:30:28.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-26 08:30:28.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0427 (4.27%) - PASS
2025-10-26 08:30:28.403 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'SPY', 'AGG']
2025-10-26 08:30:28.403 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.403 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.403 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.76)
2025-10-26 08:30:28.403 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.67)
2025-10-26 08:30:28.404 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.404 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 218.27 shares @ $130.36 (Value: $28,454.35)
2025-10-26 08:30:28.404 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 311.45 shares @ $132.10 (Value: $41,141.82)
2025-10-26 08:30:28.404 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 255.86 shares @ $129.31 (Value: $33,083.94)
2025-10-26 08:30:28.404 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-08-01: PV=$102,725.85, Cash=$45.74, Comm=0.1000%, Slip=0.0500%, Scale=0.003943
2025-10-26 08:30:28.404 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=37.85%, SPY=28.81%, AGG=33.33%
2025-10-26 08:30:28.404 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.404 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA', 'AGG']
2025-10-26 08:30:28.405 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 311.45 shares worth $41,141.82
2025-10-26 08:30:28.405 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.405 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $132.10 → $132.16 (slippage: 0.050%)
2025-10-26 08:30:28.405 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.76 confidence=0.77
2025-10-26 08:30:28.405 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 223.95
2025-10-26 08:30:28.405 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 311.45
2025-10-26 08:30:28.405 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -87.51
2025-10-26 08:30:28.405 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $11.57
2025-10-26 08:30:28.406 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-11,553.54
2025-10-26 08:30:28.406 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 87.51 shares at $132.03 (proceeds: $11,541.99)
2025-10-26 08:30:28.406 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.406 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $11,587.73
2025-10-26 08:30:28.406 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 218.27 shares worth $28,454.35
2025-10-26 08:30:28.406 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.406 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $130.36 → $130.43 (slippage: 0.050%)
2025-10-26 08:30:28.406 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.77
2025-10-26 08:30:28.406 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 298.14
2025-10-26 08:30:28.407 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 218.27
2025-10-26 08:30:28.407 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +79.87
2025-10-26 08:30:28.407 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $10.42
2025-10-26 08:30:28.407 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $10,428.45
2025-10-26 08:30:28.407 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 79.87 more shares at $130.43 (cost: $10,428.45)
2025-10-26 08:30:28.407 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.407 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $1,159.28
2025-10-26 08:30:28.407 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 255.86 shares worth $33,083.94
2025-10-26 08:30:28.407 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.408 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $129.31 → $129.37 (slippage: 0.050%)
2025-10-26 08:30:28.408 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.67 confidence=0.77
2025-10-26 08:30:28.408 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 264.68
2025-10-26 08:30:28.408 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 255.86
2025-10-26 08:30:28.408 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +8.82
2025-10-26 08:30:28.408 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $1.14
2025-10-26 08:30:28.408 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1,142.61
2025-10-26 08:30:28.408 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 8.82 more shares at $129.37 (cost: $1,142.61)
2025-10-26 08:30:28.408 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.409 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $16.67
2025-10-26 08:30:28.409 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$23,124.60, Cash end=$16.67
2025-10-26 08:30:28.409 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.409 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.409 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $102,691.18
2025-10-26 08:30:28.409 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $16.67
2025-10-26 08:30:28.409 | INFO     | src.backtesting.engine:run:316 -      Change: $-34.67
2025-10-26 08:30:28.409 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.411 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-09-01
2025-10-26 08:30:28.411 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $103,908.30
2025-10-26 08:30:28.411 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $16.67
2025-10-26 08:30:28.412 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.412 | INFO     | src.backtesting.engine:run:273 -      EFA: 298.14 shares @ $132.01 (Value: $39,357.48, P&L: $3,218.54)
2025-10-26 08:30:28.412 | INFO     | src.backtesting.engine:run:273 -      SPY: 223.95 shares @ $132.46 (Value: $29,664.83, P&L: $2,301.35)
2025-10-26 08:30:28.412 | INFO     | src.backtesting.engine:run:273 -      AGG: 264.68 shares @ $131.74 (Value: $34,869.32, P&L: $2,158.26)
2025-10-26 08:30:28.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08550496050562328
2025-10-26 08:30:28.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.029203921523580645
2025-10-26 08:30:28.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.052898492074856085
2025-10-26 08:30:28.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-26 08:30:28.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0855 (8.55%) - PASS
2025-10-26 08:30:28.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0292 (2.92%) - PASS
2025-10-26 08:30:28.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0529 (5.29%) - PASS
2025-10-26 08:30:28.415 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'AGG', 'EFA']
2025-10-26 08:30:28.415 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.415 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-10-26 08:30:28.416 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.62)
2025-10-26 08:30:28.416 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.34)
2025-10-26 08:30:28.416 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.416 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 298.14 shares @ $132.01 (Value: $39,357.48)
2025-10-26 08:30:28.416 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 223.95 shares @ $132.46 (Value: $29,664.83)
2025-10-26 08:30:28.416 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 264.68 shares @ $131.74 (Value: $34,869.32)
2025-10-26 08:30:28.416 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-09-01: PV=$103,908.30, Cash=$16.67, Comm=0.1000%, Slip=0.0500%, Scale=0.000758
2025-10-26 08:30:28.416 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=49.69%, EFA=16.97%, AGG=33.33%
2025-10-26 08:30:28.417 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.417 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA', 'AGG'], then buys: ['SPY']
2025-10-26 08:30:28.417 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 298.14 shares worth $39,357.48
2025-10-26 08:30:28.417 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.417 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $132.01 → $132.08 (slippage: 0.050%)
2025-10-26 08:30:28.417 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.34 confidence=0.81
2025-10-26 08:30:28.417 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 133.53
2025-10-26 08:30:28.417 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 298.14
2025-10-26 08:30:28.418 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -164.61
2025-10-26 08:30:28.418 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $21.74
2025-10-26 08:30:28.418 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-21,719.30
2025-10-26 08:30:28.418 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 164.61 shares at $131.94 (proceeds: $21,697.59)
2025-10-26 08:30:28.418 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.418 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $21,714.26
2025-10-26 08:30:28.418 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 264.68 shares worth $34,869.32
2025-10-26 08:30:28.418 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.419 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $131.74 → $131.81 (slippage: 0.050%)
2025-10-26 08:30:28.419 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.62 confidence=0.81
2025-10-26 08:30:28.419 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 262.78
2025-10-26 08:30:28.419 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 264.68
2025-10-26 08:30:28.419 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -1.90
2025-10-26 08:30:28.419 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.25
2025-10-26 08:30:28.419 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-250.40
2025-10-26 08:30:28.419 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 1.90 shares at $131.68 (proceeds: $250.15)
2025-10-26 08:30:28.419 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.420 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $21,964.41
2025-10-26 08:30:28.420 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 223.95 shares worth $29,664.83
2025-10-26 08:30:28.420 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.420 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $132.46 → $132.53 (slippage: 0.050%)
2025-10-26 08:30:28.420 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.81
2025-10-26 08:30:28.420 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 389.62
2025-10-26 08:30:28.420 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 223.95
2025-10-26 08:30:28.420 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +165.67
2025-10-26 08:30:28.421 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $21.96
2025-10-26 08:30:28.421 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $21,978.37
2025-10-26 08:30:28.421 | WARNING  | src.backtesting.engine:_execute_signals:922 -      ⚠️  Cannot fully adjust SPY - insufficient cash
2025-10-26 08:30:28.421 | WARNING  | src.backtesting.engine:_execute_signals:923 -         Required: $21,978.37, Available: $21,964.41
2025-10-26 08:30:28.421 | INFO     | src.backtesting.engine:_execute_signals:931 -         Adjusted to partial increase: 389.51 shares
2025-10-26 08:30:28.421 | WARNING  | src.backtesting.engine:_adjust_position:1047 - Insufficient cash to adjust SPY position (need $21,964.41, have $21,964.41)
2025-10-26 08:30:28.421 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.421 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $21,964.41
2025-10-26 08:30:28.421 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$43,934.11, Cash end=$21,964.41
2025-10-26 08:30:28.422 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.422 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.422 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $103,875.34
2025-10-26 08:30:28.422 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $21,964.41
2025-10-26 08:30:28.422 | INFO     | src.backtesting.engine:run:316 -      Change: $-32.96
2025-10-26 08:30:28.422 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.424 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-10-01
2025-10-26 08:30:28.424 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $105,526.02
2025-10-26 08:30:28.424 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $21,964.41
2025-10-26 08:30:28.424 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.424 | INFO     | src.backtesting.engine:run:273 -      EFA: 133.53 shares @ $134.09 (Value: $17,905.52, P&L: $1,719.71)
2025-10-26 08:30:28.424 | INFO     | src.backtesting.engine:run:273 -      SPY: 223.95 shares @ $135.78 (Value: $30,407.49, P&L: $3,044.01)
2025-10-26 08:30:28.425 | INFO     | src.backtesting.engine:run:273 -      AGG: 262.78 shares @ $134.14 (Value: $35,248.61, P&L: $2,772.57)
2025-10-26 08:30:28.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09675418215912424
2025-10-26 08:30:28.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0711032800562954
2025-10-26 08:30:28.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08209555160058413
2025-10-26 08:30:28.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-26 08:30:28.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0968 (9.68%) - PASS
2025-10-26 08:30:28.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0711 (7.11%) - PASS
2025-10-26 08:30:28.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0821 (8.21%) - PASS
2025-10-26 08:30:28.428 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'AGG', 'EFA']
2025-10-26 08:30:28.428 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.428 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-10-26 08:30:28.428 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.85)
2025-10-26 08:30:28.428 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.73)
2025-10-26 08:30:28.428 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.429 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 133.53 shares @ $134.09 (Value: $17,905.52)
2025-10-26 08:30:28.429 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 223.95 shares @ $135.78 (Value: $30,407.49)
2025-10-26 08:30:28.429 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 262.78 shares @ $134.14 (Value: $35,248.61)
2025-10-26 08:30:28.429 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-10-01: PV=$105,526.02, Cash=$21,964.41, Comm=0.1000%, Slip=0.0500%, Scale=0.995680
2025-10-26 08:30:28.429 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=38.43%, EFA=28.24%, AGG=33.33%
2025-10-26 08:30:28.429 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.429 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['SPY', 'EFA']
2025-10-26 08:30:28.430 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 262.78 shares worth $35,248.61
2025-10-26 08:30:28.430 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.430 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $134.14 → $134.21 (slippage: 0.050%)
2025-10-26 08:30:28.430 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.85 confidence=0.75
2025-10-26 08:30:28.430 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 262.10
2025-10-26 08:30:28.430 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 262.78
2025-10-26 08:30:28.430 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.68
2025-10-26 08:30:28.430 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.09
2025-10-26 08:30:28.430 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-90.80
2025-10-26 08:30:28.431 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.68 shares at $134.07 (proceeds: $90.71)
2025-10-26 08:30:28.431 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.431 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $22,055.12
2025-10-26 08:30:28.431 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 223.95 shares worth $30,407.49
2025-10-26 08:30:28.431 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.431 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $135.78 → $135.85 (slippage: 0.050%)
2025-10-26 08:30:28.431 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.75
2025-10-26 08:30:28.431 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 298.50
2025-10-26 08:30:28.432 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 223.95
2025-10-26 08:30:28.432 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +74.55
2025-10-26 08:30:28.432 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $10.13
2025-10-26 08:30:28.432 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $10,138.05
2025-10-26 08:30:28.432 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 74.55 more shares at $135.85 (cost: $10,138.05)
2025-10-26 08:30:28.432 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.432 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $11,917.07
2025-10-26 08:30:28.432 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 133.53 shares worth $17,905.52
2025-10-26 08:30:28.432 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.433 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $134.09 → $134.16 (slippage: 0.050%)
2025-10-26 08:30:28.433 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.73 confidence=0.75
2025-10-26 08:30:28.433 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 222.12
2025-10-26 08:30:28.433 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 133.53
2025-10-26 08:30:28.433 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +88.59
2025-10-26 08:30:28.433 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $11.89
2025-10-26 08:30:28.433 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $11,897.49
2025-10-26 08:30:28.433 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 88.59 more shares at $134.16 (cost: $11,897.49)
2025-10-26 08:30:28.433 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.434 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $19.59
2025-10-26 08:30:28.434 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$22,126.34, Cash end=$19.59
2025-10-26 08:30:28.434 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.434 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.434 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $105,492.87
2025-10-26 08:30:28.434 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $19.59
2025-10-26 08:30:28.434 | INFO     | src.backtesting.engine:run:316 -      Change: $-33.15
2025-10-26 08:30:28.434 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.436 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-11-01
2025-10-26 08:30:28.436 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,438.01
2025-10-26 08:30:28.436 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $19.59
2025-10-26 08:30:28.437 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.437 | INFO     | src.backtesting.engine:run:273 -      EFA: 222.12 shares @ $136.32 (Value: $30,280.70, P&L: $3,356.21)
2025-10-26 08:30:28.437 | INFO     | src.backtesting.engine:run:273 -      SPY: 298.50 shares @ $138.59 (Value: $41,370.08, P&L: $4,897.11)
2025-10-26 08:30:28.437 | INFO     | src.backtesting.engine:run:273 -      AGG: 262.10 shares @ $132.65 (Value: $34,767.65, P&L: $2,375.31)
2025-10-26 08:30:28.438 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08245274168982375
2025-10-26 08:30:28.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07346223866474255
2025-10-26 08:30:28.440 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.043413197059924746
2025-10-26 08:30:28.440 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-26 08:30:28.440 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0825 (8.25%) - PASS
2025-10-26 08:30:28.440 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0735 (7.35%) - PASS
2025-10-26 08:30:28.440 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0434 (4.34%) - PASS
2025-10-26 08:30:28.440 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'EFA', 'AGG']
2025-10-26 08:30:28.440 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.440 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-10-26 08:30:28.441 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.89)
2025-10-26 08:30:28.441 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.53)
2025-10-26 08:30:28.441 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.441 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 222.12 shares @ $136.32 (Value: $30,280.70)
2025-10-26 08:30:28.441 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 298.50 shares @ $138.59 (Value: $41,370.08)
2025-10-26 08:30:28.441 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 262.10 shares @ $132.65 (Value: $34,767.65)
2025-10-26 08:30:28.441 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-11-01: PV=$106,438.01, Cash=$19.59, Comm=0.1000%, Slip=0.0500%, Scale=0.005063
2025-10-26 08:30:28.441 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=35.26%, EFA=31.41%, AGG=33.33%
2025-10-26 08:30:28.442 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.442 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA', 'AGG']
2025-10-26 08:30:28.442 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 298.50 shares worth $41,370.08
2025-10-26 08:30:28.442 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.442 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $138.59 → $138.66 (slippage: 0.050%)
2025-10-26 08:30:28.442 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-10-26 08:30:28.442 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 270.62
2025-10-26 08:30:28.442 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 298.50
2025-10-26 08:30:28.443 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -27.88
2025-10-26 08:30:28.443 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $3.87
2025-10-26 08:30:28.443 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-3,861.72
2025-10-26 08:30:28.443 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 27.88 shares at $138.52 (proceeds: $3,857.86)
2025-10-26 08:30:28.443 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.443 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $3,877.45
2025-10-26 08:30:28.443 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 222.12 shares worth $30,280.70
2025-10-26 08:30:28.443 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.444 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $136.32 → $136.39 (slippage: 0.050%)
2025-10-26 08:30:28.444 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.89 confidence=0.73
2025-10-26 08:30:28.444 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 245.13
2025-10-26 08:30:28.444 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 222.12
2025-10-26 08:30:28.444 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +23.00
2025-10-26 08:30:28.444 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $3.14
2025-10-26 08:30:28.444 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $3,140.79
2025-10-26 08:30:28.444 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 23.00 more shares at $136.39 (cost: $3,140.79)
2025-10-26 08:30:28.444 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.445 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $736.65
2025-10-26 08:30:28.445 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 262.10 shares worth $34,767.65
2025-10-26 08:30:28.445 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.445 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $132.65 → $132.72 (slippage: 0.050%)
2025-10-26 08:30:28.445 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.53 confidence=0.73
2025-10-26 08:30:28.445 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 267.33
2025-10-26 08:30:28.445 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 262.10
2025-10-26 08:30:28.445 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +5.23
2025-10-26 08:30:28.445 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.69
2025-10-26 08:30:28.446 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $695.00
2025-10-26 08:30:28.446 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 5.23 more shares at $132.72 (cost: $695.00)
2025-10-26 08:30:28.446 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.446 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $41.65
2025-10-26 08:30:28.446 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$7,697.51, Cash end=$41.65
2025-10-26 08:30:28.446 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.446 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.446 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,426.47
2025-10-26 08:30:28.447 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $41.65
2025-10-26 08:30:28.447 | INFO     | src.backtesting.engine:run:316 -      Change: $-11.54
2025-10-26 08:30:28.447 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.449 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2022-12-01
2025-10-26 08:30:28.449 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $106,136.48
2025-10-26 08:30:28.449 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $41.65
2025-10-26 08:30:28.449 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.449 | INFO     | src.backtesting.engine:run:273 -      EFA: 245.13 shares @ $137.94 (Value: $33,812.24, P&L: $4,099.25)
2025-10-26 08:30:28.449 | INFO     | src.backtesting.engine:run:273 -      SPY: 270.62 shares @ $134.23 (Value: $36,326.53, P&L: $3,259.86)
2025-10-26 08:30:28.449 | INFO     | src.backtesting.engine:run:273 -      AGG: 267.33 shares @ $134.50 (Value: $35,956.05, P&L: $2,917.17)
2025-10-26 08:30:28.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.046770856134837224
2025-10-26 08:30:28.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09687053348885044
2025-10-26 08:30:28.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04184317094333867
2025-10-26 08:30:28.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-26 08:30:28.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0468 (4.68%) - PASS
2025-10-26 08:30:28.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0969 (9.69%) - PASS
2025-10-26 08:30:28.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-26 08:30:28.453 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'SPY', 'AGG']
2025-10-26 08:30:28.453 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.453 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.453 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.48)
2025-10-26 08:30:28.453 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.43)
2025-10-26 08:30:28.453 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.453 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 245.13 shares @ $137.94 (Value: $33,812.24)
2025-10-26 08:30:28.453 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 270.62 shares @ $134.23 (Value: $36,326.53)
2025-10-26 08:30:28.454 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 267.33 shares @ $134.50 (Value: $35,956.05)
2025-10-26 08:30:28.454 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2022-12-01: PV=$106,136.48, Cash=$41.65, Comm=0.1000%, Slip=0.0500%, Scale=0.002992
2025-10-26 08:30:28.454 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=44.96%, SPY=21.71%, AGG=33.33%
2025-10-26 08:30:28.454 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.454 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY', 'AGG'], then buys: ['EFA']
2025-10-26 08:30:28.454 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 270.62 shares worth $36,326.53
2025-10-26 08:30:28.454 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.454 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $134.23 → $134.30 (slippage: 0.050%)
2025-10-26 08:30:28.455 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.48 confidence=0.86
2025-10-26 08:30:28.455 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 171.55
2025-10-26 08:30:28.455 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 270.62
2025-10-26 08:30:28.455 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -99.07
2025-10-26 08:30:28.455 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $13.31
2025-10-26 08:30:28.455 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-13,292.10
2025-10-26 08:30:28.455 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 99.07 shares at $134.17 (proceeds: $13,278.81)
2025-10-26 08:30:28.455 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.455 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $13,320.46
2025-10-26 08:30:28.456 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 267.33 shares worth $35,956.05
2025-10-26 08:30:28.456 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.456 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $134.50 → $134.57 (slippage: 0.050%)
2025-10-26 08:30:28.456 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.43 confidence=0.86
2025-10-26 08:30:28.456 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 262.91
2025-10-26 08:30:28.456 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 267.33
2025-10-26 08:30:28.456 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -4.42
2025-10-26 08:30:28.456 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.60
2025-10-26 08:30:28.457 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-594.61
2025-10-26 08:30:28.457 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 4.42 shares at $134.43 (proceeds: $594.02)
2025-10-26 08:30:28.457 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.457 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $13,914.48
2025-10-26 08:30:28.457 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 245.13 shares worth $33,812.24
2025-10-26 08:30:28.457 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.457 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $137.94 → $138.01 (slippage: 0.050%)
2025-10-26 08:30:28.457 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.86
2025-10-26 08:30:28.457 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 345.77
2025-10-26 08:30:28.458 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 245.13
2025-10-26 08:30:28.458 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +100.64
2025-10-26 08:30:28.458 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $13.89
2025-10-26 08:30:28.458 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $13,903.10
2025-10-26 08:30:28.458 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 100.64 more shares at $138.01 (cost: $13,903.10)
2025-10-26 08:30:28.458 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.458 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $11.38
2025-10-26 08:30:28.458 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$27,789.81, Cash end=$11.38
2025-10-26 08:30:28.458 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.459 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.459 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $106,094.81
2025-10-26 08:30:28.459 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $11.38
2025-10-26 08:30:28.459 | INFO     | src.backtesting.engine:run:316 -      Change: $-41.66
2025-10-26 08:30:28.459 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.461 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-01-01
2025-10-26 08:30:28.461 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $108,258.22
2025-10-26 08:30:28.461 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $11.38
2025-10-26 08:30:28.461 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.461 | INFO     | src.backtesting.engine:run:273 -      EFA: 345.77 shares @ $137.43 (Value: $47,520.11, P&L: $5,607.87)
2025-10-26 08:30:28.461 | INFO     | src.backtesting.engine:run:273 -      SPY: 171.55 shares @ $137.69 (Value: $23,621.04, P&L: $2,659.73)
2025-10-26 08:30:28.462 | INFO     | src.backtesting.engine:run:273 -      AGG: 262.91 shares @ $141.13 (Value: $37,105.69, P&L: $4,613.45)
2025-10-26 08:30:28.463 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.463 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06541858782151833
2025-10-26 08:30:28.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09774311842405137
2025-10-26 08:30:28.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08593314284028253
2025-10-26 08:30:28.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-26 08:30:28.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0654 (6.54%) - PASS
2025-10-26 08:30:28.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0977 (9.77%) - PASS
2025-10-26 08:30:28.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-26 08:30:28.465 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'AGG', 'SPY']
2025-10-26 08:30:28.465 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.465 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.465 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.88)
2025-10-26 08:30:28.465 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.67)
2025-10-26 08:30:28.465 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.466 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 345.77 shares @ $137.43 (Value: $47,520.11)
2025-10-26 08:30:28.466 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 171.55 shares @ $137.69 (Value: $23,621.04)
2025-10-26 08:30:28.466 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 262.91 shares @ $141.13 (Value: $37,105.69)
2025-10-26 08:30:28.466 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-01-01: PV=$108,258.22, Cash=$11.38, Comm=0.1000%, Slip=0.0500%, Scale=0.002138
2025-10-26 08:30:28.466 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=39.94%, SPY=26.73%, AGG=33.33%
2025-10-26 08:30:28.466 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.466 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA', 'AGG'], then buys: ['SPY']
2025-10-26 08:30:28.467 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 345.77 shares worth $47,520.11
2025-10-26 08:30:28.467 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.467 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $137.43 → $137.50 (slippage: 0.050%)
2025-10-26 08:30:28.467 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-10-26 08:30:28.467 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 314.44
2025-10-26 08:30:28.467 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 345.77
2025-10-26 08:30:28.467 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -31.34
2025-10-26 08:30:28.467 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $4.31
2025-10-26 08:30:28.467 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-4,304.35
2025-10-26 08:30:28.468 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 31.34 shares at $137.36 (proceeds: $4,300.05)
2025-10-26 08:30:28.468 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.468 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $4,311.43
2025-10-26 08:30:28.468 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 262.91 shares worth $37,105.69
2025-10-26 08:30:28.468 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.468 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $141.13 → $141.21 (slippage: 0.050%)
2025-10-26 08:30:28.468 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.88 confidence=0.74
2025-10-26 08:30:28.468 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 255.56
2025-10-26 08:30:28.469 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 262.91
2025-10-26 08:30:28.469 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -7.35
2025-10-26 08:30:28.469 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $1.04
2025-10-26 08:30:28.469 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1,037.13
2025-10-26 08:30:28.469 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 7.35 shares at $141.06 (proceeds: $1,036.09)
2025-10-26 08:30:28.469 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.469 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $5,347.52
2025-10-26 08:30:28.469 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 171.55 shares worth $23,621.04
2025-10-26 08:30:28.469 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.470 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $137.69 → $137.76 (slippage: 0.050%)
2025-10-26 08:30:28.470 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.67 confidence=0.74
2025-10-26 08:30:28.470 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 210.05
2025-10-26 08:30:28.470 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 171.55
2025-10-26 08:30:28.470 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +38.50
2025-10-26 08:30:28.470 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $5.30
2025-10-26 08:30:28.470 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $5,309.39
2025-10-26 08:30:28.470 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 38.50 more shares at $137.76 (cost: $5,309.39)
2025-10-26 08:30:28.470 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.471 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $38.13
2025-10-26 08:30:28.471 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$10,650.87, Cash end=$38.13
2025-10-26 08:30:28.471 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.471 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.471 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $108,242.25
2025-10-26 08:30:28.471 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $38.13
2025-10-26 08:30:28.471 | INFO     | src.backtesting.engine:run:316 -      Change: $-15.97
2025-10-26 08:30:28.471 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.473 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-02-01
2025-10-26 08:30:28.473 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $109,079.51
2025-10-26 08:30:28.473 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $38.13
2025-10-26 08:30:28.474 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.474 | INFO     | src.backtesting.engine:run:273 -      EFA: 314.44 shares @ $140.16 (Value: $44,072.06, P&L: $5,958.12)
2025-10-26 08:30:28.474 | INFO     | src.backtesting.engine:run:273 -      SPY: 210.05 shares @ $137.09 (Value: $28,795.57, P&L: $3,129.76)
2025-10-26 08:30:28.474 | INFO     | src.backtesting.engine:run:273 -      AGG: 255.56 shares @ $141.55 (Value: $36,173.75, P&L: $4,590.15)
2025-10-26 08:30:28.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026449575231996203
2025-10-26 08:30:28.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06097758703104095
2025-10-26 08:30:28.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0810725080136625
2025-10-26 08:30:28.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-26 08:30:28.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0264 (2.64%) - PASS
2025-10-26 08:30:28.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0610 (6.10%) - PASS
2025-10-26 08:30:28.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0811 (8.11%) - PASS
2025-10-26 08:30:28.477 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['AGG', 'EFA', 'SPY']
2025-10-26 08:30:28.477 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.477 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-10-26 08:30:28.478 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.75)
2025-10-26 08:30:28.478 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.33)
2025-10-26 08:30:28.478 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.478 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 314.44 shares @ $140.16 (Value: $44,072.06)
2025-10-26 08:30:28.478 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 210.05 shares @ $137.09 (Value: $28,795.57)
2025-10-26 08:30:28.478 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 255.56 shares @ $141.55 (Value: $36,173.75)
2025-10-26 08:30:28.478 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-02-01: PV=$109,079.51, Cash=$38.13, Comm=0.1000%, Slip=0.0500%, Scale=0.005575
2025-10-26 08:30:28.478 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=46.50%, SPY=20.17%, AGG=33.33%
2025-10-26 08:30:28.479 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.479 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA', 'AGG']
2025-10-26 08:30:28.479 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 210.05 shares worth $28,795.57
2025-10-26 08:30:28.479 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.479 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $137.09 → $137.16 (slippage: 0.050%)
2025-10-26 08:30:28.479 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.33 confidence=0.77
2025-10-26 08:30:28.479 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 160.40
2025-10-26 08:30:28.480 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 210.05
2025-10-26 08:30:28.480 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -49.65
2025-10-26 08:30:28.480 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $6.81
2025-10-26 08:30:28.480 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-6,803.07
2025-10-26 08:30:28.480 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 49.65 shares at $137.02 (proceeds: $6,796.28)
2025-10-26 08:30:28.480 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.480 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $6,834.41
2025-10-26 08:30:28.480 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 314.44 shares worth $44,072.06
2025-10-26 08:30:28.480 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.481 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $140.16 → $140.23 (slippage: 0.050%)
2025-10-26 08:30:28.481 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.75 confidence=0.77
2025-10-26 08:30:28.481 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 361.68
2025-10-26 08:30:28.481 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 314.44
2025-10-26 08:30:28.481 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +47.25
2025-10-26 08:30:28.481 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $6.63
2025-10-26 08:30:28.481 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $6,632.12
2025-10-26 08:30:28.481 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 47.25 more shares at $140.23 (cost: $6,632.12)
2025-10-26 08:30:28.481 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.482 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $202.28
2025-10-26 08:30:28.482 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 255.56 shares worth $36,173.75
2025-10-26 08:30:28.482 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.482 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $141.55 → $141.62 (slippage: 0.050%)
2025-10-26 08:30:28.482 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.77
2025-10-26 08:30:28.482 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 256.74
2025-10-26 08:30:28.482 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 255.56
2025-10-26 08:30:28.482 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +1.19
2025-10-26 08:30:28.482 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.17
2025-10-26 08:30:28.483 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $168.17
2025-10-26 08:30:28.483 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 1.19 more shares at $141.62 (cost: $168.17)
2025-10-26 08:30:28.483 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.483 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $34.12
2025-10-26 08:30:28.483 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$13,603.37, Cash end=$34.12
2025-10-26 08:30:28.483 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.483 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.483 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $109,059.11
2025-10-26 08:30:28.484 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $34.12
2025-10-26 08:30:28.484 | INFO     | src.backtesting.engine:run:316 -      Change: $-20.39
2025-10-26 08:30:28.484 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.485 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-03-01
2025-10-26 08:30:28.486 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $109,192.44
2025-10-26 08:30:28.486 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $34.12
2025-10-26 08:30:28.486 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.486 | INFO     | src.backtesting.engine:run:273 -      EFA: 361.68 shares @ $138.86 (Value: $50,224.55, P&L: $6,383.68)
2025-10-26 08:30:28.486 | INFO     | src.backtesting.engine:run:273 -      SPY: 160.40 shares @ $141.57 (Value: $22,708.82, P&L: $3,109.71)
2025-10-26 08:30:28.486 | INFO     | src.backtesting.engine:run:273 -      AGG: 256.74 shares @ $141.09 (Value: $36,224.94, P&L: $4,494.73)
2025-10-26 08:30:28.488 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.488 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.488 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.488 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.060629103850839305
2025-10-26 08:30:28.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04278850978852278
2025-10-26 08:30:28.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06600451891900727
2025-10-26 08:30:28.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-26 08:30:28.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0606 (6.06%) - PASS
2025-10-26 08:30:28.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0428 (4.28%) - PASS
2025-10-26 08:30:28.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0660 (6.60%) - PASS
2025-10-26 08:30:28.489 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['AGG', 'SPY', 'EFA']
2025-10-26 08:30:28.490 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.490 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-10-26 08:30:28.490 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.92)
2025-10-26 08:30:28.490 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.65)
2025-10-26 08:30:28.490 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.490 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 361.68 shares @ $138.86 (Value: $50,224.55)
2025-10-26 08:30:28.490 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 160.40 shares @ $141.57 (Value: $22,708.82)
2025-10-26 08:30:28.490 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 256.74 shares @ $141.09 (Value: $36,224.94)
2025-10-26 08:30:28.490 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-03-01: PV=$109,192.44, Cash=$34.12, Comm=0.1000%, Slip=0.0500%, Scale=0.001692
2025-10-26 08:30:28.491 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=39.08%, EFA=27.58%, AGG=33.33%
2025-10-26 08:30:28.491 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.491 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['SPY', 'AGG']
2025-10-26 08:30:28.491 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 361.68 shares worth $50,224.55
2025-10-26 08:30:28.491 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.491 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $138.86 → $138.93 (slippage: 0.050%)
2025-10-26 08:30:28.491 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.65 confidence=0.72
2025-10-26 08:30:28.492 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 216.78
2025-10-26 08:30:28.492 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 361.68
2025-10-26 08:30:28.492 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -144.90
2025-10-26 08:30:28.492 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $20.13
2025-10-26 08:30:28.492 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-20,110.99
2025-10-26 08:30:28.492 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 144.90 shares at $138.79 (proceeds: $20,090.89)
2025-10-26 08:30:28.492 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.492 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $20,125.01
2025-10-26 08:30:28.492 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 160.40 shares worth $22,708.82
2025-10-26 08:30:28.493 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.493 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $141.57 → $141.65 (slippage: 0.050%)
2025-10-26 08:30:28.493 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.92 confidence=0.72
2025-10-26 08:30:28.493 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 301.29
2025-10-26 08:30:28.493 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 160.40
2025-10-26 08:30:28.493 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +140.89
2025-10-26 08:30:28.493 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $19.96
2025-10-26 08:30:28.493 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $19,976.19
2025-10-26 08:30:28.494 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 140.89 more shares at $141.65 (cost: $19,976.19)
2025-10-26 08:30:28.494 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.494 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $148.82
2025-10-26 08:30:28.494 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 256.74 shares worth $36,224.94
2025-10-26 08:30:28.494 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.494 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $141.09 → $141.16 (slippage: 0.050%)
2025-10-26 08:30:28.494 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.72
2025-10-26 08:30:28.494 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 257.84
2025-10-26 08:30:28.494 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 256.74
2025-10-26 08:30:28.495 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +1.09
2025-10-26 08:30:28.495 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.15
2025-10-26 08:30:28.495 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $154.58
2025-10-26 08:30:28.495 | WARNING  | src.backtesting.engine:_execute_signals:922 -      ⚠️  Cannot fully adjust AGG - insufficient cash
2025-10-26 08:30:28.495 | WARNING  | src.backtesting.engine:_execute_signals:923 -         Required: $154.58, Available: $148.82
2025-10-26 08:30:28.495 | INFO     | src.backtesting.engine:_execute_signals:931 -         Adjusted to partial increase: 257.80 shares
2025-10-26 08:30:28.495 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 1.05 more shares at $141.16 (cost: $148.82)
2025-10-26 08:30:28.495 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.495 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $0.00
2025-10-26 08:30:28.496 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$40,236.00, Cash end=$0.00
2025-10-26 08:30:28.496 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.496 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.496 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $109,132.11
2025-10-26 08:30:28.496 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-10-26 08:30:28.496 | INFO     | src.backtesting.engine:run:316 -      Change: $-60.32
2025-10-26 08:30:28.496 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.498 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-04-01
2025-10-26 08:30:28.498 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $107,298.17
2025-10-26 08:30:28.498 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $0.00
2025-10-26 08:30:28.498 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.499 | INFO     | src.backtesting.engine:run:273 -      EFA: 216.78 shares @ $137.99 (Value: $29,913.98, P&L: $3,636.73)
2025-10-26 08:30:28.499 | INFO     | src.backtesting.engine:run:273 -      SPY: 301.29 shares @ $138.65 (Value: $41,774.42, P&L: $4,960.45)
2025-10-26 08:30:28.499 | INFO     | src.backtesting.engine:run:273 -      AGG: 257.80 shares @ $138.13 (Value: $35,609.77, P&L: $3,749.40)
2025-10-26 08:30:28.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.04354100310713305
2025-10-26 08:30:28.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05817277610654825
2025-10-26 08:30:28.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.050749269499728245
2025-10-26 08:30:28.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-26 08:30:28.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0435 (4.35%) - PASS
2025-10-26 08:30:28.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0582 (5.82%) - PASS
2025-10-26 08:30:28.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0507 (5.07%) - PASS
2025-10-26 08:30:28.502 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'AGG', 'SPY']
2025-10-26 08:30:28.502 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.502 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.502 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.87)
2025-10-26 08:30:28.503 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.75)
2025-10-26 08:30:28.503 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.503 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 216.78 shares @ $137.99 (Value: $29,913.98)
2025-10-26 08:30:28.503 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 301.29 shares @ $138.65 (Value: $41,774.42)
2025-10-26 08:30:28.503 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 257.80 shares @ $138.13 (Value: $35,609.77)
2025-10-26 08:30:28.503 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-04-01: PV=$107,298.17, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=0.000000
2025-10-26 08:30:28.503 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=38.13%, SPY=28.54%, AGG=33.33%
2025-10-26 08:30:28.503 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.504 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA', 'AGG']
2025-10-26 08:30:28.504 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 301.29 shares worth $41,774.42
2025-10-26 08:30:28.504 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.504 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $138.65 → $138.72 (slippage: 0.050%)
2025-10-26 08:30:28.504 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.75 confidence=0.74
2025-10-26 08:30:28.504 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 220.74
2025-10-26 08:30:28.504 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 301.29
2025-10-26 08:30:28.504 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -80.55
2025-10-26 08:30:28.505 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $11.17
2025-10-26 08:30:28.505 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-11,163.11
2025-10-26 08:30:28.505 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 80.55 shares at $138.58 (proceeds: $11,151.96)
2025-10-26 08:30:28.505 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.505 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $11,151.96
2025-10-26 08:30:28.505 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 216.78 shares worth $29,913.98
2025-10-26 08:30:28.505 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.505 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $137.99 → $138.06 (slippage: 0.050%)
2025-10-26 08:30:28.506 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-10-26 08:30:28.506 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 296.33
2025-10-26 08:30:28.506 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 216.78
2025-10-26 08:30:28.506 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +79.55
2025-10-26 08:30:28.506 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $10.98
2025-10-26 08:30:28.506 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $10,993.14
2025-10-26 08:30:28.506 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 79.55 more shares at $138.06 (cost: $10,993.14)
2025-10-26 08:30:28.506 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.506 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $158.82
2025-10-26 08:30:28.507 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 257.80 shares worth $35,609.77
2025-10-26 08:30:28.507 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.507 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $138.13 → $138.20 (slippage: 0.050%)
2025-10-26 08:30:28.507 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.87 confidence=0.74
2025-10-26 08:30:28.507 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 258.80
2025-10-26 08:30:28.507 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 257.80
2025-10-26 08:30:28.507 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +1.00
2025-10-26 08:30:28.507 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.14
2025-10-26 08:30:28.507 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $138.62
2025-10-26 08:30:28.508 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 1.00 more shares at $138.20 (cost: $138.62)
2025-10-26 08:30:28.508 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.508 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $20.20
2025-10-26 08:30:28.508 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$22,294.87, Cash end=$20.20
2025-10-26 08:30:28.508 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.508 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.508 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $107,264.75
2025-10-26 08:30:28.508 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $20.20
2025-10-26 08:30:28.509 | INFO     | src.backtesting.engine:run:316 -      Change: $-33.43
2025-10-26 08:30:28.509 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.510 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-05-01
2025-10-26 08:30:28.511 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $109,864.74
2025-10-26 08:30:28.511 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $20.20
2025-10-26 08:30:28.511 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.511 | INFO     | src.backtesting.engine:run:273 -      EFA: 296.33 shares @ $144.13 (Value: $42,709.90, P&L: $6,790.45)
2025-10-26 08:30:28.511 | INFO     | src.backtesting.engine:run:273 -      SPY: 220.74 shares @ $140.30 (Value: $30,968.92, P&L: $3,997.44)
2025-10-26 08:30:28.511 | INFO     | src.backtesting.engine:run:273 -      AGG: 258.80 shares @ $139.74 (Value: $36,165.71, P&L: $4,181.50)
2025-10-26 08:30:28.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05618000180644045
2025-10-26 08:30:28.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06382148319011183
2025-10-26 08:30:28.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.021775481826179943
2025-10-26 08:30:28.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-26 08:30:28.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0562 (5.62%) - PASS
2025-10-26 08:30:28.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-26 08:30:28.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0218 (2.18%) - PASS
2025-10-26 08:30:28.514 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'SPY', 'AGG']
2025-10-26 08:30:28.514 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.515 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.515 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.88)
2025-10-26 08:30:28.515 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.34)
2025-10-26 08:30:28.515 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.515 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 296.33 shares @ $144.13 (Value: $42,709.90)
2025-10-26 08:30:28.515 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 220.74 shares @ $140.30 (Value: $30,968.92)
2025-10-26 08:30:28.515 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 258.80 shares @ $139.74 (Value: $36,165.71)
2025-10-26 08:30:28.515 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-05-01: PV=$109,864.74, Cash=$20.20, Comm=0.1000%, Slip=0.0500%, Scale=0.005343
2025-10-26 08:30:28.516 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=35.46%, SPY=31.21%, AGG=33.33%
2025-10-26 08:30:28.516 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.516 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['SPY', 'AGG']
2025-10-26 08:30:28.516 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 296.33 shares worth $42,709.90
2025-10-26 08:30:28.516 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.516 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $144.13 → $144.20 (slippage: 0.050%)
2025-10-26 08:30:28.516 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-10-26 08:30:28.517 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 270.13
2025-10-26 08:30:28.517 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 296.33
2025-10-26 08:30:28.517 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -26.20
2025-10-26 08:30:28.517 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $3.78
2025-10-26 08:30:28.517 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-3,773.91
2025-10-26 08:30:28.517 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 26.20 shares at $144.06 (proceeds: $3,770.13)
2025-10-26 08:30:28.517 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.517 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $3,790.33
2025-10-26 08:30:28.517 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 220.74 shares worth $30,968.92
2025-10-26 08:30:28.518 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.518 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $140.30 → $140.37 (slippage: 0.050%)
2025-10-26 08:30:28.518 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.88 confidence=0.74
2025-10-26 08:30:28.518 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 244.29
2025-10-26 08:30:28.518 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 220.74
2025-10-26 08:30:28.518 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +23.55
2025-10-26 08:30:28.518 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $3.31
2025-10-26 08:30:28.518 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $3,308.48
2025-10-26 08:30:28.518 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 23.55 more shares at $140.37 (cost: $3,308.48)
2025-10-26 08:30:28.519 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.519 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $481.85
2025-10-26 08:30:28.519 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 258.80 shares worth $36,165.71
2025-10-26 08:30:28.519 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.519 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $139.74 → $139.81 (slippage: 0.050%)
2025-10-26 08:30:28.519 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.34 confidence=0.74
2025-10-26 08:30:28.519 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 261.93
2025-10-26 08:30:28.519 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 258.80
2025-10-26 08:30:28.520 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +3.13
2025-10-26 08:30:28.520 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.44
2025-10-26 08:30:28.520 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $438.22
2025-10-26 08:30:28.520 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 3.13 more shares at $139.81 (cost: $438.22)
2025-10-26 08:30:28.520 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.520 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $43.63
2025-10-26 08:30:28.520 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$7,520.61, Cash end=$43.63
2025-10-26 08:30:28.520 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.520 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.521 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $109,853.46
2025-10-26 08:30:28.521 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $43.63
2025-10-26 08:30:28.521 | INFO     | src.backtesting.engine:run:316 -      Change: $-11.28
2025-10-26 08:30:28.521 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.523 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-06-01
2025-10-26 08:30:28.523 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $111,074.97
2025-10-26 08:30:28.523 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $43.63
2025-10-26 08:30:28.523 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.523 | INFO     | src.backtesting.engine:run:273 -      EFA: 270.13 shares @ $145.85 (Value: $39,400.12, P&L: $6,656.14)
2025-10-26 08:30:28.523 | INFO     | src.backtesting.engine:run:273 -      SPY: 244.29 shares @ $141.17 (Value: $34,484.65, P&L: $4,636.06)
2025-10-26 08:30:28.523 | INFO     | src.backtesting.engine:run:273 -      AGG: 261.93 shares @ $141.82 (Value: $37,146.58, P&L: $4,775.40)
2025-10-26 08:30:28.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05731563951086516
2025-10-26 08:30:28.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08652535999780908
2025-10-26 08:30:28.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028712997605179646
2025-10-26 08:30:28.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-26 08:30:28.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0573 (5.73%) - PASS
2025-10-26 08:30:28.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0865 (8.65%) - PASS
2025-10-26 08:30:28.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0287 (2.87%) - PASS
2025-10-26 08:30:28.527 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'SPY', 'AGG']
2025-10-26 08:30:28.527 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.527 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.527 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.66)
2025-10-26 08:30:28.527 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.33)
2025-10-26 08:30:28.527 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.527 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 270.13 shares @ $145.85 (Value: $39,400.12)
2025-10-26 08:30:28.527 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 244.29 shares @ $141.17 (Value: $34,484.65)
2025-10-26 08:30:28.528 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 261.93 shares @ $141.82 (Value: $37,146.58)
2025-10-26 08:30:28.528 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-06-01: PV=$111,074.97, Cash=$43.63, Comm=0.1000%, Slip=0.0500%, Scale=0.008474
2025-10-26 08:30:28.528 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=40.10%, SPY=26.56%, AGG=33.33%
2025-10-26 08:30:28.528 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.528 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY', 'AGG'], then buys: ['EFA']
2025-10-26 08:30:28.528 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 244.29 shares worth $34,484.65
2025-10-26 08:30:28.529 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.529 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $141.17 → $141.24 (slippage: 0.050%)
2025-10-26 08:30:28.529 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.66 confidence=0.80
2025-10-26 08:30:28.529 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 208.92
2025-10-26 08:30:28.529 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 244.29
2025-10-26 08:30:28.529 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -35.37
2025-10-26 08:30:28.529 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $5.00
2025-10-26 08:30:28.529 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-4,990.55
2025-10-26 08:30:28.529 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 35.37 shares at $141.09 (proceeds: $4,985.56)
2025-10-26 08:30:28.530 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.530 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $5,029.19
2025-10-26 08:30:28.530 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 261.93 shares worth $37,146.58
2025-10-26 08:30:28.530 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.530 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $141.82 → $141.89 (slippage: 0.050%)
2025-10-26 08:30:28.530 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.33 confidence=0.80
2025-10-26 08:30:28.530 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 260.94
2025-10-26 08:30:28.530 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 261.93
2025-10-26 08:30:28.530 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -0.99
2025-10-26 08:30:28.531 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.14
2025-10-26 08:30:28.531 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-140.02
2025-10-26 08:30:28.531 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 0.99 shares at $141.75 (proceeds: $139.88)
2025-10-26 08:30:28.531 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.531 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $5,169.07
2025-10-26 08:30:28.531 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 270.13 shares worth $39,400.12
2025-10-26 08:30:28.531 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.531 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $145.85 → $145.93 (slippage: 0.050%)
2025-10-26 08:30:28.531 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.80
2025-10-26 08:30:28.532 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 305.25
2025-10-26 08:30:28.532 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 270.13
2025-10-26 08:30:28.532 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +35.11
2025-10-26 08:30:28.532 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $5.12
2025-10-26 08:30:28.532 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $5,128.95
2025-10-26 08:30:28.532 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 35.11 more shares at $145.93 (cost: $5,128.95)
2025-10-26 08:30:28.532 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.532 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $40.13
2025-10-26 08:30:28.532 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$10,259.52, Cash end=$40.13
2025-10-26 08:30:28.533 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.533 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.533 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $111,059.59
2025-10-26 08:30:28.533 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $40.13
2025-10-26 08:30:28.533 | INFO     | src.backtesting.engine:run:316 -      Change: $-15.38
2025-10-26 08:30:28.533 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.535 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-07-01
2025-10-26 08:30:28.535 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $112,672.47
2025-10-26 08:30:28.535 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $40.13
2025-10-26 08:30:28.535 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.535 | INFO     | src.backtesting.engine:run:273 -      EFA: 305.25 shares @ $145.86 (Value: $44,522.05, P&L: $7,521.98)
2025-10-26 08:30:28.536 | INFO     | src.backtesting.engine:run:273 -      SPY: 208.92 shares @ $144.52 (Value: $30,192.30, P&L: $4,665.50)
2025-10-26 08:30:28.536 | INFO     | src.backtesting.engine:run:273 -      AGG: 260.94 shares @ $145.31 (Value: $37,918.00, P&L: $5,668.90)
2025-10-26 08:30:28.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06283582279220967
2025-10-26 08:30:28.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0840282160513397
2025-10-26 08:30:28.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0781538240647981
2025-10-26 08:30:28.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-26 08:30:28.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0628 (6.28%) - PASS
2025-10-26 08:30:28.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0840 (8.40%) - PASS
2025-10-26 08:30:28.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0782 (7.82%) - PASS
2025-10-26 08:30:28.539 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'AGG', 'SPY']
2025-10-26 08:30:28.539 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.539 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.539 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.93)
2025-10-26 08:30:28.539 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.75)
2025-10-26 08:30:28.540 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.540 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 305.25 shares @ $145.86 (Value: $44,522.05)
2025-10-26 08:30:28.540 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 208.92 shares @ $144.52 (Value: $30,192.30)
2025-10-26 08:30:28.540 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 260.94 shares @ $145.31 (Value: $37,918.00)
2025-10-26 08:30:28.540 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-07-01: PV=$112,672.47, Cash=$40.13, Comm=0.1000%, Slip=0.0500%, Scale=0.020604
2025-10-26 08:30:28.540 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=38.14%, SPY=28.52%, AGG=33.33%
2025-10-26 08:30:28.540 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.541 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA', 'AGG'], then buys: ['SPY']
2025-10-26 08:30:28.541 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 305.25 shares worth $44,522.05
2025-10-26 08:30:28.541 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.541 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $145.86 → $145.93 (slippage: 0.050%)
2025-10-26 08:30:28.541 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.72
2025-10-26 08:30:28.541 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 294.51
2025-10-26 08:30:28.541 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 305.25
2025-10-26 08:30:28.541 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -10.74
2025-10-26 08:30:28.542 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $1.57
2025-10-26 08:30:28.542 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-1,565.73
2025-10-26 08:30:28.542 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 10.74 shares at $145.78 (proceeds: $1,564.16)
2025-10-26 08:30:28.542 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.542 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $1,604.29
2025-10-26 08:30:28.542 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 260.94 shares worth $37,918.00
2025-10-26 08:30:28.542 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.542 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $145.31 → $145.38 (slippage: 0.050%)
2025-10-26 08:30:28.542 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.93 confidence=0.72
2025-10-26 08:30:28.543 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 258.33
2025-10-26 08:30:28.543 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 260.94
2025-10-26 08:30:28.543 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -2.61
2025-10-26 08:30:28.543 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.38
2025-10-26 08:30:28.543 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-379.09
2025-10-26 08:30:28.543 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 2.61 shares at $145.24 (proceeds: $378.71)
2025-10-26 08:30:28.543 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.543 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $1,983.00
2025-10-26 08:30:28.543 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 208.92 shares worth $30,192.30
2025-10-26 08:30:28.544 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.544 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $144.52 → $144.59 (slippage: 0.050%)
2025-10-26 08:30:28.544 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.75 confidence=0.72
2025-10-26 08:30:28.544 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 222.27
2025-10-26 08:30:28.544 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 208.92
2025-10-26 08:30:28.544 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +13.35
2025-10-26 08:30:28.544 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $1.93
2025-10-26 08:30:28.544 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1,932.50
2025-10-26 08:30:28.544 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 13.35 more shares at $144.59 (cost: $1,932.50)
2025-10-26 08:30:28.545 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.545 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $50.49
2025-10-26 08:30:28.545 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$3,877.32, Cash end=$50.49
2025-10-26 08:30:28.545 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.545 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.545 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $112,666.65
2025-10-26 08:30:28.545 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $50.49
2025-10-26 08:30:28.545 | INFO     | src.backtesting.engine:run:316 -      Change: $-5.81
2025-10-26 08:30:28.546 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.547 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-08-01
2025-10-26 08:30:28.547 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $112,464.13
2025-10-26 08:30:28.548 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $50.49
2025-10-26 08:30:28.548 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.548 | INFO     | src.backtesting.engine:run:273 -      EFA: 294.51 shares @ $142.99 (Value: $42,111.09, P&L: $6,412.88)
2025-10-26 08:30:28.548 | INFO     | src.backtesting.engine:run:273 -      SPY: 222.27 shares @ $146.97 (Value: $32,665.75, P&L: $5,507.52)
2025-10-26 08:30:28.548 | INFO     | src.backtesting.engine:run:273 -      AGG: 258.33 shares @ $145.69 (Value: $37,636.79, P&L: $5,710.27)
2025-10-26 08:30:28.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0797353250554409
2025-10-26 08:30:28.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0663792780678536
2025-10-26 08:30:28.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06865645520660602
2025-10-26 08:30:28.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-26 08:30:28.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0797 (7.97%) - PASS
2025-10-26 08:30:28.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0664 (6.64%) - PASS
2025-10-26 08:30:28.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0687 (6.87%) - PASS
2025-10-26 08:30:28.551 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'AGG', 'EFA']
2025-10-26 08:30:28.551 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.552 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 1.00)
2025-10-26 08:30:28.552 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.86)
2025-10-26 08:30:28.552 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.83)
2025-10-26 08:30:28.552 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.552 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 294.51 shares @ $142.99 (Value: $42,111.09)
2025-10-26 08:30:28.552 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 222.27 shares @ $146.97 (Value: $32,665.75)
2025-10-26 08:30:28.552 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 258.33 shares @ $145.69 (Value: $37,636.79)
2025-10-26 08:30:28.552 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-08-01: PV=$112,464.13, Cash=$50.49, Comm=0.1000%, Slip=0.0500%, Scale=0.006115
2025-10-26 08:30:28.553 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=36.38%, EFA=30.29%, AGG=33.33%
2025-10-26 08:30:28.553 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.553 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA', 'AGG'], then buys: ['SPY']
2025-10-26 08:30:28.553 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 294.51 shares worth $42,111.09
2025-10-26 08:30:28.553 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.553 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $142.99 → $143.06 (slippage: 0.050%)
2025-10-26 08:30:28.553 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.83 confidence=0.74
2025-10-26 08:30:28.553 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 238.09
2025-10-26 08:30:28.554 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 294.51
2025-10-26 08:30:28.554 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -56.42
2025-10-26 08:30:28.554 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $8.07
2025-10-26 08:30:28.554 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-8,062.74
2025-10-26 08:30:28.554 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 56.42 shares at $142.92 (proceeds: $8,054.68)
2025-10-26 08:30:28.554 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.554 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $8,105.18
2025-10-26 08:30:28.554 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 258.33 shares worth $37,636.79
2025-10-26 08:30:28.555 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.555 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $145.69 → $145.76 (slippage: 0.050%)
2025-10-26 08:30:28.555 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.86 confidence=0.74
2025-10-26 08:30:28.555 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 257.18
2025-10-26 08:30:28.555 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 258.33
2025-10-26 08:30:28.555 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -1.15
2025-10-26 08:30:28.555 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.17
2025-10-26 08:30:28.555 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-167.40
2025-10-26 08:30:28.555 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 1.15 shares at $145.62 (proceeds: $167.23)
2025-10-26 08:30:28.556 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.556 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $8,272.41
2025-10-26 08:30:28.556 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 222.27 shares worth $32,665.75
2025-10-26 08:30:28.556 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.556 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $146.97 → $147.04 (slippage: 0.050%)
2025-10-26 08:30:28.556 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.74
2025-10-26 08:30:28.556 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 278.26
2025-10-26 08:30:28.556 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 222.27
2025-10-26 08:30:28.556 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +55.99
2025-10-26 08:30:28.557 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $8.23
2025-10-26 08:30:28.557 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $8,240.90
2025-10-26 08:30:28.557 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 55.99 more shares at $147.04 (cost: $8,240.90)
2025-10-26 08:30:28.557 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.557 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $31.51
2025-10-26 08:30:28.557 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$16,471.05, Cash end=$31.51
2025-10-26 08:30:28.557 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.557 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.557 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $112,439.44
2025-10-26 08:30:28.558 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $31.51
2025-10-26 08:30:28.558 | INFO     | src.backtesting.engine:run:316 -      Change: $-24.69
2025-10-26 08:30:28.558 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.560 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-09-01
2025-10-26 08:30:28.560 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $114,240.25
2025-10-26 08:30:28.560 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $31.51
2025-10-26 08:30:28.560 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.560 | INFO     | src.backtesting.engine:run:273 -      EFA: 238.09 shares @ $149.88 (Value: $35,684.26, P&L: $6,824.37)
2025-10-26 08:30:28.560 | INFO     | src.backtesting.engine:run:273 -      SPY: 278.26 shares @ $146.20 (Value: $40,680.24, P&L: $6,680.80)
2025-10-26 08:30:28.560 | INFO     | src.backtesting.engine:run:273 -      AGG: 257.18 shares @ $147.15 (Value: $37,844.25, P&L: $6,059.80)
2025-10-26 08:30:28.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.061678785162375904
2025-10-26 08:30:28.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0630140413189888
2025-10-26 08:30:28.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06351458377721841
2025-10-26 08:30:28.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-26 08:30:28.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0617 (6.17%) - PASS
2025-10-26 08:30:28.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0630 (6.30%) - PASS
2025-10-26 08:30:28.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0635 (6.35%) - PASS
2025-10-26 08:30:28.564 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['AGG', 'EFA', 'SPY']
2025-10-26 08:30:28.564 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.564 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-10-26 08:30:28.564 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.99)
2025-10-26 08:30:28.564 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.97)
2025-10-26 08:30:28.564 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.564 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 238.09 shares @ $149.88 (Value: $35,684.26)
2025-10-26 08:30:28.564 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 278.26 shares @ $146.20 (Value: $40,680.24)
2025-10-26 08:30:28.565 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 257.18 shares @ $147.15 (Value: $37,844.25)
2025-10-26 08:30:28.565 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-09-01: PV=$114,240.25, Cash=$31.51, Comm=0.1000%, Slip=0.0500%, Scale=0.010357
2025-10-26 08:30:28.565 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=33.69%, SPY=32.98%, AGG=33.33%
2025-10-26 08:30:28.565 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.565 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA', 'AGG']
2025-10-26 08:30:28.565 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 278.26 shares worth $40,680.24
2025-10-26 08:30:28.565 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.566 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $146.20 → $146.27 (slippage: 0.050%)
2025-10-26 08:30:28.566 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.97 confidence=0.70
2025-10-26 08:30:28.566 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 257.55
2025-10-26 08:30:28.566 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 278.26
2025-10-26 08:30:28.566 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -20.70
2025-10-26 08:30:28.566 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $3.03
2025-10-26 08:30:28.566 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-3,025.24
2025-10-26 08:30:28.566 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 20.70 shares at $146.12 (proceeds: $3,022.22)
2025-10-26 08:30:28.566 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.567 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $3,053.73
2025-10-26 08:30:28.567 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 238.09 shares worth $35,684.26
2025-10-26 08:30:28.567 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.567 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $149.88 → $149.95 (slippage: 0.050%)
2025-10-26 08:30:28.567 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.99 confidence=0.70
2025-10-26 08:30:28.567 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 256.67
2025-10-26 08:30:28.567 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 238.09
2025-10-26 08:30:28.567 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +18.58
2025-10-26 08:30:28.568 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $2.79
2025-10-26 08:30:28.568 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $2,788.55
2025-10-26 08:30:28.568 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 18.58 more shares at $149.95 (cost: $2,788.55)
2025-10-26 08:30:28.568 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.568 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $265.18
2025-10-26 08:30:28.568 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 257.18 shares worth $37,844.25
2025-10-26 08:30:28.568 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.568 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $147.15 → $147.22 (slippage: 0.050%)
2025-10-26 08:30:28.569 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.70
2025-10-26 08:30:28.569 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 258.66
2025-10-26 08:30:28.569 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 257.18
2025-10-26 08:30:28.569 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +1.47
2025-10-26 08:30:28.569 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.22
2025-10-26 08:30:28.569 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $217.13
2025-10-26 08:30:28.569 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting AGG: buying 1.47 more shares at $147.22 (cost: $217.13)
2025-10-26 08:30:28.569 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.569 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $48.05
2025-10-26 08:30:28.570 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$6,030.92, Cash end=$48.05
2025-10-26 08:30:28.570 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.570 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.570 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $114,231.21
2025-10-26 08:30:28.570 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $48.05
2025-10-26 08:30:28.570 | INFO     | src.backtesting.engine:run:316 -      Change: $-9.04
2025-10-26 08:30:28.570 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.572 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-10-01
2025-10-26 08:30:28.572 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $113,815.78
2025-10-26 08:30:28.572 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $48.05
2025-10-26 08:30:28.572 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.572 | INFO     | src.backtesting.engine:run:273 -      EFA: 256.67 shares @ $146.74 (Value: $37,664.69, P&L: $6,552.93)
2025-10-26 08:30:28.573 | INFO     | src.backtesting.engine:run:273 -      SPY: 257.55 shares @ $145.11 (Value: $37,374.54, P&L: $5,904.79)
2025-10-26 08:30:28.573 | INFO     | src.backtesting.engine:run:273 -      AGG: 258.66 shares @ $149.73 (Value: $38,728.50, P&L: $6,761.96)
2025-10-26 08:30:28.574 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05049848489114539
2025-10-26 08:30:28.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050013878843399695
2025-10-26 08:30:28.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08398809728515122
2025-10-26 08:30:28.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-26 08:30:28.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0505 (5.05%) - PASS
2025-10-26 08:30:28.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0500 (5.00%) - PASS
2025-10-26 08:30:28.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0840 (8.40%) - PASS
2025-10-26 08:30:28.576 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['AGG', 'SPY', 'EFA']
2025-10-26 08:30:28.576 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.576 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-10-26 08:30:28.576 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.60)
2025-10-26 08:30:28.576 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.60)
2025-10-26 08:30:28.577 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.577 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 256.67 shares @ $146.74 (Value: $37,664.69)
2025-10-26 08:30:28.577 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 257.55 shares @ $145.11 (Value: $37,374.54)
2025-10-26 08:30:28.577 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 258.66 shares @ $149.73 (Value: $38,728.50)
2025-10-26 08:30:28.577 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-10-01: PV=$113,815.78, Cash=$48.05, Comm=0.1000%, Slip=0.0500%, Scale=0.057284
2025-10-26 08:30:28.577 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=33.49%, EFA=33.17%, AGG=33.33%
2025-10-26 08:30:28.577 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.577 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['SPY', 'EFA']
2025-10-26 08:30:28.578 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 258.66 shares worth $38,728.50
2025-10-26 08:30:28.578 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.578 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $149.73 → $149.80 (slippage: 0.050%)
2025-10-26 08:30:28.578 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.82
2025-10-26 08:30:28.578 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 253.25
2025-10-26 08:30:28.578 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 258.66
2025-10-26 08:30:28.578 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -5.40
2025-10-26 08:30:28.578 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.81
2025-10-26 08:30:28.579 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-808.46
2025-10-26 08:30:28.579 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 5.40 shares at $149.66 (proceeds: $807.66)
2025-10-26 08:30:28.579 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.579 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $855.71
2025-10-26 08:30:28.579 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 257.55 shares worth $37,374.54
2025-10-26 08:30:28.579 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.579 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $145.11 → $145.19 (slippage: 0.050%)
2025-10-26 08:30:28.579 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.60 confidence=0.82
2025-10-26 08:30:28.579 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 262.57
2025-10-26 08:30:28.580 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 257.55
2025-10-26 08:30:28.580 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +5.02
2025-10-26 08:30:28.580 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.73
2025-10-26 08:30:28.580 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $729.01
2025-10-26 08:30:28.580 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 5.02 more shares at $145.19 (cost: $729.01)
2025-10-26 08:30:28.580 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.580 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $126.70
2025-10-26 08:30:28.580 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 256.67 shares worth $37,664.69
2025-10-26 08:30:28.581 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.581 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $146.74 → $146.82 (slippage: 0.050%)
2025-10-26 08:30:28.581 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.60 confidence=0.82
2025-10-26 08:30:28.581 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 257.16
2025-10-26 08:30:28.581 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 256.67
2025-10-26 08:30:28.581 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +0.49
2025-10-26 08:30:28.581 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.07
2025-10-26 08:30:28.581 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $72.23
2025-10-26 08:30:28.581 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 0.49 more shares at $146.82 (cost: $72.23)
2025-10-26 08:30:28.582 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.582 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $54.47
2025-10-26 08:30:28.582 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$1,609.70, Cash end=$54.47
2025-10-26 08:30:28.582 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.582 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.582 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $113,813.37
2025-10-26 08:30:28.582 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $54.47
2025-10-26 08:30:28.582 | INFO     | src.backtesting.engine:run:316 -      Change: $-2.41
2025-10-26 08:30:28.582 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.584 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-11-01
2025-10-26 08:30:28.584 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $113,381.56
2025-10-26 08:30:28.585 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $54.47
2025-10-26 08:30:28.585 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.585 | INFO     | src.backtesting.engine:run:273 -      EFA: 257.16 shares @ $150.30 (Value: $38,650.21, P&L: $7,478.88)
2025-10-26 08:30:28.585 | INFO     | src.backtesting.engine:run:273 -      SPY: 262.57 shares @ $145.85 (Value: $38,296.08, P&L: $6,213.42)
2025-10-26 08:30:28.585 | INFO     | src.backtesting.engine:run:273 -      AGG: 253.25 shares @ $143.65 (Value: $36,380.80, P&L: $5,081.90)
2025-10-26 08:30:28.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02348918660372412
2025-10-26 08:30:28.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08750655028956023
2025-10-26 08:30:28.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0390661027483481
2025-10-26 08:30:28.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-26 08:30:28.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0235 (2.35%) - PASS
2025-10-26 08:30:28.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0875 (8.75%) - PASS
2025-10-26 08:30:28.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0391 (3.91%) - PASS
2025-10-26 08:30:28.588 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['EFA', 'AGG', 'SPY']
2025-10-26 08:30:28.588 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.589 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 1.00)
2025-10-26 08:30:28.589 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 0.45)
2025-10-26 08:30:28.589 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.27)
2025-10-26 08:30:28.589 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.589 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 257.16 shares @ $150.30 (Value: $38,650.21)
2025-10-26 08:30:28.589 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 262.57 shares @ $145.85 (Value: $38,296.08)
2025-10-26 08:30:28.589 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 253.25 shares @ $143.65 (Value: $36,380.80)
2025-10-26 08:30:28.589 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-11-01: PV=$113,381.56, Cash=$54.47, Comm=0.1000%, Slip=0.0500%, Scale=0.002434
2025-10-26 08:30:28.590 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: EFA=52.56%, SPY=14.11%, AGG=33.33%
2025-10-26 08:30:28.590 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.590 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA', 'AGG']
2025-10-26 08:30:28.590 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 262.57 shares worth $38,296.08
2025-10-26 08:30:28.590 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE SPY [relative_top]
2025-10-26 08:30:28.590 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $145.85 → $145.92 (slippage: 0.050%)
2025-10-26 08:30:28.590 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.27 confidence=0.87
2025-10-26 08:30:28.590 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 109.62
2025-10-26 08:30:28.591 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 262.57
2025-10-26 08:30:28.591 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -152.95
2025-10-26 08:30:28.591 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $22.32
2025-10-26 08:30:28.591 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-22,296.86
2025-10-26 08:30:28.591 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting SPY: selling 152.95 shares at $145.78 (proceeds: $22,274.57)
2025-10-26 08:30:28.591 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.591 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $22,329.04
2025-10-26 08:30:28.591 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 257.16 shares worth $38,650.21
2025-10-26 08:30:28.592 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD EFA [relative_top]
2025-10-26 08:30:28.592 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $150.30 → $150.37 (slippage: 0.050%)
2025-10-26 08:30:28.592 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.87
2025-10-26 08:30:28.592 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 396.30
2025-10-26 08:30:28.592 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 257.16
2025-10-26 08:30:28.592 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +139.14
2025-10-26 08:30:28.592 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $20.92
2025-10-26 08:30:28.592 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $20,943.04
2025-10-26 08:30:28.592 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting EFA: buying 139.14 more shares at $150.37 (cost: $20,943.04)
2025-10-26 08:30:28.593 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.593 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $1,386.00
2025-10-26 08:30:28.593 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 253.25 shares worth $36,380.80
2025-10-26 08:30:28.593 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD AGG [relative_top]
2025-10-26 08:30:28.593 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $143.65 → $143.73 (slippage: 0.050%)
2025-10-26 08:30:28.593 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.45 confidence=0.87
2025-10-26 08:30:28.593 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 262.96
2025-10-26 08:30:28.593 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 253.25
2025-10-26 08:30:28.593 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +9.71
2025-10-26 08:30:28.594 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $1.39
2025-10-26 08:30:28.594 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $1,396.26
2025-10-26 08:30:28.594 | WARNING  | src.backtesting.engine:_execute_signals:922 -      ⚠️  Cannot fully adjust AGG - insufficient cash
2025-10-26 08:30:28.594 | WARNING  | src.backtesting.engine:_execute_signals:923 -         Required: $1,396.26, Available: $1,386.00
2025-10-26 08:30:28.594 | INFO     | src.backtesting.engine:_execute_signals:931 -         Adjusted to partial increase: 262.89 shares
2025-10-26 08:30:28.594 | WARNING  | src.backtesting.engine:_adjust_position:1047 - Insufficient cash to adjust AGG position (need $1,386.00, have $1,386.00)
2025-10-26 08:30:28.594 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.594 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $1,386.00
2025-10-26 08:30:28.594 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$44,625.90, Cash end=$1,386.00
2025-10-26 08:30:28.595 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.595 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.595 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $113,316.73
2025-10-26 08:30:28.595 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $1,386.00
2025-10-26 08:30:28.595 | INFO     | src.backtesting.engine:run:316 -      Change: $-64.83
2025-10-26 08:30:28.595 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.597 | INFO     | src.backtesting.engine:run:263 - 🔄 REBALANCING on 2023-12-01
2025-10-26 08:30:28.597 | INFO     | src.backtesting.engine:run:264 -    Portfolio Value: $114,224.10
2025-10-26 08:30:28.597 | INFO     | src.backtesting.engine:run:265 -    Available Cash: $1,386.00
2025-10-26 08:30:28.597 | INFO     | src.backtesting.engine:run:269 -    Current Positions:
2025-10-26 08:30:28.597 | INFO     | src.backtesting.engine:run:273 -      EFA: 396.30 shares @ $146.25 (Value: $57,958.29, P&L: $9,921.74)
2025-10-26 08:30:28.598 | INFO     | src.backtesting.engine:run:273 -      SPY: 109.62 shares @ $149.59 (Value: $16,397.60, P&L: $3,003.55)
2025-10-26 08:30:28.598 | INFO     | src.backtesting.engine:run:273 -      AGG: 253.25 shares @ $151.95 (Value: $38,482.21, P&L: $7,183.31)
2025-10-26 08:30:28.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-26 08:30:28.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-26 08:30:28.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0811051176218518
2025-10-26 08:30:28.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03823797219127867
2025-10-26 08:30:28.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08937036751513094
2025-10-26 08:30:28.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-26 08:30:28.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0811 (8.11%) - PASS
2025-10-26 08:30:28.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0382 (3.82%) - PASS
2025-10-26 08:30:28.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0894 (8.94%) - PASS
2025-10-26 08:30:28.601 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['AGG', 'SPY', 'EFA']
2025-10-26 08:30:28.601 | INFO     | src.backtesting.engine:run:289 -    Generated 3 signals:
2025-10-26 08:30:28.601 | INFO     | src.backtesting.engine:run:292 -      AGG: LONG (strength: 1.00)
2025-10-26 08:30:28.601 | INFO     | src.backtesting.engine:run:292 -      SPY: LONG (strength: 0.91)
2025-10-26 08:30:28.601 | INFO     | src.backtesting.engine:run:292 -      EFA: LONG (strength: 0.43)
2025-10-26 08:30:28.602 | INFO     | src.backtesting.engine:_execute_signals:673 -    Keeping existing positions:
2025-10-26 08:30:28.602 | INFO     | src.backtesting.engine:_execute_signals:677 -      EFA: 396.30 shares @ $146.25 (Value: $57,958.29)
2025-10-26 08:30:28.602 | INFO     | src.backtesting.engine:_execute_signals:677 -      SPY: 109.62 shares @ $149.59 (Value: $16,397.60)
2025-10-26 08:30:28.602 | INFO     | src.backtesting.engine:_execute_signals:677 -      AGG: 253.25 shares @ $151.95 (Value: $38,482.21)
2025-10-26 08:30:28.602 | INFO     | src.backtesting.engine:_execute_signals:766 - [ORDER SIZING] 2023-12-01: PV=$114,224.10, Cash=$1,386.00, Comm=0.1000%, Slip=0.0500%, Scale=0.039165
2025-10-26 08:30:28.602 | INFO     | src.backtesting.engine:_execute_signals:769 - [ORDER SIZING] Weights: SPY=45.31%, EFA=21.36%, AGG=33.33%
2025-10-26 08:30:28.602 | INFO     | src.backtesting.engine:_execute_signals:773 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-26 08:30:28.603 | INFO     | src.backtesting.engine:_execute_signals:802 - [EXECUTION ORDER] Sells first: ['EFA', 'AGG'], then buys: ['SPY']
2025-10-26 08:30:28.603 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 396.30 shares worth $57,958.29
2025-10-26 08:30:28.603 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE EFA [relative_top]
2025-10-26 08:30:28.603 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $146.25 → $146.32 (slippage: 0.050%)
2025-10-26 08:30:28.603 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.43 confidence=0.73
2025-10-26 08:30:28.603 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 166.74
2025-10-26 08:30:28.603 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 396.30
2025-10-26 08:30:28.603 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -229.55
2025-10-26 08:30:28.603 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $33.59
2025-10-26 08:30:28.604 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-33,555.13
2025-10-26 08:30:28.604 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting EFA: selling 229.55 shares at $146.18 (proceeds: $33,521.59)
2025-10-26 08:30:28.604 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.604 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $34,907.59
2025-10-26 08:30:28.604 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 253.25 shares worth $38,482.21
2025-10-26 08:30:28.604 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 REDUCE AGG [relative_top]
2025-10-26 08:30:28.604 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $151.95 → $152.03 (slippage: 0.050%)
2025-10-26 08:30:28.604 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=1.00 confidence=0.73
2025-10-26 08:30:28.605 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 250.45
2025-10-26 08:30:28.605 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 253.25
2025-10-26 08:30:28.605 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: -2.81
2025-10-26 08:30:28.605 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $0.43
2025-10-26 08:30:28.605 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $-426.32
2025-10-26 08:30:28.605 | DEBUG    | src.backtesting.engine:_adjust_position:1055 - Adjusting AGG: selling 2.81 shares at $151.88 (proceeds: $425.90)
2025-10-26 08:30:28.605 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.605 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $35,333.49
2025-10-26 08:30:28.605 | DEBUG    | src.backtesting.engine:_execute_signals:841 -       Existing position: 109.62 shares worth $16,397.60
2025-10-26 08:30:28.606 | INFO     | src.backtesting.engine:_execute_signals:901 -      📈 ADD SPY [relative_top]
2025-10-26 08:30:28.606 | INFO     | src.backtesting.engine:_execute_signals:902 -         Price: $149.59 → $149.66 (slippage: 0.050%)
2025-10-26 08:30:28.606 | INFO     | src.backtesting.engine:_execute_signals:903 -         Signal: strength=0.91 confidence=0.73
2025-10-26 08:30:28.606 | INFO     | src.backtesting.engine:_execute_signals:904 -         Target Shares: 345.78
2025-10-26 08:30:28.606 | INFO     | src.backtesting.engine:_execute_signals:907 -         Current Shares: 109.62
2025-10-26 08:30:28.606 | INFO     | src.backtesting.engine:_execute_signals:908 -         Share Change: +236.17
2025-10-26 08:30:28.606 | INFO     | src.backtesting.engine:_execute_signals:910 -         Commission: $35.35
2025-10-26 08:30:28.606 | INFO     | src.backtesting.engine:_execute_signals:911 -         Total Cost: $35,380.40
2025-10-26 08:30:28.606 | WARNING  | src.backtesting.engine:_execute_signals:922 -      ⚠️  Cannot fully adjust SPY - insufficient cash
2025-10-26 08:30:28.607 | WARNING  | src.backtesting.engine:_execute_signals:923 -         Required: $35,380.40, Available: $35,333.49
2025-10-26 08:30:28.607 | INFO     | src.backtesting.engine:_execute_signals:931 -         Adjusted to partial increase: 345.47 shares
2025-10-26 08:30:28.607 | DEBUG    | src.backtesting.engine:_adjust_position:1050 - Adjusting SPY: buying 235.85 more shares at $149.66 (cost: $35,333.49)
2025-10-26 08:30:28.607 | INFO     | src.backtesting.engine:_execute_signals:963 -         ✅ Position adjusted successfully
2025-10-26 08:30:28.607 | INFO     | src.backtesting.engine:_execute_signals:976 -         💰 Cash remaining: $0.00
2025-10-26 08:30:28.607 | INFO     | src.backtesting.engine:_execute_signals:982 - [ORDER SIZING] Batch total cost=$69,314.95, Cash end=$0.00
2025-10-26 08:30:28.607 | INFO     | src.backtesting.engine:_log_position_changes:1184 -    No position changes made
2025-10-26 08:30:28.607 | INFO     | src.backtesting.engine:run:313 -    After Rebalancing:
2025-10-26 08:30:28.608 | INFO     | src.backtesting.engine:run:314 -      Portfolio Value: $114,120.18
2025-10-26 08:30:28.608 | INFO     | src.backtesting.engine:run:315 -      Available Cash: $0.00
2025-10-26 08:30:28.608 | INFO     | src.backtesting.engine:run:316 -      Change: $-103.92
2025-10-26 08:30:28.608 | INFO     | src.backtesting.engine:run:322 -    ✅ Rebalancing complete
2025-10-26 08:30:28.610 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: EFA x 166.74 @ $149.01 (P&L: $4,634.14)
2025-10-26 08:30:28.610 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: SPY x 345.47 @ $149.65 (P&L: $9,486.90)
2025-10-26 08:30:28.610 | DEBUG    | src.backtesting.engine:_close_position:1123 - Closed position: AGG x 250.45 @ $151.85 (P&L: $7,079.31)
2025-10-26 08:30:28.611 | INFO     | src.backtesting.engine:_generate_results:1200 - 📊 Performance metrics calculated from 2021-09-10 to 2023-12-31
2025-10-26 08:30:28.612 | INFO     | src.backtesting.engine:_generate_results:1278 - 📊 No benchmark data provided for comparison
2025-10-26 08:30:28.620 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:569 - Creating positions DataFrame from 1095 snapshots
2025-10-26 08:30:28.622 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:574 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-26 08:30:28.623 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:575 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'AGG_quantity', 'AGG_price', 'AGG_value']
2025-10-26 08:30:28.623 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:586 - Filtered position history from 1095 to 843 records (performance period)
2025-10-26 08:30:28.711 | INFO     | src.backtesting.engine:_generate_results:1294 - ============================================================
2025-10-26 08:30:28.712 | INFO     | src.backtesting.engine:_generate_results:1295 - POSITION DATA SUMMARY
2025-10-26 08:30:28.712 | INFO     | src.backtesting.engine:_generate_results:1296 - ============================================================
2025-10-26 08:30:28.712 | INFO     | src.backtesting.engine:_generate_results:1297 - Total timesteps in backtest: 843
2025-10-26 08:30:28.712 | INFO     | src.backtesting.engine:_generate_results:1298 - Position history snapshots recorded: 1095
2025-10-26 08:30:28.712 | INFO     | src.backtesting.engine:_generate_results:1299 - Positions DataFrame shape: (843, 18)
2025-10-26 08:30:28.712 | INFO     | src.backtesting.engine:_generate_results:1302 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct']
2025-10-26 08:30:28.712 | INFO     | src.backtesting.engine:_generate_results:1303 - First 3 rows of positions data:
2025-10-26 08:30:28.724 | INFO     | src.backtesting.engine:_generate_results:1304 - 
            portfolio_value          cash  ...   AGG_price    AGG_pct
timestamp                                  ...                       
2021-09-10    100000.000000  1.000000e+05  ...         NaN        NaN
2021-09-11     97213.403312 -7.275958e-12  ...  119.099085  32.944590
2021-09-12     98814.263978 -7.275958e-12  ...  125.082794  34.039233

[3 rows x 18 columns]
2025-10-26 08:30:28.724 | INFO     | src.backtesting.engine:_generate_results:1305 - Last 3 rows of positions data:
2025-10-26 08:30:28.735 | INFO     | src.backtesting.engine:_generate_results:1306 - 
            portfolio_value  cash  ...   AGG_price    AGG_pct
timestamp                          ...                       
2023-12-29    115198.530832   0.0  ...  151.010850  32.830411
2023-12-30    114239.214610   0.0  ...  147.920545  32.428615
2023-12-31    114633.629410   0.0  ...  151.929876  33.192981

[3 rows x 18 columns]
2025-10-26 08:30:28.735 | INFO     | src.backtesting.engine:_generate_results:1314 - ============================================================
2025-10-26 08:30:28.735 | INFO     | src.backtesting.engine:run:336 - Backtest complete. Final value: $114,633.63 (14.63% return)
2025-10-26 08:30:28.735 | INFO     | src.backtesting.engine:run:340 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251026_083028.log
2025-10-26 08:30:28.741 | INFO     | src.backtesting.engine:__init__:81 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-26 08:30:28.741 | INFO     | src.backtesting.engine:__init__:88 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-26 08:30:28.741 | INFO     | src.backtesting.hyperparameter_tuner:__init__:155 - Initialized HyperparameterTuner for DualMomentumStrategy
2025-10-26 08:30:28.744 | INFO     | src.backtesting.engine:__init__:81 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-26 08:30:28.744 | INFO     | src.backtesting.engine:__init__:88 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-26 08:30:28.744 | INFO     | src.backtesting.hyperparameter_tuner:__init__:155 - Initialized HyperparameterTuner for DualMomentumStrategy
2025-10-26 08:30:28.749 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.750 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.750 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-26 08:30:28.751 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-26 08:30:28.752 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-26 08:30:28.752 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-26 08:30:28.753 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-26 08:30:28.753 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-26 08:30:28.753 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-26 08:30:28.753 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-26 08:30:28.753 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-26 08:30:28.754 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-26 08:30:28.754 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-26 08:30:28.755 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.755 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-26 08:30:28.756 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-26 08:30:28.757 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-26 08:30:28.757 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-26 08:30:28.758 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-26 08:30:28.758 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-26 08:30:28.758 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-26 08:30:28.758 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-26 08:30:28.758 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-26 08:30:28.759 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-26 08:30:28.759 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-26 08:30:28.760 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.760 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-26 08:30:28.761 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-26 08:30:28.761 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-26 08:30:28.762 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-26 08:30:28.762 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-26 08:30:28.763 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.763 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-26 08:30:28.770 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-26 08:30:28.770 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-26 08:30:28.771 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-26 08:30:28.771 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-26 08:30:28.773 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.773 | INFO     | src.core.plugin_manager:discover_all:173 - Starting plugin discovery...
2025-10-26 08:30:28.773 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-26 08:30:28.774 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-26 08:30:28.774 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-26 08:30:28.775 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-26 08:30:28.775 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-26 08:30:28.775 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-26 08:30:28.776 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-26 08:30:28.776 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-26 08:30:28.776 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-26 08:30:28.776 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-26 08:30:28.776 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-26 08:30:28.776 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-26 08:30:28.777 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-26 08:30:28.777 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-26 08:30:28.778 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-26 08:30:28.778 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-26 08:30:28.779 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-26 08:30:28.779 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-26 08:30:28.779 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-26 08:30:28.779 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-26 08:30:28.779 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-26 08:30:28.779 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-26 08:30:28.779 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-26 08:30:28.780 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-26 08:30:28.780 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-26 08:30:28.781 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-26 08:30:28.781 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-26 08:30:28.781 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-26 08:30:28.784 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-26 08:30:28.785 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-26 08:30:28.786 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-26 08:30:28.786 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-26 08:30:28.786 | INFO     | src.core.plugin_manager:discover_all:180 - Plugin discovery complete
2025-10-26 08:30:28.786 | INFO     | src.core.plugin_manager:_log_summary:454 - ============================================================
2025-10-26 08:30:28.786 | INFO     | src.core.plugin_manager:_log_summary:455 - PLUGIN DISCOVERY SUMMARY
2025-10-26 08:30:28.786 | INFO     | src.core.plugin_manager:_log_summary:456 - ============================================================
2025-10-26 08:30:28.786 | INFO     | src.core.plugin_manager:_log_summary:457 - Asset Classes:  5
2025-10-26 08:30:28.786 | INFO     | src.core.plugin_manager:_log_summary:458 - Data Sources:   5
2025-10-26 08:30:28.787 | INFO     | src.core.plugin_manager:_log_summary:459 - Strategies:     2
2025-10-26 08:30:28.787 | INFO     | src.core.plugin_manager:_log_summary:460 - Risk Managers:  1
2025-10-26 08:30:28.787 | INFO     | src.core.plugin_manager:_log_summary:461 - ============================================================
2025-10-26 08:30:28.787 | INFO     | src.core.plugin_manager:_log_summary:464 - Asset Classes: EquityAsset, BondAsset, CommodityAsset, FXAsset, CryptoAsset
2025-10-26 08:30:28.787 | INFO     | src.core.plugin_manager:_log_summary:466 - Data Sources: MultiSourceDataProvider, YahooFinanceDirectSource, TwelveDataSource, AlphaVantageSource, YahooFinanceSource
2025-10-26 08:30:28.787 | INFO     | src.core.plugin_manager:_log_summary:468 - Strategies: AbsoluteMomentumStrategy, DualMomentumStrategy
2025-10-26 08:30:28.787 | INFO     | src.core.plugin_manager:_log_summary:470 - Risk Managers: BasicRiskManager
2025-10-26 08:30:28.788 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.789 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-26 08:30:28.789 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-26 08:30:28.790 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-26 08:30:28.790 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-26 08:30:28.791 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-26 08:30:28.791 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-26 08:30:28.792 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-26 08:30:28.792 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-26 08:30:28.792 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-26 08:30:28.792 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-26 08:30:28.792 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-26 08:30:28.793 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.793 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-26 08:30:28.794 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-26 08:30:28.795 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-26 08:30:28.795 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-26 08:30:28.796 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-26 08:30:28.796 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-26 08:30:28.796 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-26 08:30:28.796 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-26 08:30:28.796 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-26 08:30:28.796 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-26 08:30:28.797 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-26 08:30:28.798 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.798 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-26 08:30:28.799 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-26 08:30:28.799 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-26 08:30:28.799 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-26 08:30:28.799 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-26 08:30:28.799 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-26 08:30:28.801 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.801 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-26 08:30:28.804 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-26 08:30:28.805 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-26 08:30:28.806 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-26 08:30:28.806 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-26 08:30:28.806 | INFO     | src.core.cash_manager:__init__:93 - Initialized CashManager: strategic=0.0%, operational=2.0%, min_buffer=$100.00
2025-10-26 08:30:28.807 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.807 | INFO     | src.core.plugin_manager:discover_all:173 - Starting plugin discovery...
2025-10-26 08:30:28.807 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-26 08:30:28.808 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-26 08:30:28.808 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-26 08:30:28.809 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-26 08:30:28.809 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-26 08:30:28.810 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-26 08:30:28.810 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-26 08:30:28.810 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-26 08:30:28.810 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-26 08:30:28.810 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-26 08:30:28.810 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-26 08:30:28.811 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-26 08:30:28.811 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-26 08:30:28.812 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-26 08:30:28.812 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-26 08:30:28.812 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-26 08:30:28.813 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-26 08:30:28.813 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-26 08:30:28.814 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-26 08:30:28.814 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-26 08:30:28.814 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-26 08:30:28.814 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-26 08:30:28.814 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-26 08:30:28.815 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-26 08:30:28.815 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-26 08:30:28.815 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-26 08:30:28.815 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-26 08:30:28.816 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-26 08:30:28.819 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-26 08:30:28.819 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-26 08:30:28.820 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-26 08:30:28.820 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-26 08:30:28.820 | INFO     | src.core.plugin_manager:discover_all:180 - Plugin discovery complete
2025-10-26 08:30:28.821 | INFO     | src.core.plugin_manager:_log_summary:454 - ============================================================
2025-10-26 08:30:28.821 | INFO     | src.core.plugin_manager:_log_summary:455 - PLUGIN DISCOVERY SUMMARY
2025-10-26 08:30:28.821 | INFO     | src.core.plugin_manager:_log_summary:456 - ============================================================
2025-10-26 08:30:28.821 | INFO     | src.core.plugin_manager:_log_summary:457 - Asset Classes:  5
2025-10-26 08:30:28.821 | INFO     | src.core.plugin_manager:_log_summary:458 - Data Sources:   5
2025-10-26 08:30:28.821 | INFO     | src.core.plugin_manager:_log_summary:459 - Strategies:     2
2025-10-26 08:30:28.821 | INFO     | src.core.plugin_manager:_log_summary:460 - Risk Managers:  1
2025-10-26 08:30:28.821 | INFO     | src.core.plugin_manager:_log_summary:461 - ============================================================
2025-10-26 08:30:28.821 | INFO     | src.core.plugin_manager:_log_summary:464 - Asset Classes: EquityAsset, BondAsset, CommodityAsset, FXAsset, CryptoAsset
2025-10-26 08:30:28.822 | INFO     | src.core.plugin_manager:_log_summary:466 - Data Sources: MultiSourceDataProvider, YahooFinanceDirectSource, TwelveDataSource, AlphaVantageSource, YahooFinanceSource
2025-10-26 08:30:28.822 | INFO     | src.core.plugin_manager:_log_summary:468 - Strategies: AbsoluteMomentumStrategy, DualMomentumStrategy
2025-10-26 08:30:28.822 | INFO     | src.core.plugin_manager:_log_summary:470 - Risk Managers: BasicRiskManager
2025-10-26 08:30:28.823 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-26 08:30:28.823 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: TestStrategy

2025-10-31 10:28:00.649 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102800.log
2025-10-31 10:28:00.650 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:00.650 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:00.652 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:00.652 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:00.653 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:00.654 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:00.654 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:00.655 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:00.655 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:00.656 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:00.656 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:00.656 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:00.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:00.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:00.661 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:00.661 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:00.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:00.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:00.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:00.663 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'SPY']
2025-10-31 10:28:00.663 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.663 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:00.664 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.71)
2025-10-31 10:28:00.664 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:00.665 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=58.52%, SPY=41.48%
2025-10-31 10:28:00.665 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA', 'SPY']
2025-10-31 10:28:00.665 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:00.666 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:00.666 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:00.667 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 497.13
2025-10-31 10:28:00.667 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $58.52
2025-10-31 10:28:00.667 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $58,574.29
2025-10-31 10:28:00.668 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 497.13 @ $117.71
2025-10-31 10:28:00.668 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:00.668 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $41,425.71
2025-10-31 10:28:00.669 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:00.669 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.00 ? $117.06 (slippage: 0.050%)
2025-10-31 10:28:00.670 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.71 confidence=0.79
2025-10-31 10:28:00.670 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 354.38
2025-10-31 10:28:00.670 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $41.48
2025-10-31 10:28:00.671 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $41,525.71
2025-10-31 10:28:00.671 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 353.52 @ $117.06
2025-10-31 10:28:00.672 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:00.672 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:00.672 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$0.00
2025-10-31 10:28:00.673 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:00.673 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 353.52 shares @ $117.06 (Value: $41,384.33)
2025-10-31 10:28:00.673 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 497.13 shares @ $117.71 (Value: $58,515.77)
2025-10-31 10:28:00.674 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.674 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:00.674 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:00.675 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:00.675 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.676 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:00.677 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,211.40
2025-10-31 10:28:00.677 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:00.678 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.678 | INFO     | src.backtesting.engine:run:293 -      EFA: 497.13 shares @ $115.24 (Value: $57,290.96, P&L: $-1,224.81)
2025-10-31 10:28:00.678 | INFO     | src.backtesting.engine:run:293 -      SPY: 353.52 shares @ $115.75 (Value: $40,920.44, P&L: $-463.89)
2025-10-31 10:28:00.680 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.680 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.681 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.681 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.682 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:00.682 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:00.683 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:00.683 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:00.683 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:00.684 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:00.684 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:00.684 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['AGG', 'SPY']
2025-10-31 10:28:00.685 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.685 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:00.686 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.15)
2025-10-31 10:28:00.686 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:00.686 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 497.13 shares @ $115.24 (Value: $57,290.96, P&L: $-1,224.81)
2025-10-31 10:28:00.687 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 497.13 @ $115.19 (P&L: $-1,253.46)
2025-10-31 10:28:00.687 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $57,205.06
2025-10-31 10:28:00.687 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.688 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 353.52 shares @ $115.75 (Value: $40,920.44)
2025-10-31 10:28:00.688 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$98,211.40, Cash=$57,205.06, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:00.689 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%, AGG=50.00%
2025-10-31 10:28:00.689 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:00.689 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'AGG']
2025-10-31 10:28:00.690 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 353.52 shares worth $40,920.44
2025-10-31 10:28:00.690 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:00.691 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $115.75 ? $115.81 (slippage: 0.050%)
2025-10-31 10:28:00.691 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.15 confidence=0.95
2025-10-31 10:28:00.691 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 424.03
2025-10-31 10:28:00.692 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 353.52
2025-10-31 10:28:00.692 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +70.50
2025-10-31 10:28:00.692 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.16
2025-10-31 10:28:00.693 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $8,172.97
2025-10-31 10:28:00.693 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 70.50 more shares at $115.81 (cost: $8,172.97)
2025-10-31 10:28:00.693 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.694 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49,032.09
2025-10-31 10:28:00.694 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:00.695 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:00.695 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:00.695 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 411.82
2025-10-31 10:28:00.696 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $49.11
2025-10-31 10:28:00.696 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $49,154.81
2025-10-31 10:28:00.697 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 410.79 @ $119.24
2025-10-31 10:28:00.697 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:00.697 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:00.698 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$57,205.06, Cash end=$0.00
2025-10-31 10:28:00.698 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:00.698 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 497.13 shares @ $115.24 (Value: $57,290.96, P&L: $-1,224.81)
2025-10-31 10:28:00.699 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:00.699 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 410.79 shares @ $119.24 (Value: $48,983.11)
2025-10-31 10:28:00.699 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.700 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,064.27
2025-10-31 10:28:00.700 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:00.700 | INFO     | src.backtesting.engine:run:336 -      Change: $-147.14
2025-10-31 10:28:00.701 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.702 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:00.703 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,287.41
2025-10-31 10:28:00.703 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:00.703 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.704 | INFO     | src.backtesting.engine:run:293 -      SPY: 424.03 shares @ $118.33 (Value: $50,173.63, P&L: $536.07)
2025-10-31 10:28:00.704 | INFO     | src.backtesting.engine:run:293 -      AGG: 410.79 shares @ $119.56 (Value: $49,113.78, P&L: $130.67)
2025-10-31 10:28:00.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:00.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:00.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:00.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:00.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:00.710 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:00.710 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:00.710 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'AGG']
2025-10-31 10:28:00.711 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.711 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:00.711 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.62)
2025-10-31 10:28:00.712 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:00.712 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 424.03 shares @ $118.33 (Value: $50,173.63, P&L: $536.07)
2025-10-31 10:28:00.712 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 424.03 @ $118.27 (P&L: $510.98)
2025-10-31 10:28:00.713 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $50,098.39
2025-10-31 10:28:00.713 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.714 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 410.79 shares @ $119.56 (Value: $49,113.78)
2025-10-31 10:28:00.714 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$99,287.41, Cash=$50,098.39, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:00.714 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:00.715 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:00.715 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA', 'AGG']
2025-10-31 10:28:00.716 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:00.716 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:00.716 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:00.717 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 408.06
2025-10-31 10:28:00.717 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $49.64
2025-10-31 10:28:00.717 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $49,693.35
2025-10-31 10:28:00.718 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 408.06 @ $121.66
2025-10-31 10:28:00.718 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:00.718 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $405.04
2025-10-31 10:28:00.719 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 410.79 shares worth $49,113.78
2025-10-31 10:28:00.719 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD AGG [relative_top]
2025-10-31 10:28:00.720 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.56 ? $119.62 (slippage: 0.050%)
2025-10-31 10:28:00.720 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.62 confidence=0.81
2025-10-31 10:28:00.720 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 415.01
2025-10-31 10:28:00.721 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 410.79
2025-10-31 10:28:00.721 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +4.22
2025-10-31 10:28:00.721 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.51
2025-10-31 10:28:00.722 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $505.87
2025-10-31 10:28:00.722 | WARNING  | src.backtesting.engine:_execute_signals:1079 -      ??  Cannot fully adjust AGG - insufficient cash
2025-10-31 10:28:00.722 | WARNING  | src.backtesting.engine:_execute_signals:1080 -         Required: $505.87, Available: $405.04
2025-10-31 10:28:00.723 | INFO     | src.backtesting.engine:_execute_signals:1088 -         Adjusted to partial increase: 414.17 shares
2025-10-31 10:28:00.723 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting AGG: buying 3.38 more shares at $119.62 (cost: $405.04)
2025-10-31 10:28:00.724 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.724 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:00.724 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$50,098.39, Cash end=$0.00
2025-10-31 10:28:00.725 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:00.725 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 424.03 shares @ $118.33 (Value: $50,173.63, P&L: $536.07)
2025-10-31 10:28:00.725 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:00.726 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 408.06 shares @ $121.66 (Value: $49,643.70)
2025-10-31 10:28:00.726 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.726 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,161.92
2025-10-31 10:28:00.727 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:00.727 | INFO     | src.backtesting.engine:run:336 -      Change: $-125.49
2025-10-31 10:28:00.727 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.729 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:00.729 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,943.22
2025-10-31 10:28:00.730 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:00.730 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.730 | INFO     | src.backtesting.engine:run:293 -      AGG: 414.17 shares @ $120.65 (Value: $49,968.76, P&L: $582.29)
2025-10-31 10:28:00.731 | INFO     | src.backtesting.engine:run:293 -      EFA: 408.06 shares @ $117.57 (Value: $47,974.46, P&L: $-1,669.24)
2025-10-31 10:28:00.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.733 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.733 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:00.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:00.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:00.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:00.736 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:00.736 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:00.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:00.737 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'AGG']
2025-10-31 10:28:00.737 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.738 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:00.738 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.93)
2025-10-31 10:28:00.738 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:00.739 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 408.06 shares @ $117.57 (Value: $47,974.46, P&L: $-1,669.24)
2025-10-31 10:28:00.739 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 408.06 @ $117.51 (P&L: $-1,693.23)
2025-10-31 10:28:00.739 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $47,902.53
2025-10-31 10:28:00.740 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.740 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 414.17 shares @ $120.65 (Value: $49,968.76)
2025-10-31 10:28:00.741 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$97,943.22, Cash=$47,902.53, Comm=0.1000%, Slip=0.0500%, Scale=0.977192
2025-10-31 10:28:00.741 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%, AGG=50.00%
2025-10-31 10:28:00.741 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:00.742 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['SPY']
2025-10-31 10:28:00.742 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 414.17 shares worth $49,968.76
2025-10-31 10:28:00.742 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:00.743 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $120.65 ? $120.71 (slippage: 0.050%)
2025-10-31 10:28:00.743 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.93 confidence=0.72
2025-10-31 10:28:00.744 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 405.70
2025-10-31 10:28:00.744 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 414.17
2025-10-31 10:28:00.744 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -8.47
2025-10-31 10:28:00.745 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.02
2025-10-31 10:28:00.745 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1,021.11
2025-10-31 10:28:00.745 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 8.47 shares at $120.59 (proceeds: $1,020.09)
2025-10-31 10:28:00.746 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.746 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $48,922.62
2025-10-31 10:28:00.747 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:00.747 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:00.747 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:00.748 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 418.93
2025-10-31 10:28:00.748 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $48.97
2025-10-31 10:28:00.748 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $49,020.58
2025-10-31 10:28:00.749 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 418.10 @ $116.90
2025-10-31 10:28:00.749 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:00.749 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:00.750 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49,943.73, Cash end=$0.00
2025-10-31 10:28:00.750 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:00.751 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 408.06 shares @ $117.57 (Value: $47,974.46, P&L: $-1,669.24)
2025-10-31 10:28:00.751 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:00.751 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 418.10 shares @ $116.90 (Value: $48,873.74)
2025-10-31 10:28:00.752 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.752 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,820.88
2025-10-31 10:28:00.752 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:00.753 | INFO     | src.backtesting.engine:run:336 -      Change: $-122.34
2025-10-31 10:28:00.753 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.754 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:00.755 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,305.90
2025-10-31 10:28:00.755 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:00.756 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.756 | INFO     | src.backtesting.engine:run:293 -      AGG: 405.70 shares @ $119.61 (Value: $48,525.35, P&L: $148.60)
2025-10-31 10:28:00.756 | INFO     | src.backtesting.engine:run:293 -      SPY: 418.10 shares @ $123.85 (Value: $51,780.55, P&L: $2,906.81)
2025-10-31 10:28:00.758 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.759 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.759 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.760 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.760 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:00.760 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:00.761 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:00.761 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:00.762 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:00.762 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:00.762 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:00.763 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'EFA']
2025-10-31 10:28:00.763 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.763 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:00.764 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 0.53)
2025-10-31 10:28:00.764 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:00.764 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 405.70 shares @ $119.61 (Value: $48,525.35, P&L: $148.60)
2025-10-31 10:28:00.765 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 405.70 @ $119.55 (P&L: $124.33)
2025-10-31 10:28:00.765 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $48,452.58
2025-10-31 10:28:00.766 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.766 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 418.10 shares @ $123.85 (Value: $51,780.55)
2025-10-31 10:28:00.766 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$100,305.90, Cash=$48,452.58, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:00.767 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=65.39%, EFA=34.61%
2025-10-31 10:28:00.767 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:00.767 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'EFA']
2025-10-31 10:28:00.768 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 418.10 shares worth $51,780.55
2025-10-31 10:28:00.768 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:00.769 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:00.769 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:00.769 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 529.35
2025-10-31 10:28:00.770 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 418.10
2025-10-31 10:28:00.770 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +111.26
2025-10-31 10:28:00.770 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $13.79
2025-10-31 10:28:00.771 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $13,799.76
2025-10-31 10:28:00.771 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 111.26 more shares at $123.91 (cost: $13,799.76)
2025-10-31 10:28:00.772 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.772 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $34,652.82
2025-10-31 10:28:00.772 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:00.773 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.47 ? $117.53 (slippage: 0.050%)
2025-10-31 10:28:00.773 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.53 confidence=0.84
2025-10-31 10:28:00.773 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 295.37
2025-10-31 10:28:00.774 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $34.71
2025-10-31 10:28:00.774 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $34,748.19
2025-10-31 10:28:00.775 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 294.56 @ $117.53
2025-10-31 10:28:00.775 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:00.775 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:00.776 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$48,452.58, Cash end=$0.00
2025-10-31 10:28:00.776 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:00.776 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 405.70 shares @ $119.61 (Value: $48,525.35, P&L: $148.60)
2025-10-31 10:28:00.777 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:00.777 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 294.56 shares @ $117.53 (Value: $34,618.20)
2025-10-31 10:28:00.777 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.778 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,177.85
2025-10-31 10:28:00.778 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:00.778 | INFO     | src.backtesting.engine:run:336 -      Change: $-128.06
2025-10-31 10:28:00.779 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.780 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:00.781 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,813.11
2025-10-31 10:28:00.781 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:00.781 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.782 | INFO     | src.backtesting.engine:run:293 -      SPY: 529.35 shares @ $119.29 (Value: $63,148.51, P&L: $1,269.20)
2025-10-31 10:28:00.782 | INFO     | src.backtesting.engine:run:293 -      EFA: 294.56 shares @ $121.08 (Value: $35,664.60, P&L: $1,046.40)
2025-10-31 10:28:00.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:00.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:00.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:00.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:00.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:00.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:00.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:00.788 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'SPY']
2025-10-31 10:28:00.789 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.789 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:00.789 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.67)
2025-10-31 10:28:00.790 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.790 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 529.35 shares @ $119.29 (Value: $63,148.51)
2025-10-31 10:28:00.790 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 294.56 shares @ $121.08 (Value: $35,664.60)
2025-10-31 10:28:00.791 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$98,813.11, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=0.000000
2025-10-31 10:28:00.791 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=59.94%, SPY=40.06%
2025-10-31 10:28:00.791 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:00.792 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA']
2025-10-31 10:28:00.792 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 529.35 shares worth $63,148.51
2025-10-31 10:28:00.793 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:00.793 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.29 ? $119.35 (slippage: 0.050%)
2025-10-31 10:28:00.793 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.67 confidence=0.80
2025-10-31 10:28:00.794 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 331.67
2025-10-31 10:28:00.794 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 529.35
2025-10-31 10:28:00.795 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -197.69
2025-10-31 10:28:00.795 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $23.59
2025-10-31 10:28:00.795 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-23,570.76
2025-10-31 10:28:00.796 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 197.69 shares at $119.23 (proceeds: $23,547.20)
2025-10-31 10:28:00.796 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.796 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $23,547.20
2025-10-31 10:28:00.797 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 294.56 shares worth $35,664.60
2025-10-31 10:28:00.797 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD EFA [relative_top]
2025-10-31 10:28:00.797 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:00.798 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:00.798 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 488.92
2025-10-31 10:28:00.799 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 294.56
2025-10-31 10:28:00.799 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +194.36
2025-10-31 10:28:00.799 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $23.54
2025-10-31 10:28:00.800 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $23,568.49
2025-10-31 10:28:00.800 | WARNING  | src.backtesting.engine:_execute_signals:1079 -      ??  Cannot fully adjust EFA - insufficient cash
2025-10-31 10:28:00.800 | WARNING  | src.backtesting.engine:_execute_signals:1080 -         Required: $23,568.49, Available: $23,547.20
2025-10-31 10:28:00.801 | INFO     | src.backtesting.engine:_execute_signals:1088 -         Adjusted to partial increase: 488.74 shares
2025-10-31 10:28:00.801 | WARNING  | src.backtesting.engine:_adjust_position:1204 - Insufficient cash to adjust EFA position (need $23,547.20, have $23,547.20)
2025-10-31 10:28:00.801 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.802 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $23,547.20
2025-10-31 10:28:00.802 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47,117.96, Cash end=$23,547.20
2025-10-31 10:28:00.803 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:00.803 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.803 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,777.75
2025-10-31 10:28:00.804 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $23,547.20
2025-10-31 10:28:00.804 | INFO     | src.backtesting.engine:run:336 -      Change: $-35.36
2025-10-31 10:28:00.804 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.806 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:00.806 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $101,169.77
2025-10-31 10:28:00.806 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $23,547.20
2025-10-31 10:28:00.807 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.807 | INFO     | src.backtesting.engine:run:293 -      SPY: 331.67 shares @ $125.44 (Value: $41,603.72, P&L: $2,832.99)
2025-10-31 10:28:00.808 | INFO     | src.backtesting.engine:run:293 -      EFA: 294.56 shares @ $122.28 (Value: $36,018.85, P&L: $1,400.65)
2025-10-31 10:28:00.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.810 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.810 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:00.812 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:00.812 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:00.812 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:00.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:00.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:00.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:00.814 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'AGG']
2025-10-31 10:28:00.814 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.815 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:00.815 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.00)
2025-10-31 10:28:00.815 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:00.816 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 294.56 shares @ $122.28 (Value: $36,018.85, P&L: $1,400.65)
2025-10-31 10:28:00.816 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 294.56 @ $122.22 (P&L: $1,382.64)
2025-10-31 10:28:00.816 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $59,512.04
2025-10-31 10:28:00.817 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.817 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 331.67 shares @ $125.44 (Value: $41,603.72)
2025-10-31 10:28:00.817 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$101,169.77, Cash=$59,512.04, Comm=0.1000%, Slip=0.0500%, Scale=0.998095
2025-10-31 10:28:00.818 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%, AGG=50.00%
2025-10-31 10:28:00.818 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:00.819 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'AGG']
2025-10-31 10:28:00.819 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 331.67 shares worth $41,603.72
2025-10-31 10:28:00.819 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:00.820 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:00.820 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:00.820 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 403.07
2025-10-31 10:28:00.821 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 331.67
2025-10-31 10:28:00.821 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +71.40
2025-10-31 10:28:00.822 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.96
2025-10-31 10:28:00.822 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $8,969.32
2025-10-31 10:28:00.822 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 71.40 more shares at $125.50 (cost: $8,969.32)
2025-10-31 10:28:00.823 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.823 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,542.72
2025-10-31 10:28:00.823 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:00.824 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.99 ? $122.05 (slippage: 0.050%)
2025-10-31 10:28:00.824 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.00 confidence=1.00
2025-10-31 10:28:00.825 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 414.47
2025-10-31 10:28:00.825 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $50.58
2025-10-31 10:28:00.825 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $50,635.47
2025-10-31 10:28:00.826 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 413.71 @ $122.05
2025-10-31 10:28:00.826 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:00.826 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:00.827 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$59,512.04, Cash end=$-0.00
2025-10-31 10:28:00.827 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:00.827 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 294.56 shares @ $122.28 (Value: $36,018.85, P&L: $1,400.65)
2025-10-31 10:28:00.828 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:00.828 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 413.71 shares @ $122.05 (Value: $50,492.22)
2025-10-31 10:28:00.829 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.829 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $101,051.83
2025-10-31 10:28:00.829 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:00.830 | INFO     | src.backtesting.engine:run:336 -      Change: $-117.94
2025-10-31 10:28:00.830 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.831 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:00.832 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $101,719.44
2025-10-31 10:28:00.832 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:00.832 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.833 | INFO     | src.backtesting.engine:run:293 -      SPY: 403.07 shares @ $122.93 (Value: $49,547.82, P&L: $2,431.05)
2025-10-31 10:28:00.833 | INFO     | src.backtesting.engine:run:293 -      AGG: 413.71 shares @ $126.11 (Value: $52,171.62, P&L: $1,679.39)
2025-10-31 10:28:00.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:00.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:00.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:00.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:00.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:00.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:00.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:00.839 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['AGG', 'EFA']
2025-10-31 10:28:00.840 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.840 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:00.841 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 0.72)
2025-10-31 10:28:00.841 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:00.841 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 403.07 shares @ $122.93 (Value: $49,547.82, P&L: $2,431.05)
2025-10-31 10:28:00.842 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 403.07 @ $122.87 (P&L: $2,406.28)
2025-10-31 10:28:00.842 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $49,473.52
2025-10-31 10:28:00.843 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.843 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 413.71 shares @ $126.11 (Value: $52,171.62)
2025-10-31 10:28:00.843 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$101,719.44, Cash=$49,473.52, Comm=0.1000%, Slip=0.0500%, Scale=0.971773
2025-10-31 10:28:00.844 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:00.844 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:00.844 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['EFA']
2025-10-31 10:28:00.845 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 413.71 shares worth $52,171.62
2025-10-31 10:28:00.845 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:00.846 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:00.846 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:00.846 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 403.11
2025-10-31 10:28:00.847 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 413.71
2025-10-31 10:28:00.847 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -10.60
2025-10-31 10:28:00.847 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.34
2025-10-31 10:28:00.848 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1,336.65
2025-10-31 10:28:00.848 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 10.60 shares at $126.04 (proceeds: $1,335.31)
2025-10-31 10:28:00.848 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.849 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,808.83
2025-10-31 10:28:00.849 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:00.850 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.73 ? $123.80 (slippage: 0.050%)
2025-10-31 10:28:00.850 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.72 confidence=0.78
2025-10-31 10:28:00.850 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 410.83
2025-10-31 10:28:00.851 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $50.86
2025-10-31 10:28:00.851 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $50,910.58
2025-10-31 10:28:00.851 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 410.01 @ $123.80
2025-10-31 10:28:00.852 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:00.852 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:00.853 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52,145.48, Cash end=$-0.00
2025-10-31 10:28:00.853 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:00.853 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 403.07 shares @ $122.93 (Value: $49,547.82, P&L: $2,431.05)
2025-10-31 10:28:00.854 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:00.854 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 410.01 shares @ $123.80 (Value: $50,758.08)
2025-10-31 10:28:00.854 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.855 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $101,592.38
2025-10-31 10:28:00.855 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:00.855 | INFO     | src.backtesting.engine:run:336 -      Change: $-127.06
2025-10-31 10:28:00.856 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.857 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:00.858 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,122.36
2025-10-31 10:28:00.858 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:00.858 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.859 | INFO     | src.backtesting.engine:run:293 -      AGG: 403.11 shares @ $126.54 (Value: $51,008.67, P&L: $1,810.72)
2025-10-31 10:28:00.859 | INFO     | src.backtesting.engine:run:293 -      EFA: 410.01 shares @ $124.66 (Value: $51,113.68, P&L: $355.61)
2025-10-31 10:28:00.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:00.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:00.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:00.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:00.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:00.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:00.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:00.865 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['AGG', 'EFA']
2025-10-31 10:28:00.866 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.866 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:00.866 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 0.95)
2025-10-31 10:28:00.867 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.867 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 403.11 shares @ $126.54 (Value: $51,008.67)
2025-10-31 10:28:00.868 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 410.01 shares @ $124.66 (Value: $51,113.68)
2025-10-31 10:28:00.868 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$102,122.36, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:00.868 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:00.869 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:00.869 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['AGG']
2025-10-31 10:28:00.869 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 410.01 shares worth $51,113.68
2025-10-31 10:28:00.870 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:00.870 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $124.66 ? $124.73 (slippage: 0.050%)
2025-10-31 10:28:00.871 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.95 confidence=0.72
2025-10-31 10:28:00.871 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 409.39
2025-10-31 10:28:00.871 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 410.01
2025-10-31 10:28:00.872 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.63
2025-10-31 10:28:00.872 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.08
2025-10-31 10:28:00.872 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-77.98
2025-10-31 10:28:00.873 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.63 shares at $124.60 (proceeds: $77.91)
2025-10-31 10:28:00.873 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.874 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $77.91
2025-10-31 10:28:00.874 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 403.11 shares worth $51,008.67
2025-10-31 10:28:00.874 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD AGG [relative_top]
2025-10-31 10:28:00.875 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:00.875 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:00.875 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 403.32
2025-10-31 10:28:00.876 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 403.11
2025-10-31 10:28:00.876 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +0.21
2025-10-31 10:28:00.877 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.03
2025-10-31 10:28:00.877 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $27.03
2025-10-31 10:28:00.877 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting AGG: buying 0.21 more shares at $126.60 (cost: $27.03)
2025-10-31 10:28:00.878 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.878 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50.88
2025-10-31 10:28:00.878 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$105.01, Cash end=$50.88
2025-10-31 10:28:00.879 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:00.879 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.879 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,122.20
2025-10-31 10:28:00.880 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $50.88
2025-10-31 10:28:00.880 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.16
2025-10-31 10:28:00.880 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.882 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:00.882 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,246.79
2025-10-31 10:28:00.883 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $50.88
2025-10-31 10:28:00.883 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.883 | INFO     | src.backtesting.engine:run:293 -      AGG: 403.32 shares @ $124.91 (Value: $50,380.18, P&L: $1,156.20)
2025-10-31 10:28:00.884 | INFO     | src.backtesting.engine:run:293 -      EFA: 409.39 shares @ $121.68 (Value: $49,815.73, P&L: $-864.86)
2025-10-31 10:28:00.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.886 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:00.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:00.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:00.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:00.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:00.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:00.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:00.890 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'AGG']
2025-10-31 10:28:00.890 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.891 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:00.891 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.20)
2025-10-31 10:28:00.891 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:00.892 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 409.39 shares @ $121.68 (Value: $49,815.73, P&L: $-864.86)
2025-10-31 10:28:00.892 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 409.39 @ $121.62 (P&L: $-889.77)
2025-10-31 10:28:00.893 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $49,791.91
2025-10-31 10:28:00.893 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.893 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 403.32 shares @ $124.91 (Value: $50,380.18)
2025-10-31 10:28:00.894 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$100,246.79, Cash=$49,791.91, Comm=0.1000%, Slip=0.0500%, Scale=0.992394
2025-10-31 10:28:00.894 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%, AGG=50.00%
2025-10-31 10:28:00.894 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:00.895 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['SPY']
2025-10-31 10:28:00.895 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 403.32 shares worth $50,380.18
2025-10-31 10:28:00.896 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:00.896 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $124.91 ? $124.98 (slippage: 0.050%)
2025-10-31 10:28:00.896 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.20 confidence=0.94
2025-10-31 10:28:00.897 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 401.06
2025-10-31 10:28:00.897 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 403.32
2025-10-31 10:28:00.897 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -2.26
2025-10-31 10:28:00.898 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.28
2025-10-31 10:28:00.898 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-281.69
2025-10-31 10:28:00.898 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 2.26 shares at $124.85 (proceeds: $281.41)
2025-10-31 10:28:00.899 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.899 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,073.32
2025-10-31 10:28:00.900 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:00.900 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:00.900 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:00.901 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 381.80
2025-10-31 10:28:00.901 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $50.12
2025-10-31 10:28:00.901 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $50,173.52
2025-10-31 10:28:00.902 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 381.04 @ $131.28
2025-10-31 10:28:00.902 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:00.903 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:00.903 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$50,355.02, Cash end=$0.00
2025-10-31 10:28:00.903 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:00.904 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 409.39 shares @ $121.68 (Value: $49,815.73, P&L: $-864.86)
2025-10-31 10:28:00.904 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:00.904 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 381.04 shares @ $131.28 (Value: $50,023.30)
2025-10-31 10:28:00.905 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.905 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,121.65
2025-10-31 10:28:00.905 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:00.906 | INFO     | src.backtesting.engine:run:336 -      Change: $-125.14
2025-10-31 10:28:00.906 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.907 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:00.908 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,852.96
2025-10-31 10:28:00.908 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:00.908 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.909 | INFO     | src.backtesting.engine:run:293 -      AGG: 401.06 shares @ $129.94 (Value: $52,112.85, P&L: $3,164.24)
2025-10-31 10:28:00.909 | INFO     | src.backtesting.engine:run:293 -      SPY: 381.04 shares @ $127.91 (Value: $48,740.10, P&L: $-1,283.20)
2025-10-31 10:28:00.911 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:00.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:00.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:00.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:00.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:00.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:00.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:00.916 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['AGG', 'SPY']
2025-10-31 10:28:00.916 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.916 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:00.917 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.70)
2025-10-31 10:28:00.917 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.917 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 401.06 shares @ $129.94 (Value: $52,112.85)
2025-10-31 10:28:00.918 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 381.04 shares @ $127.91 (Value: $48,740.10)
2025-10-31 10:28:00.918 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$100,852.96, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=0.000000
2025-10-31 10:28:00.919 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%, AGG=50.00%
2025-10-31 10:28:00.919 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:00.919 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['SPY']
2025-10-31 10:28:00.920 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 401.06 shares worth $52,112.85
2025-10-31 10:28:00.920 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:00.920 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:00.921 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:00.921 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 387.89
2025-10-31 10:28:00.922 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 401.06
2025-10-31 10:28:00.922 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -13.17
2025-10-31 10:28:00.922 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.71
2025-10-31 10:28:00.923 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1,710.72
2025-10-31 10:28:00.923 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 13.17 shares at $129.87 (proceeds: $1,709.01)
2025-10-31 10:28:00.923 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.924 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $1,709.01
2025-10-31 10:28:00.924 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 381.04 shares worth $48,740.10
2025-10-31 10:28:00.925 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:00.925 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $127.91 ? $127.98 (slippage: 0.050%)
2025-10-31 10:28:00.925 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.70 confidence=0.79
2025-10-31 10:28:00.926 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 394.02
2025-10-31 10:28:00.926 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 381.04
2025-10-31 10:28:00.926 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +12.99
2025-10-31 10:28:00.927 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.66
2025-10-31 10:28:00.927 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $1,663.67
2025-10-31 10:28:00.927 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 12.99 more shares at $127.98 (cost: $1,663.67)
2025-10-31 10:28:00.928 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.928 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.34
2025-10-31 10:28:00.928 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$3,374.39, Cash end=$45.34
2025-10-31 10:28:00.929 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:00.929 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.930 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,847.90
2025-10-31 10:28:00.930 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.34
2025-10-31 10:28:00.930 | INFO     | src.backtesting.engine:run:336 -      Change: $-5.06
2025-10-31 10:28:00.931 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.932 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:00.932 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $101,583.25
2025-10-31 10:28:00.933 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.34
2025-10-31 10:28:00.933 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.934 | INFO     | src.backtesting.engine:run:293 -      AGG: 387.89 shares @ $128.76 (Value: $49,946.25, P&L: $2,605.28)
2025-10-31 10:28:00.934 | INFO     | src.backtesting.engine:run:293 -      SPY: 394.02 shares @ $130.94 (Value: $51,591.67, P&L: $-136.54)
2025-10-31 10:28:00.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.937 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.937 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:00.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:00.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:00.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:00.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:00.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:00.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:00.940 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'AGG']
2025-10-31 10:28:00.941 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.941 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:00.941 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.66)
2025-10-31 10:28:00.942 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.942 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 387.89 shares @ $128.76 (Value: $49,946.25)
2025-10-31 10:28:00.942 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 394.02 shares @ $130.94 (Value: $51,591.67)
2025-10-31 10:28:00.943 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$101,583.25, Cash=$45.34, Comm=0.1000%, Slip=0.0500%, Scale=0.053582
2025-10-31 10:28:00.943 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%, AGG=50.00%
2025-10-31 10:28:00.943 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:00.944 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['AGG']
2025-10-31 10:28:00.944 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 394.02 shares worth $51,591.67
2025-10-31 10:28:00.945 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:00.945 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:00.945 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:00.946 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 387.72
2025-10-31 10:28:00.946 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 394.02
2025-10-31 10:28:00.946 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -6.30
2025-10-31 10:28:00.947 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.83
2025-10-31 10:28:00.947 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-825.01
2025-10-31 10:28:00.948 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 6.30 shares at $130.87 (proceeds: $824.18)
2025-10-31 10:28:00.948 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.948 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $869.53
2025-10-31 10:28:00.949 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 387.89 shares worth $49,946.25
2025-10-31 10:28:00.949 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD AGG [relative_top]
2025-10-31 10:28:00.949 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.76 ? $128.83 (slippage: 0.050%)
2025-10-31 10:28:00.950 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.66 confidence=0.80
2025-10-31 10:28:00.950 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 394.26
2025-10-31 10:28:00.950 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 387.89
2025-10-31 10:28:00.951 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +6.37
2025-10-31 10:28:00.951 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.82
2025-10-31 10:28:00.952 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $821.23
2025-10-31 10:28:00.952 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting AGG: buying 6.37 more shares at $128.83 (cost: $821.23)
2025-10-31 10:28:00.952 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.953 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $48.30
2025-10-31 10:28:00.953 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$1,646.24, Cash end=$48.30
2025-10-31 10:28:00.953 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:00.954 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.954 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $101,580.79
2025-10-31 10:28:00.954 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $48.30
2025-10-31 10:28:00.955 | INFO     | src.backtesting.engine:run:336 -      Change: $-2.47
2025-10-31 10:28:00.955 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.957 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:00.957 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,360.41
2025-10-31 10:28:00.957 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $48.30
2025-10-31 10:28:00.958 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.958 | INFO     | src.backtesting.engine:run:293 -      AGG: 394.26 shares @ $128.52 (Value: $50,671.13, P&L: $2,552.94)
2025-10-31 10:28:00.958 | INFO     | src.backtesting.engine:run:293 -      SPY: 387.72 shares @ $128.03 (Value: $49,640.98, P&L: $-1,259.62)
2025-10-31 10:28:00.960 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:00.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:00.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:00.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:00.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:00.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:00.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:00.965 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['AGG', 'SPY']
2025-10-31 10:28:00.965 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.965 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:00.966 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.88)
2025-10-31 10:28:00.966 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.966 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 394.26 shares @ $128.52 (Value: $50,671.13)
2025-10-31 10:28:00.967 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 387.72 shares @ $128.03 (Value: $49,640.98)
2025-10-31 10:28:00.967 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$100,360.41, Cash=$48.30, Comm=0.1000%, Slip=0.0500%, Scale=0.089480
2025-10-31 10:28:00.968 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%, AGG=50.00%
2025-10-31 10:28:00.968 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:00.968 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['SPY']
2025-10-31 10:28:00.969 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 394.26 shares worth $50,671.13
2025-10-31 10:28:00.969 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:00.969 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:00.970 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:00.970 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 390.24
2025-10-31 10:28:00.971 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 394.26
2025-10-31 10:28:00.971 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -4.01
2025-10-31 10:28:00.971 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.52
2025-10-31 10:28:00.972 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-515.75
2025-10-31 10:28:00.972 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 4.01 shares at $128.46 (proceeds: $515.23)
2025-10-31 10:28:00.972 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.973 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $563.53
2025-10-31 10:28:00.973 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 387.72 shares worth $49,640.98
2025-10-31 10:28:00.974 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:00.974 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.03 ? $128.10 (slippage: 0.050%)
2025-10-31 10:28:00.974 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.88 confidence=0.74
2025-10-31 10:28:00.975 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 391.74
2025-10-31 10:28:00.975 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 387.72
2025-10-31 10:28:00.975 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +4.02
2025-10-31 10:28:00.976 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.51
2025-10-31 10:28:00.976 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $514.92
2025-10-31 10:28:00.976 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 4.02 more shares at $128.10 (cost: $514.92)
2025-10-31 10:28:00.977 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:00.977 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $48.61
2025-10-31 10:28:00.978 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$1,030.66, Cash end=$48.61
2025-10-31 10:28:00.978 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:00.978 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:00.979 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,358.87
2025-10-31 10:28:00.979 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $48.61
2025-10-31 10:28:00.979 | INFO     | src.backtesting.engine:run:336 -      Change: $-1.55
2025-10-31 10:28:00.980 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:00.981 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:00.982 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,712.88
2025-10-31 10:28:00.982 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $48.61
2025-10-31 10:28:00.982 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:00.983 | INFO     | src.backtesting.engine:run:293 -      AGG: 390.24 shares @ $128.23 (Value: $50,041.52, P&L: $2,413.34)
2025-10-31 10:28:00.983 | INFO     | src.backtesting.engine:run:293 -      SPY: 391.74 shares @ $129.23 (Value: $50,622.75, P&L: $-805.04)
2025-10-31 10:28:00.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:00.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:00.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:00.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:00.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:00.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:00.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:00.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:00.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:00.989 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['AGG', 'EFA']
2025-10-31 10:28:00.990 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:00.990 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:00.990 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 0.85)
2025-10-31 10:28:00.991 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:00.991 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 391.74 shares @ $129.23 (Value: $50,622.75, P&L: $-805.04)
2025-10-31 10:28:00.992 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 391.74 @ $129.16 (P&L: $-830.36)
2025-10-31 10:28:00.992 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $50,595.45
2025-10-31 10:28:00.992 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:00.993 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 390.24 shares @ $128.23 (Value: $50,041.52)
2025-10-31 10:28:00.993 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$100,712.88, Cash=$50,595.45, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:00.993 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:00.994 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:00.994 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA', 'AGG']
2025-10-31 10:28:00.995 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:00.995 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.45 ? $129.52 (slippage: 0.050%)
2025-10-31 10:28:00.995 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.85 confidence=0.74
2025-10-31 10:28:00.996 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 388.80
2025-10-31 10:28:00.996 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $50.36
2025-10-31 10:28:00.996 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $50,406.80
2025-10-31 10:28:00.997 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 388.80 @ $129.52
2025-10-31 10:28:00.997 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:00.998 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $188.65
2025-10-31 10:28:00.998 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 390.24 shares worth $50,041.52
2025-10-31 10:28:00.998 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD AGG [relative_top]
2025-10-31 10:28:00.999 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:00.999 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:01.000 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 392.50
2025-10-31 10:28:01.000 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 390.24
2025-10-31 10:28:01.000 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +2.26
2025-10-31 10:28:01.001 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.29
2025-10-31 10:28:01.001 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $290.19
2025-10-31 10:28:01.001 | WARNING  | src.backtesting.engine:_execute_signals:1079 -      ??  Cannot fully adjust AGG - insufficient cash
2025-10-31 10:28:01.002 | WARNING  | src.backtesting.engine:_execute_signals:1080 -         Required: $290.19, Available: $188.65
2025-10-31 10:28:01.002 | INFO     | src.backtesting.engine:_execute_signals:1088 -         Adjusted to partial increase: 391.71 shares
2025-10-31 10:28:01.003 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting AGG: buying 1.47 more shares at $128.30 (cost: $188.65)
2025-10-31 10:28:01.003 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.003 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:01.004 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$50,595.45, Cash end=$0.00
2025-10-31 10:28:01.004 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.004 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 391.74 shares @ $129.23 (Value: $50,622.75, P&L: $-805.04)
2025-10-31 10:28:01.005 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.005 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 388.80 shares @ $129.52 (Value: $50,356.44)
2025-10-31 10:28:01.005 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.006 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,586.34
2025-10-31 10:28:01.006 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:01.007 | INFO     | src.backtesting.engine:run:336 -      Change: $-126.55
2025-10-31 10:28:01.007 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.008 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:01.009 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,212.16
2025-10-31 10:28:01.009 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:01.009 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.010 | INFO     | src.backtesting.engine:run:293 -      AGG: 391.71 shares @ $135.28 (Value: $52,989.57, P&L: $5,182.09)
2025-10-31 10:28:01.010 | INFO     | src.backtesting.engine:run:293 -      EFA: 388.80 shares @ $129.17 (Value: $50,222.60, P&L: $-133.85)
2025-10-31 10:28:01.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:01.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:01.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:01.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:01.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:01.016 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:01.016 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:01.017 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'AGG']
2025-10-31 10:28:01.017 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.017 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.018 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.98)
2025-10-31 10:28:01.018 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.018 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 391.71 shares @ $135.28 (Value: $52,989.57)
2025-10-31 10:28:01.019 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 388.80 shares @ $129.17 (Value: $50,222.60)
2025-10-31 10:28:01.019 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$103,212.16, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=0.000000
2025-10-31 10:28:01.020 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:01.020 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:01.020 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['EFA']
2025-10-31 10:28:01.021 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 391.71 shares worth $52,989.57
2025-10-31 10:28:01.021 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:01.022 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.28 ? $135.34 (slippage: 0.050%)
2025-10-31 10:28:01.022 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.98 confidence=0.71
2025-10-31 10:28:01.022 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 381.30
2025-10-31 10:28:01.023 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 391.71
2025-10-31 10:28:01.023 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -10.42
2025-10-31 10:28:01.023 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.41
2025-10-31 10:28:01.024 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1,408.57
2025-10-31 10:28:01.024 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 10.42 shares at $135.21 (proceeds: $1,407.16)
2025-10-31 10:28:01.025 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.025 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $1,407.16
2025-10-31 10:28:01.025 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 388.80 shares worth $50,222.60
2025-10-31 10:28:01.026 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD EFA [relative_top]
2025-10-31 10:28:01.026 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:01.026 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:01.027 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 399.31
2025-10-31 10:28:01.027 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 388.80
2025-10-31 10:28:01.028 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +10.51
2025-10-31 10:28:01.029 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.36
2025-10-31 10:28:01.029 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $1,359.73
2025-10-31 10:28:01.029 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting EFA: buying 10.51 more shares at $129.24 (cost: $1,359.73)
2025-10-31 10:28:01.030 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.030 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.43
2025-10-31 10:28:01.030 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$2,768.30, Cash end=$47.43
2025-10-31 10:28:01.031 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.031 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.032 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,208.01
2025-10-31 10:28:01.032 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.43
2025-10-31 10:28:01.032 | INFO     | src.backtesting.engine:run:336 -      Change: $-4.15
2025-10-31 10:28:01.033 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.034 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:01.034 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $101,407.05
2025-10-31 10:28:01.035 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.43
2025-10-31 10:28:01.035 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.036 | INFO     | src.backtesting.engine:run:293 -      AGG: 381.30 shares @ $129.31 (Value: $49,303.96, P&L: $2,767.94)
2025-10-31 10:28:01.036 | INFO     | src.backtesting.engine:run:293 -      EFA: 399.31 shares @ $130.36 (Value: $52,055.66, P&L: $337.91)
2025-10-31 10:28:01.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.039 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.039 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:01.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:01.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:01.041 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:01.041 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:01.042 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:01.042 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:01.042 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'EFA']
2025-10-31 10:28:01.043 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.043 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:01.043 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 0.96)
2025-10-31 10:28:01.044 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.044 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 381.30 shares @ $129.31 (Value: $49,303.96, P&L: $2,767.94)
2025-10-31 10:28:01.045 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 381.30 @ $129.24 (P&L: $2,743.29)
2025-10-31 10:28:01.045 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $49,277.46
2025-10-31 10:28:01.045 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.046 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 399.31 shares @ $130.36 (Value: $52,055.66)
2025-10-31 10:28:01.046 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$101,407.05, Cash=$49,277.46, Comm=0.1000%, Slip=0.0500%, Scale=0.950207
2025-10-31 10:28:01.046 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=51.09%, EFA=48.91%
2025-10-31 10:28:01.047 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.047 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['SPY']
2025-10-31 10:28:01.048 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 399.31 shares worth $52,055.66
2025-10-31 10:28:01.048 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:01.048 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.36 ? $130.43 (slippage: 0.050%)
2025-10-31 10:28:01.049 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.96 confidence=0.71
2025-10-31 10:28:01.049 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 380.28
2025-10-31 10:28:01.049 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 399.31
2025-10-31 10:28:01.050 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -19.03
2025-10-31 10:28:01.050 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $2.48
2025-10-31 10:28:01.050 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-2,480.04
2025-10-31 10:28:01.051 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 19.03 shares at $130.30 (proceeds: $2,477.56)
2025-10-31 10:28:01.051 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.052 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $51,755.02
2025-10-31 10:28:01.052 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:01.052 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:01.053 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:01.053 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 392.00
2025-10-31 10:28:01.054 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $51.81
2025-10-31 10:28:01.054 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $51,859.70
2025-10-31 10:28:01.054 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 391.21 @ $132.16
2025-10-31 10:28:01.055 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.055 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.055 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$54,235.07, Cash end=$-0.00
2025-10-31 10:28:01.056 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.056 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 381.30 shares @ $129.31 (Value: $49,303.96, P&L: $2,767.94)
2025-10-31 10:28:01.057 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.057 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 391.21 shares @ $132.16 (Value: $51,703.32)
2025-10-31 10:28:01.057 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.058 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $101,277.70
2025-10-31 10:28:01.058 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.058 | INFO     | src.backtesting.engine:run:336 -      Change: $-129.36
2025-10-31 10:28:01.059 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.060 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:01.061 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,021.06
2025-10-31 10:28:01.061 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.061 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.062 | INFO     | src.backtesting.engine:run:293 -      EFA: 380.28 shares @ $132.01 (Value: $50,199.76, P&L: $947.18)
2025-10-31 10:28:01.062 | INFO     | src.backtesting.engine:run:293 -      SPY: 391.21 shares @ $132.46 (Value: $51,821.30, P&L: $117.98)
2025-10-31 10:28:01.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:01.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:01.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:01.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:01.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:01.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:01.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:01.068 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'SPY']
2025-10-31 10:28:01.069 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.069 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.070 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.99)
2025-10-31 10:28:01.070 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.070 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 380.28 shares @ $132.01 (Value: $50,199.76)
2025-10-31 10:28:01.071 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 391.21 shares @ $132.46 (Value: $51,821.30)
2025-10-31 10:28:01.071 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$102,021.06, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:01.071 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.18%, SPY=49.82%
2025-10-31 10:28:01.072 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:01.072 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA']
2025-10-31 10:28:01.073 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 391.21 shares worth $51,821.30
2025-10-31 10:28:01.073 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:01.073 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.46 ? $132.53 (slippage: 0.050%)
2025-10-31 10:28:01.074 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.99 confidence=0.70
2025-10-31 10:28:01.074 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 383.48
2025-10-31 10:28:01.074 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 391.21
2025-10-31 10:28:01.075 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -7.73
2025-10-31 10:28:01.075 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.02
2025-10-31 10:28:01.076 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1,023.32
2025-10-31 10:28:01.076 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 7.73 shares at $132.40 (proceeds: $1,022.30)
2025-10-31 10:28:01.076 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.077 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $1,022.30
2025-10-31 10:28:01.077 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 380.28 shares worth $50,199.76
2025-10-31 10:28:01.078 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD EFA [relative_top]
2025-10-31 10:28:01.078 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:01.078 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:01.079 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 387.64
2025-10-31 10:28:01.079 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 380.28
2025-10-31 10:28:01.079 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +7.37
2025-10-31 10:28:01.080 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.97
2025-10-31 10:28:01.080 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $974.31
2025-10-31 10:28:01.080 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting EFA: buying 7.37 more shares at $132.08 (cost: $974.31)
2025-10-31 10:28:01.081 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.081 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.99
2025-10-31 10:28:01.082 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$1,997.64, Cash end=$47.99
2025-10-31 10:28:01.082 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.082 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.083 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,018.07
2025-10-31 10:28:01.083 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.99
2025-10-31 10:28:01.083 | INFO     | src.backtesting.engine:run:336 -      Change: $-3.00
2025-10-31 10:28:01.084 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.085 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:01.086 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,097.42
2025-10-31 10:28:01.086 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.99
2025-10-31 10:28:01.086 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.087 | INFO     | src.backtesting.engine:run:293 -      EFA: 387.64 shares @ $134.09 (Value: $51,980.25, P&L: $1,773.18)
2025-10-31 10:28:01.087 | INFO     | src.backtesting.engine:run:293 -      SPY: 383.48 shares @ $135.78 (Value: $52,069.17, P&L: $1,387.36)
2025-10-31 10:28:01.089 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.089 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.090 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.090 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.091 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:01.091 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:01.092 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:01.092 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:01.092 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:01.093 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:01.093 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:01.093 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'EFA']
2025-10-31 10:28:01.094 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.094 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:01.094 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 0.91)
2025-10-31 10:28:01.095 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.095 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 387.64 shares @ $134.09 (Value: $51,980.25)
2025-10-31 10:28:01.096 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 383.48 shares @ $135.78 (Value: $52,069.17)
2025-10-31 10:28:01.096 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$104,097.42, Cash=$47.99, Comm=0.1000%, Slip=0.0500%, Scale=0.018725
2025-10-31 10:28:01.096 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=52.48%, EFA=47.52%
2025-10-31 10:28:01.097 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:01.097 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['SPY']
2025-10-31 10:28:01.098 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 387.64 shares worth $51,980.25
2025-10-31 10:28:01.098 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:01.098 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $134.09 ? $134.16 (slippage: 0.050%)
2025-10-31 10:28:01.099 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.91 confidence=0.73
2025-10-31 10:28:01.099 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 368.72
2025-10-31 10:28:01.099 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 387.64
2025-10-31 10:28:01.100 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -18.92
2025-10-31 10:28:01.100 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $2.54
2025-10-31 10:28:01.100 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-2,535.81
2025-10-31 10:28:01.101 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 18.92 shares at $134.03 (proceeds: $2,533.27)
2025-10-31 10:28:01.101 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.102 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $2,581.26
2025-10-31 10:28:01.102 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 383.48 shares worth $52,069.17
2025-10-31 10:28:01.102 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:01.103 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:01.103 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:01.104 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 402.14
2025-10-31 10:28:01.104 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 383.48
2025-10-31 10:28:01.104 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +18.66
2025-10-31 10:28:01.105 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $2.53
2025-10-31 10:28:01.105 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $2,536.84
2025-10-31 10:28:01.105 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 18.66 more shares at $135.85 (cost: $2,536.84)
2025-10-31 10:28:01.106 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.106 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.42
2025-10-31 10:28:01.106 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$5,072.65, Cash end=$44.42
2025-10-31 10:28:01.107 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.107 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.108 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,089.81
2025-10-31 10:28:01.108 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.42
2025-10-31 10:28:01.108 | INFO     | src.backtesting.engine:run:336 -      Change: $-7.61
2025-10-31 10:28:01.109 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.110 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:01.110 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $106,043.66
2025-10-31 10:28:01.111 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.42
2025-10-31 10:28:01.111 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.112 | INFO     | src.backtesting.engine:run:293 -      EFA: 368.72 shares @ $136.32 (Value: $50,265.74, P&L: $2,509.20)
2025-10-31 10:28:01.112 | INFO     | src.backtesting.engine:run:293 -      SPY: 402.14 shares @ $138.59 (Value: $55,733.50, P&L: $2,586.13)
2025-10-31 10:28:01.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.115 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.115 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.116 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:01.116 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:01.116 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:01.117 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:01.117 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:01.118 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:01.118 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:01.118 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'SPY']
2025-10-31 10:28:01.119 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.119 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.119 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.63)
2025-10-31 10:28:01.120 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.120 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 368.72 shares @ $136.32 (Value: $50,265.74)
2025-10-31 10:28:01.120 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 402.14 shares @ $138.59 (Value: $55,733.50)
2025-10-31 10:28:01.121 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$106,043.66, Cash=$44.42, Comm=0.1000%, Slip=0.0500%, Scale=0.002985
2025-10-31 10:28:01.121 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=61.42%, SPY=38.58%
2025-10-31 10:28:01.122 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:01.122 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA']
2025-10-31 10:28:01.122 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 402.14 shares worth $55,733.50
2025-10-31 10:28:01.123 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:01.123 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $138.59 ? $138.66 (slippage: 0.050%)
2025-10-31 10:28:01.124 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.63 confidence=0.81
2025-10-31 10:28:01.124 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 295.05
2025-10-31 10:28:01.124 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 402.14
2025-10-31 10:28:01.125 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -107.09
2025-10-31 10:28:01.125 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $14.85
2025-10-31 10:28:01.125 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-14,834.08
2025-10-31 10:28:01.126 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 107.09 shares at $138.52 (proceeds: $14,819.25)
2025-10-31 10:28:01.126 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.127 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $14,863.67
2025-10-31 10:28:01.127 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 368.72 shares worth $50,265.74
2025-10-31 10:28:01.127 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD EFA [relative_top]
2025-10-31 10:28:01.128 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:01.128 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:01.128 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 477.53
2025-10-31 10:28:01.129 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 368.72
2025-10-31 10:28:01.129 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +108.81
2025-10-31 10:28:01.129 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $14.84
2025-10-31 10:28:01.130 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $14,855.19
2025-10-31 10:28:01.130 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting EFA: buying 108.81 more shares at $136.39 (cost: $14,855.19)
2025-10-31 10:28:01.131 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.131 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $8.48
2025-10-31 10:28:01.131 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$29,689.27, Cash end=$8.48
2025-10-31 10:28:01.132 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.132 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.132 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $105,999.15
2025-10-31 10:28:01.133 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $8.48
2025-10-31 10:28:01.133 | INFO     | src.backtesting.engine:run:336 -      Change: $-44.51
2025-10-31 10:28:01.133 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.135 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:01.135 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $105,483.12
2025-10-31 10:28:01.136 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $8.48
2025-10-31 10:28:01.136 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.136 | INFO     | src.backtesting.engine:run:293 -      EFA: 477.53 shares @ $137.94 (Value: $65,869.04, P&L: $4,020.01)
2025-10-31 10:28:01.137 | INFO     | src.backtesting.engine:run:293 -      SPY: 295.05 shares @ $134.23 (Value: $39,605.59, P&L: $611.06)
2025-10-31 10:28:01.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.140 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.140 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:01.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:01.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:01.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:01.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:01.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:01.143 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:01.143 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'SPY']
2025-10-31 10:28:01.144 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.144 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.144 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.99)
2025-10-31 10:28:01.145 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.145 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 477.53 shares @ $137.94 (Value: $65,869.04)
2025-10-31 10:28:01.145 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 295.05 shares @ $134.23 (Value: $39,605.59)
2025-10-31 10:28:01.146 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$105,483.12, Cash=$8.48, Comm=0.1000%, Slip=0.0500%, Scale=0.000662
2025-10-31 10:28:01.146 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.32%, SPY=49.68%
2025-10-31 10:28:01.147 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:01.147 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['SPY']
2025-10-31 10:28:01.147 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 477.53 shares worth $65,869.04
2025-10-31 10:28:01.148 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:01.148 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:01.149 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:01.149 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 384.62
2025-10-31 10:28:01.149 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 477.53
2025-10-31 10:28:01.150 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -92.91
2025-10-31 10:28:01.150 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.82
2025-10-31 10:28:01.150 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-12,809.18
2025-10-31 10:28:01.151 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 92.91 shares at $137.87 (proceeds: $12,796.38)
2025-10-31 10:28:01.151 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.152 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,804.86
2025-10-31 10:28:01.152 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 295.05 shares worth $39,605.59
2025-10-31 10:28:01.152 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:01.153 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $134.23 ? $134.30 (slippage: 0.050%)
2025-10-31 10:28:01.153 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.99 confidence=0.70
2025-10-31 10:28:01.153 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 390.19
2025-10-31 10:28:01.154 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 295.05
2025-10-31 10:28:01.154 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +95.14
2025-10-31 10:28:01.154 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.78
2025-10-31 10:28:01.155 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $12,790.53
2025-10-31 10:28:01.155 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 95.14 more shares at $134.30 (cost: $12,790.53)
2025-10-31 10:28:01.156 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.156 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $14.33
2025-10-31 10:28:01.156 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$25,599.71, Cash end=$14.33
2025-10-31 10:28:01.157 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.157 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.157 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $105,444.74
2025-10-31 10:28:01.158 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $14.33
2025-10-31 10:28:01.158 | INFO     | src.backtesting.engine:run:336 -      Change: $-38.38
2025-10-31 10:28:01.159 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.160 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:01.160 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $106,600.13
2025-10-31 10:28:01.161 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $14.33
2025-10-31 10:28:01.161 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.161 | INFO     | src.backtesting.engine:run:293 -      EFA: 384.62 shares @ $137.43 (Value: $52,859.45, P&L: $3,043.87)
2025-10-31 10:28:01.162 | INFO     | src.backtesting.engine:run:293 -      SPY: 390.19 shares @ $137.69 (Value: $53,726.34, P&L: $2,157.50)
2025-10-31 10:28:01.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:01.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:01.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:01.167 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:01.167 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:01.167 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:01.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:01.168 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['AGG', 'SPY']
2025-10-31 10:28:01.169 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.169 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:01.169 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.44)
2025-10-31 10:28:01.170 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.170 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 384.62 shares @ $137.43 (Value: $52,859.45, P&L: $3,043.87)
2025-10-31 10:28:01.170 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 384.62 @ $137.36 (P&L: $3,017.44)
2025-10-31 10:28:01.171 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $52,794.52
2025-10-31 10:28:01.171 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.172 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 390.19 shares @ $137.69 (Value: $53,726.34)
2025-10-31 10:28:01.172 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$106,600.13, Cash=$52,794.52, Comm=0.1000%, Slip=0.0500%, Scale=0.989526
2025-10-31 10:28:01.172 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%, AGG=50.00%
2025-10-31 10:28:01.173 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.173 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['AGG']
2025-10-31 10:28:01.173 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 390.19 shares worth $53,726.34
2025-10-31 10:28:01.174 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:01.174 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.69 ? $137.76 (slippage: 0.050%)
2025-10-31 10:28:01.175 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.44 confidence=0.87
2025-10-31 10:28:01.175 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 386.90
2025-10-31 10:28:01.175 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 390.19
2025-10-31 10:28:01.176 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -3.29
2025-10-31 10:28:01.176 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.45
2025-10-31 10:28:01.176 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-452.69
2025-10-31 10:28:01.177 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 3.29 shares at $137.62 (proceeds: $452.24)
2025-10-31 10:28:01.177 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.178 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $53,246.76
2025-10-31 10:28:01.178 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:01.178 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:01.179 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:01.179 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 377.46
2025-10-31 10:28:01.179 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $53.30
2025-10-31 10:28:01.180 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $53,353.36
2025-10-31 10:28:01.180 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 376.71 @ $141.21
2025-10-31 10:28:01.181 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.181 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.181 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$53,699.45, Cash end=$-0.00
2025-10-31 10:28:01.182 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.182 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 384.62 shares @ $137.43 (Value: $52,859.45, P&L: $3,043.87)
2025-10-31 10:28:01.182 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.183 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 376.71 shares @ $141.21 (Value: $53,193.57)
2025-10-31 10:28:01.183 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.184 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $106,466.99
2025-10-31 10:28:01.184 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.184 | INFO     | src.backtesting.engine:run:336 -      Change: $-133.14
2025-10-31 10:28:01.185 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.186 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:01.186 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $106,362.48
2025-10-31 10:28:01.187 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.187 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.188 | INFO     | src.backtesting.engine:run:293 -      SPY: 386.90 shares @ $137.09 (Value: $53,039.67, P&L: $1,905.55)
2025-10-31 10:28:01.188 | INFO     | src.backtesting.engine:run:293 -      AGG: 376.71 shares @ $141.55 (Value: $53,322.81, P&L: $129.24)
2025-10-31 10:28:01.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:01.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:01.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:01.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:01.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:01.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:01.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:01.194 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'AGG']
2025-10-31 10:28:01.195 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.195 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.195 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.69)
2025-10-31 10:28:01.196 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.196 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 386.90 shares @ $137.09 (Value: $53,039.67, P&L: $1,905.55)
2025-10-31 10:28:01.197 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 386.90 @ $137.02 (P&L: $1,879.03)
2025-10-31 10:28:01.197 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $52,960.14
2025-10-31 10:28:01.197 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.198 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 376.71 shares @ $141.55 (Value: $53,322.81)
2025-10-31 10:28:01.198 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$106,362.48, Cash=$52,960.14, Comm=0.1000%, Slip=0.0500%, Scale=0.994848
2025-10-31 10:28:01.198 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:01.199 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.199 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['EFA']
2025-10-31 10:28:01.200 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 376.71 shares worth $53,322.81
2025-10-31 10:28:01.200 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:01.200 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.55 ? $141.62 (slippage: 0.050%)
2025-10-31 10:28:01.201 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.69 confidence=0.79
2025-10-31 10:28:01.201 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 375.52
2025-10-31 10:28:01.201 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 376.71
2025-10-31 10:28:01.202 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -1.19
2025-10-31 10:28:01.202 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.17
2025-10-31 10:28:01.202 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-168.06
2025-10-31 10:28:01.203 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 1.19 shares at $141.48 (proceeds: $167.90)
2025-10-31 10:28:01.203 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.204 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $53,128.03
2025-10-31 10:28:01.204 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:01.204 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:01.205 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:01.205 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 379.24
2025-10-31 10:28:01.206 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $53.18
2025-10-31 10:28:01.206 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $53,234.42
2025-10-31 10:28:01.206 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 378.48 @ $140.23
2025-10-31 10:28:01.207 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.207 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.207 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$53,296.09, Cash end=$-0.00
2025-10-31 10:28:01.208 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.208 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 386.90 shares @ $137.09 (Value: $53,039.67, P&L: $1,905.55)
2025-10-31 10:28:01.209 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.209 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 378.48 shares @ $140.23 (Value: $53,074.96)
2025-10-31 10:28:01.209 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.210 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $106,229.62
2025-10-31 10:28:01.210 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.210 | INFO     | src.backtesting.engine:run:336 -      Change: $-132.86
2025-10-31 10:28:01.211 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.212 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:01.212 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $105,540.86
2025-10-31 10:28:01.213 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.213 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.214 | INFO     | src.backtesting.engine:run:293 -      AGG: 375.52 shares @ $141.09 (Value: $52,983.94, P&L: $-41.89)
2025-10-31 10:28:01.214 | INFO     | src.backtesting.engine:run:293 -      EFA: 378.48 shares @ $138.86 (Value: $52,556.93, P&L: $-518.03)
2025-10-31 10:28:01.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.217 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.217 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.218 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:01.218 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:01.218 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:01.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:01.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:01.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:01.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:01.220 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'AGG']
2025-10-31 10:28:01.221 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.221 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:01.221 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.67)
2025-10-31 10:28:01.222 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.222 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 378.48 shares @ $138.86 (Value: $52,556.93, P&L: $-518.03)
2025-10-31 10:28:01.223 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 378.48 @ $138.79 (P&L: $-544.31)
2025-10-31 10:28:01.223 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $52,478.12
2025-10-31 10:28:01.223 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.224 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 375.52 shares @ $141.09 (Value: $52,983.94)
2025-10-31 10:28:01.224 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$105,540.86, Cash=$52,478.12, Comm=0.1000%, Slip=0.0500%, Scale=0.993467
2025-10-31 10:28:01.224 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%, AGG=50.00%
2025-10-31 10:28:01.225 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.225 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['SPY']
2025-10-31 10:28:01.226 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 375.52 shares worth $52,983.94
2025-10-31 10:28:01.226 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:01.226 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.09 ? $141.16 (slippage: 0.050%)
2025-10-31 10:28:01.227 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.67 confidence=0.80
2025-10-31 10:28:01.227 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 373.82
2025-10-31 10:28:01.227 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 375.52
2025-10-31 10:28:01.228 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -1.70
2025-10-31 10:28:01.228 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.24
2025-10-31 10:28:01.229 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-239.76
2025-10-31 10:28:01.229 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 1.70 shares at $141.02 (proceeds: $239.52)
2025-10-31 10:28:01.229 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.230 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,717.63
2025-10-31 10:28:01.230 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:01.230 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:01.231 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:01.231 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 372.55
2025-10-31 10:28:01.232 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $52.77
2025-10-31 10:28:01.232 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $52,823.20
2025-10-31 10:28:01.232 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 371.81 @ $141.65
2025-10-31 10:28:01.233 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.233 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.234 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52,957.39, Cash end=$-0.00
2025-10-31 10:28:01.234 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.234 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 378.48 shares @ $138.86 (Value: $52,556.93, P&L: $-518.03)
2025-10-31 10:28:01.235 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.235 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 371.81 shares @ $141.65 (Value: $52,664.97)
2025-10-31 10:28:01.235 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.236 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $105,409.03
2025-10-31 10:28:01.236 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.236 | INFO     | src.backtesting.engine:run:336 -      Change: $-131.83
2025-10-31 10:28:01.237 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.238 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:01.239 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,188.41
2025-10-31 10:28:01.239 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.239 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.240 | INFO     | src.backtesting.engine:run:293 -      AGG: 373.82 shares @ $138.13 (Value: $51,636.55, P&L: $-1,149.21)
2025-10-31 10:28:01.240 | INFO     | src.backtesting.engine:run:293 -      SPY: 371.81 shares @ $138.65 (Value: $51,551.87, P&L: $-1,113.10)
2025-10-31 10:28:01.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:01.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:01.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:01.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:01.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:01.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:01.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:01.246 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'AGG']
2025-10-31 10:28:01.247 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.247 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.248 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.88)
2025-10-31 10:28:01.248 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.248 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 371.81 shares @ $138.65 (Value: $51,551.87, P&L: $-1,113.10)
2025-10-31 10:28:01.249 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 371.81 @ $138.58 (P&L: $-1,138.88)
2025-10-31 10:28:01.249 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $51,474.56
2025-10-31 10:28:01.249 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.250 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 373.82 shares @ $138.13 (Value: $51,636.55)
2025-10-31 10:28:01.250 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$103,188.41, Cash=$51,474.56, Comm=0.1000%, Slip=0.0500%, Scale=0.996684
2025-10-31 10:28:01.251 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:01.251 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.251 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['EFA']
2025-10-31 10:28:01.252 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 373.82 shares worth $51,636.55
2025-10-31 10:28:01.252 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:01.252 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $138.13 ? $138.20 (slippage: 0.050%)
2025-10-31 10:28:01.253 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.88 confidence=0.74
2025-10-31 10:28:01.253 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 373.33
2025-10-31 10:28:01.254 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 373.82
2025-10-31 10:28:01.254 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.49
2025-10-31 10:28:01.254 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.07
2025-10-31 10:28:01.255 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-68.09
2025-10-31 10:28:01.255 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.49 shares at $138.06 (proceeds: $68.02)
2025-10-31 10:28:01.255 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.256 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $51,542.59
2025-10-31 10:28:01.256 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:01.257 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:01.257 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:01.257 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 373.71
2025-10-31 10:28:01.258 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $51.59
2025-10-31 10:28:01.258 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $51,645.80
2025-10-31 10:28:01.259 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 372.97 @ $138.06
2025-10-31 10:28:01.259 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.259 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.260 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$51,610.68, Cash end=$-0.00
2025-10-31 10:28:01.260 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.260 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 371.81 shares @ $138.65 (Value: $51,551.87, P&L: $-1,113.10)
2025-10-31 10:28:01.261 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.261 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 372.97 shares @ $138.06 (Value: $51,491.10)
2025-10-31 10:28:01.261 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.262 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,059.52
2025-10-31 10:28:01.262 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.263 | INFO     | src.backtesting.engine:run:336 -      Change: $-128.90
2025-10-31 10:28:01.263 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.264 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:01.265 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $105,925.83
2025-10-31 10:28:01.265 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.265 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.266 | INFO     | src.backtesting.engine:run:293 -      AGG: 373.33 shares @ $139.74 (Value: $52,170.73, P&L: $-545.39)
2025-10-31 10:28:01.266 | INFO     | src.backtesting.engine:run:293 -      EFA: 372.97 shares @ $144.13 (Value: $53,755.10, P&L: $2,264.00)
2025-10-31 10:28:01.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.270 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:01.270 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:01.271 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:01.271 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:01.271 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:01.272 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:01.272 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:01.273 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'AGG']
2025-10-31 10:28:01.273 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.273 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.274 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.99)
2025-10-31 10:28:01.274 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.274 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 373.33 shares @ $139.74 (Value: $52,170.73)
2025-10-31 10:28:01.275 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 372.97 shares @ $144.13 (Value: $53,755.10)
2025-10-31 10:28:01.275 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$105,925.83, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:01.276 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:01.276 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:01.276 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['AGG']
2025-10-31 10:28:01.277 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 372.97 shares worth $53,755.10
2025-10-31 10:28:01.277 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:01.278 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:01.278 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:01.278 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 367.29
2025-10-31 10:28:01.279 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 372.97
2025-10-31 10:28:01.279 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -5.68
2025-10-31 10:28:01.279 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.82
2025-10-31 10:28:01.280 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-818.24
2025-10-31 10:28:01.280 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 5.68 shares at $144.06 (proceeds: $817.43)
2025-10-31 10:28:01.280 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.281 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $817.43
2025-10-31 10:28:01.281 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 373.33 shares worth $52,170.73
2025-10-31 10:28:01.282 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD AGG [relative_top]
2025-10-31 10:28:01.282 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $139.74 ? $139.81 (slippage: 0.050%)
2025-10-31 10:28:01.282 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.99 confidence=0.70
2025-10-31 10:28:01.283 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 378.81
2025-10-31 10:28:01.283 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 373.33
2025-10-31 10:28:01.283 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +5.48
2025-10-31 10:28:01.284 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.77
2025-10-31 10:28:01.284 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $766.87
2025-10-31 10:28:01.285 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting AGG: buying 5.48 more shares at $139.81 (cost: $766.87)
2025-10-31 10:28:01.285 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.285 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50.56
2025-10-31 10:28:01.286 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$1,585.11, Cash end=$50.56
2025-10-31 10:28:01.286 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.286 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.287 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $105,923.45
2025-10-31 10:28:01.287 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $50.56
2025-10-31 10:28:01.287 | INFO     | src.backtesting.engine:run:336 -      Change: $-2.38
2025-10-31 10:28:01.288 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.289 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:01.290 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $107,342.79
2025-10-31 10:28:01.290 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $50.56
2025-10-31 10:28:01.290 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.291 | INFO     | src.backtesting.engine:run:293 -      AGG: 378.81 shares @ $141.82 (Value: $53,722.18, P&L: $232.34)
2025-10-31 10:28:01.291 | INFO     | src.backtesting.engine:run:293 -      EFA: 367.29 shares @ $145.85 (Value: $53,570.05, P&L: $2,863.13)
2025-10-31 10:28:01.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:01.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:01.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:01.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:01.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:01.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:01.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:01.298 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'AGG']
2025-10-31 10:28:01.298 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.298 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.299 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.41)
2025-10-31 10:28:01.299 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.300 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 378.81 shares @ $141.82 (Value: $53,722.18)
2025-10-31 10:28:01.300 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 367.29 shares @ $145.85 (Value: $53,570.05)
2025-10-31 10:28:01.300 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$107,342.79, Cash=$50.56, Comm=0.1000%, Slip=0.0500%, Scale=0.498385
2025-10-31 10:28:01.301 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:01.301 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:01.301 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['EFA']
2025-10-31 10:28:01.302 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 378.81 shares worth $53,722.18
2025-10-31 10:28:01.302 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:01.303 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.82 ? $141.89 (slippage: 0.050%)
2025-10-31 10:28:01.303 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.41 confidence=0.88
2025-10-31 10:28:01.303 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 378.26
2025-10-31 10:28:01.304 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 378.81
2025-10-31 10:28:01.304 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.55
2025-10-31 10:28:01.304 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.08
2025-10-31 10:28:01.305 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-77.57
2025-10-31 10:28:01.305 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.55 shares at $141.75 (proceeds: $77.49)
2025-10-31 10:28:01.306 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.306 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $128.05
2025-10-31 10:28:01.306 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 367.29 shares worth $53,570.05
2025-10-31 10:28:01.307 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD EFA [relative_top]
2025-10-31 10:28:01.307 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:01.308 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:01.308 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 367.80
2025-10-31 10:28:01.308 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 367.29
2025-10-31 10:28:01.309 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +0.51
2025-10-31 10:28:01.309 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.07
2025-10-31 10:28:01.309 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $74.64
2025-10-31 10:28:01.310 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting EFA: buying 0.51 more shares at $145.93 (cost: $74.64)
2025-10-31 10:28:01.310 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.310 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $53.42
2025-10-31 10:28:01.311 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$152.21, Cash end=$53.42
2025-10-31 10:28:01.311 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.312 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.312 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $107,342.56
2025-10-31 10:28:01.312 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $53.42
2025-10-31 10:28:01.313 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.23
2025-10-31 10:28:01.313 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.314 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:01.315 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $108,664.69
2025-10-31 10:28:01.315 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $53.42
2025-10-31 10:28:01.316 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.316 | INFO     | src.backtesting.engine:run:293 -      AGG: 378.26 shares @ $145.31 (Value: $54,965.89, P&L: $1,553.33)
2025-10-31 10:28:01.316 | INFO     | src.backtesting.engine:run:293 -      EFA: 367.80 shares @ $145.86 (Value: $53,645.38, P&L: $2,867.92)
2025-10-31 10:28:01.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.319 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.319 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.320 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.320 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:01.320 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:01.321 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:01.321 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:01.322 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:01.322 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:01.322 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:01.323 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'EFA']
2025-10-31 10:28:01.323 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.324 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:01.324 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 0.98)
2025-10-31 10:28:01.324 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.325 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 378.26 shares @ $145.31 (Value: $54,965.89, P&L: $1,553.33)
2025-10-31 10:28:01.325 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 378.26 @ $145.24 (P&L: $1,525.84)
2025-10-31 10:28:01.325 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $54,936.89
2025-10-31 10:28:01.326 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.326 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 367.80 shares @ $145.86 (Value: $53,645.38)
2025-10-31 10:28:01.326 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$108,664.69, Cash=$54,936.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:01.327 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.50%, EFA=49.50%
2025-10-31 10:28:01.327 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.328 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'EFA']
2025-10-31 10:28:01.328 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:01.328 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:01.329 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:01.329 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 379.52
2025-10-31 10:28:01.330 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $54.88
2025-10-31 10:28:01.330 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $54,930.72
2025-10-31 10:28:01.330 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 379.52 @ $144.59
2025-10-31 10:28:01.331 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.331 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $6.16
2025-10-31 10:28:01.331 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 367.80 shares worth $53,645.38
2025-10-31 10:28:01.332 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD EFA [relative_top]
2025-10-31 10:28:01.332 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.86 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:01.333 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.98 confidence=0.71
2025-10-31 10:28:01.333 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 368.60
2025-10-31 10:28:01.333 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 367.80
2025-10-31 10:28:01.334 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +0.80
2025-10-31 10:28:01.334 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.12
2025-10-31 10:28:01.334 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $116.75
2025-10-31 10:28:01.335 | WARNING  | src.backtesting.engine:_execute_signals:1079 -      ??  Cannot fully adjust EFA - insufficient cash
2025-10-31 10:28:01.335 | WARNING  | src.backtesting.engine:_execute_signals:1080 -         Required: $116.75, Available: $6.16
2025-10-31 10:28:01.336 | INFO     | src.backtesting.engine:_execute_signals:1088 -         Adjusted to partial increase: 367.84 shares
2025-10-31 10:28:01.336 | WARNING  | src.backtesting.engine:_adjust_position:1204 - Insufficient cash to adjust EFA position (need $6.16, have $6.16)
2025-10-31 10:28:01.336 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.337 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $6.16
2025-10-31 10:28:01.337 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$54,936.89, Cash end=$6.16
2025-10-31 10:28:01.337 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.338 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 378.26 shares @ $145.31 (Value: $54,965.89, P&L: $1,553.33)
2025-10-31 10:28:01.338 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.339 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 379.52 shares @ $144.59 (Value: $54,875.85)
2025-10-31 10:28:01.339 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.339 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $108,527.39
2025-10-31 10:28:01.340 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $6.16
2025-10-31 10:28:01.340 | INFO     | src.backtesting.engine:run:336 -      Change: $-137.30
2025-10-31 10:28:01.340 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.342 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:01.342 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $108,374.00
2025-10-31 10:28:01.343 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $6.16
2025-10-31 10:28:01.343 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.343 | INFO     | src.backtesting.engine:run:293 -      EFA: 367.80 shares @ $142.99 (Value: $52,590.79, P&L: $1,813.33)
2025-10-31 10:28:01.344 | INFO     | src.backtesting.engine:run:293 -      SPY: 379.52 shares @ $146.97 (Value: $55,777.04, P&L: $901.19)
2025-10-31 10:28:01.345 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.346 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.347 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.347 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.347 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:01.348 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:01.348 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:01.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:01.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:01.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:01.350 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:01.350 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'SPY']
2025-10-31 10:28:01.351 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.351 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.351 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.81)
2025-10-31 10:28:01.352 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.352 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 367.80 shares @ $142.99 (Value: $52,590.79)
2025-10-31 10:28:01.352 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 379.52 shares @ $146.97 (Value: $55,777.04)
2025-10-31 10:28:01.353 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$108,374.00, Cash=$6.16, Comm=0.1000%, Slip=0.0500%, Scale=0.000850
2025-10-31 10:28:01.353 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=55.21%, SPY=44.79%
2025-10-31 10:28:01.353 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:01.354 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['EFA']
2025-10-31 10:28:01.354 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 379.52 shares worth $55,777.04
2025-10-31 10:28:01.355 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:01.355 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $146.97 ? $147.04 (slippage: 0.050%)
2025-10-31 10:28:01.355 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.81 confidence=0.76
2025-10-31 10:28:01.356 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 330.14
2025-10-31 10:28:01.356 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 379.52
2025-10-31 10:28:01.357 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -49.39
2025-10-31 10:28:01.357 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.26
2025-10-31 10:28:01.357 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-7,254.54
2025-10-31 10:28:01.358 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 49.39 shares at $146.89 (proceeds: $7,247.29)
2025-10-31 10:28:01.358 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.358 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $7,253.45
2025-10-31 10:28:01.359 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 367.80 shares worth $52,590.79
2025-10-31 10:28:01.359 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD EFA [relative_top]
2025-10-31 10:28:01.360 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:01.360 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:01.360 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 418.22
2025-10-31 10:28:01.361 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 367.80
2025-10-31 10:28:01.361 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +50.42
2025-10-31 10:28:01.361 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.21
2025-10-31 10:28:01.362 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,220.99
2025-10-31 10:28:01.362 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting EFA: buying 50.42 more shares at $143.06 (cost: $7,220.99)
2025-10-31 10:28:01.363 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.363 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $32.46
2025-10-31 10:28:01.363 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$14,475.53, Cash end=$32.46
2025-10-31 10:28:01.364 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.364 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.364 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $108,352.29
2025-10-31 10:28:01.365 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $32.46
2025-10-31 10:28:01.365 | INFO     | src.backtesting.engine:run:336 -      Change: $-21.70
2025-10-31 10:28:01.365 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.367 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:01.367 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $110,978.98
2025-10-31 10:28:01.368 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $32.46
2025-10-31 10:28:01.368 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.368 | INFO     | src.backtesting.engine:run:293 -      EFA: 418.22 shares @ $149.88 (Value: $62,681.63, P&L: $4,942.60)
2025-10-31 10:28:01.369 | INFO     | src.backtesting.engine:run:293 -      SPY: 330.14 shares @ $146.20 (Value: $48,264.89, P&L: $529.94)
2025-10-31 10:28:01.370 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.371 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.372 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.372 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.372 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:01.373 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:01.373 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:01.374 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:01.374 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:01.374 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:01.375 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:01.375 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['AGG', 'EFA']
2025-10-31 10:28:01.376 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.376 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:01.376 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 0.95)
2025-10-31 10:28:01.377 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.377 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 330.14 shares @ $146.20 (Value: $48,264.89, P&L: $529.94)
2025-10-31 10:28:01.377 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 330.14 @ $146.12 (P&L: $505.81)
2025-10-31 10:28:01.378 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $48,224.98
2025-10-31 10:28:01.378 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.379 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 418.22 shares @ $149.88 (Value: $62,681.63)
2025-10-31 10:28:01.379 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$110,978.98, Cash=$48,224.98, Comm=0.1000%, Slip=0.0500%, Scale=0.868215
2025-10-31 10:28:01.379 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:01.380 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.380 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['AGG']
2025-10-31 10:28:01.380 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 418.22 shares worth $62,681.63
2025-10-31 10:28:01.381 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:01.381 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.88 ? $149.95 (slippage: 0.050%)
2025-10-31 10:28:01.382 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.95 confidence=0.71
2025-10-31 10:28:01.382 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 370.05
2025-10-31 10:28:01.382 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 418.22
2025-10-31 10:28:01.383 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -48.17
2025-10-31 10:28:01.383 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.22
2025-10-31 10:28:01.383 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-7,216.26
2025-10-31 10:28:01.384 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 48.17 shares at $149.80 (proceeds: $7,209.04)
2025-10-31 10:28:01.384 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.385 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $55,434.02
2025-10-31 10:28:01.385 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:01.385 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:01.386 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:01.386 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 376.91
2025-10-31 10:28:01.387 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $55.49
2025-10-31 10:28:01.387 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $55,544.98
2025-10-31 10:28:01.387 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 376.15 @ $147.22
2025-10-31 10:28:01.388 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.388 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.388 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$62,650.28, Cash end=$-0.00
2025-10-31 10:28:01.389 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.389 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 330.14 shares @ $146.20 (Value: $48,264.89, P&L: $529.94)
2025-10-31 10:28:01.390 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.390 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 376.15 shares @ $147.22 (Value: $55,378.64)
2025-10-31 10:28:01.390 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.391 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $110,840.40
2025-10-31 10:28:01.391 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.391 | INFO     | src.backtesting.engine:run:336 -      Change: $-138.58
2025-10-31 10:28:01.392 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.393 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:01.394 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $110,624.31
2025-10-31 10:28:01.394 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.394 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.395 | INFO     | src.backtesting.engine:run:293 -      EFA: 370.05 shares @ $146.74 (Value: $54,302.69, P&L: $3,214.23)
2025-10-31 10:28:01.395 | INFO     | src.backtesting.engine:run:293 -      AGG: 376.15 shares @ $149.73 (Value: $56,321.62, P&L: $942.98)
2025-10-31 10:28:01.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:01.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:01.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:01.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:01.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:01.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:01.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:01.401 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['AGG', 'EFA']
2025-10-31 10:28:01.402 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.402 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:01.403 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 0.83)
2025-10-31 10:28:01.403 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.403 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 370.05 shares @ $146.74 (Value: $54,302.69)
2025-10-31 10:28:01.404 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 376.15 shares @ $149.73 (Value: $56,321.62)
2025-10-31 10:28:01.404 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$110,624.31, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:01.404 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:01.405 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:01.405 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['EFA']
2025-10-31 10:28:01.406 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 376.15 shares worth $56,321.62
2025-10-31 10:28:01.406 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:01.406 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:01.407 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:01.407 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 369.23
2025-10-31 10:28:01.408 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 376.15
2025-10-31 10:28:01.408 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -6.93
2025-10-31 10:28:01.408 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.04
2025-10-31 10:28:01.409 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1,036.59
2025-10-31 10:28:01.409 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 6.93 shares at $149.66 (proceeds: $1,035.55)
2025-10-31 10:28:01.409 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.410 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $1,035.55
2025-10-31 10:28:01.410 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 370.05 shares worth $54,302.69
2025-10-31 10:28:01.411 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD EFA [relative_top]
2025-10-31 10:28:01.411 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $146.74 ? $146.82 (slippage: 0.050%)
2025-10-31 10:28:01.411 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.83 confidence=0.75
2025-10-31 10:28:01.412 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 376.74
2025-10-31 10:28:01.412 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 370.05
2025-10-31 10:28:01.412 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +6.69
2025-10-31 10:28:01.413 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.98
2025-10-31 10:28:01.413 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $983.29
2025-10-31 10:28:01.414 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting EFA: buying 6.69 more shares at $146.82 (cost: $983.29)
2025-10-31 10:28:01.414 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.414 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.26
2025-10-31 10:28:01.415 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$2,019.88, Cash end=$52.26
2025-10-31 10:28:01.415 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.415 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.416 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $110,621.28
2025-10-31 10:28:01.416 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.26
2025-10-31 10:28:01.416 | INFO     | src.backtesting.engine:run:336 -      Change: $-3.03
2025-10-31 10:28:01.417 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.418 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:01.419 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $109,715.88
2025-10-31 10:28:01.419 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.26
2025-10-31 10:28:01.419 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.420 | INFO     | src.backtesting.engine:run:293 -      EFA: 376.74 shares @ $150.30 (Value: $56,622.64, P&L: $4,610.47)
2025-10-31 10:28:01.420 | INFO     | src.backtesting.engine:run:293 -      AGG: 369.23 shares @ $143.65 (Value: $53,040.98, P&L: $-1,317.92)
2025-10-31 10:28:01.422 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.422 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:01.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:01.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:01.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:01.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:01.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:01.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:01.426 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['EFA', 'AGG']
2025-10-31 10:28:01.427 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.427 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.428 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 0.03)
2025-10-31 10:28:01.428 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.428 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 376.74 shares @ $150.30 (Value: $56,622.64)
2025-10-31 10:28:01.429 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 369.23 shares @ $143.65 (Value: $53,040.98)
2025-10-31 10:28:01.429 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$109,715.88, Cash=$52.26, Comm=0.1000%, Slip=0.0500%, Scale=0.028732
2025-10-31 10:28:01.429 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=50.00%, AGG=50.00%
2025-10-31 10:28:01.430 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:01.430 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: ['AGG']
2025-10-31 10:28:01.431 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 376.74 shares worth $56,622.64
2025-10-31 10:28:01.431 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:01.431 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:01.432 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:01.432 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 364.82
2025-10-31 10:28:01.433 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 376.74
2025-10-31 10:28:01.433 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -11.92
2025-10-31 10:28:01.433 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.79
2025-10-31 10:28:01.434 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1,791.22
2025-10-31 10:28:01.434 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 11.92 shares at $150.22 (proceeds: $1,789.43)
2025-10-31 10:28:01.434 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.435 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $1,841.69
2025-10-31 10:28:01.435 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 369.23 shares worth $53,040.98
2025-10-31 10:28:01.436 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD AGG [relative_top]
2025-10-31 10:28:01.436 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $143.65 ? $143.73 (slippage: 0.050%)
2025-10-31 10:28:01.436 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.03 confidence=0.99
2025-10-31 10:28:01.437 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 381.69
2025-10-31 10:28:01.437 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 369.23
2025-10-31 10:28:01.437 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +12.46
2025-10-31 10:28:01.438 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.79
2025-10-31 10:28:01.438 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $1,792.23
2025-10-31 10:28:01.439 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting AGG: buying 12.46 more shares at $143.73 (cost: $1,792.23)
2025-10-31 10:28:01.439 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.439 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.46
2025-10-31 10:28:01.440 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$3,583.45, Cash end=$49.46
2025-10-31 10:28:01.440 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.440 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.441 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $109,710.51
2025-10-31 10:28:01.441 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.46
2025-10-31 10:28:01.441 | INFO     | src.backtesting.engine:run:336 -      Change: $-5.37
2025-10-31 10:28:01.442 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.443 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:01.444 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $111,401.41
2025-10-31 10:28:01.444 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.46
2025-10-31 10:28:01.444 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.445 | INFO     | src.backtesting.engine:run:293 -      EFA: 364.82 shares @ $146.25 (Value: $53,354.33, P&L: $2,988.36)
2025-10-31 10:28:01.445 | INFO     | src.backtesting.engine:run:293 -      AGG: 381.69 shares @ $151.95 (Value: $57,997.62, P&L: $1,804.71)
2025-10-31 10:28:01.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:01.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:01.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:01.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:01.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:01.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:01.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:01.451 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['AGG', 'SPY']
2025-10-31 10:28:01.452 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:01.452 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:01.453 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.38)
2025-10-31 10:28:01.453 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.453 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 364.82 shares @ $146.25 (Value: $53,354.33, P&L: $2,988.36)
2025-10-31 10:28:01.454 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 364.82 @ $146.18 (P&L: $2,961.68)
2025-10-31 10:28:01.454 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $53,323.78
2025-10-31 10:28:01.454 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.455 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 381.69 shares @ $151.95 (Value: $57,997.62)
2025-10-31 10:28:01.455 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$111,401.41, Cash=$53,323.78, Comm=0.1000%, Slip=0.0500%, Scale=0.956371
2025-10-31 10:28:01.456 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%, AGG=50.00%
2025-10-31 10:28:01.456 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.456 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: ['SPY']
2025-10-31 10:28:01.457 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 381.69 shares worth $57,997.62
2025-10-31 10:28:01.457 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:01.458 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:01.458 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:01.458 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 366.39
2025-10-31 10:28:01.459 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 381.69
2025-10-31 10:28:01.459 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -15.30
2025-10-31 10:28:01.459 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $2.33
2025-10-31 10:28:01.460 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-2,323.59
2025-10-31 10:28:01.460 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 15.30 shares at $151.88 (proceeds: $2,321.27)
2025-10-31 10:28:01.460 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.461 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $55,645.05
2025-10-31 10:28:01.461 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:01.462 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.59 ? $149.66 (slippage: 0.050%)
2025-10-31 10:28:01.462 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.38 confidence=0.89
2025-10-31 10:28:01.462 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 372.18
2025-10-31 10:28:01.463 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $55.70
2025-10-31 10:28:01.463 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $55,756.41
2025-10-31 10:28:01.464 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 371.43 @ $149.66
2025-10-31 10:28:01.464 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.464 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:01.465 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$57,968.64, Cash end=$0.00
2025-10-31 10:28:01.465 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.465 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 364.82 shares @ $146.25 (Value: $53,354.33, P&L: $2,988.36)
2025-10-31 10:28:01.466 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.466 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 371.43 shares @ $149.66 (Value: $55,589.46)
2025-10-31 10:28:01.466 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.467 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $111,262.33
2025-10-31 10:28:01.467 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:01.468 | INFO     | src.backtesting.engine:run:336 -      Change: $-139.08
2025-10-31 10:28:01.468 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.469 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 366.39 @ $151.85 (P&L: $1,696.71)
2025-10-31 10:28:01.470 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 371.43 @ $149.65 (P&L: $-5.19)
2025-10-31 10:28:01.471 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:01.473 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:01.481 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:01.483 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:01.483 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'AGG_quantity', 'AGG_price', 'AGG_value']
2025-10-31 10:28:01.484 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:01.575 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:01.576 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:01.576 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:01.576 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:01.577 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:01.577 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:01.578 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct']
2025-10-31 10:28:01.578 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:01.589 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value      cash  ...  AGG_price  AGG_pct
timestamp                              ...                    
2021-05-07    100000.000000  100000.0  ...        NaN      NaN
2021-05-08     96898.370244       0.0  ...        NaN      NaN
2021-05-09     99286.874796       0.0  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:01.589 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:01.600 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  ...   AGG_price    AGG_pct
timestamp                          ...                       
2023-12-29    111975.915747   0.0  ...  151.010850  49.410907
2023-12-30    110398.360764   0.0  ...  147.920545  49.091372
2023-12-31    111277.107760   0.0  ...  151.929876  50.023797

[3 rows x 18 columns]
2025-10-31 10:28:01.600 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:01.601 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $111,277.11 (11.28% return)
2025-10-31 10:28:01.601 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102800.log
2025-10-31 10:28:01.602 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:01.602 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:01.610 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102801.log
2025-10-31 10:28:01.610 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:01.611 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:01.612 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:01.613 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:01.614 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:01.614 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:01.614 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:01.615 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:01.616 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:01.616 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:01.617 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:01.617 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:01.619 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.619 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.620 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.620 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.621 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:01.621 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:01.622 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:01.622 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:01.622 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:01.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:01.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:01.623 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:01.624 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.624 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.625 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:01.625 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:01.625 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:01.626 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:01.626 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:01.627 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:01.627 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:01.627 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:01.628 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:01.628 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:01.629 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.629 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.629 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:01.630 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.630 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:01.630 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.631 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:01.631 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.632 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:01.632 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.633 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:01.633 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:01.634 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.634 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.634 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:01.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:01.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:01.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:01.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:01.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:01.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:01.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:01.641 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:01.641 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.642 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:01.642 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.642 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:01.643 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:01.643 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:01.644 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:01.644 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:01.644 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:01.645 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:01.645 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:01.646 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:01.646 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:01.646 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:01.647 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:01.647 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:01.647 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.648 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:01.648 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:01.649 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.649 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:01.649 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.650 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:01.650 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.650 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:01.651 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:01.651 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:01.652 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.653 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:01.653 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:01.653 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:01.654 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.654 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:01.656 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.656 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:01.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:01.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:01.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:01.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:01.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:01.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:01.660 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:01.661 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.661 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.662 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.662 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:01.662 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:01.663 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:01.663 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:01.664 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:01.664 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:01.664 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:01.665 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:01.665 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:01.666 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:01.666 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:01.666 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:01.667 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:01.667 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.667 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.668 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:01.668 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.669 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:01.669 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.669 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:01.670 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.670 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:01.670 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.671 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:01.671 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.672 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:01.673 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:01.673 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.673 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.674 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:01.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.676 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.676 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:01.678 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:01.678 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:01.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:01.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:01.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:01.680 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:01.680 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:01.680 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.681 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:01.681 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.682 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:01.682 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:01.682 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:01.683 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:01.683 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:01.684 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:01.684 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:01.684 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:01.685 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:01.685 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:01.686 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:01.686 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:01.686 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:01.687 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.687 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.688 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:01.688 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.688 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:01.689 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.689 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:01.689 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.690 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:01.690 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.690 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:01.691 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.692 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:01.692 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:01.693 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.693 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.693 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:01.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:01.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:01.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:01.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:01.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:01.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:01.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:01.700 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:01.700 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.700 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:01.701 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.701 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:01.702 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:01.702 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:01.702 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.703 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:01.703 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:01.704 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:01.704 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:01.704 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:01.705 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:01.705 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:01.706 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:01.706 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:01.706 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:01.707 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:01.707 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.708 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:01.708 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:01.708 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.709 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.709 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:01.709 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:01.710 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:01.710 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.711 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:01.712 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:01.712 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:01.712 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.713 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:01.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:01.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:01.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:01.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:01.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:01.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:01.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:01.719 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:01.720 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.720 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.720 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.721 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:01.721 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:01.721 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:01.722 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:01.722 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:01.723 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:01.723 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:01.724 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:01.724 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:01.724 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:01.725 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:01.725 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:01.725 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:01.726 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.726 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:01.727 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:01.727 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.727 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:01.728 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.728 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:01.728 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.729 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:01.729 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:01.730 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:01.730 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.731 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:01.731 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:01.732 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:01.732 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.732 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:01.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.736 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.736 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:01.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:01.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:01.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:01.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:01.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:01.739 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:01.739 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:01.739 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.740 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:01.740 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.740 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:01.741 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:01.741 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:01.742 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:01.742 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:01.742 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:01.743 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:01.743 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:01.744 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:01.744 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:01.744 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:01.745 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:01.745 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:01.746 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.746 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.746 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:01.747 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.747 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:01.747 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.748 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:01.748 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.749 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:01.749 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.749 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:01.750 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.751 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:01.751 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:01.751 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.752 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.752 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:01.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:01.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:01.757 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:01.757 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:01.758 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:01.758 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:01.758 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:01.759 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:01.759 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.759 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:01.760 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.760 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:01.761 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:01.761 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:01.761 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:01.762 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:01.762 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:01.763 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:01.763 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:01.763 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:01.764 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:01.764 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:01.764 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:01.765 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:01.765 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.766 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.766 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:01.767 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.767 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:01.767 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.768 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:01.768 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.768 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:01.769 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.769 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:01.769 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.770 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:01.771 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:01.771 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.772 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.772 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:01.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:01.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:01.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:01.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:01.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:01.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:01.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:01.779 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:01.779 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.779 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:01.780 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.780 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:01.781 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:01.781 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:01.781 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.782 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:01.782 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:01.783 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:01.783 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:01.783 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:01.784 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:01.784 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:01.784 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:01.785 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:01.785 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:01.786 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:01.786 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.786 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:01.787 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:01.787 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.787 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.788 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:01.788 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:01.789 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:01.789 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.790 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:01.790 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:01.791 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:01.791 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.792 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:01.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:01.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:01.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:01.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:01.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:01.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:01.798 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:01.798 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:01.798 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.799 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:01.799 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.800 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:01.800 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:01.800 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:01.801 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:01.801 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:01.802 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:01.802 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:01.802 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:01.803 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:01.803 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:01.804 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:01.804 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:01.804 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:01.805 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.805 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.806 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:01.806 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.806 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:01.807 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.807 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:01.807 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.808 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:01.808 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.809 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:01.809 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.810 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:01.810 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:01.811 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.811 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.811 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:01.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.814 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.814 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:01.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:01.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:01.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:01.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:01.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:01.818 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:01.818 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:01.818 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.819 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:01.819 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.819 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:01.820 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:01.820 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:01.821 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:01.821 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:01.821 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:01.822 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:01.822 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:01.823 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:01.823 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:01.823 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:01.824 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:01.824 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:01.825 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.825 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.825 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:01.826 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.826 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:01.826 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.827 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:01.827 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.828 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:01.828 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.828 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:01.829 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.830 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:01.830 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:01.830 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.831 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.831 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:01.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:01.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:01.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:01.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:01.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:01.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:01.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:01.838 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:01.838 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.839 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:01.839 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.839 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:01.840 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:01.840 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:01.840 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:01.841 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:01.841 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:01.842 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:01.842 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:01.842 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:01.843 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:01.843 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:01.844 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:01.844 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:01.844 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.845 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.845 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:01.846 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.846 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:01.846 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.847 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:01.847 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.847 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:01.848 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.848 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:01.848 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.849 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:01.850 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:01.850 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.851 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.851 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:01.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:01.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:01.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:01.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:01.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:01.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:01.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:01.858 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:01.858 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.858 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:01.859 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.859 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:01.859 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:01.860 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:01.860 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:01.861 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:01.861 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:01.861 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:01.862 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:01.862 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:01.863 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:01.863 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:01.863 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:01.864 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:01.864 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.865 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.865 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:01.865 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.866 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:01.866 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.866 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:01.867 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.867 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:01.868 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.868 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:01.868 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.869 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:01.870 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:01.870 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.870 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.871 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:01.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:01.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:01.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:01.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:01.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:01.877 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:01.877 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:01.877 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:01.878 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.878 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:01.878 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:01.879 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:01.879 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:01.880 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:01.880 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:01.880 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:01.881 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:01.881 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:01.882 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:01.882 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:01.882 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:01.883 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:01.883 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:01.884 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:01.884 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:01.884 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:01.885 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:01.885 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:01.886 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:01.886 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:01.886 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.887 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:01.887 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:01.887 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:01.888 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.889 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:01.889 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:01.889 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:01.890 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.890 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:01.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:01.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:01.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:01.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:01.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:01.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:01.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:01.897 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:01.897 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.897 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.898 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.898 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:01.899 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:01.899 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:01.899 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:01.900 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:01.900 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:01.901 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:01.901 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:01.901 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:01.902 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:01.902 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:01.903 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:01.903 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:01.903 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.904 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.904 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:01.905 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.905 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:01.905 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.906 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:01.906 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.906 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:01.907 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.907 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:01.908 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.909 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:01.909 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:01.909 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.910 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.910 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:01.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:01.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:01.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:01.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:01.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:01.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:01.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:01.917 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:01.917 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.917 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:01.918 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.918 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:01.919 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:01.919 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:01.919 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:01.920 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:01.920 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:01.921 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:01.921 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:01.921 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:01.922 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:01.922 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:01.923 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:01.923 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:01.923 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.924 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.924 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:01.924 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.925 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:01.925 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.926 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:01.926 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.926 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:01.927 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.927 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:01.927 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.928 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:01.929 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:01.929 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.930 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:01.930 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:01.932 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:01.932 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.933 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.933 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:01.934 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:01.934 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:01.934 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:01.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:01.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:01.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:01.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:01.936 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:01.937 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:01.937 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:01.938 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:01.938 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:01.938 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:01.939 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:01.939 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:01.940 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:01.940 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:01.940 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:01.941 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:01.941 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:01.941 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:01.942 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:01.942 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:01.943 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:01.943 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:01.943 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:01.944 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:01.944 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:01.945 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:01.945 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:01.945 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:01.946 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:01.946 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:01.946 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:01.947 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:01.947 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:01.948 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:01.949 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:01.949 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:01.949 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.010 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:02.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:02.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:02.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:02.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:02.016 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:02.016 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:02.016 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:02.017 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.017 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.018 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.018 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.018 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:02.019 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:02.019 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:02.020 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.020 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.020 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.021 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.021 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:02.022 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:02.022 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:02.022 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:02.023 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:02.023 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:02.023 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.024 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:02.024 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:02.025 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.025 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:02.025 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.026 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:02.026 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.026 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:02.027 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:02.027 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:02.027 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.029 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:02.029 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:02.029 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:02.030 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.030 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:02.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:02.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:02.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:02.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:02.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:02.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:02.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:02.036 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.037 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.037 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.038 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.038 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:02.038 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:02.039 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:02.039 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.039 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.040 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.040 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.041 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:02.041 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:02.041 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:02.042 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:02.042 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:02.043 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:02.043 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.043 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:02.044 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:02.044 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.044 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:02.045 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.045 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:02.046 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.046 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:02.046 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:02.047 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:02.047 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.048 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:02.048 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:02.049 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:02.049 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.050 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:02.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:02.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:02.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:02.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:02.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:02.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:02.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:02.056 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.056 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.057 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.057 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:02.057 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:02.058 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:02.058 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.059 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:02.059 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:02.059 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:02.060 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:02.060 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:02.061 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:02.061 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:02.061 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:02.062 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:02.062 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:02.062 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:02.063 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:02.063 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:02.064 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:02.064 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:02.064 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:02.065 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.065 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:02.065 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:02.066 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:02.066 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.067 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:02.068 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:02.068 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:02.068 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.069 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:02.070 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.072 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.072 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:02.073 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:02.073 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:02.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:02.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:02.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:02.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:02.075 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.075 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.076 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.076 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.077 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:02.077 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:02.077 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:02.078 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:02.078 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.078 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:02.079 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:02.079 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:02.080 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:02.080 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:02.080 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:02.081 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:02.081 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:02.082 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.082 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.082 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:02.083 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.083 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:02.083 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.084 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:02.084 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.085 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:02.085 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.085 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:02.086 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.087 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:02.087 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:02.087 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.088 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.088 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:02.090 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.090 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.091 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.091 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.092 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:02.092 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:02.093 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:02.093 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:02.093 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:02.094 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:02.094 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:02.095 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.095 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.095 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.096 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.096 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:02.096 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:02.097 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:02.097 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.098 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.098 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.098 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.099 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:02.099 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:02.100 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:02.100 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:02.100 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:02.101 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:02.101 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.101 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.102 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:02.102 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.103 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:02.103 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.103 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:02.104 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.104 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:02.104 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.105 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:02.105 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.106 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:02.106 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:02.107 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.107 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.107 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:02.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:02.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:02.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:02.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:02.113 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:02.113 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:02.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:02.114 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.114 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.115 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.115 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.115 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:02.116 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:02.116 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:02.117 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.117 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.117 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.118 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.118 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:02.119 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:02.119 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:02.119 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:02.120 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:02.120 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:02.121 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.121 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.121 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:02.122 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.122 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:02.122 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.123 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:02.123 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.124 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:02.124 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.124 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:02.125 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.126 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:02.126 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:02.126 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.127 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.127 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:02.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:02.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:02.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:02.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:02.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:02.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:02.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:02.134 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.134 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.134 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.135 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.135 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:02.135 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:02.136 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:02.136 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.137 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.137 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.137 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.138 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:02.138 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:02.139 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:02.139 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:02.139 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:02.140 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:02.140 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.140 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.141 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:02.141 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.142 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:02.142 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.142 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:02.143 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.143 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:02.143 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.144 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:02.144 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.145 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:02.145 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:02.146 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.146 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.147 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:02.148 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.150 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.150 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:02.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:02.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:02.152 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:02.152 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:02.152 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:02.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:02.153 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.153 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.154 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.154 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:02.155 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:02.155 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:02.155 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.156 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:02.156 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:02.157 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:02.157 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:02.157 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:02.158 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:02.158 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:02.158 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:02.159 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:02.159 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:02.160 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:02.160 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:02.160 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:02.161 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:02.161 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:02.161 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:02.162 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.162 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:02.163 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:02.163 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:02.163 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.164 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:02.165 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:02.165 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:02.165 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.166 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:02.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.169 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.169 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.170 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:02.170 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:02.170 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:02.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:02.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:02.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:02.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:02.172 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.173 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.173 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.173 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:02.174 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:02.174 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:02.175 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.175 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:02.175 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:02.176 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:02.176 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:02.177 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:02.177 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:02.177 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:02.178 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:02.178 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:02.178 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:02.179 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:02.179 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:02.179 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:02.180 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:02.180 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.181 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:02.181 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:02.181 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:02.182 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.183 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:02.183 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:02.183 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:02.184 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.184 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:02.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.188 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:02.188 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:02.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:02.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:02.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:02.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:02.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:02.191 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.191 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.191 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.192 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.192 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:02.192 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:02.193 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:02.193 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:02.194 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.194 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.194 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.195 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:02.195 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:02.196 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:02.196 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:02.196 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:02.197 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:02.197 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.197 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.198 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:02.198 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.199 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:02.199 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.199 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:02.200 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.200 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:02.200 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.201 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:02.201 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.202 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:02.203 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:02.203 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.203 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.204 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:02.205 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.206 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.206 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.207 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.207 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:02.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:02.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:02.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:02.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:02.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:02.210 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:02.210 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.210 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.211 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.211 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.211 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:02.212 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:02.212 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:02.213 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.213 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.213 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.214 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.214 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:02.215 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:02.215 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:02.215 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:02.216 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:02.216 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:02.217 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.217 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:02.217 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:02.218 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.218 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:02.218 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.219 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:02.219 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.219 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:02.220 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:02.220 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:02.221 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.222 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:02.222 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:02.222 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:02.223 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.223 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:02.225 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.225 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.226 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.226 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.227 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:02.227 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:02.228 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:02.228 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:02.228 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:02.229 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:02.229 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:02.229 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.230 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.230 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.231 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.231 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:02.231 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:02.232 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:02.232 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.232 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.233 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:02.233 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:02.234 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:02.234 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:02.234 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:02.235 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:02.235 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:02.236 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:02.236 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.236 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.237 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:02.237 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.237 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:02.238 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.238 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:02.239 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.239 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:02.239 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.240 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:02.240 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.241 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:02.241 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:02.242 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.242 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.242 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:02.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:02.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:02.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:02.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:02.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:02.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:02.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:02.249 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.249 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.250 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.250 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:02.250 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:02.251 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:02.251 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.252 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:02.252 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:02.252 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:02.253 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:02.253 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:02.254 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:02.254 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:02.254 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:02.255 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:02.255 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:02.255 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:02.256 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:02.256 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:02.256 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:02.257 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:02.257 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:02.258 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.258 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:02.258 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:02.259 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:02.259 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.260 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:02.261 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:02.261 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:02.261 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.262 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:02.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.264 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.264 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:02.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:02.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:02.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:02.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:02.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:02.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:02.268 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.268 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.269 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.269 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.270 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:02.270 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:02.270 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:02.271 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:02.271 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.272 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.272 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.272 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:02.273 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:02.273 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:02.274 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:02.274 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:02.274 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:02.275 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.275 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:02.275 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:02.276 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.276 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:02.277 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.277 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:02.277 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.278 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:02.278 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:02.278 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:02.279 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.280 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:02.280 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:02.280 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:02.281 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.281 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:02.283 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.284 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.284 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.285 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.285 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:02.285 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:02.286 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:02.286 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:02.287 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:02.287 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:02.287 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:02.288 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.288 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.288 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.289 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.289 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:02.290 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:02.290 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:02.290 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.291 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.291 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:02.292 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:02.292 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:02.292 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:02.293 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:02.293 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:02.293 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:02.294 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:02.294 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.295 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:02.295 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:02.295 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.296 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:02.296 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.296 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:02.297 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.297 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:02.298 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:02.298 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:02.298 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.299 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:02.301 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:02.302 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:02.310 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:02.312 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:02.313 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:02.313 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:02.405 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:02.405 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:02.405 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:02.406 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:02.406 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:02.407 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:02.407 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:02.407 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:02.418 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:02.419 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:02.430 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:02.430 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:02.430 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:02.431 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102801.log
2025-10-31 10:28:02.437 | INFO     | src.backtesting.engine:__init__:101 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-31 10:28:02.437 | INFO     | src.backtesting.engine:__init__:108 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-31 10:28:02.438 | INFO     | src.backtesting.hyperparameter_tuner:__init__:179 - Initialized HyperparameterTuner for DualMomentumStrategy
2025-10-31 10:28:02.438 | INFO     | src.backtesting.hyperparameter_tuner:compare_optimization_methods:814 - Comparing optimization methods: ['grid_search', 'random_search']
2025-10-31 10:28:02.439 | INFO     | src.backtesting.hyperparameter_tuner:compare_optimization_methods:815 - Optimizing metric: sharpe_ratio (maximize)
2025-10-31 10:28:02.439 | INFO     | src.backtesting.hyperparameter_tuner:grid_search:204 - Starting grid search hyperparameter optimization
2025-10-31 10:28:02.440 | INFO     | src.backtesting.hyperparameter_tuner:grid_search:205 - Optimizing metric: sharpe_ratio (maximize)
2025-10-31 10:28:02.440 | INFO     | src.backtesting.hyperparameter_tuner:grid_search:215 - Generated 2 parameter combinations
2025-10-31 10:28:02.440 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:02.441 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:02.448 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102802.log
2025-10-31 10:28:02.449 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:02.449 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:02.451 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:02.452 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:02.452 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:02.453 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:02.453 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:02.454 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:02.455 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:02.455 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:02.455 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:02.456 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:02.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:02.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:02.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:02.461 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:02.461 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:02.461 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:02.462 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:02.462 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.463 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.463 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.463 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:02.464 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.464 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.465 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.465 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:02.465 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:02.466 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:02.466 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:02.467 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:02.467 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:02.467 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.468 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.468 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:02.469 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.469 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:02.469 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.470 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:02.470 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.470 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:02.471 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.472 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:02.472 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:02.472 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.473 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.473 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:02.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:02.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:02.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:02.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:02.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:02.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:02.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:02.480 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.480 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.480 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.481 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.481 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:02.482 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:02.482 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:02.482 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.483 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.483 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:02.484 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:02.484 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:02.484 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:02.485 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:02.485 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:02.486 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:02.486 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:02.486 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.487 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:02.487 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:02.488 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.488 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:02.488 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.489 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:02.489 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.489 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:02.490 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:02.490 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:02.491 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.492 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:02.492 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:02.492 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:02.493 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.493 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:02.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.496 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.496 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:02.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:02.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:02.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:02.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:02.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:02.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:02.500 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.500 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.500 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.501 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.501 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:02.502 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:02.502 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:02.502 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.503 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.503 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.504 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.504 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:02.504 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:02.505 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:02.505 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:02.506 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:02.506 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:02.506 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.507 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.507 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:02.508 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.508 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:02.508 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.509 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:02.509 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.509 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:02.510 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.510 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:02.510 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.512 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:02.512 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:02.512 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.513 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.513 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:02.515 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.515 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:02.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:02.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:02.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:02.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:02.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:02.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:02.520 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.520 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.520 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.521 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.521 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:02.522 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:02.522 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:02.522 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.523 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.523 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.524 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.524 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:02.524 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:02.525 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:02.525 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:02.526 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:02.526 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:02.526 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.527 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.527 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:02.528 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.528 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:02.528 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.529 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:02.529 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.529 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:02.530 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.530 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:02.531 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.532 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:02.532 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:02.532 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.533 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.533 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:02.535 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:02.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:02.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:02.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:02.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:02.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:02.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:02.540 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.540 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.540 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.541 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:02.541 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:02.542 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:02.542 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.542 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:02.543 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:02.543 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:02.544 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:02.544 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:02.544 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:02.545 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:02.545 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:02.546 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:02.546 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:02.546 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:02.547 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:02.547 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:02.547 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:02.548 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:02.548 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:02.549 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.549 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:02.549 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:02.550 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:02.550 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.551 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:02.552 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:02.552 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:02.552 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.553 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:02.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:02.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:02.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:02.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:02.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:02.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:02.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:02.559 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.560 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.560 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.560 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.561 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:02.561 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:02.562 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:02.562 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:02.562 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.563 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.563 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.564 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:02.564 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:02.564 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:02.565 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:02.565 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:02.566 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:02.566 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.566 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:02.567 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:02.567 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.567 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:02.568 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.568 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:02.569 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.569 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:02.569 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:02.570 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:02.570 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.571 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:02.571 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:02.572 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:02.572 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.573 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:02.574 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:02.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:02.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:02.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:02.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:02.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:02.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:02.579 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.579 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.580 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.580 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.581 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:02.581 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:02.581 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:02.582 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.582 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.583 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.583 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.583 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:02.584 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:02.584 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:02.585 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:02.585 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:02.585 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:02.586 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.586 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.587 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:02.587 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.587 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:02.588 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.588 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:02.588 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.589 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:02.589 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.590 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:02.590 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.591 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:02.591 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:02.592 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.592 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.593 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:02.594 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.595 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.595 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.596 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.596 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:02.597 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:02.597 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:02.598 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:02.598 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:02.598 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:02.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:02.599 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.599 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.600 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.600 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.601 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:02.601 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:02.601 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:02.602 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.602 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.603 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:02.603 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:02.603 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:02.604 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:02.604 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:02.605 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:02.605 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:02.605 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:02.606 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.606 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.607 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:02.607 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.607 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:02.608 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.608 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:02.608 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.609 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:02.609 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.610 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:02.610 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.611 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:02.611 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:02.612 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.612 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.613 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:02.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.616 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.616 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:02.617 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:02.617 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:02.618 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:02.618 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:02.618 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:02.619 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:02.619 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.619 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.620 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.620 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:02.621 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:02.621 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:02.621 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.622 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:02.622 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:02.623 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:02.623 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:02.623 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:02.624 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:02.624 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:02.625 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:02.625 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:02.625 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:02.626 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:02.626 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:02.627 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:02.627 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:02.627 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:02.628 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:02.628 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.628 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:02.629 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:02.629 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:02.630 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.631 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:02.631 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:02.631 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:02.632 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.632 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:02.634 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:02.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:02.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:02.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:02.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:02.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:02.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:02.639 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.639 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.640 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.640 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.640 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:02.641 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:02.641 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:02.642 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:02.642 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.642 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.643 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.643 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:02.644 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:02.644 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:02.644 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:02.645 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:02.645 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:02.646 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.646 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.646 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:02.647 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.647 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:02.647 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.648 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:02.648 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.649 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:02.649 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.649 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:02.650 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.651 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:02.651 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:02.651 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.652 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.652 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:02.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.656 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:02.656 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:02.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:02.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:02.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:02.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:02.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:02.659 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.659 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.659 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.660 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.660 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:02.661 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:02.661 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:02.661 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.662 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.662 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:02.663 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:02.663 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:02.663 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:02.664 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:02.664 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:02.665 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:02.665 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:02.665 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.666 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.666 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:02.667 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.667 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:02.667 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.668 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:02.668 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.668 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:02.669 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.669 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:02.670 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.671 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:02.671 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:02.671 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.672 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.672 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:02.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.676 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:02.676 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:02.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:02.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:02.678 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:02.678 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:02.678 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:02.679 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.679 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.679 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.680 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.680 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:02.681 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:02.681 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:02.681 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.682 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.682 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.683 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.683 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:02.683 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:02.684 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:02.684 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:02.685 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:02.685 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:02.685 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.686 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.686 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:02.687 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.687 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:02.687 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.688 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:02.688 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.688 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:02.689 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.689 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:02.690 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.691 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:02.691 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:02.691 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.692 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.692 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:02.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:02.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:02.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:02.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:02.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:02.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:02.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:02.699 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.699 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.699 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.700 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.700 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:02.701 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:02.701 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:02.701 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.702 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.702 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:02.703 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:02.703 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:02.703 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:02.704 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:02.704 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:02.705 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:02.705 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:02.705 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.706 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.706 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:02.707 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.707 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:02.707 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.708 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:02.708 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.708 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:02.709 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.709 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:02.710 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.711 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:02.711 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:02.711 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.712 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.712 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:02.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:02.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:02.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:02.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:02.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:02.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:02.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:02.719 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.719 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.720 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.720 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:02.720 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:02.721 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:02.721 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.721 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:02.722 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:02.722 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:02.723 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:02.723 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:02.724 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:02.724 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:02.724 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:02.725 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:02.725 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:02.725 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:02.726 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:02.726 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:02.727 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:02.727 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:02.727 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:02.728 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.728 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:02.728 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:02.729 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:02.729 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.730 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:02.731 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:02.731 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:02.731 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.732 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:02.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.736 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:02.736 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:02.736 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:02.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:02.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:02.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:02.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:02.738 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.739 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.739 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.739 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.740 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:02.740 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:02.741 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:02.741 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:02.741 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.742 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.742 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.743 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:02.743 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:02.743 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:02.744 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:02.744 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:02.745 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:02.745 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.745 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.746 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:02.746 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.747 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:02.747 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.747 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:02.748 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.748 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:02.748 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.749 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:02.749 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.750 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:02.751 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:02.751 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.751 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.752 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:02.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:02.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:02.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:02.757 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:02.757 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:02.757 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:02.758 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:02.758 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.759 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.759 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.759 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.760 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:02.760 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:02.761 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:02.761 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.761 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.762 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.762 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.763 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:02.763 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:02.763 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:02.764 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:02.764 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:02.765 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:02.765 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.765 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.766 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:02.766 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.766 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:02.767 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.767 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:02.768 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.768 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:02.768 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.769 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:02.769 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.770 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:02.771 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:02.771 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.771 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.772 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:02.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:02.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:02.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:02.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:02.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:02.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:02.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:02.778 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.779 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.779 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.779 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.780 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:02.780 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:02.780 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:02.781 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.781 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.782 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.782 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.783 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:02.783 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:02.783 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:02.784 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:02.784 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:02.785 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:02.785 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.785 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.786 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:02.786 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.786 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:02.787 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.787 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:02.788 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.788 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:02.788 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.789 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:02.789 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.790 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:02.790 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:02.791 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.791 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.791 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:02.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:02.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:02.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:02.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:02.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:02.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:02.798 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:02.798 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.798 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.799 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.799 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.800 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:02.800 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:02.800 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:02.801 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.801 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.802 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.802 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.802 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:02.803 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:02.803 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:02.804 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:02.804 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:02.804 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:02.805 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.805 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:02.806 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:02.806 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.806 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:02.807 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.807 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:02.807 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.808 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:02.808 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:02.809 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:02.809 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.810 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:02.810 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:02.811 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:02.811 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.811 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:02.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.814 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.814 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:02.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:02.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:02.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:02.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:02.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:02.818 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:02.818 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.818 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.819 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.819 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.820 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:02.820 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:02.820 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:02.821 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.821 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.822 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.822 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.822 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:02.823 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:02.823 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:02.824 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:02.824 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:02.824 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:02.825 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.825 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:02.826 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:02.826 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.826 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:02.827 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.827 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:02.827 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.828 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:02.828 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:02.828 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:02.829 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.830 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:02.830 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:02.831 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:02.831 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.831 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:02.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:02.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:02.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:02.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:02.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:02.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:02.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:02.838 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.838 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.839 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.839 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:02.839 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:02.840 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:02.840 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.841 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:02.841 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:02.841 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:02.842 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:02.842 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:02.843 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:02.843 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:02.843 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:02.844 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:02.844 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:02.845 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:02.845 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:02.845 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:02.846 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:02.846 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:02.847 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:02.847 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.847 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:02.848 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:02.848 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:02.848 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.849 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:02.850 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:02.850 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:02.851 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.851 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:02.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:02.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:02.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:02.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:02.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:02.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:02.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:02.858 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:02.858 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.858 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:02.859 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.859 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:02.859 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:02.860 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:02.860 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:02.861 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:02.861 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:02.861 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:02.862 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:02.862 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:02.863 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:02.863 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:02.863 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:02.864 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:02.864 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.865 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.865 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:02.865 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.866 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:02.866 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.867 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:02.867 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.867 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:02.868 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.868 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:02.868 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.869 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:02.870 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:02.870 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.871 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.871 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:02.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:02.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:02.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:02.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:02.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:02.877 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:02.877 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:02.877 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.878 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.878 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.879 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.879 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:02.879 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:02.880 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:02.880 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.881 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.881 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.881 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.882 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:02.882 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:02.883 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:02.883 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:02.883 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:02.884 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:02.884 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.885 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.885 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:02.885 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.886 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:02.886 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.886 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:02.887 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.887 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:02.888 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.888 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:02.888 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.889 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:02.890 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:02.890 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.890 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.891 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:02.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:02.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:02.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:02.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:02.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:02.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:02.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:02.897 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.898 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.898 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.898 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.899 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:02.899 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:02.900 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:02.900 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.900 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.901 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.901 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.902 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:02.902 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:02.902 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:02.903 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:02.903 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:02.904 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:02.904 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.904 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.905 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:02.905 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.906 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:02.906 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.906 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:02.907 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.907 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:02.907 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.908 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:02.908 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.909 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:02.910 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:02.910 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.910 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.911 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:02.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:02.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:02.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:02.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:02.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:02.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:02.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:02.917 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.918 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.918 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.918 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.919 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:02.919 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:02.920 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:02.920 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.920 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.921 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:02.921 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:02.922 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:02.922 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:02.922 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:02.923 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:02.923 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:02.924 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:02.924 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.924 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.925 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:02.925 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.926 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:02.926 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.926 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:02.927 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.927 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:02.927 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.928 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:02.928 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.929 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:02.930 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:02.930 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.930 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.931 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:02.933 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.933 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.934 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.934 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:02.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:02.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:02.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:02.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:02.937 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:02.937 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:02.937 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.938 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.938 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.939 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:02.939 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:02.939 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:02.940 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.940 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:02.941 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:02.941 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:02.942 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:02.942 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:02.942 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:02.943 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:02.943 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:02.943 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:02.944 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:02.944 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:02.945 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:02.945 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:02.945 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:02.946 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:02.946 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:02.947 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.947 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:02.947 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:02.948 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:02.948 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.949 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:02.950 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:02.950 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:02.950 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.951 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:02.952 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.954 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.954 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:02.955 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:02.955 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:02.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:02.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:02.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:02.957 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:02.957 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.958 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.958 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.958 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:02.959 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:02.959 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:02.959 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:02.960 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:02.960 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:02.961 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:02.961 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:02.962 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:02.962 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:02.962 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:02.963 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:02.963 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:02.963 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:02.964 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:02.964 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:02.965 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:02.965 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:02.965 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.966 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:02.966 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:02.966 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:02.967 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.968 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:02.968 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:02.969 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:02.969 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.969 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:02.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:02.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:02.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:02.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:02.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:02.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:02.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:02.976 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:02.976 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.977 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:02.977 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.978 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:02.978 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:02.978 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:02.979 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:02.979 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:02.980 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:02.980 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:02.980 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:02.981 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:02.981 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:02.982 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:02.982 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:02.982 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:02.983 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:02.983 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:02.984 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:02.984 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:02.984 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:02.985 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:02.985 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:02.985 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:02.986 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:02.986 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:02.987 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:02.987 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:02.988 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:02.988 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:02.989 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:02.989 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:02.990 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:02.991 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:02.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.993 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:02.993 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:02.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:02.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:02.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:02.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:02.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:02.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:02.996 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:02.996 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:02.997 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:02.997 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:02.998 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:02.998 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:02.998 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:02.999 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:02.999 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.000 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.000 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.000 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:03.001 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:03.001 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:03.002 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:03.002 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:03.002 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:03.003 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.003 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:03.004 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:03.004 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.004 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:03.005 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.005 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:03.005 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.006 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:03.006 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:03.007 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:03.007 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.008 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:03.008 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:03.009 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:03.009 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.010 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:03.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:03.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:03.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:03.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:03.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:03.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:03.016 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:03.016 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.016 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.017 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.017 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.018 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:03.018 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:03.018 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:03.019 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.019 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.020 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:03.020 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:03.020 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:03.021 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:03.021 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:03.022 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:03.022 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:03.022 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:03.023 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.023 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.024 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:03.024 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.024 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:03.025 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.025 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:03.026 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.026 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:03.026 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.027 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:03.027 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.028 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:03.028 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:03.029 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.029 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.030 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:03.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:03.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:03.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:03.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:03.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:03.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:03.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:03.036 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.037 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.037 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.037 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:03.038 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:03.038 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:03.039 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.039 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:03.039 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:03.040 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:03.040 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:03.041 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:03.041 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:03.041 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:03.042 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:03.042 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:03.043 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:03.043 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:03.043 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:03.044 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:03.044 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:03.044 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:03.045 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:03.045 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.046 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:03.046 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:03.046 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:03.047 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.048 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:03.048 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:03.049 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:03.049 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.049 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:03.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:03.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:03.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:03.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:03.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:03.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:03.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:03.056 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.056 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.057 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.057 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.057 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:03.058 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:03.058 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:03.059 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:03.059 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.059 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.060 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.060 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:03.061 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:03.061 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:03.062 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:03.062 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:03.062 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:03.063 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.063 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:03.064 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:03.064 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.064 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:03.065 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.065 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:03.065 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.066 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:03.066 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:03.067 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:03.067 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.068 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:03.068 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:03.069 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:03.069 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.069 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:03.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.072 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.072 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.073 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.073 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:03.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:03.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:03.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:03.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:03.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:03.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:03.076 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.076 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.077 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.077 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.078 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:03.078 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:03.078 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:03.079 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.079 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.080 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:03.080 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:03.080 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:03.081 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:03.081 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:03.082 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:03.082 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:03.082 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:03.083 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.083 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:03.084 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:03.084 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.084 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:03.085 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.085 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:03.086 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.086 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:03.086 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:03.087 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:03.087 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.088 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:03.090 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:03.091 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:03.099 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:03.101 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:03.102 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:03.103 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:03.194 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:03.195 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:03.195 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:03.195 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:03.196 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:03.196 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:03.196 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:03.197 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:03.208 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:03.208 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:03.219 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:03.220 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:03.220 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:03.221 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102802.log
2025-10-31 10:28:03.221 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:03.221 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:03.229 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102803.log
2025-10-31 10:28:03.230 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:03.230 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:03.232 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:03.232 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-09-10 00:00:00 (after 252 periods of warm-up data)
2025-10-31 10:28:03.233 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:03.234 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:03.234 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:03.236 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-09-10
2025-10-31 10:28:03.236 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-10
2025-10-31 10:28:03.236 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:03.237 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:03.237 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:03.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.240 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.240 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.241 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.241 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0809326756523252
2025-10-31 10:28:03.241 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08149454604873574
2025-10-31 10:28:03.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08817543839164688
2025-10-31 10:28:03.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-10 00:00:00:
2025-10-31 10:28:03.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0809 (8.09%) - PASS
2025-10-31 10:28:03.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0815 (8.15%) - PASS
2025-10-31 10:28:03.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0882 (8.82%) - PASS
2025-10-31 10:28:03.244 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.244 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.245 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.245 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-10: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:03.245 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.246 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:03.246 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:03.247 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.53 ? $123.59 (slippage: 0.050%)
2025-10-31 10:28:03.247 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:03.248 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 809.15
2025-10-31 10:28:03.248 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:03.248 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:03.249 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 808.34 @ $123.59
2025-10-31 10:28:03.249 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.250 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.250 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:03.250 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.251 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 808.34 shares @ $123.59 (Value: $99,900.10)
2025-10-31 10:28:03.251 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.252 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:03.252 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.252 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:03.253 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.254 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:03.254 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,594.06
2025-10-31 10:28:03.254 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.255 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.255 | INFO     | src.backtesting.engine:run:293 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:03.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.258 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.258 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.259 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.259 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019551495925198337
2025-10-31 10:28:03.259 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07498293204285922
2025-10-31 10:28:03.260 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05824612172849841
2025-10-31 10:28:03.260 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:03.261 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0196 (1.96%) - PASS
2025-10-31 10:28:03.261 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0750 (7.50%) - PASS
2025-10-31 10:28:03.261 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0582 (5.82%) - PASS
2025-10-31 10:28:03.262 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.262 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.263 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.263 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.263 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:03.264 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 808.34 @ $121.91 (P&L: $-1,355.34)
2025-10-31 10:28:03.264 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,446.22
2025-10-31 10:28:03.265 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$98,594.06, Cash=$98,446.22, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.265 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.266 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.266 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.266 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:03.267 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:03.267 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 813.89
2025-10-31 10:28:03.268 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.59
2025-10-31 10:28:03.268 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,692.65
2025-10-31 10:28:03.269 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 811.85 @ $121.14
2025-10-31 10:28:03.269 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.269 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.270 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,446.22, Cash end=$-0.00
2025-10-31 10:28:03.270 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.270 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:03.271 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.271 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 811.85 shares @ $121.14 (Value: $98,347.87)
2025-10-31 10:28:03.272 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.272 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,347.87
2025-10-31 10:28:03.272 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.273 | INFO     | src.backtesting.engine:run:336 -      Change: $-246.19
2025-10-31 10:28:03.273 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.274 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:03.275 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,275.11
2025-10-31 10:28:03.275 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.275 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.276 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11, P&L: $927.24)
2025-10-31 10:28:03.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.279 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.279 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.280 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07511303569502892
2025-10-31 10:28:03.280 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08589327251529832
2025-10-31 10:28:03.280 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06452336484703469
2025-10-31 10:28:03.281 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:03.281 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0751 (7.51%) - PASS
2025-10-31 10:28:03.282 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0859 (8.59%) - PASS
2025-10-31 10:28:03.282 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0645 (6.45%) - PASS
2025-10-31 10:28:03.282 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.283 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.283 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.284 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:03.284 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11)
2025-10-31 10:28:03.284 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$99,275.11, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:03.285 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.285 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:03.286 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:03.286 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 811.85 shares worth $99,275.11
2025-10-31 10:28:03.287 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:03.287 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.28 ? $122.34 (slippage: 0.050%)
2025-10-31 10:28:03.287 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:03.288 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 811.45
2025-10-31 10:28:03.288 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 811.85
2025-10-31 10:28:03.289 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.41
2025-10-31 10:28:03.289 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:03.289 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.59
2025-10-31 10:28:03.290 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.41 shares at $122.22 (proceeds: $49.54)
2025-10-31 10:28:03.290 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:03.291 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.54
2025-10-31 10:28:03.291 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.59, Cash end=$49.54
2025-10-31 10:28:03.291 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:03.292 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.292 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,275.03
2025-10-31 10:28:03.292 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.54
2025-10-31 10:28:03.293 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:03.293 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.294 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:03.295 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,453.53
2025-10-31 10:28:03.295 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.54
2025-10-31 10:28:03.295 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.296 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:03.298 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.298 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.300 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07533958777997163
2025-10-31 10:28:03.300 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06332847983307777
2025-10-31 10:28:03.301 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06863582586745842
2025-10-31 10:28:03.301 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:03.301 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0753 (7.53%) - PASS
2025-10-31 10:28:03.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0633 (6.33%) - PASS
2025-10-31 10:28:03.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0686 (6.86%) - PASS
2025-10-31 10:28:03.303 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:03.303 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.303 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:03.304 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.304 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:03.305 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 811.45 @ $123.67 (P&L: $2,055.08)
2025-10-31 10:28:03.305 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,302.98
2025-10-31 10:28:03.305 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$100,453.53, Cash=$100,302.98, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:03.306 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:03.306 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:03.307 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:03.307 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.93 ? $122.99 (slippage: 0.050%)
2025-10-31 10:28:03.308 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:03.308 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 816.77
2025-10-31 10:28:03.308 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.45
2025-10-31 10:28:03.309 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,553.99
2025-10-31 10:28:03.309 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 814.73 @ $122.99
2025-10-31 10:28:03.310 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.310 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.310 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,302.98, Cash end=$-0.00
2025-10-31 10:28:03.311 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.311 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:03.312 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.312 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 814.73 shares @ $122.99 (Value: $100,202.78)
2025-10-31 10:28:03.312 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.313 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,202.78
2025-10-31 10:28:03.313 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.314 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.76
2025-10-31 10:28:03.314 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.315 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:03.315 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,275.19
2025-10-31 10:28:03.316 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.316 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.316 | INFO     | src.backtesting.engine:run:293 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:03.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.319 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.319 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.320 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.320 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.037374576779007684
2025-10-31 10:28:03.321 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0865684206777857
2025-10-31 10:28:03.321 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05637830462180449
2025-10-31 10:28:03.322 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:03.322 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0374 (3.74%) - PASS
2025-10-31 10:28:03.323 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0866 (8.66%) - PASS
2025-10-31 10:28:03.323 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0564 (5.64%) - PASS
2025-10-31 10:28:03.323 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.324 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.324 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.324 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.325 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:03.325 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 814.73 @ $123.02 (P&L: $22.28)
2025-10-31 10:28:03.326 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,124.83
2025-10-31 10:28:03.326 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$100,275.19, Cash=$100,124.83, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.327 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.327 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.327 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.328 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $124.66 ? $124.73 (slippage: 0.050%)
2025-10-31 10:28:03.328 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:03.329 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 803.97
2025-10-31 10:28:03.329 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.28
2025-10-31 10:28:03.329 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,375.47
2025-10-31 10:28:03.330 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 801.96 @ $124.73
2025-10-31 10:28:03.330 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.331 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.331 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,124.83, Cash end=$-0.00
2025-10-31 10:28:03.331 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.332 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:03.332 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.333 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 801.96 shares @ $124.73 (Value: $100,024.80)
2025-10-31 10:28:03.333 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.333 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,024.80
2025-10-31 10:28:03.334 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.334 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.39
2025-10-31 10:28:03.335 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.336 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:03.336 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,585.07
2025-10-31 10:28:03.336 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.337 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.337 | INFO     | src.backtesting.engine:run:293 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:03.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.341 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.341 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11193767893425632
2025-10-31 10:28:03.341 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.034556594930737594
2025-10-31 10:28:03.342 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04474012852421505
2025-10-31 10:28:03.342 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:03.343 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1119 (11.19%) - PASS
2025-10-31 10:28:03.343 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0346 (3.46%) - PASS
2025-10-31 10:28:03.343 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0447 (4.47%) - PASS
2025-10-31 10:28:03.344 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:03.344 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.345 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:03.345 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.346 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:03.346 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 801.96 @ $121.62 (P&L: $-2,488.52)
2025-10-31 10:28:03.346 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,438.74
2025-10-31 10:28:03.347 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$97,585.07, Cash=$97,438.74, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.347 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:03.348 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:03.348 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:03.348 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:03.349 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:03.349 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 743.33
2025-10-31 10:28:03.350 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.59
2025-10-31 10:28:03.350 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,682.66
2025-10-31 10:28:03.351 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 741.47 @ $131.28
2025-10-31 10:28:03.351 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.351 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.352 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,438.74, Cash end=$-0.00
2025-10-31 10:28:03.352 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.352 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:03.353 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.353 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 741.47 shares @ $131.28 (Value: $97,341.40)
2025-10-31 10:28:03.354 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.354 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,341.40
2025-10-31 10:28:03.354 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.355 | INFO     | src.backtesting.engine:run:336 -      Change: $-243.67
2025-10-31 10:28:03.355 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.356 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:03.357 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,844.40
2025-10-31 10:28:03.357 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.357 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.358 | INFO     | src.backtesting.engine:run:293 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:03.359 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.361 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.361 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.362 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.062080363269852556
2025-10-31 10:28:03.362 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11404037668171707
2025-10-31 10:28:03.362 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08587886730594763
2025-10-31 10:28:03.363 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:03.363 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0621 (6.21%) - PASS
2025-10-31 10:28:03.364 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1140 (11.40%) - PASS
2025-10-31 10:28:03.364 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:03.364 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.365 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.365 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.366 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.366 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:03.366 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 741.47 @ $127.85 (P&L: $-2,544.42)
2025-10-31 10:28:03.367 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,702.18
2025-10-31 10:28:03.367 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$94,844.40, Cash=$94,702.18, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.368 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.368 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.369 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.369 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.79 ? $130.86 (slippage: 0.050%)
2025-10-31 10:28:03.369 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:03.370 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 724.78
2025-10-31 10:28:03.370 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.84
2025-10-31 10:28:03.370 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,939.24
2025-10-31 10:28:03.371 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 722.97 @ $130.86
2025-10-31 10:28:03.371 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.372 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.372 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,702.18, Cash end=$-0.00
2025-10-31 10:28:03.373 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.373 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:03.373 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.374 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 722.97 shares @ $130.86 (Value: $94,607.57)
2025-10-31 10:28:03.374 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.375 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,607.57
2025-10-31 10:28:03.375 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.375 | INFO     | src.backtesting.engine:run:336 -      Change: $-236.83
2025-10-31 10:28:03.376 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.377 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:03.377 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,111.15
2025-10-31 10:28:03.378 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.378 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.378 | INFO     | src.backtesting.engine:run:293 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:03.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10230277701936319
2025-10-31 10:28:03.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09632721679950307
2025-10-31 10:28:03.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07945606670536898
2025-10-31 10:28:03.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:03.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1023 (10.23%) - PASS
2025-10-31 10:28:03.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0963 (9.63%) - PASS
2025-10-31 10:28:03.385 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0795 (7.95%) - PASS
2025-10-31 10:28:03.385 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:03.386 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.386 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:03.386 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.387 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:03.387 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 722.97 @ $128.73 (P&L: $-1,542.98)
2025-10-31 10:28:03.388 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,971.53
2025-10-31 10:28:03.388 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$93,111.15, Cash=$92,971.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.388 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:03.389 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:03.389 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:03.390 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:03.390 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:03.390 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.77
2025-10-31 10:28:03.391 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.11
2025-10-31 10:28:03.391 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,204.26
2025-10-31 10:28:03.392 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.99 @ $131.00
2025-10-31 10:28:03.392 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.392 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.393 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,971.53, Cash end=$-0.00
2025-10-31 10:28:03.393 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.394 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:03.394 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.394 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.99 shares @ $131.00 (Value: $92,878.65)
2025-10-31 10:28:03.395 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.395 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,878.65
2025-10-31 10:28:03.396 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.396 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.50
2025-10-31 10:28:03.396 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.397 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:03.398 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,774.56
2025-10-31 10:28:03.398 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.399 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.399 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:03.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05578194617471177
2025-10-31 10:28:03.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07522900530727417
2025-10-31 10:28:03.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08673886201403636
2025-10-31 10:28:03.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:03.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0558 (5.58%) - PASS
2025-10-31 10:28:03.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0752 (7.52%) - PASS
2025-10-31 10:28:03.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0867 (8.67%) - PASS
2025-10-31 10:28:03.406 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.406 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.407 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.407 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.407 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:03.408 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.99 @ $127.97 (P&L: $-2,149.48)
2025-10-31 10:28:03.408 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,638.44
2025-10-31 10:28:03.409 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$90,774.56, Cash=$90,638.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.409 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.409 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:03.410 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:03.410 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:03.411 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:03.411 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 705.94
2025-10-31 10:28:03.411 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.77
2025-10-31 10:28:03.412 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,865.33
2025-10-31 10:28:03.412 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 704.18 @ $128.59
2025-10-31 10:28:03.413 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.413 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.413 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,638.44, Cash end=$-0.00
2025-10-31 10:28:03.414 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.414 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:03.415 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.415 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 704.18 shares @ $128.59 (Value: $90,547.89)
2025-10-31 10:28:03.415 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.416 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,547.89
2025-10-31 10:28:03.416 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.416 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.66
2025-10-31 10:28:03.417 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.418 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:03.418 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,297.65
2025-10-31 10:28:03.419 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.419 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.419 | INFO     | src.backtesting.engine:run:293 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:03.421 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.422 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.422 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09337633282852487
2025-10-31 10:28:03.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05925575928114202
2025-10-31 10:28:03.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04087147827096205
2025-10-31 10:28:03.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:03.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0934 (9.34%) - PASS
2025-10-31 10:28:03.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:03.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0409 (4.09%) - PASS
2025-10-31 10:28:03.426 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:03.427 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.427 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:03.427 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.428 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:03.428 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 704.18 @ $128.17 (P&L: $-295.39)
2025-10-31 10:28:03.429 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,162.25
2025-10-31 10:28:03.429 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$90,297.65, Cash=$90,162.25, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.430 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:03.430 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:03.430 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:03.431 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.23 ? $129.29 (slippage: 0.050%)
2025-10-31 10:28:03.431 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:03.432 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.41
2025-10-31 10:28:03.432 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.30
2025-10-31 10:28:03.432 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,387.94
2025-10-31 10:28:03.433 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 696.66 @ $129.29
2025-10-31 10:28:03.433 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.434 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:03.434 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,162.25, Cash end=$0.00
2025-10-31 10:28:03.434 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.435 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:03.435 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.436 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 696.66 shares @ $129.29 (Value: $90,072.17)
2025-10-31 10:28:03.436 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.436 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,072.17
2025-10-31 10:28:03.437 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:03.437 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.47
2025-10-31 10:28:03.437 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.439 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:03.439 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,772.33
2025-10-31 10:28:03.439 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:03.440 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.440 | INFO     | src.backtesting.engine:run:293 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:03.442 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.442 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08460905845341782
2025-10-31 10:28:03.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058143063523203864
2025-10-31 10:28:03.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08521457036160784
2025-10-31 10:28:03.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:03.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0846 (8.46%) - PASS
2025-10-31 10:28:03.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0581 (5.81%) - PASS
2025-10-31 10:28:03.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0852 (8.52%) - PASS
2025-10-31 10:28:03.447 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.447 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.448 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.448 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.448 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:03.449 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 696.66 @ $131.67 (P&L: $1,654.27)
2025-10-31 10:28:03.449 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,634.71
2025-10-31 10:28:03.450 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,772.33, Cash=$91,634.71, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.450 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.450 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:03.451 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:03.451 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.28 ? $135.34 (slippage: 0.050%)
2025-10-31 10:28:03.452 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:03.452 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 678.07
2025-10-31 10:28:03.453 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.77
2025-10-31 10:28:03.453 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,864.10
2025-10-31 10:28:03.453 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 676.37 @ $135.34
2025-10-31 10:28:03.454 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.454 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:03.455 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,634.71, Cash end=$0.00
2025-10-31 10:28:03.455 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.455 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:03.456 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.456 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 676.37 shares @ $135.34 (Value: $91,543.17)
2025-10-31 10:28:03.457 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.457 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,543.17
2025-10-31 10:28:03.457 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:03.458 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.16
2025-10-31 10:28:03.458 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.459 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:03.460 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,459.48
2025-10-31 10:28:03.460 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:03.460 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.461 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:03.462 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.463 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.048523400437661346
2025-10-31 10:28:03.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06375280245768722
2025-10-31 10:28:03.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04266694489239309
2025-10-31 10:28:03.466 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:03.466 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0485 (4.85%) - PASS
2025-10-31 10:28:03.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:03.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0427 (4.27%) - PASS
2025-10-31 10:28:03.467 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.468 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.468 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.469 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.469 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:03.469 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.37 @ $129.24 (P&L: $-4,127.42)
2025-10-31 10:28:03.470 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,328.33
2025-10-31 10:28:03.470 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$87,459.48, Cash=$87,328.33, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.471 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.471 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.472 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.472 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.36 ? $130.43 (slippage: 0.050%)
2025-10-31 10:28:03.472 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:03.473 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 670.55
2025-10-31 10:28:03.473 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.46
2025-10-31 10:28:03.474 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,546.94
2025-10-31 10:28:03.474 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 668.87 @ $130.43
2025-10-31 10:28:03.474 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.475 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:03.475 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,328.33, Cash end=$0.00
2025-10-31 10:28:03.476 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.476 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:03.476 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.477 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 668.87 shares @ $130.43 (Value: $87,241.09)
2025-10-31 10:28:03.477 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.477 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,241.09
2025-10-31 10:28:03.478 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:03.478 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.39
2025-10-31 10:28:03.479 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.480 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:03.480 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,297.49
2025-10-31 10:28:03.480 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:03.481 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.481 | INFO     | src.backtesting.engine:run:293 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:03.483 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.484 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.484 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.485 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.485 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08550496050562328
2025-10-31 10:28:03.486 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.029203921523580645
2025-10-31 10:28:03.486 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.052898492074856085
2025-10-31 10:28:03.486 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:03.487 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0855 (8.55%) - PASS
2025-10-31 10:28:03.487 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0292 (2.92%) - PASS
2025-10-31 10:28:03.488 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0529 (5.29%) - PASS
2025-10-31 10:28:03.488 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:03.488 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.489 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:03.489 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.490 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:03.490 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 668.87 @ $131.94 (P&L: $1,012.25)
2025-10-31 10:28:03.490 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $88,165.09
2025-10-31 10:28:03.491 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$88,297.49, Cash=$88,165.09, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.491 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:03.492 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:03.492 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:03.493 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.46 ? $132.53 (slippage: 0.050%)
2025-10-31 10:28:03.493 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:03.493 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.25
2025-10-31 10:28:03.494 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $88.30
2025-10-31 10:28:03.494 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,385.79
2025-10-31 10:28:03.495 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.58 @ $132.53
2025-10-31 10:28:03.495 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.495 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.496 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$88,165.09, Cash end=$-0.00
2025-10-31 10:28:03.496 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.497 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:03.497 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.497 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.58 shares @ $132.53 (Value: $88,077.01)
2025-10-31 10:28:03.498 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.498 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,077.01
2025-10-31 10:28:03.499 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.499 | INFO     | src.backtesting.engine:run:336 -      Change: $-220.48
2025-10-31 10:28:03.499 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.500 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:03.501 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,236.89
2025-10-31 10:28:03.501 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.501 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.502 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89, P&L: $2,159.88)
2025-10-31 10:28:03.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09675418215912424
2025-10-31 10:28:03.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0711032800562954
2025-10-31 10:28:03.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08209555160058413
2025-10-31 10:28:03.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:03.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0968 (9.68%) - PASS
2025-10-31 10:28:03.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0711 (7.11%) - PASS
2025-10-31 10:28:03.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0821 (8.21%) - PASS
2025-10-31 10:28:03.509 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:03.509 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.509 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:03.510 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:03.510 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89)
2025-10-31 10:28:03.511 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$90,236.89, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:03.511 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:03.511 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:03.512 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:03.512 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.58 shares worth $90,236.89
2025-10-31 10:28:03.513 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:03.513 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:03.513 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:03.514 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.25
2025-10-31 10:28:03.514 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.58
2025-10-31 10:28:03.515 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:03.515 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:03.515 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.07
2025-10-31 10:28:03.516 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.33 shares at $135.71 (proceeds: $45.03)
2025-10-31 10:28:03.516 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:03.517 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.03
2025-10-31 10:28:03.517 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.07, Cash end=$45.03
2025-10-31 10:28:03.517 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:03.518 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.518 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,236.82
2025-10-31 10:28:03.519 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:03.519 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:03.519 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.520 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:03.521 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,105.47
2025-10-31 10:28:03.521 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:03.522 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.522 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44, P&L: $4,027.44)
2025-10-31 10:28:03.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08245274168982375
2025-10-31 10:28:03.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07346223866474255
2025-10-31 10:28:03.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.043413197059924746
2025-10-31 10:28:03.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:03.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0825 (8.25%) - PASS
2025-10-31 10:28:03.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0735 (7.35%) - PASS
2025-10-31 10:28:03.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0434 (4.34%) - PASS
2025-10-31 10:28:03.529 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:03.529 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.530 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:03.530 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:03.530 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44)
2025-10-31 10:28:03.531 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$92,105.47, Cash=$45.03, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:03.531 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:03.532 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:03.532 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:03.532 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.25 shares worth $92,060.44
2025-10-31 10:28:03.533 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD SPY [relative_top]
2025-10-31 10:28:03.533 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $138.59 ? $138.66 (slippage: 0.050%)
2025-10-31 10:28:03.534 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:03.534 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.24
2025-10-31 10:28:03.534 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.25
2025-10-31 10:28:03.535 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.01
2025-10-31 10:28:03.535 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:03.536 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1.00
2025-10-31 10:28:03.536 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:03.536 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.03
2025-10-31 10:28:03.537 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:03.537 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.538 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,105.47
2025-10-31 10:28:03.538 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:03.538 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:03.539 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.540 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:03.540 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,209.39
2025-10-31 10:28:03.541 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:03.541 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.541 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:03.543 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.544 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.544 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.545 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.545 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.046770856134837224
2025-10-31 10:28:03.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09687053348885044
2025-10-31 10:28:03.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04184317094333867
2025-10-31 10:28:03.547 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:03.547 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0468 (4.68%) - PASS
2025-10-31 10:28:03.547 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0969 (9.69%) - PASS
2025-10-31 10:28:03.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:03.548 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.549 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.549 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.549 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.550 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:03.550 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.25 @ $134.17 (P&L: $1,086.79)
2025-10-31 10:28:03.551 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,075.69
2025-10-31 10:28:03.551 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$89,209.39, Cash=$89,075.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:03.552 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.552 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.552 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.553 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:03.553 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.86
2025-10-31 10:28:03.554 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 646.42
2025-10-31 10:28:03.554 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.21
2025-10-31 10:28:03.554 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,298.60
2025-10-31 10:28:03.555 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 644.81 @ $138.01
2025-10-31 10:28:03.555 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.556 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.556 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,075.69, Cash end=$-0.00
2025-10-31 10:28:03.556 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.557 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:03.557 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.558 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 644.81 shares @ $138.01 (Value: $88,986.71)
2025-10-31 10:28:03.558 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.558 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,986.71
2025-10-31 10:28:03.559 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.559 | INFO     | src.backtesting.engine:run:336 -      Change: $-222.69
2025-10-31 10:28:03.559 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.561 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:03.561 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,617.00
2025-10-31 10:28:03.561 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.562 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.562 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00, P&L: $-369.70)
2025-10-31 10:28:03.564 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.564 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.565 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.566 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.566 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06541858782151833
2025-10-31 10:28:03.566 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09774311842405137
2025-10-31 10:28:03.567 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08593314284028253
2025-10-31 10:28:03.567 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:03.568 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0654 (6.54%) - PASS
2025-10-31 10:28:03.568 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0977 (9.77%) - PASS
2025-10-31 10:28:03.568 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:03.569 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.569 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.570 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.570 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:03.570 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00)
2025-10-31 10:28:03.571 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$88,617.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:03.571 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.572 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:03.572 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:03.572 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 644.81 shares worth $88,617.00
2025-10-31 10:28:03.573 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:03.573 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.43 ? $137.50 (slippage: 0.050%)
2025-10-31 10:28:03.574 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:03.574 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 644.48
2025-10-31 10:28:03.575 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 644.81
2025-10-31 10:28:03.575 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:03.575 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:03.576 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.26
2025-10-31 10:28:03.576 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $137.36 (proceeds: $44.22)
2025-10-31 10:28:03.577 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:03.577 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.22
2025-10-31 10:28:03.577 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.26, Cash end=$44.22
2025-10-31 10:28:03.578 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:03.578 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.579 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,616.94
2025-10-31 10:28:03.579 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.22
2025-10-31 10:28:03.579 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:03.580 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.581 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:03.581 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,376.47
2025-10-31 10:28:03.582 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.22
2025-10-31 10:28:03.582 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.582 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:03.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026449575231996203
2025-10-31 10:28:03.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06097758703104095
2025-10-31 10:28:03.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0810725080136625
2025-10-31 10:28:03.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:03.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0264 (2.64%) - PASS
2025-10-31 10:28:03.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0610 (6.10%) - PASS
2025-10-31 10:28:03.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0811 (8.11%) - PASS
2025-10-31 10:28:03.589 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.589 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.590 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.590 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.591 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:03.591 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 644.48 @ $140.09 (P&L: $1,344.85)
2025-10-31 10:28:03.591 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,241.02
2025-10-31 10:28:03.592 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$90,376.47, Cash=$90,241.02, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:03.592 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.593 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:03.593 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:03.594 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.55 ? $141.62 (slippage: 0.050%)
2025-10-31 10:28:03.594 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:03.594 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.17
2025-10-31 10:28:03.595 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.38
2025-10-31 10:28:03.595 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,466.85
2025-10-31 10:28:03.596 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 636.57 @ $141.62
2025-10-31 10:28:03.596 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.596 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.597 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,241.02, Cash end=$-0.00
2025-10-31 10:28:03.597 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.598 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:03.598 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.598 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 636.57 shares @ $141.62 (Value: $90,150.87)
2025-10-31 10:28:03.599 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.599 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,150.87
2025-10-31 10:28:03.600 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.600 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.60
2025-10-31 10:28:03.600 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.601 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:03.602 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,816.41
2025-10-31 10:28:03.602 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.603 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.603 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41, P&L: $-334.46)
2025-10-31 10:28:03.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.060629103850839305
2025-10-31 10:28:03.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04278850978852278
2025-10-31 10:28:03.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06600451891900727
2025-10-31 10:28:03.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:03.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0606 (6.06%) - PASS
2025-10-31 10:28:03.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0428 (4.28%) - PASS
2025-10-31 10:28:03.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0660 (6.60%) - PASS
2025-10-31 10:28:03.610 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.610 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.611 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.611 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:03.611 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41)
2025-10-31 10:28:03.612 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$89,816.41, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:03.612 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.613 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:03.613 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:03.614 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 636.57 shares worth $89,816.41
2025-10-31 10:28:03.614 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:03.614 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.09 ? $141.16 (slippage: 0.050%)
2025-10-31 10:28:03.615 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:03.615 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.25
2025-10-31 10:28:03.616 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 636.57
2025-10-31 10:28:03.616 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:03.616 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:03.617 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.86
2025-10-31 10:28:03.617 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.32 shares at $141.02 (proceeds: $44.82)
2025-10-31 10:28:03.618 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:03.618 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.82
2025-10-31 10:28:03.618 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.86, Cash end=$44.82
2025-10-31 10:28:03.619 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:03.619 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.620 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,816.34
2025-10-31 10:28:03.620 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.82
2025-10-31 10:28:03.620 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:03.621 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.622 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:03.622 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,931.33
2025-10-31 10:28:03.623 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.82
2025-10-31 10:28:03.623 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.623 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:03.625 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.04354100310713305
2025-10-31 10:28:03.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05817277610654825
2025-10-31 10:28:03.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.050749269499728245
2025-10-31 10:28:03.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:03.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0435 (4.35%) - PASS
2025-10-31 10:28:03.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0582 (5.82%) - PASS
2025-10-31 10:28:03.630 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0507 (5.07%) - PASS
2025-10-31 10:28:03.630 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.630 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.631 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.631 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.632 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:03.632 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 636.25 @ $138.06 (P&L: $-2,263.24)
2025-10-31 10:28:03.632 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,799.55
2025-10-31 10:28:03.633 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$87,931.33, Cash=$87,799.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:03.633 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.634 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.634 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.634 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:03.635 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:03.635 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.91
2025-10-31 10:28:03.636 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.93
2025-10-31 10:28:03.636 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,019.26
2025-10-31 10:28:03.637 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 635.32 @ $138.06
2025-10-31 10:28:03.637 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.637 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.638 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,799.55, Cash end=$-0.00
2025-10-31 10:28:03.638 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.639 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:03.639 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.639 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 635.32 shares @ $138.06 (Value: $87,711.83)
2025-10-31 10:28:03.640 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.640 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,711.83
2025-10-31 10:28:03.640 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.641 | INFO     | src.backtesting.engine:run:336 -      Change: $-219.50
2025-10-31 10:28:03.641 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.642 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:03.643 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,568.42
2025-10-31 10:28:03.643 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.643 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.644 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42, P&L: $3,856.59)
2025-10-31 10:28:03.645 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05618000180644045
2025-10-31 10:28:03.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06382148319011183
2025-10-31 10:28:03.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.021775481826179943
2025-10-31 10:28:03.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:03.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0562 (5.62%) - PASS
2025-10-31 10:28:03.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:03.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0218 (2.18%) - PASS
2025-10-31 10:28:03.654 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.655 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.655 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.656 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:03.656 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42)
2025-10-31 10:28:03.656 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$91,568.42, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:03.657 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.657 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:03.658 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:03.658 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.32 shares worth $91,568.42
2025-10-31 10:28:03.658 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:03.659 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:03.659 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:03.660 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.01
2025-10-31 10:28:03.660 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.32
2025-10-31 10:28:03.660 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:03.661 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:03.661 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.74
2025-10-31 10:28:03.662 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $144.06 (proceeds: $45.69)
2025-10-31 10:28:03.662 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:03.662 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.69
2025-10-31 10:28:03.663 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.74, Cash end=$45.69
2025-10-31 10:28:03.663 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:03.663 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.664 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,568.35
2025-10-31 10:28:03.664 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:03.665 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:03.665 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.666 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:03.666 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,663.80
2025-10-31 10:28:03.667 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:03.667 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.668 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10, P&L: $4,950.10)
2025-10-31 10:28:03.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.670 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.670 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05731563951086516
2025-10-31 10:28:03.672 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08652535999780908
2025-10-31 10:28:03.672 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028712997605179646
2025-10-31 10:28:03.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:03.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0573 (5.73%) - PASS
2025-10-31 10:28:03.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0865 (8.65%) - PASS
2025-10-31 10:28:03.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0287 (2.87%) - PASS
2025-10-31 10:28:03.674 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.675 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.675 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.675 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:03.676 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10)
2025-10-31 10:28:03.676 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$92,663.80, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:03.676 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.677 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:03.677 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:03.678 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,618.10
2025-10-31 10:28:03.678 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:03.679 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:03.679 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:03.679 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:03.680 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:03.680 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:03.680 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:03.681 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:03.681 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:03.682 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:03.682 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:03.682 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.683 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,663.80
2025-10-31 10:28:03.683 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:03.684 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:03.684 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.685 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:03.685 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,665.19
2025-10-31 10:28:03.686 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:03.686 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.686 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50, P&L: $4,951.50)
2025-10-31 10:28:03.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06283582279220967
2025-10-31 10:28:03.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0840282160513397
2025-10-31 10:28:03.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0781538240647981
2025-10-31 10:28:03.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:03.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0628 (6.28%) - PASS
2025-10-31 10:28:03.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0840 (8.40%) - PASS
2025-10-31 10:28:03.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0782 (7.82%) - PASS
2025-10-31 10:28:03.693 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.694 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.694 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.694 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:03.695 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50)
2025-10-31 10:28:03.695 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$92,665.19, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:03.695 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.696 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:03.696 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:03.697 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,619.50
2025-10-31 10:28:03.697 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:03.698 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.86 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:03.698 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:03.698 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:03.699 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:03.699 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:03.699 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:03.700 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:03.700 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:03.701 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:03.701 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:03.701 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.702 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,665.19
2025-10-31 10:28:03.702 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:03.703 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:03.703 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.704 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:03.704 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,844.44
2025-10-31 10:28:03.705 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:03.705 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.706 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:03.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0797353250554409
2025-10-31 10:28:03.710 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0663792780678536
2025-10-31 10:28:03.710 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06865645520660602
2025-10-31 10:28:03.711 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:03.711 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0797 (7.97%) - PASS
2025-10-31 10:28:03.711 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0664 (6.64%) - PASS
2025-10-31 10:28:03.712 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0687 (6.87%) - PASS
2025-10-31 10:28:03.712 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:03.713 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.713 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:03.713 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.714 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:03.714 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 635.01 @ $142.92 (P&L: $3,085.34)
2025-10-31 10:28:03.715 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,708.28
2025-10-31 10:28:03.715 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$90,844.44, Cash=$90,708.28, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:03.715 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:03.716 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:03.716 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:03.717 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $146.97 ? $147.04 (slippage: 0.050%)
2025-10-31 10:28:03.717 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:03.718 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 617.82
2025-10-31 10:28:03.718 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.84
2025-10-31 10:28:03.718 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,935.28
2025-10-31 10:28:03.719 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 616.28 @ $147.04
2025-10-31 10:28:03.719 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.720 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:03.720 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,708.28, Cash end=$0.00
2025-10-31 10:28:03.720 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.721 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:03.721 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.721 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 616.28 shares @ $147.04 (Value: $90,617.67)
2025-10-31 10:28:03.722 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.722 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,617.67
2025-10-31 10:28:03.723 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:03.723 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.77
2025-10-31 10:28:03.723 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.724 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:03.725 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,098.27
2025-10-31 10:28:03.725 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:03.726 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.726 | INFO     | src.backtesting.engine:run:293 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:03.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.729 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.729 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.061678785162375904
2025-10-31 10:28:03.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0630140413189888
2025-10-31 10:28:03.731 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06351458377721841
2025-10-31 10:28:03.731 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:03.731 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0617 (6.17%) - PASS
2025-10-31 10:28:03.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0630 (6.30%) - PASS
2025-10-31 10:28:03.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0635 (6.35%) - PASS
2025-10-31 10:28:03.733 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.733 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.733 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.734 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.734 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:03.735 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 616.28 @ $146.12 (P&L: $-564.45)
2025-10-31 10:28:03.735 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,963.16
2025-10-31 10:28:03.736 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$90,098.27, Cash=$89,963.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.736 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.736 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:03.737 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:03.737 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:03.738 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:03.738 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 611.99
2025-10-31 10:28:03.738 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.10
2025-10-31 10:28:03.739 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,188.36
2025-10-31 10:28:03.739 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 610.46 @ $147.22
2025-10-31 10:28:03.740 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.740 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:03.741 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,963.16, Cash end=$0.00
2025-10-31 10:28:03.741 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.741 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:03.742 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.742 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 610.46 shares @ $147.22 (Value: $89,873.29)
2025-10-31 10:28:03.743 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.743 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,873.29
2025-10-31 10:28:03.743 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:03.744 | INFO     | src.backtesting.engine:run:336 -      Change: $-224.98
2025-10-31 10:28:03.744 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.745 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:03.745 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,403.63
2025-10-31 10:28:03.746 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:03.746 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.747 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63, P&L: $1,530.34)
2025-10-31 10:28:03.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05049848489114539
2025-10-31 10:28:03.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050013878843399695
2025-10-31 10:28:03.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08398809728515122
2025-10-31 10:28:03.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:03.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0505 (5.05%) - PASS
2025-10-31 10:28:03.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0500 (5.00%) - PASS
2025-10-31 10:28:03.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0840 (8.40%) - PASS
2025-10-31 10:28:03.753 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.754 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.754 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.754 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:03.755 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63)
2025-10-31 10:28:03.755 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$91,403.63, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:03.756 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.756 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:03.756 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:03.757 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 610.46 shares worth $91,403.63
2025-10-31 10:28:03.757 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:03.758 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:03.758 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:03.758 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 610.15
2025-10-31 10:28:03.759 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 610.46
2025-10-31 10:28:03.759 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.31
2025-10-31 10:28:03.760 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:03.760 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.66
2025-10-31 10:28:03.760 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.31 shares at $149.66 (proceeds: $45.61)
2025-10-31 10:28:03.761 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:03.761 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.61
2025-10-31 10:28:03.762 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.66, Cash end=$45.61
2025-10-31 10:28:03.762 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:03.762 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.763 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,403.56
2025-10-31 10:28:03.763 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.61
2025-10-31 10:28:03.764 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:03.764 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.765 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:03.765 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,696.12
2025-10-31 10:28:03.766 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.61
2025-10-31 10:28:03.766 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.767 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:03.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02348918660372412
2025-10-31 10:28:03.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08750655028956023
2025-10-31 10:28:03.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0390661027483481
2025-10-31 10:28:03.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:03.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0235 (2.35%) - PASS
2025-10-31 10:28:03.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0875 (8.75%) - PASS
2025-10-31 10:28:03.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0391 (3.91%) - PASS
2025-10-31 10:28:03.773 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.774 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.774 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.774 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.775 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:03.775 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 610.15 @ $143.58 (P&L: $-2,221.69)
2025-10-31 10:28:03.776 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,564.69
2025-10-31 10:28:03.776 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$87,696.12, Cash=$87,564.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:03.776 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.777 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.777 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.778 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:03.778 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:03.778 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 583.20
2025-10-31 10:28:03.779 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.70
2025-10-31 10:28:03.779 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,783.82
2025-10-31 10:28:03.780 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 581.74 @ $150.37
2025-10-31 10:28:03.780 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.780 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.781 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,564.69, Cash end=$-0.00
2025-10-31 10:28:03.781 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.782 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:03.782 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.782 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 581.74 shares @ $150.37 (Value: $87,477.21)
2025-10-31 10:28:03.783 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.783 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,477.21
2025-10-31 10:28:03.784 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.784 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.91
2025-10-31 10:28:03.784 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.785 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:03.786 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $85,079.53
2025-10-31 10:28:03.786 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.787 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.787 | INFO     | src.backtesting.engine:run:293 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:03.789 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.789 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.790 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.790 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:03.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0811051176218518
2025-10-31 10:28:03.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03823797219127867
2025-10-31 10:28:03.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08937036751513094
2025-10-31 10:28:03.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:03.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0811 (8.11%) - PASS
2025-10-31 10:28:03.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0382 (3.82%) - PASS
2025-10-31 10:28:03.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0894 (8.94%) - PASS
2025-10-31 10:28:03.794 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.794 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.794 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.795 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.795 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:03.796 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 581.74 @ $146.18 (P&L: $-2,440.22)
2025-10-31 10:28:03.796 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $84,951.96
2025-10-31 10:28:03.796 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$85,079.53, Cash=$84,951.96, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.797 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.797 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:03.798 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:03.798 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:03.798 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:03.799 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 559.63
2025-10-31 10:28:03.799 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $85.08
2025-10-31 10:28:03.800 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $85,164.61
2025-10-31 10:28:03.800 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 558.24 @ $152.03
2025-10-31 10:28:03.800 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.801 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.801 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$84,951.96, Cash end=$-0.00
2025-10-31 10:28:03.802 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.802 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:03.802 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.803 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 558.24 shares @ $152.03 (Value: $84,867.09)
2025-10-31 10:28:03.803 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.804 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $84,867.09
2025-10-31 10:28:03.804 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.804 | INFO     | src.backtesting.engine:run:336 -      Change: $-212.44
2025-10-31 10:28:03.805 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.806 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 558.24 @ $151.85 (P&L: $-96.75)
2025-10-31 10:28:03.807 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-09-10 to 2023-12-31
2025-10-31 10:28:03.809 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:03.816 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:03.818 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:03.819 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'AGG_quantity', 'AGG_price', 'AGG_value', 'EFA_quantity', 'EFA_price', 'EFA_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:03.820 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 843 records (performance period)
2025-10-31 10:28:03.899 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:03.900 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:03.900 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:03.901 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 843
2025-10-31 10:28:03.901 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:03.901 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (843, 18)
2025-10-31 10:28:03.902 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:03.902 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:03.913 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-09-10    100000.000000  1.000000e+05  ...        NaN      NaN
2021-09-11     96272.216190 -1.455192e-11  ...        NaN      NaN
2021-09-12    101109.070476 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:03.913 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:03.924 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2023-12-29     84299.707862 -1.455192e-11  ...        NaN      NaN
2023-12-30     82574.588149 -1.455192e-11  ...        NaN      NaN
2023-12-31     84812.741501 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:03.925 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:03.925 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $84,812.74 (-15.19% return)
2025-10-31 10:28:03.926 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102803.log
2025-10-31 10:28:03.927 | INFO     | src.backtesting.hyperparameter_tuner:random_search:335 - Starting random search hyperparameter optimization
2025-10-31 10:28:03.927 | INFO     | src.backtesting.hyperparameter_tuner:random_search:336 - Optimizing metric: sharpe_ratio (maximize)
2025-10-31 10:28:03.928 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:03.928 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:03.936 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102803.log
2025-10-31 10:28:03.936 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:03.937 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:03.938 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:03.939 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:03.940 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:03.940 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:03.941 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:03.942 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:03.942 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:03.943 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:03.943 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:03.944 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:03.945 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.946 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:03.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:03.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:03.949 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:03.949 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:03.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:03.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:03.950 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.951 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.951 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.952 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:03.952 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.952 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.953 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.953 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:03.954 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:03.954 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:03.955 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:03.955 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:03.955 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:03.956 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.956 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.957 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:03.957 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.957 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:03.958 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.958 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:03.959 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:03.959 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:03.959 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.960 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:03.961 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:03.961 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:03.962 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.962 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:03.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.965 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.965 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:03.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:03.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:03.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:03.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:03.968 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:03.968 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:03.969 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:03.969 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.969 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:03.970 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.970 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:03.971 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:03.971 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:03.972 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.972 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:03.972 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:03.973 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:03.973 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:03.974 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:03.974 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:03.974 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:03.975 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:03.975 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:03.976 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.976 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:03.977 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:03.977 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.977 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:03.978 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:03.978 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:03.978 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:03.979 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:03.979 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:03.980 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:03.980 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:03.981 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:03.981 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:03.982 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:03.982 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:03.983 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:03.984 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:03.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:03.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:03.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:03.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:03.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:03.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:03.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:03.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:03.989 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:03.990 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:03.990 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:03.991 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:03.991 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:03.991 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:03.992 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:03.992 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:03.993 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:03.993 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:03.994 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:03.994 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:03.994 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:03.995 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:03.995 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:03.996 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:03.997 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:03.997 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:03.998 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:03.998 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:03.999 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:03.999 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:03.999 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.000 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:04.000 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.001 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:04.001 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.001 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:04.002 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.003 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:04.003 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:04.004 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.004 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.004 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:04.006 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:04.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:04.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:04.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:04.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:04.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:04.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:04.011 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.012 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.012 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.012 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.013 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:04.013 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:04.014 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:04.014 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.015 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.015 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.015 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.016 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:04.016 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:04.017 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:04.017 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:04.017 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:04.018 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:04.018 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.019 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.019 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:04.020 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.020 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:04.020 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.021 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:04.021 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.022 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:04.022 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.022 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:04.023 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.024 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:04.024 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:04.025 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.025 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.025 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:04.027 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:04.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:04.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:04.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:04.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:04.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:04.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:04.032 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.032 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.033 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.033 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:04.034 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:04.034 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:04.034 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.035 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:04.035 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:04.036 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:04.036 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:04.037 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:04.037 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:04.037 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:04.038 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:04.038 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:04.039 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:04.039 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:04.039 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:04.040 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:04.040 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:04.041 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:04.041 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:04.041 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.042 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:04.042 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:04.043 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:04.043 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.044 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:04.044 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:04.045 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:04.045 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.046 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:04.047 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.048 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:04.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:04.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:04.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:04.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:04.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:04.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:04.052 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.053 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.053 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.054 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.054 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:04.055 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:04.055 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:04.055 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:04.056 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.056 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.057 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.057 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:04.057 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:04.058 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:04.058 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:04.059 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:04.059 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:04.059 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.060 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:04.060 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:04.061 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.061 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:04.061 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.062 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:04.062 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.063 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:04.063 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:04.063 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:04.064 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.065 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:04.065 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:04.066 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:04.066 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.066 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:04.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.070 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.070 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:04.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:04.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:04.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:04.072 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:04.072 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:04.073 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:04.073 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.073 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.074 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.074 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.075 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:04.075 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:04.076 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:04.076 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.076 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.077 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.077 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.078 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:04.078 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:04.078 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:04.079 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:04.079 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:04.080 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:04.080 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.080 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.081 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:04.081 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.082 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:04.082 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.082 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:04.083 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.083 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:04.084 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.084 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:04.084 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.085 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:04.086 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:04.086 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.087 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.087 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:04.089 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.089 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.090 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.090 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.091 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:04.091 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:04.092 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:04.092 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:04.092 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:04.093 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:04.093 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:04.094 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.094 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.153 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.156 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.156 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:04.157 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:04.157 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:04.157 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.158 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.158 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:04.159 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:04.159 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:04.160 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:04.160 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:04.160 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:04.161 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:04.161 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:04.162 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.162 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.162 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:04.163 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.163 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:04.164 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.164 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:04.164 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.165 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:04.165 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.165 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:04.166 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.167 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:04.167 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:04.168 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.168 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.169 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:04.170 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:04.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:04.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:04.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:04.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:04.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:04.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:04.175 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.176 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.176 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.176 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:04.177 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:04.177 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:04.178 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.178 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:04.178 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:04.179 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:04.179 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:04.180 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:04.180 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:04.180 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:04.181 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:04.181 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:04.182 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:04.182 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:04.182 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:04.183 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:04.183 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:04.184 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:04.184 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:04.184 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.185 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:04.185 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:04.186 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:04.186 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.187 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:04.187 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:04.188 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:04.188 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.189 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:04.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:04.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:04.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:04.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:04.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:04.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:04.195 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:04.195 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.196 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.196 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.196 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.197 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:04.197 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:04.198 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:04.198 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:04.199 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.199 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.199 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.200 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:04.200 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:04.201 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:04.201 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:04.201 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:04.202 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:04.202 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.203 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.203 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:04.203 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.204 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:04.204 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.205 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:04.205 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.205 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:04.206 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.206 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:04.207 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.208 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:04.208 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:04.208 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.209 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.209 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:04.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:04.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:04.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:04.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:04.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:04.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:04.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:04.216 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.216 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.217 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.217 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.217 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:04.218 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:04.218 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:04.219 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.219 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.219 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:04.220 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:04.220 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:04.221 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:04.221 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:04.222 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:04.222 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:04.222 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:04.223 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.223 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.224 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:04.224 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.224 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:04.225 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.225 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:04.226 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.226 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:04.226 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.227 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:04.227 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.228 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:04.229 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:04.229 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.229 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.230 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:04.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.233 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.233 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.234 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:04.234 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:04.234 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:04.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:04.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:04.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:04.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:04.236 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.237 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.237 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.238 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.238 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:04.239 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:04.239 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:04.239 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.240 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.240 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.241 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.241 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:04.241 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:04.242 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:04.242 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:04.243 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:04.243 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:04.243 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.244 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.244 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:04.245 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.245 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:04.245 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.246 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:04.246 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.247 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:04.247 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.247 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:04.248 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.249 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:04.249 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:04.250 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.250 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.250 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:04.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.254 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.254 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:04.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:04.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:04.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:04.256 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:04.256 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:04.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:04.257 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.257 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.258 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.258 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.259 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:04.259 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:04.259 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:04.260 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.260 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.261 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:04.261 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:04.262 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:04.262 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:04.262 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:04.263 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:04.263 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:04.264 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:04.264 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.264 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.265 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:04.265 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.266 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:04.266 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.266 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:04.267 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.267 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:04.267 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.268 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:04.268 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.269 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:04.270 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:04.270 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.270 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.271 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:04.273 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.273 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.274 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.274 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.275 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:04.275 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:04.276 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:04.276 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:04.276 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:04.277 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:04.277 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:04.278 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.278 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.278 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.279 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:04.279 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:04.280 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:04.280 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.280 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:04.281 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:04.281 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:04.282 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:04.282 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:04.282 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:04.283 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:04.283 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:04.284 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:04.284 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:04.284 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:04.285 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:04.285 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:04.286 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:04.286 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:04.286 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:04.287 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.287 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:04.288 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:04.288 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:04.288 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.289 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:04.290 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:04.290 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:04.291 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.291 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:04.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:04.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:04.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:04.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:04.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:04.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:04.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:04.298 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.298 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.298 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.299 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.299 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:04.300 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:04.300 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:04.301 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:04.301 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.301 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.302 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.302 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:04.303 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:04.303 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:04.303 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:04.304 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:04.304 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:04.305 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.305 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.305 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:04.306 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.306 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:04.307 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.307 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:04.307 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.308 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:04.308 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.309 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:04.309 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.310 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:04.310 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:04.311 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.311 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.312 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:04.313 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:04.316 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:04.316 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:04.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:04.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:04.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:04.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:04.318 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.319 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.319 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.319 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.320 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:04.320 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:04.321 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:04.321 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.321 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.322 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.322 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.323 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:04.323 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:04.323 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:04.324 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:04.324 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:04.325 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:04.325 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.326 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.326 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:04.326 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.327 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:04.327 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.327 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:04.328 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.328 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:04.329 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.329 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:04.329 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.330 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:04.331 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:04.331 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.332 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.332 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:04.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:04.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:04.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:04.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:04.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:04.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:04.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:04.339 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.339 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.339 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.340 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.340 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:04.341 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:04.341 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:04.342 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.342 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.342 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.343 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.343 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:04.344 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:04.344 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:04.344 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:04.345 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:04.345 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:04.346 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.346 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.346 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:04.347 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.347 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:04.348 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.348 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:04.348 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.349 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:04.349 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.350 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:04.350 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.351 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:04.351 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:04.352 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.352 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.352 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:04.354 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.355 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.355 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.356 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.356 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:04.357 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:04.357 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:04.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:04.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:04.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:04.359 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:04.359 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.360 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.360 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.360 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.361 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:04.361 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:04.362 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:04.362 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.362 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.363 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.363 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.364 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:04.364 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:04.364 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:04.365 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:04.365 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:04.366 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:04.366 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.367 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:04.367 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:04.367 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.368 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:04.368 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.368 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:04.369 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.369 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:04.370 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:04.370 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:04.370 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.371 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:04.372 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:04.372 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:04.373 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.373 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:04.375 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.375 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.376 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.376 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.377 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:04.377 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:04.378 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:04.378 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:04.378 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:04.379 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:04.379 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:04.380 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.380 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.380 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.381 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.381 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:04.382 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:04.382 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:04.383 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.383 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.383 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.384 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.384 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:04.385 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:04.385 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:04.385 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:04.386 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:04.386 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:04.387 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.387 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:04.387 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:04.388 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.388 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:04.389 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.389 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:04.389 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.390 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:04.390 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:04.391 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:04.391 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.392 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:04.392 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:04.393 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:04.393 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.394 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:04.395 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.396 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.396 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:04.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:04.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:04.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:04.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:04.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:04.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:04.400 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.401 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.401 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.401 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:04.402 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:04.402 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:04.403 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.403 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:04.404 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:04.404 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:04.404 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:04.405 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:04.405 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:04.406 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:04.406 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:04.406 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:04.407 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:04.407 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:04.408 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:04.408 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:04.408 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:04.409 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:04.409 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:04.410 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.410 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:04.410 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:04.411 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:04.411 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.412 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:04.413 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:04.413 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:04.413 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.414 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:04.416 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.416 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.417 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.417 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.418 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:04.418 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:04.418 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:04.419 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:04.419 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:04.420 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:04.420 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:04.420 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.421 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.421 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.422 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.422 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:04.422 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:04.423 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:04.423 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:04.424 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.424 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:04.425 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:04.425 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:04.425 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:04.426 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:04.426 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:04.427 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:04.427 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:04.427 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.428 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.428 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:04.429 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.429 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:04.429 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.430 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:04.430 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.431 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:04.431 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.431 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:04.432 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.433 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:04.433 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:04.434 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.434 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.434 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:04.436 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.437 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.437 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.438 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.438 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:04.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:04.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:04.439 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:04.440 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:04.440 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:04.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:04.441 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.441 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.442 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.442 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.443 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:04.443 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:04.444 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:04.444 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.445 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.445 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.446 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.446 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:04.447 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:04.447 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:04.447 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:04.448 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:04.448 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:04.449 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.449 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.450 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:04.450 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.450 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:04.451 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.451 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:04.452 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.452 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:04.452 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.453 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:04.453 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.454 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:04.455 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:04.455 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.455 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.456 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:04.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:04.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:04.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:04.461 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:04.461 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:04.462 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:04.462 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:04.462 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.463 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.463 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.464 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.464 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:04.465 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:04.465 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:04.465 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.466 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.466 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.467 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.467 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:04.467 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:04.468 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:04.468 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:04.469 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:04.469 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:04.469 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.470 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.470 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:04.471 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.471 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:04.471 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.472 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:04.472 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.473 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:04.473 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.473 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:04.474 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.475 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:04.475 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:04.476 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.476 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.476 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:04.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.480 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.480 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:04.481 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:04.481 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:04.482 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:04.482 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:04.482 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:04.483 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:04.483 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.484 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.484 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.484 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.485 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:04.485 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:04.486 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:04.486 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.486 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.487 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.487 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.488 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:04.488 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:04.488 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:04.489 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:04.489 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:04.490 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:04.490 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.490 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.491 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:04.491 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.492 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:04.492 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.492 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:04.493 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.493 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:04.494 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.494 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:04.494 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.495 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:04.496 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:04.496 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.497 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.497 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:04.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:04.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:04.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:04.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:04.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:04.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:04.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:04.504 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.504 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.505 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.505 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:04.505 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:04.506 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:04.506 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.507 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:04.507 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:04.508 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:04.508 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:04.508 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:04.509 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:04.509 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:04.510 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:04.510 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:04.510 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:04.511 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:04.511 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:04.512 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:04.512 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:04.512 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:04.513 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:04.513 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.514 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:04.514 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:04.514 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:04.515 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.516 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:04.516 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:04.517 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:04.517 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.517 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:04.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:04.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:04.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:04.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:04.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:04.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:04.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:04.524 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.524 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.525 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.525 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:04.526 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:04.526 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:04.527 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.527 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:04.527 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:04.528 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:04.528 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:04.529 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:04.529 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:04.529 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:04.530 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:04.530 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:04.531 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:04.531 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:04.531 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:04.532 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:04.532 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:04.533 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.533 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:04.533 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:04.534 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:04.534 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.535 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:04.536 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:04.536 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:04.536 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.537 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:04.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.541 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:04.541 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:04.541 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:04.542 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:04.542 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:04.543 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:04.543 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:04.543 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.544 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.544 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.545 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.545 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:04.545 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:04.546 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:04.546 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:04.547 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.547 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.548 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.548 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:04.548 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:04.549 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:04.549 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:04.550 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:04.550 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:04.550 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.551 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.551 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:04.552 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.552 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:04.552 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.553 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:04.553 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.554 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:04.554 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.554 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:04.555 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.556 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:04.556 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:04.557 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.557 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.557 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:04.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.560 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.560 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.561 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.561 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:04.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:04.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:04.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:04.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:04.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:04.564 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:04.564 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.564 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.565 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.565 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.566 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:04.566 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:04.566 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:04.567 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.567 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.568 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.568 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.569 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:04.569 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:04.569 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:04.570 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:04.570 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:04.571 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:04.571 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.571 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:04.572 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:04.572 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.573 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:04.573 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.573 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:04.574 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.574 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:04.574 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:04.575 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:04.575 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.576 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:04.577 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:04.577 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:04.577 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.578 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:04.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:04.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:04.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:04.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:04.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:04.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:04.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:04.585 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.585 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.585 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.586 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.586 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:04.587 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:04.587 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:04.587 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.588 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.588 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:04.589 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:04.589 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:04.589 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:04.590 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:04.590 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:04.591 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:04.591 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:04.591 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.592 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.592 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:04.593 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.593 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:04.593 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.594 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:04.594 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.595 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:04.595 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.595 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:04.596 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.597 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:04.597 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:04.598 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.598 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.598 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:04.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:04.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:04.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:04.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:04.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:04.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:04.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:04.605 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.606 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.606 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.606 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:04.607 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:04.607 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:04.608 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.608 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:04.608 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:04.609 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:04.609 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:04.610 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:04.610 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:04.610 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:04.611 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:04.611 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:04.612 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:04.612 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:04.612 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:04.613 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:04.613 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:04.614 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:04.614 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:04.614 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.615 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:04.615 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:04.616 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:04.616 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.617 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:04.618 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:04.618 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:04.618 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.619 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:04.620 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.621 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.622 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.622 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:04.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:04.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:04.624 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:04.624 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:04.625 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:04.625 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:04.625 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.626 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.626 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.627 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.627 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:04.627 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:04.628 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:04.628 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:04.629 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.629 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.629 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.630 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:04.630 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:04.631 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:04.631 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:04.631 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:04.632 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:04.632 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.633 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:04.633 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:04.633 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.634 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:04.634 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.635 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:04.635 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.635 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:04.636 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:04.636 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:04.637 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.638 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:04.638 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:04.638 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:04.639 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.639 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:04.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.643 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:04.643 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:04.644 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:04.644 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:04.644 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:04.645 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:04.645 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:04.646 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:04.646 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.646 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.647 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.647 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.648 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:04.648 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:04.648 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:04.649 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.649 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.650 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:04.650 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:04.651 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:04.651 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:04.651 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:04.652 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:04.652 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:04.653 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:04.653 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.653 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:04.654 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:04.654 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.655 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:04.655 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.655 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:04.656 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.656 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:04.656 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:04.657 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:04.657 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.658 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:04.660 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:04.661 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:04.669 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:04.671 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:04.672 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:04.673 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:04.763 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:04.764 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:04.764 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:04.765 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:04.765 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:04.765 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:04.766 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:04.766 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:04.777 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:04.778 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:04.788 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:04.789 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:04.789 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:04.790 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102803.log
2025-10-31 10:28:04.790 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:04.791 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:04.799 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102804.log
2025-10-31 10:28:04.799 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:04.799 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:04.801 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:04.802 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-09-10 00:00:00 (after 252 periods of warm-up data)
2025-10-31 10:28:04.803 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:04.803 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:04.803 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:04.805 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-09-10
2025-10-31 10:28:04.805 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-10
2025-10-31 10:28:04.806 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:04.806 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:04.807 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:04.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.810 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.810 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0809326756523252
2025-10-31 10:28:04.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08149454604873574
2025-10-31 10:28:04.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08817543839164688
2025-10-31 10:28:04.812 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-10 00:00:00:
2025-10-31 10:28:04.812 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0809 (8.09%) - PASS
2025-10-31 10:28:04.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0815 (8.15%) - PASS
2025-10-31 10:28:04.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0882 (8.82%) - PASS
2025-10-31 10:28:04.813 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.814 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.814 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.815 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-10: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:04.815 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.815 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:04.816 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:04.816 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.53 ? $123.59 (slippage: 0.050%)
2025-10-31 10:28:04.817 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:04.817 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 809.15
2025-10-31 10:28:04.818 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:04.818 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:04.818 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 808.34 @ $123.59
2025-10-31 10:28:04.819 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.819 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.820 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:04.820 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.820 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 808.34 shares @ $123.59 (Value: $99,900.10)
2025-10-31 10:28:04.821 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.821 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:04.822 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.822 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:04.822 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.823 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:04.824 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,594.06
2025-10-31 10:28:04.824 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.825 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.825 | INFO     | src.backtesting.engine:run:293 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:04.827 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.827 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.828 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.828 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.829 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019551495925198337
2025-10-31 10:28:04.829 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07498293204285922
2025-10-31 10:28:04.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05824612172849841
2025-10-31 10:28:04.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:04.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0196 (1.96%) - PASS
2025-10-31 10:28:04.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0750 (7.50%) - PASS
2025-10-31 10:28:04.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0582 (5.82%) - PASS
2025-10-31 10:28:04.832 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.832 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.833 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.833 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.833 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:04.834 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 808.34 @ $121.91 (P&L: $-1,355.34)
2025-10-31 10:28:04.834 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,446.22
2025-10-31 10:28:04.835 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$98,594.06, Cash=$98,446.22, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.835 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.835 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.836 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.836 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:04.837 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:04.837 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 813.89
2025-10-31 10:28:04.838 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.59
2025-10-31 10:28:04.838 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,692.65
2025-10-31 10:28:04.839 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 811.85 @ $121.14
2025-10-31 10:28:04.839 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.839 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.840 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,446.22, Cash end=$-0.00
2025-10-31 10:28:04.840 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.841 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:04.841 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.841 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 811.85 shares @ $121.14 (Value: $98,347.87)
2025-10-31 10:28:04.842 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.842 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,347.87
2025-10-31 10:28:04.843 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.843 | INFO     | src.backtesting.engine:run:336 -      Change: $-246.19
2025-10-31 10:28:04.843 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.844 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:04.845 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,275.11
2025-10-31 10:28:04.845 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.846 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.846 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11, P&L: $927.24)
2025-10-31 10:28:04.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07511303569502892
2025-10-31 10:28:04.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08589327251529832
2025-10-31 10:28:04.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06452336484703469
2025-10-31 10:28:04.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:04.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0751 (7.51%) - PASS
2025-10-31 10:28:04.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0859 (8.59%) - PASS
2025-10-31 10:28:04.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0645 (6.45%) - PASS
2025-10-31 10:28:04.853 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.853 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.854 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.854 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:04.854 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11)
2025-10-31 10:28:04.855 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$99,275.11, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:04.855 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.856 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:04.856 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:04.856 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 811.85 shares worth $99,275.11
2025-10-31 10:28:04.857 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:04.857 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.28 ? $122.34 (slippage: 0.050%)
2025-10-31 10:28:04.858 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:04.858 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 811.45
2025-10-31 10:28:04.859 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 811.85
2025-10-31 10:28:04.859 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.41
2025-10-31 10:28:04.859 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:04.860 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.59
2025-10-31 10:28:04.860 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.41 shares at $122.22 (proceeds: $49.54)
2025-10-31 10:28:04.861 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:04.861 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.54
2025-10-31 10:28:04.861 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.59, Cash end=$49.54
2025-10-31 10:28:04.862 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:04.862 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.863 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,275.03
2025-10-31 10:28:04.863 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.54
2025-10-31 10:28:04.863 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:04.864 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.865 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:04.865 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,453.53
2025-10-31 10:28:04.866 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.54
2025-10-31 10:28:04.866 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.866 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:04.868 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.869 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.869 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.870 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.870 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07533958777997163
2025-10-31 10:28:04.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06332847983307777
2025-10-31 10:28:04.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06863582586745842
2025-10-31 10:28:04.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:04.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0753 (7.53%) - PASS
2025-10-31 10:28:04.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0633 (6.33%) - PASS
2025-10-31 10:28:04.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0686 (6.86%) - PASS
2025-10-31 10:28:04.873 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.874 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.874 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.874 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.875 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:04.875 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 811.45 @ $123.67 (P&L: $2,055.08)
2025-10-31 10:28:04.876 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,302.98
2025-10-31 10:28:04.876 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$100,453.53, Cash=$100,302.98, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:04.876 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.877 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.877 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.878 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.93 ? $122.99 (slippage: 0.050%)
2025-10-31 10:28:04.878 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:04.879 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 816.77
2025-10-31 10:28:04.879 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.45
2025-10-31 10:28:04.879 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,553.99
2025-10-31 10:28:04.880 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 814.73 @ $122.99
2025-10-31 10:28:04.880 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.881 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.881 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,302.98, Cash end=$-0.00
2025-10-31 10:28:04.882 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.882 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:04.882 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.883 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 814.73 shares @ $122.99 (Value: $100,202.78)
2025-10-31 10:28:04.883 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.884 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,202.78
2025-10-31 10:28:04.884 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.884 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.76
2025-10-31 10:28:04.885 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.886 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:04.886 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,275.19
2025-10-31 10:28:04.887 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.887 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.887 | INFO     | src.backtesting.engine:run:293 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:04.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.037374576779007684
2025-10-31 10:28:04.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0865684206777857
2025-10-31 10:28:04.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05637830462180449
2025-10-31 10:28:04.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:04.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0374 (3.74%) - PASS
2025-10-31 10:28:04.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0866 (8.66%) - PASS
2025-10-31 10:28:04.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0564 (5.64%) - PASS
2025-10-31 10:28:04.894 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.895 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.895 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.895 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.896 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:04.896 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 814.73 @ $123.02 (P&L: $22.28)
2025-10-31 10:28:04.897 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,124.83
2025-10-31 10:28:04.897 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$100,275.19, Cash=$100,124.83, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.898 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.898 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.898 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.899 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $124.66 ? $124.73 (slippage: 0.050%)
2025-10-31 10:28:04.899 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:04.900 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 803.97
2025-10-31 10:28:04.900 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.28
2025-10-31 10:28:04.900 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,375.47
2025-10-31 10:28:04.901 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 801.96 @ $124.73
2025-10-31 10:28:04.901 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.902 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.902 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,124.83, Cash end=$-0.00
2025-10-31 10:28:04.903 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.903 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:04.903 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.904 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 801.96 shares @ $124.73 (Value: $100,024.80)
2025-10-31 10:28:04.904 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.905 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,024.80
2025-10-31 10:28:04.905 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.905 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.39
2025-10-31 10:28:04.906 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.907 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:04.907 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,585.07
2025-10-31 10:28:04.908 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.908 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.908 | INFO     | src.backtesting.engine:run:293 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:04.910 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.911 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.911 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11193767893425632
2025-10-31 10:28:04.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.034556594930737594
2025-10-31 10:28:04.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04474012852421505
2025-10-31 10:28:04.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:04.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1119 (11.19%) - PASS
2025-10-31 10:28:04.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0346 (3.46%) - PASS
2025-10-31 10:28:04.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0447 (4.47%) - PASS
2025-10-31 10:28:04.915 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.916 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.916 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.917 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.917 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:04.917 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 801.96 @ $121.62 (P&L: $-2,488.52)
2025-10-31 10:28:04.918 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,438.74
2025-10-31 10:28:04.918 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$97,585.07, Cash=$97,438.74, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.919 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.919 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.920 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.920 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:04.920 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:04.921 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 743.33
2025-10-31 10:28:04.921 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.59
2025-10-31 10:28:04.922 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,682.66
2025-10-31 10:28:04.922 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 741.47 @ $131.28
2025-10-31 10:28:04.922 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.923 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.923 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,438.74, Cash end=$-0.00
2025-10-31 10:28:04.924 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.924 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:04.924 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.925 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 741.47 shares @ $131.28 (Value: $97,341.40)
2025-10-31 10:28:04.925 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.926 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,341.40
2025-10-31 10:28:04.926 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.926 | INFO     | src.backtesting.engine:run:336 -      Change: $-243.67
2025-10-31 10:28:04.927 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.928 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:04.928 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,844.40
2025-10-31 10:28:04.929 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.929 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.929 | INFO     | src.backtesting.engine:run:293 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:04.931 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.932 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.932 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.933 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.933 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.062080363269852556
2025-10-31 10:28:04.934 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11404037668171707
2025-10-31 10:28:04.934 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08587886730594763
2025-10-31 10:28:04.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:04.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0621 (6.21%) - PASS
2025-10-31 10:28:04.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1140 (11.40%) - PASS
2025-10-31 10:28:04.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:04.936 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:04.937 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.937 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:04.937 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.938 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:04.938 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 741.47 @ $127.85 (P&L: $-2,544.42)
2025-10-31 10:28:04.939 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,702.18
2025-10-31 10:28:04.939 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$94,844.40, Cash=$94,702.18, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.939 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:04.940 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:04.940 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:04.941 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.79 ? $130.86 (slippage: 0.050%)
2025-10-31 10:28:04.941 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:04.942 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 724.78
2025-10-31 10:28:04.942 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.84
2025-10-31 10:28:04.942 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,939.24
2025-10-31 10:28:04.943 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 722.97 @ $130.86
2025-10-31 10:28:04.943 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.944 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.944 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,702.18, Cash end=$-0.00
2025-10-31 10:28:04.945 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.945 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:04.945 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.946 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 722.97 shares @ $130.86 (Value: $94,607.57)
2025-10-31 10:28:04.946 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.947 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,607.57
2025-10-31 10:28:04.947 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.947 | INFO     | src.backtesting.engine:run:336 -      Change: $-236.83
2025-10-31 10:28:04.948 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.949 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:04.949 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,111.15
2025-10-31 10:28:04.950 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.950 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.950 | INFO     | src.backtesting.engine:run:293 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:04.952 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.954 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.954 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10230277701936319
2025-10-31 10:28:04.955 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09632721679950307
2025-10-31 10:28:04.955 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07945606670536898
2025-10-31 10:28:04.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:04.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1023 (10.23%) - PASS
2025-10-31 10:28:04.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0963 (9.63%) - PASS
2025-10-31 10:28:04.957 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0795 (7.95%) - PASS
2025-10-31 10:28:04.957 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:04.958 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.958 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:04.958 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.959 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:04.959 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 722.97 @ $128.73 (P&L: $-1,542.98)
2025-10-31 10:28:04.960 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,971.53
2025-10-31 10:28:04.960 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$93,111.15, Cash=$92,971.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.961 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:04.961 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:04.961 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:04.962 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:04.962 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:04.963 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.77
2025-10-31 10:28:04.963 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.11
2025-10-31 10:28:04.963 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,204.26
2025-10-31 10:28:04.964 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.99 @ $131.00
2025-10-31 10:28:04.964 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.965 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.965 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,971.53, Cash end=$-0.00
2025-10-31 10:28:04.966 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.966 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:04.966 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.967 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.99 shares @ $131.00 (Value: $92,878.65)
2025-10-31 10:28:04.967 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.968 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,878.65
2025-10-31 10:28:04.968 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.968 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.50
2025-10-31 10:28:04.969 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.970 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:04.970 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,774.56
2025-10-31 10:28:04.971 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.971 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.971 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:04.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05578194617471177
2025-10-31 10:28:04.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07522900530727417
2025-10-31 10:28:04.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08673886201403636
2025-10-31 10:28:04.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:04.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0558 (5.58%) - PASS
2025-10-31 10:28:04.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0752 (7.52%) - PASS
2025-10-31 10:28:04.978 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0867 (8.67%) - PASS
2025-10-31 10:28:04.978 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:04.979 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:04.979 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:04.979 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:04.980 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:04.980 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.99 @ $127.97 (P&L: $-2,149.48)
2025-10-31 10:28:04.981 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,638.44
2025-10-31 10:28:04.981 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$90,774.56, Cash=$90,638.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:04.982 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:04.982 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:04.982 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:04.983 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:04.983 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:04.984 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 705.94
2025-10-31 10:28:04.984 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.77
2025-10-31 10:28:04.984 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,865.33
2025-10-31 10:28:04.985 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 704.18 @ $128.59
2025-10-31 10:28:04.985 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:04.986 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:04.986 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,638.44, Cash end=$-0.00
2025-10-31 10:28:04.987 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:04.987 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:04.987 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:04.988 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 704.18 shares @ $128.59 (Value: $90,547.89)
2025-10-31 10:28:04.988 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:04.989 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,547.89
2025-10-31 10:28:04.989 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:04.989 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.66
2025-10-31 10:28:04.990 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:04.991 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:04.991 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,297.65
2025-10-31 10:28:04.992 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:04.992 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:04.992 | INFO     | src.backtesting.engine:run:293 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:04.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:04.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:04.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09337633282852487
2025-10-31 10:28:04.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05925575928114202
2025-10-31 10:28:04.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04087147827096205
2025-10-31 10:28:04.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:04.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0934 (9.34%) - PASS
2025-10-31 10:28:04.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:04.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0409 (4.09%) - PASS
2025-10-31 10:28:04.999 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.000 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.000 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.000 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.001 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:05.001 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 704.18 @ $128.17 (P&L: $-295.39)
2025-10-31 10:28:05.002 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,162.25
2025-10-31 10:28:05.002 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$90,297.65, Cash=$90,162.25, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.003 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.003 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:05.003 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:05.004 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.23 ? $129.29 (slippage: 0.050%)
2025-10-31 10:28:05.004 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:05.005 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.41
2025-10-31 10:28:05.005 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.30
2025-10-31 10:28:05.005 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,387.94
2025-10-31 10:28:05.006 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 696.66 @ $129.29
2025-10-31 10:28:05.006 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.007 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:05.007 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,162.25, Cash end=$0.00
2025-10-31 10:28:05.008 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.008 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:05.008 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.009 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 696.66 shares @ $129.29 (Value: $90,072.17)
2025-10-31 10:28:05.009 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.010 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,072.17
2025-10-31 10:28:05.010 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:05.010 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.47
2025-10-31 10:28:05.011 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.012 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:05.012 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,772.33
2025-10-31 10:28:05.013 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:05.013 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.013 | INFO     | src.backtesting.engine:run:293 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:05.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.016 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.016 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.017 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.017 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08460905845341782
2025-10-31 10:28:05.018 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058143063523203864
2025-10-31 10:28:05.018 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08521457036160784
2025-10-31 10:28:05.019 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:05.019 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0846 (8.46%) - PASS
2025-10-31 10:28:05.019 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0581 (5.81%) - PASS
2025-10-31 10:28:05.020 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0852 (8.52%) - PASS
2025-10-31 10:28:05.020 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.021 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.021 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.021 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.022 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:05.022 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 696.66 @ $131.67 (P&L: $1,654.27)
2025-10-31 10:28:05.023 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,634.71
2025-10-31 10:28:05.023 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,772.33, Cash=$91,634.71, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.023 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.024 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:05.024 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:05.025 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.28 ? $135.34 (slippage: 0.050%)
2025-10-31 10:28:05.025 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:05.026 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 678.07
2025-10-31 10:28:05.026 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.77
2025-10-31 10:28:05.026 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,864.10
2025-10-31 10:28:05.027 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 676.37 @ $135.34
2025-10-31 10:28:05.027 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.028 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:05.028 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,634.71, Cash end=$0.00
2025-10-31 10:28:05.028 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.029 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:05.029 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.030 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 676.37 shares @ $135.34 (Value: $91,543.17)
2025-10-31 10:28:05.030 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.030 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,543.17
2025-10-31 10:28:05.031 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:05.031 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.16
2025-10-31 10:28:05.032 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.033 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:05.033 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,459.48
2025-10-31 10:28:05.034 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:05.034 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.034 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:05.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.048523400437661346
2025-10-31 10:28:05.039 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06375280245768722
2025-10-31 10:28:05.039 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04266694489239309
2025-10-31 10:28:05.039 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:05.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0485 (4.85%) - PASS
2025-10-31 10:28:05.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:05.041 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0427 (4.27%) - PASS
2025-10-31 10:28:05.041 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.041 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.042 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.042 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.043 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:05.043 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.37 @ $129.24 (P&L: $-4,127.42)
2025-10-31 10:28:05.044 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,328.33
2025-10-31 10:28:05.044 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$87,459.48, Cash=$87,328.33, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.044 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.045 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:05.045 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:05.046 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.36 ? $130.43 (slippage: 0.050%)
2025-10-31 10:28:05.046 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:05.047 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 670.55
2025-10-31 10:28:05.047 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.46
2025-10-31 10:28:05.047 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,546.94
2025-10-31 10:28:05.048 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 668.87 @ $130.43
2025-10-31 10:28:05.048 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.049 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:05.049 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,328.33, Cash end=$0.00
2025-10-31 10:28:05.049 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.050 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:05.050 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.051 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 668.87 shares @ $130.43 (Value: $87,241.09)
2025-10-31 10:28:05.051 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.051 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,241.09
2025-10-31 10:28:05.052 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:05.052 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.39
2025-10-31 10:28:05.053 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.054 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:05.054 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,297.49
2025-10-31 10:28:05.054 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:05.055 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.055 | INFO     | src.backtesting.engine:run:293 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:05.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08550496050562328
2025-10-31 10:28:05.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.029203921523580645
2025-10-31 10:28:05.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.052898492074856085
2025-10-31 10:28:05.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:05.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0855 (8.55%) - PASS
2025-10-31 10:28:05.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0292 (2.92%) - PASS
2025-10-31 10:28:05.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0529 (5.29%) - PASS
2025-10-31 10:28:05.062 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.062 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.063 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.063 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.064 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:05.064 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 668.87 @ $131.94 (P&L: $1,012.25)
2025-10-31 10:28:05.065 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $88,165.09
2025-10-31 10:28:05.065 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$88,297.49, Cash=$88,165.09, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.065 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.066 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:05.066 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:05.067 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.46 ? $132.53 (slippage: 0.050%)
2025-10-31 10:28:05.067 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:05.067 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.25
2025-10-31 10:28:05.068 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $88.30
2025-10-31 10:28:05.068 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,385.79
2025-10-31 10:28:05.069 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.58 @ $132.53
2025-10-31 10:28:05.069 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.070 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.070 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$88,165.09, Cash end=$-0.00
2025-10-31 10:28:05.070 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.071 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:05.071 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.072 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.58 shares @ $132.53 (Value: $88,077.01)
2025-10-31 10:28:05.072 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.072 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,077.01
2025-10-31 10:28:05.073 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.073 | INFO     | src.backtesting.engine:run:336 -      Change: $-220.48
2025-10-31 10:28:05.074 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.075 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:05.075 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,236.89
2025-10-31 10:28:05.075 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.076 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.076 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89, P&L: $2,159.88)
2025-10-31 10:28:05.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09675418215912424
2025-10-31 10:28:05.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0711032800562954
2025-10-31 10:28:05.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08209555160058413
2025-10-31 10:28:05.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:05.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0968 (9.68%) - PASS
2025-10-31 10:28:05.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0711 (7.11%) - PASS
2025-10-31 10:28:05.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0821 (8.21%) - PASS
2025-10-31 10:28:05.083 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.083 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.084 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.084 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.085 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89)
2025-10-31 10:28:05.085 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$90,236.89, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:05.086 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.086 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.086 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:05.087 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.58 shares worth $90,236.89
2025-10-31 10:28:05.087 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:05.088 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:05.088 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:05.088 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.25
2025-10-31 10:28:05.089 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.58
2025-10-31 10:28:05.089 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:05.090 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:05.090 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.07
2025-10-31 10:28:05.091 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.33 shares at $135.71 (proceeds: $45.03)
2025-10-31 10:28:05.091 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:05.091 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.03
2025-10-31 10:28:05.092 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.07, Cash end=$45.03
2025-10-31 10:28:05.092 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.093 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.093 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,236.82
2025-10-31 10:28:05.093 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:05.094 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:05.094 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.095 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:05.096 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,105.47
2025-10-31 10:28:05.096 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:05.096 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.097 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44, P&L: $4,027.44)
2025-10-31 10:28:05.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08245274168982375
2025-10-31 10:28:05.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07346223866474255
2025-10-31 10:28:05.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.043413197059924746
2025-10-31 10:28:05.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:05.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0825 (8.25%) - PASS
2025-10-31 10:28:05.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0735 (7.35%) - PASS
2025-10-31 10:28:05.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0434 (4.34%) - PASS
2025-10-31 10:28:05.103 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.104 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.104 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.105 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.105 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44)
2025-10-31 10:28:05.106 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$92,105.47, Cash=$45.03, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:05.106 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.106 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.107 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:05.107 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.25 shares worth $92,060.44
2025-10-31 10:28:05.108 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD SPY [relative_top]
2025-10-31 10:28:05.108 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $138.59 ? $138.66 (slippage: 0.050%)
2025-10-31 10:28:05.108 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:05.109 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.24
2025-10-31 10:28:05.109 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.25
2025-10-31 10:28:05.110 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.01
2025-10-31 10:28:05.110 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:05.110 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1.00
2025-10-31 10:28:05.111 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:05.111 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.03
2025-10-31 10:28:05.112 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.112 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.112 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,105.47
2025-10-31 10:28:05.113 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:05.113 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:05.114 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.115 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:05.115 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,209.39
2025-10-31 10:28:05.116 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:05.116 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.116 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:05.118 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.119 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.119 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.120 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.120 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.046770856134837224
2025-10-31 10:28:05.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09687053348885044
2025-10-31 10:28:05.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04184317094333867
2025-10-31 10:28:05.122 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:05.122 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0468 (4.68%) - PASS
2025-10-31 10:28:05.122 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0969 (9.69%) - PASS
2025-10-31 10:28:05.123 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:05.123 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.124 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.124 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.124 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.125 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:05.125 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.25 @ $134.17 (P&L: $1,086.79)
2025-10-31 10:28:05.126 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,075.69
2025-10-31 10:28:05.126 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$89,209.39, Cash=$89,075.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:05.126 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.127 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:05.127 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:05.128 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:05.128 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.86
2025-10-31 10:28:05.129 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 646.42
2025-10-31 10:28:05.129 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.21
2025-10-31 10:28:05.129 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,298.60
2025-10-31 10:28:05.130 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 644.81 @ $138.01
2025-10-31 10:28:05.130 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.131 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.131 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,075.69, Cash end=$-0.00
2025-10-31 10:28:05.131 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.132 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:05.132 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.133 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 644.81 shares @ $138.01 (Value: $88,986.71)
2025-10-31 10:28:05.133 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.133 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,986.71
2025-10-31 10:28:05.134 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.134 | INFO     | src.backtesting.engine:run:336 -      Change: $-222.69
2025-10-31 10:28:05.135 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.136 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:05.136 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,617.00
2025-10-31 10:28:05.137 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.137 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.137 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00, P&L: $-369.70)
2025-10-31 10:28:05.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.140 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.140 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06541858782151833
2025-10-31 10:28:05.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09774311842405137
2025-10-31 10:28:05.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08593314284028253
2025-10-31 10:28:05.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:05.143 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0654 (6.54%) - PASS
2025-10-31 10:28:05.143 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0977 (9.77%) - PASS
2025-10-31 10:28:05.144 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:05.144 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.145 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.145 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.145 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.146 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00)
2025-10-31 10:28:05.146 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$88,617.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:05.147 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.147 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.147 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:05.148 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 644.81 shares worth $88,617.00
2025-10-31 10:28:05.148 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:05.149 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.43 ? $137.50 (slippage: 0.050%)
2025-10-31 10:28:05.149 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:05.150 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 644.48
2025-10-31 10:28:05.150 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 644.81
2025-10-31 10:28:05.150 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:05.151 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:05.151 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.26
2025-10-31 10:28:05.152 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $137.36 (proceeds: $44.22)
2025-10-31 10:28:05.152 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:05.152 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.22
2025-10-31 10:28:05.153 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.26, Cash end=$44.22
2025-10-31 10:28:05.153 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.154 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.154 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,616.94
2025-10-31 10:28:05.154 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.22
2025-10-31 10:28:05.155 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:05.155 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.156 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:05.157 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,376.47
2025-10-31 10:28:05.157 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.22
2025-10-31 10:28:05.157 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.158 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:05.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.162 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026449575231996203
2025-10-31 10:28:05.162 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06097758703104095
2025-10-31 10:28:05.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0810725080136625
2025-10-31 10:28:05.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:05.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0264 (2.64%) - PASS
2025-10-31 10:28:05.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0610 (6.10%) - PASS
2025-10-31 10:28:05.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0811 (8.11%) - PASS
2025-10-31 10:28:05.165 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.165 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.165 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.166 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.166 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:05.167 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 644.48 @ $140.09 (P&L: $1,344.85)
2025-10-31 10:28:05.167 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,241.02
2025-10-31 10:28:05.168 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$90,376.47, Cash=$90,241.02, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:05.168 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.168 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:05.169 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:05.169 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.55 ? $141.62 (slippage: 0.050%)
2025-10-31 10:28:05.170 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:05.170 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.17
2025-10-31 10:28:05.170 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.38
2025-10-31 10:28:05.171 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,466.85
2025-10-31 10:28:05.171 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 636.57 @ $141.62
2025-10-31 10:28:05.172 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.172 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.173 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,241.02, Cash end=$-0.00
2025-10-31 10:28:05.173 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.173 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:05.174 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.174 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 636.57 shares @ $141.62 (Value: $90,150.87)
2025-10-31 10:28:05.175 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.175 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,150.87
2025-10-31 10:28:05.175 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.176 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.60
2025-10-31 10:28:05.176 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.177 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:05.178 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,816.41
2025-10-31 10:28:05.178 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.178 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.179 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41, P&L: $-334.46)
2025-10-31 10:28:05.181 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.181 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.182 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.182 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.183 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.060629103850839305
2025-10-31 10:28:05.183 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04278850978852278
2025-10-31 10:28:05.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06600451891900727
2025-10-31 10:28:05.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:05.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0606 (6.06%) - PASS
2025-10-31 10:28:05.185 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0428 (4.28%) - PASS
2025-10-31 10:28:05.185 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0660 (6.60%) - PASS
2025-10-31 10:28:05.186 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.186 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.186 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.187 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.187 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41)
2025-10-31 10:28:05.188 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$89,816.41, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:05.188 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.188 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.189 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:05.189 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 636.57 shares worth $89,816.41
2025-10-31 10:28:05.190 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:05.190 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.09 ? $141.16 (slippage: 0.050%)
2025-10-31 10:28:05.191 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:05.191 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.25
2025-10-31 10:28:05.191 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 636.57
2025-10-31 10:28:05.192 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:05.192 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:05.193 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.86
2025-10-31 10:28:05.193 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.32 shares at $141.02 (proceeds: $44.82)
2025-10-31 10:28:05.193 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:05.194 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.82
2025-10-31 10:28:05.194 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.86, Cash end=$44.82
2025-10-31 10:28:05.195 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.195 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.195 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,816.34
2025-10-31 10:28:05.196 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.82
2025-10-31 10:28:05.196 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:05.197 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.198 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:05.198 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,931.33
2025-10-31 10:28:05.199 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.82
2025-10-31 10:28:05.199 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.199 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:05.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.202 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.202 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.203 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.203 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.04354100310713305
2025-10-31 10:28:05.204 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05817277610654825
2025-10-31 10:28:05.204 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.050749269499728245
2025-10-31 10:28:05.204 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:05.205 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0435 (4.35%) - PASS
2025-10-31 10:28:05.205 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0582 (5.82%) - PASS
2025-10-31 10:28:05.206 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0507 (5.07%) - PASS
2025-10-31 10:28:05.206 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.207 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.207 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.207 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.208 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:05.208 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 636.25 @ $138.06 (P&L: $-2,263.24)
2025-10-31 10:28:05.209 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,799.55
2025-10-31 10:28:05.209 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$87,931.33, Cash=$87,799.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:05.209 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.210 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:05.210 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:05.211 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:05.211 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:05.212 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.91
2025-10-31 10:28:05.212 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.93
2025-10-31 10:28:05.212 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,019.26
2025-10-31 10:28:05.213 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 635.32 @ $138.06
2025-10-31 10:28:05.213 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.214 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.214 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,799.55, Cash end=$-0.00
2025-10-31 10:28:05.214 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.215 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:05.215 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.216 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 635.32 shares @ $138.06 (Value: $87,711.83)
2025-10-31 10:28:05.216 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.216 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,711.83
2025-10-31 10:28:05.217 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.217 | INFO     | src.backtesting.engine:run:336 -      Change: $-219.50
2025-10-31 10:28:05.218 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.219 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:05.219 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,568.42
2025-10-31 10:28:05.219 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.220 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.220 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42, P&L: $3,856.59)
2025-10-31 10:28:05.222 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.224 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.224 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05618000180644045
2025-10-31 10:28:05.225 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06382148319011183
2025-10-31 10:28:05.225 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.021775481826179943
2025-10-31 10:28:05.225 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:05.226 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0562 (5.62%) - PASS
2025-10-31 10:28:05.226 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:05.227 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0218 (2.18%) - PASS
2025-10-31 10:28:05.227 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.227 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.228 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.228 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.229 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42)
2025-10-31 10:28:05.229 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$91,568.42, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:05.230 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.230 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.230 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:05.231 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.32 shares worth $91,568.42
2025-10-31 10:28:05.231 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:05.232 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:05.232 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:05.233 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.01
2025-10-31 10:28:05.233 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.32
2025-10-31 10:28:05.233 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:05.234 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:05.234 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.74
2025-10-31 10:28:05.235 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $144.06 (proceeds: $45.69)
2025-10-31 10:28:05.235 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:05.235 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.69
2025-10-31 10:28:05.236 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.74, Cash end=$45.69
2025-10-31 10:28:05.236 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.237 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.237 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,568.35
2025-10-31 10:28:05.237 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:05.238 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:05.238 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.239 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:05.240 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,663.80
2025-10-31 10:28:05.240 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:05.241 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.241 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10, P&L: $4,950.10)
2025-10-31 10:28:05.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05731563951086516
2025-10-31 10:28:05.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08652535999780908
2025-10-31 10:28:05.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028712997605179646
2025-10-31 10:28:05.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:05.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0573 (5.73%) - PASS
2025-10-31 10:28:05.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0865 (8.65%) - PASS
2025-10-31 10:28:05.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0287 (2.87%) - PASS
2025-10-31 10:28:05.248 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.248 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.249 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.249 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.250 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10)
2025-10-31 10:28:05.250 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$92,663.80, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:05.250 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.251 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.251 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:05.252 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,618.10
2025-10-31 10:28:05.252 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:05.253 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:05.253 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:05.253 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:05.254 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:05.254 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:05.255 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:05.255 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:05.256 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:05.256 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:05.256 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.257 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.257 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,663.80
2025-10-31 10:28:05.258 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:05.258 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:05.258 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.259 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:05.260 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,665.19
2025-10-31 10:28:05.260 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:05.261 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.261 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50, P&L: $4,951.50)
2025-10-31 10:28:05.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.264 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.264 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06283582279220967
2025-10-31 10:28:05.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0840282160513397
2025-10-31 10:28:05.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0781538240647981
2025-10-31 10:28:05.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:05.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0628 (6.28%) - PASS
2025-10-31 10:28:05.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0840 (8.40%) - PASS
2025-10-31 10:28:05.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0782 (7.82%) - PASS
2025-10-31 10:28:05.268 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.269 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.269 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.269 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.270 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50)
2025-10-31 10:28:05.270 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$92,665.19, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:05.271 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.271 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.272 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:05.272 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,619.50
2025-10-31 10:28:05.272 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:05.273 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.86 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:05.273 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:05.274 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:05.274 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:05.274 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:05.275 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:05.275 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:05.276 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:05.276 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:05.277 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.277 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.277 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,665.19
2025-10-31 10:28:05.278 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:05.278 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:05.279 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.280 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:05.280 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,844.44
2025-10-31 10:28:05.281 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:05.281 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.281 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:05.283 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.284 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.284 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.285 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.285 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0797353250554409
2025-10-31 10:28:05.286 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0663792780678536
2025-10-31 10:28:05.286 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06865645520660602
2025-10-31 10:28:05.287 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:05.287 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0797 (7.97%) - PASS
2025-10-31 10:28:05.288 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0664 (6.64%) - PASS
2025-10-31 10:28:05.288 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0687 (6.87%) - PASS
2025-10-31 10:28:05.288 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.289 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.289 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.290 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.290 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:05.291 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 635.01 @ $142.92 (P&L: $3,085.34)
2025-10-31 10:28:05.291 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,708.28
2025-10-31 10:28:05.291 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$90,844.44, Cash=$90,708.28, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:05.292 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.292 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:05.293 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:05.293 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $146.97 ? $147.04 (slippage: 0.050%)
2025-10-31 10:28:05.294 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:05.294 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 617.82
2025-10-31 10:28:05.295 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.84
2025-10-31 10:28:05.295 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,935.28
2025-10-31 10:28:05.295 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 616.28 @ $147.04
2025-10-31 10:28:05.296 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.296 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:05.297 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,708.28, Cash end=$0.00
2025-10-31 10:28:05.297 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.297 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:05.298 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.298 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 616.28 shares @ $147.04 (Value: $90,617.67)
2025-10-31 10:28:05.299 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.299 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,617.67
2025-10-31 10:28:05.299 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:05.300 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.77
2025-10-31 10:28:05.300 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.301 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:05.302 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,098.27
2025-10-31 10:28:05.302 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:05.303 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.304 | INFO     | src.backtesting.engine:run:293 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:05.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.307 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.307 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.061678785162375904
2025-10-31 10:28:05.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0630140413189888
2025-10-31 10:28:05.309 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06351458377721841
2025-10-31 10:28:05.309 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:05.309 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0617 (6.17%) - PASS
2025-10-31 10:28:05.310 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0630 (6.30%) - PASS
2025-10-31 10:28:05.310 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0635 (6.35%) - PASS
2025-10-31 10:28:05.311 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.311 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.312 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.312 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.312 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:05.313 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 616.28 @ $146.12 (P&L: $-564.45)
2025-10-31 10:28:05.313 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,963.16
2025-10-31 10:28:05.314 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$90,098.27, Cash=$89,963.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.314 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.315 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:05.315 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:05.315 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:05.316 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:05.316 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 611.99
2025-10-31 10:28:05.317 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.10
2025-10-31 10:28:05.317 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,188.36
2025-10-31 10:28:05.318 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 610.46 @ $147.22
2025-10-31 10:28:05.318 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.318 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:05.319 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,963.16, Cash end=$0.00
2025-10-31 10:28:05.319 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.320 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:05.320 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.321 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 610.46 shares @ $147.22 (Value: $89,873.29)
2025-10-31 10:28:05.321 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.321 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,873.29
2025-10-31 10:28:05.322 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:05.322 | INFO     | src.backtesting.engine:run:336 -      Change: $-224.98
2025-10-31 10:28:05.323 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.324 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:05.324 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,403.63
2025-10-31 10:28:05.324 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:05.325 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.325 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63, P&L: $1,530.34)
2025-10-31 10:28:05.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.328 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.328 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.329 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.329 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05049848489114539
2025-10-31 10:28:05.330 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050013878843399695
2025-10-31 10:28:05.330 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08398809728515122
2025-10-31 10:28:05.331 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:05.331 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0505 (5.05%) - PASS
2025-10-31 10:28:05.332 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0500 (5.00%) - PASS
2025-10-31 10:28:05.332 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0840 (8.40%) - PASS
2025-10-31 10:28:05.332 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.333 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.333 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.334 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.334 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63)
2025-10-31 10:28:05.334 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$91,403.63, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:05.335 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.335 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.336 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:05.336 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 610.46 shares worth $91,403.63
2025-10-31 10:28:05.337 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:05.337 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:05.338 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:05.338 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 610.15
2025-10-31 10:28:05.338 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 610.46
2025-10-31 10:28:05.339 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.31
2025-10-31 10:28:05.339 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:05.340 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.66
2025-10-31 10:28:05.340 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.31 shares at $149.66 (proceeds: $45.61)
2025-10-31 10:28:05.340 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:05.341 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.61
2025-10-31 10:28:05.341 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.66, Cash end=$45.61
2025-10-31 10:28:05.342 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.342 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.342 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,403.56
2025-10-31 10:28:05.343 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.61
2025-10-31 10:28:05.343 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:05.344 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.345 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:05.345 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,696.12
2025-10-31 10:28:05.346 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.61
2025-10-31 10:28:05.346 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.346 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:05.348 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.350 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.350 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02348918660372412
2025-10-31 10:28:05.351 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08750655028956023
2025-10-31 10:28:05.351 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0390661027483481
2025-10-31 10:28:05.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:05.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0235 (2.35%) - PASS
2025-10-31 10:28:05.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0875 (8.75%) - PASS
2025-10-31 10:28:05.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0391 (3.91%) - PASS
2025-10-31 10:28:05.353 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.354 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.354 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.355 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.355 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:05.356 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 610.15 @ $143.58 (P&L: $-2,221.69)
2025-10-31 10:28:05.356 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,564.69
2025-10-31 10:28:05.356 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$87,696.12, Cash=$87,564.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:05.357 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.357 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:05.358 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:05.358 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:05.359 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:05.359 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 583.20
2025-10-31 10:28:05.359 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.70
2025-10-31 10:28:05.360 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,783.82
2025-10-31 10:28:05.360 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 581.74 @ $150.37
2025-10-31 10:28:05.361 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.361 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.362 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,564.69, Cash end=$-0.00
2025-10-31 10:28:05.362 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.362 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:05.363 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.363 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 581.74 shares @ $150.37 (Value: $87,477.21)
2025-10-31 10:28:05.364 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.364 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,477.21
2025-10-31 10:28:05.364 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.365 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.91
2025-10-31 10:28:05.365 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.366 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:05.367 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $85,079.53
2025-10-31 10:28:05.367 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.368 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.368 | INFO     | src.backtesting.engine:run:293 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:05.370 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.370 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.371 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.371 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:05.372 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0811051176218518
2025-10-31 10:28:05.372 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03823797219127867
2025-10-31 10:28:05.373 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08937036751513094
2025-10-31 10:28:05.373 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:05.374 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0811 (8.11%) - PASS
2025-10-31 10:28:05.374 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0382 (3.82%) - PASS
2025-10-31 10:28:05.374 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0894 (8.94%) - PASS
2025-10-31 10:28:05.375 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.375 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.376 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.376 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.377 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:05.377 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 581.74 @ $146.18 (P&L: $-2,440.22)
2025-10-31 10:28:05.378 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $84,951.96
2025-10-31 10:28:05.378 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$85,079.53, Cash=$84,951.96, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.378 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.379 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:05.379 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:05.380 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:05.380 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:05.380 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 559.63
2025-10-31 10:28:05.381 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $85.08
2025-10-31 10:28:05.381 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $85,164.61
2025-10-31 10:28:05.382 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 558.24 @ $152.03
2025-10-31 10:28:05.382 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.383 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.383 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$84,951.96, Cash end=$-0.00
2025-10-31 10:28:05.383 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.384 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:05.384 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.385 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 558.24 shares @ $152.03 (Value: $84,867.09)
2025-10-31 10:28:05.385 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.386 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $84,867.09
2025-10-31 10:28:05.386 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.386 | INFO     | src.backtesting.engine:run:336 -      Change: $-212.44
2025-10-31 10:28:05.387 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.388 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 558.24 @ $151.85 (P&L: $-96.75)
2025-10-31 10:28:05.389 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-09-10 to 2023-12-31
2025-10-31 10:28:05.391 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:05.398 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:05.400 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:05.401 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'AGG_quantity', 'AGG_price', 'AGG_value', 'EFA_quantity', 'EFA_price', 'EFA_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:05.402 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 843 records (performance period)
2025-10-31 10:28:05.481 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:05.481 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:05.482 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:05.482 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 843
2025-10-31 10:28:05.483 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:05.483 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (843, 18)
2025-10-31 10:28:05.484 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:05.484 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:05.495 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-09-10    100000.000000  1.000000e+05  ...        NaN      NaN
2021-09-11     96272.216190 -1.455192e-11  ...        NaN      NaN
2021-09-12    101109.070476 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:05.495 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:05.506 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2023-12-29     84299.707862 -1.455192e-11  ...        NaN      NaN
2023-12-30     82574.588149 -1.455192e-11  ...        NaN      NaN
2023-12-31     84812.741501 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:05.507 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:05.507 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $84,812.74 (-15.19% return)
2025-10-31 10:28:05.508 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102804.log
2025-10-31 10:28:05.508 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:05.509 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:05.516 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102805.log
2025-10-31 10:28:05.517 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:05.517 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:05.519 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:05.520 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:05.521 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:05.521 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:05.521 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:05.522 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:05.523 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:05.523 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:05.524 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:05.524 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:05.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:05.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:05.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:05.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:05.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:05.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:05.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:05.531 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.532 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.532 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.533 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:05.533 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.533 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:05.534 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:05.534 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:05.535 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:05.535 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:05.536 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:05.536 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:05.537 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:05.537 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.538 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.538 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:05.538 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.539 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:05.539 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.540 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:05.540 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.540 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:05.541 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.542 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:05.542 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:05.543 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.543 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.544 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:05.545 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.547 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:05.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:05.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:05.549 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:05.549 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:05.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:05.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:05.551 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.551 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.551 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.552 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.552 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:05.553 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:05.553 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:05.554 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.554 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.554 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:05.555 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:05.555 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:05.556 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:05.556 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:05.557 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:05.557 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:05.558 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:05.558 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.559 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:05.559 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:05.559 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.560 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:05.560 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.561 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:05.561 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.561 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:05.562 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:05.562 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:05.563 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.564 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:05.564 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:05.565 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:05.565 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.565 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:05.567 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.568 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.568 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.569 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.569 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:05.570 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:05.570 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:05.571 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:05.571 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:05.572 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:05.572 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:05.572 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.573 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.573 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.574 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.574 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:05.575 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:05.575 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:05.575 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.576 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.576 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:05.577 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:05.577 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:05.578 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:05.578 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:05.579 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:05.579 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:05.579 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:05.580 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.580 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.581 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:05.581 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.582 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:05.582 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.582 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:05.583 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.583 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:05.584 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.584 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:05.584 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.586 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:05.586 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:05.586 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.587 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.587 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:05.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.590 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.590 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.591 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.591 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:05.592 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:05.592 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:05.593 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:05.593 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:05.594 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:05.594 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:05.594 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.595 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.595 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.596 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.596 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:05.597 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:05.597 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:05.597 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.598 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.598 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:05.599 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:05.599 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:05.600 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:05.600 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:05.601 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:05.601 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:05.602 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:05.602 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.602 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.603 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:05.603 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.604 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:05.604 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.604 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:05.605 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.605 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:05.606 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.606 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:05.606 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.608 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:05.608 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:05.608 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.609 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.609 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:05.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:05.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:05.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:05.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:05.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:05.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:05.616 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:05.616 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.617 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.617 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.617 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.618 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:05.618 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:05.619 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.619 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.620 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:05.620 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:05.621 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:05.621 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:05.621 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:05.622 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:05.622 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:05.623 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:05.623 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:05.623 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:05.624 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:05.624 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:05.625 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:05.625 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:05.626 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.626 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.626 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:05.627 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:05.627 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:05.628 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.629 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:05.629 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:05.630 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:05.630 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.630 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:05.632 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.633 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.633 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.634 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.634 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:05.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:05.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:05.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:05.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:05.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:05.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:05.637 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.638 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.638 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.639 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.639 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:05.639 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:05.640 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:05.640 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:05.641 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.641 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:05.642 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:05.642 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:05.642 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:05.643 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:05.643 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:05.644 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:05.644 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:05.645 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.645 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:05.645 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:05.646 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.646 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:05.647 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.647 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:05.647 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.648 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:05.648 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:05.649 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:05.649 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.650 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:05.651 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:05.651 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:05.651 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.652 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:05.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.656 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:05.656 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:05.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:05.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:05.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:05.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:05.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:05.659 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.659 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.660 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.660 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.661 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:05.661 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:05.662 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:05.662 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.662 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.663 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:05.663 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:05.664 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:05.664 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:05.665 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:05.665 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:05.665 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:05.666 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:05.666 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.667 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.667 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:05.668 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.668 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:05.668 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.669 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:05.669 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.670 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:05.670 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.670 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:05.671 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.672 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:05.672 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:05.673 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.673 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.674 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:05.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.676 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.676 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.678 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:05.678 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:05.678 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:05.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:05.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:05.680 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:05.680 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:05.680 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.681 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.681 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.682 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.682 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:05.683 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:05.683 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:05.683 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.684 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.684 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:05.685 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:05.685 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:05.686 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:05.686 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:05.686 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:05.687 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:05.687 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:05.688 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.688 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.689 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:05.689 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.689 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:05.690 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.690 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:05.691 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.691 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:05.692 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.692 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:05.692 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.693 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:05.694 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:05.694 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.695 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.695 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:05.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:05.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:05.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:05.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:05.701 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:05.701 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:05.702 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:05.702 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.703 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.703 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.703 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.704 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:05.704 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:05.705 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.705 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.706 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:05.706 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:05.707 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:05.707 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:05.707 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:05.708 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:05.708 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:05.709 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:05.709 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:05.709 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:05.710 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:05.710 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:05.711 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:05.711 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:05.712 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.712 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.712 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:05.713 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:05.713 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:05.714 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.715 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:05.715 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:05.716 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:05.716 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.716 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:05.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:05.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:05.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:05.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:05.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:05.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:05.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:05.723 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.724 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.724 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.725 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.725 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:05.726 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:05.726 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:05.726 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:05.727 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.727 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:05.728 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:05.728 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:05.729 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:05.729 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:05.729 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:05.730 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:05.730 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:05.731 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.731 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.732 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:05.732 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.732 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:05.733 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.733 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:05.734 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.734 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:05.735 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.735 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:05.735 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.736 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:05.737 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:05.737 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.738 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.738 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:05.740 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:05.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:05.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:05.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:05.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:05.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:05.745 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:05.745 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.746 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.746 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.746 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.747 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:05.747 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:05.748 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:05.748 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.749 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.749 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:05.750 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:05.750 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:05.750 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:05.751 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:05.751 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:05.752 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:05.752 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:05.753 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.753 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.754 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:05.754 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.754 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:05.755 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.755 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:05.756 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.756 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:05.756 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.757 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:05.757 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.758 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:05.759 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:05.759 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.760 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.760 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:05.762 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.762 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.763 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.764 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.764 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:05.764 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:05.765 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:05.765 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:05.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:05.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:05.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:05.767 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.768 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.768 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.768 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.769 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:05.769 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:05.770 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:05.770 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.771 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.771 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:05.771 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:05.772 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:05.772 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:05.773 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:05.773 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:05.774 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:05.774 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:05.775 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.775 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.775 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:05.776 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.776 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:05.777 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.777 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:05.778 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.778 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:05.778 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.779 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:05.779 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.780 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:05.781 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:05.781 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.781 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.782 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:05.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:05.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:05.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:05.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:05.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:05.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:05.789 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:05.789 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.789 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.790 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.790 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.791 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:05.791 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:05.792 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:05.792 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.792 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.793 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:05.793 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:05.794 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:05.794 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:05.795 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:05.795 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:05.796 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:05.796 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:05.796 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.797 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.797 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:05.798 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.798 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:05.799 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.799 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:05.799 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.800 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:05.800 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.801 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:05.801 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.802 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:05.803 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:05.803 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.803 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.804 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:05.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.807 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.807 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:05.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:05.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:05.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:05.810 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:05.810 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:05.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:05.811 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.811 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.812 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.812 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.813 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:05.813 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:05.814 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.814 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.814 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:05.815 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:05.815 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:05.816 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:05.816 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:05.817 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:05.817 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:05.818 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:05.818 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:05.818 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:05.819 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:05.819 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:05.820 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:05.820 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:05.820 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.821 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.821 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:05.822 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:05.822 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:05.823 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.824 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:05.824 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:05.824 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:05.825 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.825 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:05.827 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.828 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.828 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.829 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.829 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:05.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:05.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:05.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:05.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:05.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:05.832 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:05.832 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.833 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.833 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.834 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.834 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:05.834 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:05.835 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:05.835 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:05.836 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.836 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:05.837 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:05.837 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:05.837 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:05.838 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:05.838 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:05.839 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:05.839 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:05.840 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.840 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.840 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:05.841 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.841 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:05.842 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.842 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:05.843 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.843 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:05.843 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.844 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:05.844 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.845 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:05.846 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:05.846 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.846 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.847 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:05.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:05.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:05.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:05.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:05.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:05.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:05.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:05.854 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.854 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.855 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.855 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.855 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:05.856 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:05.856 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:05.857 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.857 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.858 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:05.858 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:05.859 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:05.859 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:05.859 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:05.860 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:05.860 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:05.861 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:05.861 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.862 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.862 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:05.862 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.863 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:05.863 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.864 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:05.864 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.864 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:05.865 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.865 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:05.866 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.867 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:05.867 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:05.868 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.868 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.868 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:05.870 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:05.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:05.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:05.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:05.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:05.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:05.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:05.875 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.876 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.876 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.877 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.877 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:05.878 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:05.878 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:05.878 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.879 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.879 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:05.880 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:05.880 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:05.881 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:05.881 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:05.881 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:05.882 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:05.882 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:05.883 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.883 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.884 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:05.884 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.884 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:05.885 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.885 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:05.886 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.886 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:05.886 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.887 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:05.887 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.888 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:05.889 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:05.889 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.890 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.890 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:05.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:05.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:05.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:05.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:05.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:05.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:05.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:05.897 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:05.897 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.898 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:05.898 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.899 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:05.899 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:05.900 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:05.900 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.900 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:05.901 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:05.901 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:05.902 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:05.902 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:05.903 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:05.903 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:05.903 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:05.904 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:05.904 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.905 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:05.905 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:05.906 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.906 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:05.906 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.907 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:05.907 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.908 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:05.908 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:05.908 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:05.909 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.910 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:05.910 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:05.911 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:05.911 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.912 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:05.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:05.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:05.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:05.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:05.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:05.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:05.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:05.919 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.919 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.920 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.920 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.920 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:05.921 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:05.921 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:05.922 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:05.922 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.923 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:05.923 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:05.924 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:05.924 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:05.924 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:05.925 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:05.925 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:05.926 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:05.926 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.927 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:05.927 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:05.928 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.928 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:05.928 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.929 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:05.929 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.930 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:05.930 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:05.930 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:05.931 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.932 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:05.932 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:05.933 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:05.933 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.934 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:05.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.937 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.937 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:05.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:05.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:05.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:05.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:05.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:05.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:05.941 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.941 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.942 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:05.942 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:05.942 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:05.943 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:05.943 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:05.944 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:05.944 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:05.945 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:05.945 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:05.946 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:05.946 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:05.947 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:05.947 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:05.947 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:05.948 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:05.948 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:05.949 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:05.949 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:05.950 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:05.950 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:05.950 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:05.951 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.951 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:05.952 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:05.952 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:05.952 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.954 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:05.954 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:05.954 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:05.955 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.955 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:05.957 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.958 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.958 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.959 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.959 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:05.960 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:05.960 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:05.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:05.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:05.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:05.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:05.962 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:05.963 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:05.963 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:05.964 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:05.964 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:05.965 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:05.965 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:05.965 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:05.966 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:05.966 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:05.967 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:05.967 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:05.968 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:05.968 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:05.969 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:05.969 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:05.969 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:05.970 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:05.970 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:05.971 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:05.971 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:05.972 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:05.972 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:05.972 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:05.973 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:05.973 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:05.974 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:05.974 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:05.974 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:05.976 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:05.976 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:05.976 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:05.977 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:05.977 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:05.979 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:05.980 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.980 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:05.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:05.982 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:05.982 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:05.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:05.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:05.984 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:05.984 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:05.984 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:05.985 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.045 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.046 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.046 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:06.046 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:06.047 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:06.047 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.048 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.048 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.049 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.049 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:06.050 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:06.050 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:06.050 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:06.051 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:06.051 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:06.052 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.052 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.053 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:06.053 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.053 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:06.054 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.054 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:06.055 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.055 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:06.055 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.056 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:06.056 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.057 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:06.058 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:06.058 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.059 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.059 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:06.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:06.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:06.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:06.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:06.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:06.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:06.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:06.066 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.066 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.067 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.067 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.068 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:06.068 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:06.069 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:06.069 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.069 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.070 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:06.070 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:06.071 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:06.071 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:06.072 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:06.072 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:06.072 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:06.073 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:06.073 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.074 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.074 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:06.075 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.075 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:06.075 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.076 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:06.076 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.077 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:06.077 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.078 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:06.078 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.079 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:06.079 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:06.080 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.080 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.081 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:06.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.085 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:06.085 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:06.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:06.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:06.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:06.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:06.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:06.088 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.088 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.088 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.089 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.089 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:06.090 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:06.090 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:06.091 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.091 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.091 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.092 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.092 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:06.093 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:06.093 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:06.094 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:06.094 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:06.095 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:06.095 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.095 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.096 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:06.096 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.097 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:06.097 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.097 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:06.098 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.098 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:06.099 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.099 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:06.099 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.101 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:06.101 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:06.101 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.102 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.102 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:06.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:06.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:06.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:06.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:06.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:06.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:06.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:06.109 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.110 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.110 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.111 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:06.111 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:06.111 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:06.112 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.112 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:06.113 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:06.113 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:06.114 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:06.114 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:06.114 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:06.115 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:06.115 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:06.116 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:06.116 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:06.116 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:06.117 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:06.117 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:06.118 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:06.118 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:06.119 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:06.119 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.119 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:06.120 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:06.120 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:06.121 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.122 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:06.122 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:06.123 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:06.123 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.123 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:06.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:06.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:06.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:06.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:06.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:06.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:06.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:06.130 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.131 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.131 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.132 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:06.132 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:06.133 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:06.133 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.133 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:06.134 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:06.134 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:06.135 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:06.135 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:06.136 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:06.136 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:06.136 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:06.137 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:06.137 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:06.138 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:06.138 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:06.139 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:06.139 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:06.139 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.140 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:06.140 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:06.141 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:06.141 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.142 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:06.142 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:06.143 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:06.143 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.144 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:06.145 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.146 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.147 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.147 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.148 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:06.148 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:06.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:06.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:06.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:06.150 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:06.150 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:06.151 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.151 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.151 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.152 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.152 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:06.153 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:06.153 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:06.154 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:06.154 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.154 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:06.155 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:06.155 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:06.156 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:06.156 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:06.157 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:06.157 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:06.158 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:06.158 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.158 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.159 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:06.159 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.160 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:06.160 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.160 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:06.161 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.161 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:06.162 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.162 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:06.163 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.164 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:06.164 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:06.164 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.165 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.165 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:06.167 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.169 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.169 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:06.170 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:06.170 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:06.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:06.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:06.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:06.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:06.172 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.173 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.173 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.173 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.174 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:06.174 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:06.175 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:06.175 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.176 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.176 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.177 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.177 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:06.177 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:06.178 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:06.178 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:06.179 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:06.179 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:06.180 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.180 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:06.180 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:06.181 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.181 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:06.182 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.182 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:06.182 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.183 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:06.183 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:06.184 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:06.184 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.185 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:06.186 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:06.186 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:06.186 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.187 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:06.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:06.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:06.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:06.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:06.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:06.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:06.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:06.194 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:06.194 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.195 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:06.195 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.195 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:06.196 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:06.196 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:06.197 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.197 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:06.198 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:06.198 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:06.199 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:06.199 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:06.199 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:06.200 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:06.200 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:06.201 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:06.201 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.202 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.202 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:06.202 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.203 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:06.203 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.204 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:06.204 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.204 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:06.205 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.205 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:06.206 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.207 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:06.207 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:06.207 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.208 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.208 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:06.210 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:06.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:06.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:06.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:06.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:06.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:06.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:06.215 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:06.216 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.216 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:06.217 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:06.217 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:06.217 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:06.218 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:06.218 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:06.219 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:06.219 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:06.220 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:06.220 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:06.220 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:06.221 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:06.221 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:06.222 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:06.222 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:06.222 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:06.223 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:06.223 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:06.224 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:06.224 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:06.225 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:06.225 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.225 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:06.226 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:06.226 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:06.227 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.228 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:06.228 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:06.229 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:06.229 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.229 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:06.231 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.233 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.233 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:06.234 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:06.234 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:06.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:06.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:06.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:06.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:06.236 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.237 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.237 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.238 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.238 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:06.239 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:06.239 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:06.239 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:06.240 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.240 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.241 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.242 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:06.242 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:06.243 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:06.243 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:06.244 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:06.244 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:06.245 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.245 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:06.245 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:06.246 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.246 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:06.247 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.247 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:06.248 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.248 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:06.248 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:06.249 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:06.249 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.250 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:06.251 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:06.251 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:06.252 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.252 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:06.254 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.254 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.256 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:06.256 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:06.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:06.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:06.258 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:06.258 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:06.259 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:06.259 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:06.259 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.260 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:06.260 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.261 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:06.261 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:06.262 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:06.262 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.262 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:06.263 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:06.263 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:06.264 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:06.264 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:06.265 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:06.265 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:06.266 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:06.266 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:06.266 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.267 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:06.267 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:06.268 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.268 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:06.268 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.269 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:06.269 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.270 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:06.270 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:06.271 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:06.271 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.272 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:06.274 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:06.275 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:06.283 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:06.285 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:06.286 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:06.287 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:06.377 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:06.378 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:06.378 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:06.379 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:06.379 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:06.379 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:06.380 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:06.380 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:06.391 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:06.392 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:06.403 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:06.403 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:06.404 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:06.404 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102805.log
2025-10-31 10:28:06.405 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:06.405 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:06.413 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102806.log
2025-10-31 10:28:06.414 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:06.414 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:06.416 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:06.416 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:06.417 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:06.418 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:06.418 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:06.419 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:06.420 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:06.420 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:06.420 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:06.421 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:06.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:06.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:06.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:06.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:06.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:06.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:06.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:06.428 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.428 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.429 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.429 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:06.430 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.430 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.431 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.431 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:06.432 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:06.432 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:06.432 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:06.433 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:06.433 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:06.434 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.434 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.435 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:06.435 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.436 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:06.436 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.436 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:06.437 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.437 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:06.438 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.439 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:06.439 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:06.439 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.440 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.440 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:06.442 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:06.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:06.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:06.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:06.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:06.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:06.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:06.447 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:06.448 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.448 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:06.449 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.449 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:06.450 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:06.450 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:06.450 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.451 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:06.451 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:06.452 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:06.452 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:06.453 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:06.453 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:06.454 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:06.454 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:06.455 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:06.455 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.455 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:06.456 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:06.456 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.457 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:06.457 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.457 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:06.458 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.458 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:06.459 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:06.459 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:06.460 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.461 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:06.461 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:06.461 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:06.462 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.462 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:06.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.466 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.466 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:06.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:06.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:06.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:06.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:06.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:06.469 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:06.469 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.470 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.470 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.471 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.471 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:06.472 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:06.472 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:06.472 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.473 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.473 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.474 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.474 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:06.475 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:06.475 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:06.475 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:06.476 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:06.476 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:06.477 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.477 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.478 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:06.478 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.479 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:06.479 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.479 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:06.480 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.480 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:06.481 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.481 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:06.481 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.483 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:06.483 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:06.483 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.484 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.484 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:06.486 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.487 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.487 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.488 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.488 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:06.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:06.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:06.490 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:06.490 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:06.490 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:06.491 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:06.491 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.492 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.492 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.493 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.493 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:06.493 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:06.494 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:06.494 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.495 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.495 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:06.496 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:06.496 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:06.497 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:06.497 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:06.497 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:06.498 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:06.498 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:06.499 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.499 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.500 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:06.500 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.501 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:06.501 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.501 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:06.502 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.502 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:06.503 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.503 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:06.503 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.505 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:06.505 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:06.505 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.506 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.506 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:06.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.509 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.509 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.510 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.510 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:06.511 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:06.511 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:06.512 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:06.512 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:06.512 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:06.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:06.513 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.514 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.514 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.515 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:06.515 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:06.515 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:06.516 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.516 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:06.517 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:06.517 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:06.518 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:06.518 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:06.519 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:06.519 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:06.519 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:06.520 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:06.520 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:06.521 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:06.521 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:06.522 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:06.522 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:06.522 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:06.523 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:06.523 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.524 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:06.524 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:06.524 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:06.525 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.526 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:06.526 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:06.527 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:06.527 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.528 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:06.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:06.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:06.533 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:06.533 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:06.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:06.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:06.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:06.535 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.535 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.536 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.536 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.537 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:06.537 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:06.537 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:06.538 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:06.538 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.539 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.539 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.540 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:06.540 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:06.541 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:06.541 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:06.541 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:06.542 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:06.542 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.543 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:06.543 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:06.544 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.544 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:06.544 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.545 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:06.545 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.546 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:06.546 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:06.547 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:06.547 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.548 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:06.548 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:06.549 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:06.549 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.550 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:06.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:06.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:06.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:06.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:06.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:06.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:06.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:06.557 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.557 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.558 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.558 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.558 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:06.559 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:06.559 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:06.560 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.560 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.561 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:06.561 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:06.562 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:06.562 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:06.562 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:06.563 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:06.563 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:06.564 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:06.564 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.565 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.565 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:06.566 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.566 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:06.566 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.567 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:06.567 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.568 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:06.568 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.568 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:06.569 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.570 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:06.570 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:06.571 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.571 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.572 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:06.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.574 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:06.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:06.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:06.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:06.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:06.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:06.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:06.579 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:06.579 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.580 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:06.580 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.580 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:06.581 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:06.581 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:06.582 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.582 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:06.583 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:06.583 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:06.584 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:06.584 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:06.584 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:06.585 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:06.585 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:06.586 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:06.586 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.587 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.587 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:06.588 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.588 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:06.588 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.589 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:06.589 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.590 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:06.590 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.590 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:06.591 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.592 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:06.592 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:06.593 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.593 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.594 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:06.595 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.596 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.597 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.597 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.598 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:06.598 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:06.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:06.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:06.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:06.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:06.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:06.601 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:06.601 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.602 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:06.602 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:06.602 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:06.603 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:06.603 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:06.604 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:06.604 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:06.605 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:06.605 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:06.606 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:06.606 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:06.606 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:06.607 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:06.607 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:06.608 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:06.608 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:06.608 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:06.609 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:06.609 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:06.610 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:06.610 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:06.611 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.611 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:06.611 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:06.612 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:06.612 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.613 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:06.614 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:06.614 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:06.615 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.615 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:06.617 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.618 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.618 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.619 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.619 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:06.620 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:06.620 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:06.620 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:06.621 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:06.621 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:06.622 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:06.622 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.623 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.623 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.623 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.624 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:06.624 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:06.625 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:06.625 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:06.626 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.626 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:06.627 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:06.627 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:06.627 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:06.628 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:06.628 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:06.629 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:06.629 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:06.630 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.630 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.631 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:06.631 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.631 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:06.632 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.632 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:06.633 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.633 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:06.633 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.634 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:06.634 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.635 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:06.636 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:06.636 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.637 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.637 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:06.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:06.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:06.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:06.643 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:06.643 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:06.643 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:06.644 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:06.644 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:06.645 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.645 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:06.646 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.646 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:06.646 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:06.647 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:06.647 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.648 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:06.648 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:06.649 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:06.649 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:06.650 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:06.650 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:06.650 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:06.651 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:06.651 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:06.652 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.652 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.653 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:06.653 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.654 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:06.654 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.654 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:06.655 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.655 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:06.656 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.656 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:06.656 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.658 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:06.658 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:06.658 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.659 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.659 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:06.661 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:06.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:06.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:06.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:06.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:06.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:06.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:06.666 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.667 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.667 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.668 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.668 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:06.669 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:06.669 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:06.669 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.670 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.670 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:06.671 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:06.671 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:06.672 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:06.672 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:06.672 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:06.673 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:06.673 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:06.674 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.674 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.675 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:06.675 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.676 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:06.676 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.676 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:06.677 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.677 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:06.678 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.678 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:06.678 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.680 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:06.680 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:06.680 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.681 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.681 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:06.683 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.684 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.684 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:06.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:06.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:06.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:06.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:06.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:06.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:06.688 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:06.689 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.689 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:06.690 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.690 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:06.690 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:06.691 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:06.691 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.692 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:06.692 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:06.693 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:06.693 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:06.694 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:06.694 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:06.694 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:06.695 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:06.695 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:06.696 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.696 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.697 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:06.697 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.698 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:06.698 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.698 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:06.699 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.699 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:06.700 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.700 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:06.700 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.702 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:06.702 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:06.702 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.703 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.703 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:06.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:06.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:06.708 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:06.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:06.709 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:06.710 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:06.710 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:06.710 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:06.711 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.711 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:06.712 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:06.712 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:06.713 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:06.713 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:06.713 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:06.714 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:06.714 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:06.715 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:06.715 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:06.716 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:06.716 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:06.717 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:06.717 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:06.717 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:06.718 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:06.718 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:06.719 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:06.719 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:06.720 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:06.720 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:06.720 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.721 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:06.721 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:06.722 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:06.722 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.723 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:06.724 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:06.724 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:06.725 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.725 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:06.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.729 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:06.729 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:06.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:06.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:06.731 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:06.731 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:06.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:06.732 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.732 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.733 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.733 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.734 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:06.734 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:06.735 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:06.735 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:06.735 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.736 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.736 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.737 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:06.737 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:06.738 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:06.738 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:06.739 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:06.739 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:06.739 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.740 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.740 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:06.741 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.741 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:06.742 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.742 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:06.742 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.743 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:06.743 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.744 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:06.744 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.745 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:06.746 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:06.746 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.746 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.747 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:06.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:06.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:06.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:06.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:06.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:06.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:06.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:06.754 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.754 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.755 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.755 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.756 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:06.756 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:06.757 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:06.757 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.757 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.758 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:06.758 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:06.759 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:06.759 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:06.760 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:06.760 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:06.760 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:06.761 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:06.761 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.762 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.762 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:06.763 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.763 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:06.764 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.764 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:06.764 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.765 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:06.765 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.766 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:06.766 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.767 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:06.768 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:06.768 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.768 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.769 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:06.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:06.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:06.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:06.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:06.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:06.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:06.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:06.776 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.776 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.777 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.777 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.778 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:06.778 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:06.779 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:06.779 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.779 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.780 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.780 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.781 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:06.781 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:06.782 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:06.782 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:06.782 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:06.783 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:06.783 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.784 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.784 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:06.785 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.785 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:06.786 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.786 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:06.786 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.787 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:06.787 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.788 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:06.788 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.789 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:06.790 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:06.790 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.790 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.791 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:06.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:06.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:06.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:06.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:06.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:06.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:06.798 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:06.798 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.798 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.799 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.799 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.800 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:06.800 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:06.801 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:06.801 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.801 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.802 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:06.802 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:06.803 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:06.803 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:06.804 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:06.804 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:06.805 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:06.805 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:06.805 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.806 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:06.806 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:06.807 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.807 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:06.808 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.808 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:06.808 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.809 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:06.809 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:06.810 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:06.810 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.811 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:06.812 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:06.812 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:06.812 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.813 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:06.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:06.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:06.818 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:06.818 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:06.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:06.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:06.820 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:06.820 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.820 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.821 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.821 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.822 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:06.822 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:06.823 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:06.823 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.824 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.824 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.824 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.825 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:06.825 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:06.826 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:06.826 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:06.827 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:06.827 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:06.828 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.828 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:06.828 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:06.829 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.829 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:06.830 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.830 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:06.831 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.831 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:06.831 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:06.832 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:06.832 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.833 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:06.834 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:06.834 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:06.835 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.835 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:06.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:06.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:06.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:06.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:06.841 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:06.841 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:06.842 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:06.842 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.842 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.843 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.843 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:06.844 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:06.844 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:06.845 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.845 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:06.845 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:06.846 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:06.846 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:06.847 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:06.847 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:06.848 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:06.848 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:06.848 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:06.849 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:06.849 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:06.850 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:06.850 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:06.851 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:06.851 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:06.851 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:06.852 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.852 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:06.853 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:06.853 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:06.854 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.855 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:06.855 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:06.855 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:06.856 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.856 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:06.858 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.860 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.860 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:06.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:06.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:06.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:06.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:06.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:06.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:06.863 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:06.864 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.864 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:06.865 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.865 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:06.866 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:06.866 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:06.867 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:06.867 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:06.867 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:06.868 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:06.868 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:06.869 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:06.869 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:06.870 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:06.870 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:06.871 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:06.871 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.871 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.872 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:06.872 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.873 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:06.873 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.874 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:06.874 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.874 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:06.875 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.875 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:06.876 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.877 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:06.877 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:06.878 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.878 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.878 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:06.880 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.881 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.881 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.882 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.882 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:06.883 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:06.883 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:06.884 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:06.884 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:06.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:06.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:06.885 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.886 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.886 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.887 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.887 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:06.888 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:06.888 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:06.888 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.889 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.889 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.890 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.890 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:06.891 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:06.891 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:06.892 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:06.892 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:06.893 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:06.893 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.893 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.894 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:06.894 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.895 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:06.895 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.895 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:06.896 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.896 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:06.897 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.897 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:06.898 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.899 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:06.899 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:06.899 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.900 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.900 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:06.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.903 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.903 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.904 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.904 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:06.905 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:06.905 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:06.906 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:06.906 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:06.906 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:06.907 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:06.907 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.908 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.908 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.909 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.909 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:06.909 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:06.910 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:06.910 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.911 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.911 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:06.912 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:06.912 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:06.913 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:06.913 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:06.913 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:06.914 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:06.914 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:06.915 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.915 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.916 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:06.916 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.916 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:06.917 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.917 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:06.918 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.918 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:06.919 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.919 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:06.919 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.920 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:06.921 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:06.921 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.922 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.922 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:06.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.925 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.925 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:06.927 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:06.927 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:06.927 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:06.928 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:06.928 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:06.929 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:06.929 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.930 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.930 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.930 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.931 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:06.931 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:06.932 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:06.932 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:06.933 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.933 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:06.934 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:06.934 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:06.934 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:06.935 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:06.935 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:06.936 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:06.936 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:06.937 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:06.937 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:06.937 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:06.938 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:06.938 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:06.939 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:06.939 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:06.940 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.940 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:06.940 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:06.941 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:06.941 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.942 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:06.943 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:06.943 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:06.943 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.944 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:06.946 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.946 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:06.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:06.949 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:06.949 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:06.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:06.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:06.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:06.951 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.951 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.952 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.952 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:06.953 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:06.953 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:06.954 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.954 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:06.955 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:06.955 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:06.955 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:06.956 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:06.956 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:06.957 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:06.957 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:06.958 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:06.958 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:06.958 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:06.959 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:06.959 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:06.960 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:06.960 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:06.961 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:06.961 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.961 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:06.962 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:06.962 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:06.963 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.964 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:06.964 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:06.965 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:06.965 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.965 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:06.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.968 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.968 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:06.970 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:06.970 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:06.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:06.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:06.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:06.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:06.972 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:06.973 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.973 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:06.974 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:06.974 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:06.975 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:06.975 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:06.975 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:06.976 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:06.976 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:06.977 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:06.977 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:06.978 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:06.978 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:06.979 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:06.979 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:06.979 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:06.980 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:06.980 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:06.981 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:06.981 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:06.981 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:06.982 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:06.982 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:06.983 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:06.983 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:06.984 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:06.985 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:06.985 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:06.985 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:06.986 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:06.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:06.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:06.990 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:06.990 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:06.991 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:06.991 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:06.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:06.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:06.993 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:06.993 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:06.993 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:06.994 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:06.994 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:06.995 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:06.995 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:06.996 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:06.996 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:06.996 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:06.997 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:06.997 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:06.998 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:06.998 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:06.999 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:06.999 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:07.000 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:07.000 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:07.000 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.001 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.001 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:07.002 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.002 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:07.003 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.003 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:07.003 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.004 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:07.004 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.005 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:07.005 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.006 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:07.007 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:07.007 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.007 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.008 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:07.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:07.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:07.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:07.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:07.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:07.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:07.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:07.015 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.015 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.016 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.016 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.017 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:07.017 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:07.018 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:07.018 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.018 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.019 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.019 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.020 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:07.020 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:07.021 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:07.021 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:07.021 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:07.022 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:07.022 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.023 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:07.023 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:07.024 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.024 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:07.024 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.025 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:07.025 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.026 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:07.026 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:07.027 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:07.027 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.028 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:07.028 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:07.029 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:07.029 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.030 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:07.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:07.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:07.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:07.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:07.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:07.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:07.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:07.037 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.037 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.038 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.038 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.038 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:07.039 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:07.039 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:07.040 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.040 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.041 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:07.041 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:07.042 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:07.042 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:07.042 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:07.043 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:07.043 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:07.044 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:07.044 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.045 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.045 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:07.046 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.046 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:07.046 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.047 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:07.047 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.048 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:07.048 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.048 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:07.049 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.050 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:07.050 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:07.051 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.051 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.052 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:07.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:07.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:07.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:07.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:07.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:07.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:07.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:07.059 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.059 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.059 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.060 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:07.060 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:07.061 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:07.061 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.062 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:07.062 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:07.063 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:07.063 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:07.063 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:07.064 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:07.064 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:07.065 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:07.065 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:07.066 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:07.066 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:07.066 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:07.067 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:07.067 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:07.068 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:07.068 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:07.069 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.069 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:07.069 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:07.070 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:07.070 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.071 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:07.072 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:07.072 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:07.073 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.073 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:07.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:07.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:07.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:07.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:07.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:07.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:07.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:07.080 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.081 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.081 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.081 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.082 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:07.082 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:07.083 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:07.083 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:07.084 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.084 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.084 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.085 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:07.085 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:07.086 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:07.086 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:07.087 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:07.087 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:07.088 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.088 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:07.088 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:07.089 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.089 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:07.090 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.090 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:07.090 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.091 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:07.091 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:07.092 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:07.092 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.093 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:07.094 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:07.094 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:07.094 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.095 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:07.097 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.097 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.098 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.098 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:07.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:07.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:07.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:07.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:07.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:07.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:07.102 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.102 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.103 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.103 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.104 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:07.104 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:07.105 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:07.105 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.105 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.106 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:07.106 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:07.107 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:07.107 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:07.108 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:07.108 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:07.109 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:07.109 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:07.109 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.110 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:07.110 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:07.111 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.111 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:07.112 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.112 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:07.112 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.113 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:07.113 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:07.114 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:07.114 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.115 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:07.117 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:07.118 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:07.126 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:07.128 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:07.129 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:07.130 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:07.221 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:07.222 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:07.222 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:07.223 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:07.223 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:07.224 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:07.224 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:07.224 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:07.235 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:07.236 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:07.247 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:07.247 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:07.248 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:07.248 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102806.log
2025-10-31 10:28:07.249 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:07.249 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:07.257 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102807.log
2025-10-31 10:28:07.258 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:07.258 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:07.260 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:07.260 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:07.261 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:07.262 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:07.262 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:07.263 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:07.264 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:07.264 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:07.265 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:07.265 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:07.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:07.270 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:07.270 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:07.271 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:07.271 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:07.272 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:07.272 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:07.272 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.273 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.273 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.274 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:07.274 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.275 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.275 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.276 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:07.276 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:07.277 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:07.277 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:07.278 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:07.278 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:07.279 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.279 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.279 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:07.280 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.280 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:07.281 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.281 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:07.282 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.282 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:07.282 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.283 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:07.284 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:07.284 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.285 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.285 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:07.287 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.288 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.288 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.289 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.289 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:07.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:07.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:07.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:07.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:07.292 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:07.292 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:07.293 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.293 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.293 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.294 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.294 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:07.295 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:07.295 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:07.296 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.296 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.297 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:07.297 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:07.298 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:07.298 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:07.299 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:07.299 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:07.299 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:07.300 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:07.300 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.301 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:07.301 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:07.302 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.302 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:07.303 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.303 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:07.303 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.304 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:07.304 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:07.305 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:07.305 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.306 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:07.307 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:07.307 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:07.308 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.308 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:07.310 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.310 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.311 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.312 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.312 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:07.313 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:07.313 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:07.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:07.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:07.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:07.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:07.315 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.316 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.316 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.317 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.317 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:07.318 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:07.318 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:07.319 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.319 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.319 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.320 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.320 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:07.321 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:07.321 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:07.322 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:07.322 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:07.323 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:07.323 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.324 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.324 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:07.324 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.325 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:07.325 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.326 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:07.326 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.327 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:07.327 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.328 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:07.328 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.329 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:07.330 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:07.330 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.330 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.331 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:07.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:07.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:07.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:07.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:07.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:07.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:07.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:07.338 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:07.339 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.339 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:07.339 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.340 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:07.340 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:07.341 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:07.341 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.342 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:07.342 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:07.343 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:07.343 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:07.344 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:07.344 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:07.345 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:07.345 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:07.346 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:07.346 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.346 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.347 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:07.347 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.348 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:07.348 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.349 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:07.349 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.349 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:07.350 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.350 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:07.351 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.352 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:07.352 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:07.353 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.353 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.354 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:07.355 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.356 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.356 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.357 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:07.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:07.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:07.359 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:07.359 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:07.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:07.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:07.361 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:07.361 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.362 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:07.362 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:07.362 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:07.363 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:07.363 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:07.364 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:07.364 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:07.365 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:07.365 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:07.366 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:07.366 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:07.366 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:07.367 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:07.367 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:07.368 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:07.368 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:07.369 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:07.369 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:07.370 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:07.370 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:07.370 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:07.371 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.371 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:07.372 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:07.372 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:07.372 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.374 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:07.374 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:07.375 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:07.375 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.375 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:07.377 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.378 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.378 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.379 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:07.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:07.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:07.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:07.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:07.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:07.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:07.383 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.383 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.384 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.384 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.384 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:07.385 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:07.385 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:07.386 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:07.386 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.387 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.387 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.388 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:07.388 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:07.389 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:07.389 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:07.389 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:07.390 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:07.390 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.391 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:07.391 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:07.392 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.392 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:07.393 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.393 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:07.393 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.394 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:07.394 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:07.395 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:07.395 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.396 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:07.397 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:07.397 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:07.398 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.398 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:07.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:07.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:07.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:07.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:07.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:07.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:07.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:07.405 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:07.406 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.406 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:07.407 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.407 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:07.407 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:07.408 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:07.408 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.409 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:07.409 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:07.410 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:07.410 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:07.411 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:07.411 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:07.412 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:07.412 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:07.413 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:07.413 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.413 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.414 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:07.414 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.415 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:07.415 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.416 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:07.416 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.416 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:07.417 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.417 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:07.418 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.419 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:07.419 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:07.420 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.420 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.421 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:07.422 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:07.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:07.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:07.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:07.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:07.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:07.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:07.428 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.428 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.429 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.429 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.430 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:07.430 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:07.431 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:07.431 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.431 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.432 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:07.432 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:07.433 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:07.433 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:07.434 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:07.434 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:07.435 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:07.435 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:07.436 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.436 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.436 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:07.437 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.437 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:07.438 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.438 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:07.439 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.439 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:07.439 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.440 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:07.440 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.441 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:07.442 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:07.442 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.443 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.443 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:07.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:07.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:07.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:07.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:07.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:07.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:07.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:07.450 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.451 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.451 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.452 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:07.452 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:07.453 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:07.453 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.454 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:07.454 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:07.455 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:07.455 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:07.455 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:07.456 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:07.456 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:07.457 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:07.457 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:07.458 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:07.458 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:07.459 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:07.459 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:07.459 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:07.460 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:07.460 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:07.461 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.461 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:07.462 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:07.462 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:07.462 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.464 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:07.464 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:07.464 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:07.465 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.465 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:07.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.469 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.469 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:07.470 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:07.470 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:07.471 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:07.471 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:07.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:07.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:07.473 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:07.473 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.474 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:07.474 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.474 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:07.475 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:07.475 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:07.476 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:07.476 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:07.477 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:07.477 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:07.478 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:07.478 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:07.479 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:07.479 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:07.479 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:07.480 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:07.480 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.481 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.481 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:07.482 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.482 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:07.483 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.483 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:07.484 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.484 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:07.484 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.485 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:07.485 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.486 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:07.487 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:07.487 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.488 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.488 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:07.490 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.491 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.491 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.492 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.492 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:07.493 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:07.493 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:07.494 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:07.494 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:07.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:07.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:07.495 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.496 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.496 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.497 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.497 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:07.498 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:07.498 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:07.499 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.499 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.500 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:07.500 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:07.501 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:07.501 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:07.501 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:07.502 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:07.502 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:07.503 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:07.503 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.504 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.504 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:07.505 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.505 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:07.506 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.506 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:07.506 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.507 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:07.507 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.508 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:07.508 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.509 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:07.510 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:07.510 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.511 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.511 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:07.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.515 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.515 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:07.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:07.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:07.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:07.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:07.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:07.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:07.518 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:07.519 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.519 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:07.520 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.520 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:07.521 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:07.521 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:07.522 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.522 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:07.523 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:07.523 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:07.524 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:07.524 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:07.524 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:07.525 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:07.525 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:07.526 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:07.526 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.527 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.527 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:07.528 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.528 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:07.528 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.529 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:07.529 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.530 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:07.530 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.531 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:07.531 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.532 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:07.533 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:07.533 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.533 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.534 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:07.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:07.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:07.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:07.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:07.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:07.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:07.541 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:07.541 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.542 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.542 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.543 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.543 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:07.543 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:07.544 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:07.544 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.545 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.545 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:07.546 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:07.546 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:07.547 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:07.547 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:07.548 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:07.548 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:07.549 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:07.549 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.549 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.550 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:07.550 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.551 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:07.551 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.552 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:07.552 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.552 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:07.553 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.553 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:07.554 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.555 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:07.555 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:07.556 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.556 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.556 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:07.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.560 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.560 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.561 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:07.561 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:07.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:07.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:07.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:07.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:07.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:07.564 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.564 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.565 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.565 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:07.565 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:07.566 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:07.566 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.567 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:07.567 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:07.568 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:07.568 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:07.569 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:07.569 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:07.570 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:07.570 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:07.570 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:07.571 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:07.571 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:07.572 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:07.572 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:07.573 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:07.573 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:07.574 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:07.574 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.574 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:07.575 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:07.575 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:07.576 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.577 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:07.577 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:07.578 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:07.578 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.578 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:07.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:07.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:07.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:07.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:07.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:07.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:07.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:07.586 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.586 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.587 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.587 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.587 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:07.588 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:07.588 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:07.589 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:07.589 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.590 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.590 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.591 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:07.591 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:07.592 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:07.592 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:07.592 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:07.593 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:07.593 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.594 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.594 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:07.595 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.595 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:07.596 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.596 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:07.596 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.597 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:07.597 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.598 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:07.598 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.599 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:07.600 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:07.600 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.600 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.601 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:07.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:07.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:07.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:07.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:07.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:07.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:07.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:07.608 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:07.608 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.609 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:07.609 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.610 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:07.610 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:07.611 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:07.611 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.612 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:07.612 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:07.613 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:07.613 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:07.614 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:07.614 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:07.614 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:07.615 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:07.615 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:07.616 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.616 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.617 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:07.617 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.618 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:07.618 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.618 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:07.619 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.619 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:07.620 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.620 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:07.620 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.622 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:07.622 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:07.622 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.623 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.623 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:07.625 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:07.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:07.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:07.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:07.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:07.630 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:07.630 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:07.631 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.631 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.632 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.632 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.632 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:07.633 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:07.633 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:07.634 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.634 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.635 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.635 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.636 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:07.636 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:07.637 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:07.637 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:07.637 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:07.638 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:07.638 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.639 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.639 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:07.640 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.640 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:07.641 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.641 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:07.641 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.642 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:07.642 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.643 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:07.643 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.644 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:07.645 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:07.645 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.646 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.646 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:07.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:07.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:07.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:07.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:07.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:07.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:07.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:07.653 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:07.654 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.654 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:07.654 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.655 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:07.655 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:07.656 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:07.656 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.657 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:07.657 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:07.658 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:07.658 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:07.659 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:07.659 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:07.659 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:07.660 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:07.660 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:07.661 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.661 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:07.662 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:07.662 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.663 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:07.663 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.663 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:07.664 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.664 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:07.665 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:07.665 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:07.666 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.667 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:07.667 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:07.667 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:07.668 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.668 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:07.670 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.672 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.672 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:07.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:07.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:07.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:07.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:07.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:07.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:07.676 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.676 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.676 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.677 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.677 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:07.678 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:07.678 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:07.679 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.679 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.680 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.680 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.680 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:07.681 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:07.681 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:07.682 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:07.682 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:07.683 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:07.683 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.684 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:07.684 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:07.684 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.685 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:07.685 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.686 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:07.686 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.687 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:07.687 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:07.687 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:07.688 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.689 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:07.689 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:07.690 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:07.690 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.691 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:07.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:07.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:07.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:07.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:07.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:07.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:07.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:07.698 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.698 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.699 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.699 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:07.700 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:07.700 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:07.701 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.701 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:07.701 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:07.702 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:07.702 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:07.703 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:07.703 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:07.704 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:07.704 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:07.705 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:07.705 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:07.705 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:07.706 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:07.706 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:07.707 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:07.707 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:07.708 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:07.708 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.709 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:07.709 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:07.709 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:07.710 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.711 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:07.711 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:07.712 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:07.712 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.713 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:07.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:07.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:07.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:07.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:07.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:07.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:07.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:07.720 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.720 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.721 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.721 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.722 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:07.722 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:07.723 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:07.723 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:07.723 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.724 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:07.724 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:07.725 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:07.725 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:07.726 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:07.726 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:07.727 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:07.727 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:07.728 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.728 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.728 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:07.729 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.729 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:07.730 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.730 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:07.731 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.731 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:07.731 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.732 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:07.732 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.733 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:07.734 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:07.734 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.735 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.735 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:07.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.739 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.739 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:07.740 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:07.740 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:07.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:07.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:07.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:07.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:07.742 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.743 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.743 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.744 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.744 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:07.745 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:07.745 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:07.746 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.746 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.746 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.747 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.747 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:07.748 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:07.748 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:07.749 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:07.749 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:07.750 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:07.750 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.751 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.751 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:07.751 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.752 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:07.752 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.753 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:07.753 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.753 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:07.754 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.754 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:07.755 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.756 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:07.756 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:07.757 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.757 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.758 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:07.759 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.760 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.761 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.761 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.762 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:07.762 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:07.763 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:07.763 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:07.763 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:07.764 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:07.764 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:07.765 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:07.765 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.766 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:07.766 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.766 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:07.767 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:07.767 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:07.768 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.768 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:07.769 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:07.769 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:07.770 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:07.770 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:07.771 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:07.771 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:07.771 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:07.772 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:07.772 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.773 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.773 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:07.774 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.774 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:07.775 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.775 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:07.775 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.776 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:07.776 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.777 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:07.777 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.778 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:07.779 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:07.779 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.780 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.780 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:07.782 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.782 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.783 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:07.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:07.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:07.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:07.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:07.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:07.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:07.787 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.788 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.788 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.788 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.789 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:07.789 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:07.790 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:07.790 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.791 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.791 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.792 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.792 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:07.793 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:07.793 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:07.793 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:07.794 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:07.794 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:07.795 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.795 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.796 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:07.796 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.797 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:07.797 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.797 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:07.798 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.798 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:07.799 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.799 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:07.799 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.801 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:07.801 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:07.801 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.802 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.802 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:07.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:07.807 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:07.807 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:07.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:07.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:07.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:07.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:07.810 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.810 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.810 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.811 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:07.811 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:07.812 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:07.812 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.813 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:07.813 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:07.814 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:07.814 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:07.815 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:07.815 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:07.815 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:07.816 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:07.816 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:07.817 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:07.817 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:07.818 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:07.818 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:07.819 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:07.819 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:07.819 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:07.820 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.820 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:07.821 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:07.821 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:07.822 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.823 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:07.823 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:07.824 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:07.824 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.825 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:07.826 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.827 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.828 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.828 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.829 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:07.829 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:07.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:07.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:07.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:07.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:07.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:07.832 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.832 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.833 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.833 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:07.834 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:07.834 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:07.835 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.835 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:07.836 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:07.836 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:07.837 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:07.837 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:07.837 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:07.838 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:07.838 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:07.839 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:07.839 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:07.840 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:07.840 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:07.841 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:07.841 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:07.841 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.842 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:07.842 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:07.843 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:07.843 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.844 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:07.845 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:07.845 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:07.846 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.846 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:07.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:07.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:07.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:07.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:07.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:07.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:07.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:07.853 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:07.854 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.854 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:07.855 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.855 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:07.856 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:07.856 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:07.857 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:07.857 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:07.857 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:07.858 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:07.858 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:07.859 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:07.859 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:07.860 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:07.860 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:07.861 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:07.861 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.862 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.862 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:07.863 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.863 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:07.863 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.864 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:07.864 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.865 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:07.865 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.866 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:07.866 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.867 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:07.868 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:07.868 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.868 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.869 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:07.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:07.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:07.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:07.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:07.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:07.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:07.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:07.876 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.877 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.877 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.878 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.878 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:07.878 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:07.879 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:07.879 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.880 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.880 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.881 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.881 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:07.882 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:07.882 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:07.883 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:07.883 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:07.884 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:07.884 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.884 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:07.885 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:07.885 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.886 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:07.886 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.887 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:07.887 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.887 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:07.888 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:07.888 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:07.889 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.890 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:07.890 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:07.891 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:07.891 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.892 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:07.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:07.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:07.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:07.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:07.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:07.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:07.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:07.899 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.899 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.900 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.900 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.900 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:07.901 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:07.901 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:07.902 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.902 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.903 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:07.903 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:07.904 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:07.904 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:07.905 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:07.905 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:07.905 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:07.906 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:07.906 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.907 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:07.907 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:07.908 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.908 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:07.909 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.909 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:07.909 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.910 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:07.910 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:07.911 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:07.911 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.912 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:07.913 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:07.913 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:07.913 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.914 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:07.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:07.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:07.919 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:07.919 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:07.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:07.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:07.921 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:07.921 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.922 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.922 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.922 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:07.923 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:07.923 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:07.924 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.924 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:07.925 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:07.925 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:07.926 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:07.926 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:07.927 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:07.927 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:07.927 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:07.928 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:07.928 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:07.929 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:07.929 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:07.930 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:07.930 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:07.930 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:07.931 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:07.931 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.932 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:07.932 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:07.933 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:07.933 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.934 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:07.935 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:07.935 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:07.935 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.936 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:07.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:07.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:07.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:07.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:07.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:07.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:07.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:07.943 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:07.944 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.944 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:07.944 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.945 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:07.945 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:07.946 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:07.946 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:07.947 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:07.947 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:07.948 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:07.948 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:07.949 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:07.949 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:07.949 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:07.950 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:07.950 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:07.951 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.951 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:07.952 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:07.952 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.953 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:07.953 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.953 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:07.954 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.954 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:07.955 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:07.955 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:07.956 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.957 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:07.957 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:07.958 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:07.958 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:07.958 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:07.960 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:07.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:07.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:07.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:07.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:07.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:07.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:07.965 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:07.965 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:07.966 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:07.966 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:07.966 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:07.967 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:07.967 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:07.968 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:07.968 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:07.969 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:07.969 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:07.970 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:07.970 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:07.971 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:07.971 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:07.971 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:07.972 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:07.972 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:07.973 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:07.973 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:07.974 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:07.974 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:07.975 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:07.975 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:07.975 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:07.976 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:07.976 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:07.977 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:07.977 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:07.978 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:07.978 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:07.979 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:07.981 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:07.982 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:07.990 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:07.992 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:07.993 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:07.994 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:08.084 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:08.085 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:08.085 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:08.086 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:08.086 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:08.087 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:08.087 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:08.087 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:08.098 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:08.099 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:08.110 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:08.110 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:08.111 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:08.111 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102807.log
2025-10-31 10:28:08.112 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:08.112 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:08.121 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102808.log
2025-10-31 10:28:08.121 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:08.122 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:08.123 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:08.124 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-09-10 00:00:00 (after 252 periods of warm-up data)
2025-10-31 10:28:08.125 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:08.125 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:08.126 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:08.127 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-09-10
2025-10-31 10:28:08.128 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-10
2025-10-31 10:28:08.128 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:08.129 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:08.129 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:08.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0809326756523252
2025-10-31 10:28:08.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08149454604873574
2025-10-31 10:28:08.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08817543839164688
2025-10-31 10:28:08.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-10 00:00:00:
2025-10-31 10:28:08.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0809 (8.09%) - PASS
2025-10-31 10:28:08.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0815 (8.15%) - PASS
2025-10-31 10:28:08.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0882 (8.82%) - PASS
2025-10-31 10:28:08.136 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:08.137 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.137 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:08.138 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-10: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:08.138 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:08.139 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:08.139 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:08.140 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.53 ? $123.59 (slippage: 0.050%)
2025-10-31 10:28:08.140 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:08.141 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 809.15
2025-10-31 10:28:08.141 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:08.142 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:08.142 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 808.34 @ $123.59
2025-10-31 10:28:08.142 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.143 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.143 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:08.144 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.144 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 808.34 shares @ $123.59 (Value: $99,900.10)
2025-10-31 10:28:08.145 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.145 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:08.146 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.146 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:08.146 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.147 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:08.148 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,594.06
2025-10-31 10:28:08.148 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.149 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.149 | INFO     | src.backtesting.engine:run:293 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:08.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.152 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.152 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019551495925198337
2025-10-31 10:28:08.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07498293204285922
2025-10-31 10:28:08.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05824612172849841
2025-10-31 10:28:08.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:08.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0196 (1.96%) - PASS
2025-10-31 10:28:08.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0750 (7.50%) - PASS
2025-10-31 10:28:08.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0582 (5.82%) - PASS
2025-10-31 10:28:08.156 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.157 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.157 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.158 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.158 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:08.159 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 808.34 @ $121.91 (P&L: $-1,355.34)
2025-10-31 10:28:08.159 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,446.22
2025-10-31 10:28:08.159 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$98,594.06, Cash=$98,446.22, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.160 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.160 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:08.161 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:08.161 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:08.162 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:08.162 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 813.89
2025-10-31 10:28:08.163 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.59
2025-10-31 10:28:08.163 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,692.65
2025-10-31 10:28:08.164 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 811.85 @ $121.14
2025-10-31 10:28:08.164 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.165 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.165 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,446.22, Cash end=$-0.00
2025-10-31 10:28:08.166 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.166 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:08.166 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.167 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 811.85 shares @ $121.14 (Value: $98,347.87)
2025-10-31 10:28:08.167 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.168 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,347.87
2025-10-31 10:28:08.168 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.169 | INFO     | src.backtesting.engine:run:336 -      Change: $-246.19
2025-10-31 10:28:08.169 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.170 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:08.171 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,275.11
2025-10-31 10:28:08.171 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.171 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.172 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11, P&L: $927.24)
2025-10-31 10:28:08.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07511303569502892
2025-10-31 10:28:08.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08589327251529832
2025-10-31 10:28:08.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06452336484703469
2025-10-31 10:28:08.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:08.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0751 (7.51%) - PASS
2025-10-31 10:28:08.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0859 (8.59%) - PASS
2025-10-31 10:28:08.179 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0645 (6.45%) - PASS
2025-10-31 10:28:08.179 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.180 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.180 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.180 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:08.181 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11)
2025-10-31 10:28:08.181 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$99,275.11, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:08.182 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.182 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:08.183 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:08.183 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 811.85 shares worth $99,275.11
2025-10-31 10:28:08.184 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:08.184 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.28 ? $122.34 (slippage: 0.050%)
2025-10-31 10:28:08.185 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:08.185 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 811.45
2025-10-31 10:28:08.185 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 811.85
2025-10-31 10:28:08.186 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.41
2025-10-31 10:28:08.186 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:08.187 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.59
2025-10-31 10:28:08.187 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.41 shares at $122.22 (proceeds: $49.54)
2025-10-31 10:28:08.188 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:08.188 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.54
2025-10-31 10:28:08.189 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.59, Cash end=$49.54
2025-10-31 10:28:08.189 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:08.189 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.190 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,275.03
2025-10-31 10:28:08.190 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.54
2025-10-31 10:28:08.191 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:08.191 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.192 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:08.193 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,453.53
2025-10-31 10:28:08.193 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.54
2025-10-31 10:28:08.194 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.194 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:08.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.197 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.198 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.198 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07533958777997163
2025-10-31 10:28:08.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06332847983307777
2025-10-31 10:28:08.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06863582586745842
2025-10-31 10:28:08.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:08.200 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0753 (7.53%) - PASS
2025-10-31 10:28:08.200 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0633 (6.33%) - PASS
2025-10-31 10:28:08.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0686 (6.86%) - PASS
2025-10-31 10:28:08.201 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:08.202 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.202 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:08.203 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.203 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:08.204 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 811.45 @ $123.67 (P&L: $2,055.08)
2025-10-31 10:28:08.204 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,302.98
2025-10-31 10:28:08.204 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$100,453.53, Cash=$100,302.98, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:08.205 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:08.205 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:08.206 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:08.206 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.93 ? $122.99 (slippage: 0.050%)
2025-10-31 10:28:08.207 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:08.207 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 816.77
2025-10-31 10:28:08.208 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.45
2025-10-31 10:28:08.208 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,553.99
2025-10-31 10:28:08.209 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 814.73 @ $122.99
2025-10-31 10:28:08.209 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.210 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.210 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,302.98, Cash end=$-0.00
2025-10-31 10:28:08.210 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.211 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:08.211 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.212 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 814.73 shares @ $122.99 (Value: $100,202.78)
2025-10-31 10:28:08.212 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.213 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,202.78
2025-10-31 10:28:08.213 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.214 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.76
2025-10-31 10:28:08.214 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.215 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:08.215 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,275.19
2025-10-31 10:28:08.216 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.216 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.217 | INFO     | src.backtesting.engine:run:293 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:08.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.037374576779007684
2025-10-31 10:28:08.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0865684206777857
2025-10-31 10:28:08.222 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05637830462180449
2025-10-31 10:28:08.222 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:08.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0374 (3.74%) - PASS
2025-10-31 10:28:08.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0866 (8.66%) - PASS
2025-10-31 10:28:08.224 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0564 (5.64%) - PASS
2025-10-31 10:28:08.224 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.225 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.225 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.226 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.226 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:08.227 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 814.73 @ $123.02 (P&L: $22.28)
2025-10-31 10:28:08.227 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,124.83
2025-10-31 10:28:08.227 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$100,275.19, Cash=$100,124.83, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.228 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.228 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:08.229 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:08.229 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $124.66 ? $124.73 (slippage: 0.050%)
2025-10-31 10:28:08.230 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:08.230 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 803.97
2025-10-31 10:28:08.231 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.28
2025-10-31 10:28:08.231 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,375.47
2025-10-31 10:28:08.232 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 801.96 @ $124.73
2025-10-31 10:28:08.232 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.232 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.233 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,124.83, Cash end=$-0.00
2025-10-31 10:28:08.233 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.234 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:08.234 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.235 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 801.96 shares @ $124.73 (Value: $100,024.80)
2025-10-31 10:28:08.235 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.236 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,024.80
2025-10-31 10:28:08.236 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.236 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.39
2025-10-31 10:28:08.237 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.238 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:08.238 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,585.07
2025-10-31 10:28:08.239 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.239 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.240 | INFO     | src.backtesting.engine:run:293 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:08.241 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11193767893425632
2025-10-31 10:28:08.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.034556594930737594
2025-10-31 10:28:08.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04474012852421505
2025-10-31 10:28:08.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:08.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1119 (11.19%) - PASS
2025-10-31 10:28:08.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0346 (3.46%) - PASS
2025-10-31 10:28:08.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0447 (4.47%) - PASS
2025-10-31 10:28:08.247 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:08.247 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.248 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:08.248 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.249 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:08.249 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 801.96 @ $121.62 (P&L: $-2,488.52)
2025-10-31 10:28:08.250 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,438.74
2025-10-31 10:28:08.250 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$97,585.07, Cash=$97,438.74, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.251 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:08.251 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:08.252 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:08.252 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:08.252 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:08.253 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 743.33
2025-10-31 10:28:08.253 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.59
2025-10-31 10:28:08.254 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,682.66
2025-10-31 10:28:08.254 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 741.47 @ $131.28
2025-10-31 10:28:08.255 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.255 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.256 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,438.74, Cash end=$-0.00
2025-10-31 10:28:08.256 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.257 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:08.257 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.257 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 741.47 shares @ $131.28 (Value: $97,341.40)
2025-10-31 10:28:08.258 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.258 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,341.40
2025-10-31 10:28:08.259 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.259 | INFO     | src.backtesting.engine:run:336 -      Change: $-243.67
2025-10-31 10:28:08.260 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.261 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:08.261 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,844.40
2025-10-31 10:28:08.262 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.262 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.262 | INFO     | src.backtesting.engine:run:293 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:08.264 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.062080363269852556
2025-10-31 10:28:08.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11404037668171707
2025-10-31 10:28:08.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08587886730594763
2025-10-31 10:28:08.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:08.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0621 (6.21%) - PASS
2025-10-31 10:28:08.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1140 (11.40%) - PASS
2025-10-31 10:28:08.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:08.270 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.270 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.271 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.271 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.271 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:08.272 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 741.47 @ $127.85 (P&L: $-2,544.42)
2025-10-31 10:28:08.272 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,702.18
2025-10-31 10:28:08.273 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$94,844.40, Cash=$94,702.18, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.273 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.274 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:08.274 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:08.275 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.79 ? $130.86 (slippage: 0.050%)
2025-10-31 10:28:08.275 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:08.276 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 724.78
2025-10-31 10:28:08.276 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.84
2025-10-31 10:28:08.276 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,939.24
2025-10-31 10:28:08.277 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 722.97 @ $130.86
2025-10-31 10:28:08.278 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.278 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.278 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,702.18, Cash end=$-0.00
2025-10-31 10:28:08.279 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.279 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:08.280 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.280 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 722.97 shares @ $130.86 (Value: $94,607.57)
2025-10-31 10:28:08.281 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.281 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,607.57
2025-10-31 10:28:08.281 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.282 | INFO     | src.backtesting.engine:run:336 -      Change: $-236.83
2025-10-31 10:28:08.282 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.283 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:08.284 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,111.15
2025-10-31 10:28:08.284 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.285 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.285 | INFO     | src.backtesting.engine:run:293 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:08.287 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.288 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.288 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.289 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.289 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10230277701936319
2025-10-31 10:28:08.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09632721679950307
2025-10-31 10:28:08.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07945606670536898
2025-10-31 10:28:08.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:08.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1023 (10.23%) - PASS
2025-10-31 10:28:08.292 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0963 (9.63%) - PASS
2025-10-31 10:28:08.292 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0795 (7.95%) - PASS
2025-10-31 10:28:08.293 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:08.293 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.293 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:08.294 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.294 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:08.295 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 722.97 @ $128.73 (P&L: $-1,542.98)
2025-10-31 10:28:08.295 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,971.53
2025-10-31 10:28:08.296 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$93,111.15, Cash=$92,971.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.296 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:08.297 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:08.297 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:08.298 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:08.298 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:08.299 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.77
2025-10-31 10:28:08.299 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.11
2025-10-31 10:28:08.299 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,204.26
2025-10-31 10:28:08.300 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.99 @ $131.00
2025-10-31 10:28:08.300 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.301 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.301 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,971.53, Cash end=$-0.00
2025-10-31 10:28:08.302 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.302 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:08.303 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.303 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.99 shares @ $131.00 (Value: $92,878.65)
2025-10-31 10:28:08.303 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.304 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,878.65
2025-10-31 10:28:08.304 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.305 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.50
2025-10-31 10:28:08.305 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.306 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:08.307 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,774.56
2025-10-31 10:28:08.307 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.308 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.308 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:08.310 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.310 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.311 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.312 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.312 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05578194617471177
2025-10-31 10:28:08.313 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07522900530727417
2025-10-31 10:28:08.313 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08673886201403636
2025-10-31 10:28:08.313 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:08.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0558 (5.58%) - PASS
2025-10-31 10:28:08.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0752 (7.52%) - PASS
2025-10-31 10:28:08.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0867 (8.67%) - PASS
2025-10-31 10:28:08.315 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:08.316 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.316 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:08.317 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.317 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:08.318 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.99 @ $127.97 (P&L: $-2,149.48)
2025-10-31 10:28:08.318 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,638.44
2025-10-31 10:28:08.318 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$90,774.56, Cash=$90,638.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.319 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:08.319 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:08.320 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:08.320 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:08.321 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:08.321 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 705.94
2025-10-31 10:28:08.322 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.77
2025-10-31 10:28:08.322 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,865.33
2025-10-31 10:28:08.323 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 704.18 @ $128.59
2025-10-31 10:28:08.323 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.324 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.324 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,638.44, Cash end=$-0.00
2025-10-31 10:28:08.324 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.325 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:08.325 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.326 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 704.18 shares @ $128.59 (Value: $90,547.89)
2025-10-31 10:28:08.326 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.327 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,547.89
2025-10-31 10:28:08.327 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.327 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.66
2025-10-31 10:28:08.328 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.329 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:08.329 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,297.65
2025-10-31 10:28:08.330 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.330 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.331 | INFO     | src.backtesting.engine:run:293 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:08.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09337633282852487
2025-10-31 10:28:08.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05925575928114202
2025-10-31 10:28:08.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04087147827096205
2025-10-31 10:28:08.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:08.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0934 (9.34%) - PASS
2025-10-31 10:28:08.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:08.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0409 (4.09%) - PASS
2025-10-31 10:28:08.338 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:08.339 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.339 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:08.339 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.340 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:08.340 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 704.18 @ $128.17 (P&L: $-295.39)
2025-10-31 10:28:08.341 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,162.25
2025-10-31 10:28:08.341 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$90,297.65, Cash=$90,162.25, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.342 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:08.342 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:08.343 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:08.343 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.23 ? $129.29 (slippage: 0.050%)
2025-10-31 10:28:08.344 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:08.344 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.41
2025-10-31 10:28:08.344 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.30
2025-10-31 10:28:08.345 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,387.94
2025-10-31 10:28:08.345 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 696.66 @ $129.29
2025-10-31 10:28:08.346 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.346 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:08.347 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,162.25, Cash end=$0.00
2025-10-31 10:28:08.347 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.348 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:08.348 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.348 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 696.66 shares @ $129.29 (Value: $90,072.17)
2025-10-31 10:28:08.349 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.349 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,072.17
2025-10-31 10:28:08.350 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:08.350 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.47
2025-10-31 10:28:08.351 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.352 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:08.352 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,772.33
2025-10-31 10:28:08.353 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:08.353 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.354 | INFO     | src.backtesting.engine:run:293 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:08.355 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.356 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.357 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.357 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08460905845341782
2025-10-31 10:28:08.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058143063523203864
2025-10-31 10:28:08.359 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08521457036160784
2025-10-31 10:28:08.359 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:08.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0846 (8.46%) - PASS
2025-10-31 10:28:08.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0581 (5.81%) - PASS
2025-10-31 10:28:08.361 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0852 (8.52%) - PASS
2025-10-31 10:28:08.361 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:08.361 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.362 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:08.362 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.363 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:08.363 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 696.66 @ $131.67 (P&L: $1,654.27)
2025-10-31 10:28:08.364 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,634.71
2025-10-31 10:28:08.364 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,772.33, Cash=$91,634.71, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.365 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:08.365 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:08.366 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:08.366 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.28 ? $135.34 (slippage: 0.050%)
2025-10-31 10:28:08.367 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:08.367 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 678.07
2025-10-31 10:28:08.367 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.77
2025-10-31 10:28:08.368 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,864.10
2025-10-31 10:28:08.368 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 676.37 @ $135.34
2025-10-31 10:28:08.369 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.369 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:08.370 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,634.71, Cash end=$0.00
2025-10-31 10:28:08.370 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.371 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:08.371 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.371 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 676.37 shares @ $135.34 (Value: $91,543.17)
2025-10-31 10:28:08.372 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.372 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,543.17
2025-10-31 10:28:08.373 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:08.373 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.16
2025-10-31 10:28:08.374 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.375 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:08.375 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,459.48
2025-10-31 10:28:08.376 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:08.376 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.377 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:08.378 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.379 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.048523400437661346
2025-10-31 10:28:08.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06375280245768722
2025-10-31 10:28:08.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04266694489239309
2025-10-31 10:28:08.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:08.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0485 (4.85%) - PASS
2025-10-31 10:28:08.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:08.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0427 (4.27%) - PASS
2025-10-31 10:28:08.384 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.384 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.385 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.385 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.386 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:08.386 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.37 @ $129.24 (P&L: $-4,127.42)
2025-10-31 10:28:08.386 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,328.33
2025-10-31 10:28:08.387 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$87,459.48, Cash=$87,328.33, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.387 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.388 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:08.388 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:08.389 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.36 ? $130.43 (slippage: 0.050%)
2025-10-31 10:28:08.389 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:08.390 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 670.55
2025-10-31 10:28:08.390 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.46
2025-10-31 10:28:08.391 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,546.94
2025-10-31 10:28:08.391 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 668.87 @ $130.43
2025-10-31 10:28:08.392 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.392 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:08.392 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,328.33, Cash end=$0.00
2025-10-31 10:28:08.393 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.393 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:08.394 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.394 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 668.87 shares @ $130.43 (Value: $87,241.09)
2025-10-31 10:28:08.395 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.395 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,241.09
2025-10-31 10:28:08.396 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:08.396 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.39
2025-10-31 10:28:08.396 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.397 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:08.398 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,297.49
2025-10-31 10:28:08.398 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:08.399 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.399 | INFO     | src.backtesting.engine:run:293 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:08.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08550496050562328
2025-10-31 10:28:08.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.029203921523580645
2025-10-31 10:28:08.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.052898492074856085
2025-10-31 10:28:08.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:08.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0855 (8.55%) - PASS
2025-10-31 10:28:08.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0292 (2.92%) - PASS
2025-10-31 10:28:08.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0529 (5.29%) - PASS
2025-10-31 10:28:08.407 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:08.407 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.407 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:08.408 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.408 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:08.409 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 668.87 @ $131.94 (P&L: $1,012.25)
2025-10-31 10:28:08.409 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $88,165.09
2025-10-31 10:28:08.410 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$88,297.49, Cash=$88,165.09, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.410 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:08.411 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:08.411 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:08.412 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.46 ? $132.53 (slippage: 0.050%)
2025-10-31 10:28:08.412 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:08.413 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.25
2025-10-31 10:28:08.413 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $88.30
2025-10-31 10:28:08.413 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,385.79
2025-10-31 10:28:08.414 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.58 @ $132.53
2025-10-31 10:28:08.414 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.415 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.415 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$88,165.09, Cash end=$-0.00
2025-10-31 10:28:08.416 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.416 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:08.417 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.417 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.58 shares @ $132.53 (Value: $88,077.01)
2025-10-31 10:28:08.417 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.418 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,077.01
2025-10-31 10:28:08.418 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.419 | INFO     | src.backtesting.engine:run:336 -      Change: $-220.48
2025-10-31 10:28:08.419 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.420 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:08.421 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,236.89
2025-10-31 10:28:08.421 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.422 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.422 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89, P&L: $2,159.88)
2025-10-31 10:28:08.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09675418215912424
2025-10-31 10:28:08.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0711032800562954
2025-10-31 10:28:08.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08209555160058413
2025-10-31 10:28:08.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:08.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0968 (9.68%) - PASS
2025-10-31 10:28:08.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0711 (7.11%) - PASS
2025-10-31 10:28:08.429 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0821 (8.21%) - PASS
2025-10-31 10:28:08.429 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:08.430 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.430 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:08.431 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:08.431 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89)
2025-10-31 10:28:08.432 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$90,236.89, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:08.432 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:08.432 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:08.433 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:08.433 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.58 shares worth $90,236.89
2025-10-31 10:28:08.434 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:08.434 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:08.435 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:08.435 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.25
2025-10-31 10:28:08.436 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.58
2025-10-31 10:28:08.436 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:08.437 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:08.437 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.07
2025-10-31 10:28:08.438 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.33 shares at $135.71 (proceeds: $45.03)
2025-10-31 10:28:08.438 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:08.438 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.03
2025-10-31 10:28:08.439 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.07, Cash end=$45.03
2025-10-31 10:28:08.439 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:08.440 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.440 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,236.82
2025-10-31 10:28:08.441 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:08.441 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:08.441 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.443 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:08.443 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,105.47
2025-10-31 10:28:08.444 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:08.444 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.444 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44, P&L: $4,027.44)
2025-10-31 10:28:08.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08245274168982375
2025-10-31 10:28:08.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07346223866474255
2025-10-31 10:28:08.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.043413197059924746
2025-10-31 10:28:08.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:08.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0825 (8.25%) - PASS
2025-10-31 10:28:08.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0735 (7.35%) - PASS
2025-10-31 10:28:08.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0434 (4.34%) - PASS
2025-10-31 10:28:08.452 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:08.452 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.453 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:08.453 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:08.454 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44)
2025-10-31 10:28:08.454 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$92,105.47, Cash=$45.03, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:08.454 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:08.455 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:08.455 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:08.456 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.25 shares worth $92,060.44
2025-10-31 10:28:08.456 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD SPY [relative_top]
2025-10-31 10:28:08.457 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $138.59 ? $138.66 (slippage: 0.050%)
2025-10-31 10:28:08.457 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:08.458 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.24
2025-10-31 10:28:08.458 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.25
2025-10-31 10:28:08.459 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.01
2025-10-31 10:28:08.459 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:08.459 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1.00
2025-10-31 10:28:08.460 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:08.460 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.03
2025-10-31 10:28:08.461 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:08.461 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.462 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,105.47
2025-10-31 10:28:08.462 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:08.463 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:08.463 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.464 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:08.465 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,209.39
2025-10-31 10:28:08.465 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:08.465 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.466 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:08.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.469 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.469 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.470 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.046770856134837224
2025-10-31 10:28:08.470 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09687053348885044
2025-10-31 10:28:08.471 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04184317094333867
2025-10-31 10:28:08.471 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:08.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0468 (4.68%) - PASS
2025-10-31 10:28:08.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0969 (9.69%) - PASS
2025-10-31 10:28:08.473 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:08.473 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.474 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.474 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.475 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.475 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:08.475 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.25 @ $134.17 (P&L: $1,086.79)
2025-10-31 10:28:08.476 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,075.69
2025-10-31 10:28:08.476 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$89,209.39, Cash=$89,075.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:08.477 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.477 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:08.478 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:08.478 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:08.479 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.86
2025-10-31 10:28:08.479 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 646.42
2025-10-31 10:28:08.480 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.21
2025-10-31 10:28:08.480 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,298.60
2025-10-31 10:28:08.481 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 644.81 @ $138.01
2025-10-31 10:28:08.481 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.481 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.482 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,075.69, Cash end=$-0.00
2025-10-31 10:28:08.482 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.483 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:08.483 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.484 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 644.81 shares @ $138.01 (Value: $88,986.71)
2025-10-31 10:28:08.484 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.484 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,986.71
2025-10-31 10:28:08.485 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.485 | INFO     | src.backtesting.engine:run:336 -      Change: $-222.69
2025-10-31 10:28:08.486 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.487 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:08.487 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,617.00
2025-10-31 10:28:08.488 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.488 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.489 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00, P&L: $-369.70)
2025-10-31 10:28:08.490 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.491 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.492 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.492 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.493 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06541858782151833
2025-10-31 10:28:08.493 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09774311842405137
2025-10-31 10:28:08.494 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08593314284028253
2025-10-31 10:28:08.494 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:08.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0654 (6.54%) - PASS
2025-10-31 10:28:08.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0977 (9.77%) - PASS
2025-10-31 10:28:08.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:08.496 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.496 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.497 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.497 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:08.498 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00)
2025-10-31 10:28:08.498 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$88,617.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:08.499 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.499 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:08.500 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:08.500 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 644.81 shares worth $88,617.00
2025-10-31 10:28:08.501 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:08.501 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.43 ? $137.50 (slippage: 0.050%)
2025-10-31 10:28:08.501 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:08.502 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 644.48
2025-10-31 10:28:08.502 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 644.81
2025-10-31 10:28:08.503 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:08.503 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:08.504 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.26
2025-10-31 10:28:08.504 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $137.36 (proceeds: $44.22)
2025-10-31 10:28:08.505 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:08.505 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.22
2025-10-31 10:28:08.505 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.26, Cash end=$44.22
2025-10-31 10:28:08.506 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:08.506 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.507 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,616.94
2025-10-31 10:28:08.507 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.22
2025-10-31 10:28:08.508 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:08.508 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.509 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:08.510 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,376.47
2025-10-31 10:28:08.510 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.22
2025-10-31 10:28:08.511 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.511 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:08.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.515 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.515 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026449575231996203
2025-10-31 10:28:08.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06097758703104095
2025-10-31 10:28:08.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0810725080136625
2025-10-31 10:28:08.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:08.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0264 (2.64%) - PASS
2025-10-31 10:28:08.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0610 (6.10%) - PASS
2025-10-31 10:28:08.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0811 (8.11%) - PASS
2025-10-31 10:28:08.518 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:08.519 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.519 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:08.520 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.520 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:08.521 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 644.48 @ $140.09 (P&L: $1,344.85)
2025-10-31 10:28:08.521 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,241.02
2025-10-31 10:28:08.521 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$90,376.47, Cash=$90,241.02, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:08.522 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:08.522 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:08.523 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:08.523 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.55 ? $141.62 (slippage: 0.050%)
2025-10-31 10:28:08.524 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:08.524 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.17
2025-10-31 10:28:08.525 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.38
2025-10-31 10:28:08.525 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,466.85
2025-10-31 10:28:08.526 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 636.57 @ $141.62
2025-10-31 10:28:08.526 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.527 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.527 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,241.02, Cash end=$-0.00
2025-10-31 10:28:08.527 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.528 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:08.528 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.529 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 636.57 shares @ $141.62 (Value: $90,150.87)
2025-10-31 10:28:08.529 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.530 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,150.87
2025-10-31 10:28:08.530 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.531 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.60
2025-10-31 10:28:08.531 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.532 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:08.532 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,816.41
2025-10-31 10:28:08.533 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.533 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.534 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41, P&L: $-334.46)
2025-10-31 10:28:08.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.060629103850839305
2025-10-31 10:28:08.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04278850978852278
2025-10-31 10:28:08.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06600451891900727
2025-10-31 10:28:08.539 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:08.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0606 (6.06%) - PASS
2025-10-31 10:28:08.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0428 (4.28%) - PASS
2025-10-31 10:28:08.541 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0660 (6.60%) - PASS
2025-10-31 10:28:08.541 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:08.542 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.542 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:08.542 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:08.543 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41)
2025-10-31 10:28:08.543 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$89,816.41, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:08.544 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:08.544 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:08.545 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:08.545 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 636.57 shares worth $89,816.41
2025-10-31 10:28:08.546 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:08.546 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.09 ? $141.16 (slippage: 0.050%)
2025-10-31 10:28:08.547 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:08.547 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.25
2025-10-31 10:28:08.548 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 636.57
2025-10-31 10:28:08.548 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:08.548 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:08.549 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.86
2025-10-31 10:28:08.549 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.32 shares at $141.02 (proceeds: $44.82)
2025-10-31 10:28:08.550 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:08.550 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.82
2025-10-31 10:28:08.551 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.86, Cash end=$44.82
2025-10-31 10:28:08.551 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:08.552 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.552 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,816.34
2025-10-31 10:28:08.552 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.82
2025-10-31 10:28:08.553 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:08.553 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.554 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:08.555 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,931.33
2025-10-31 10:28:08.555 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.82
2025-10-31 10:28:08.556 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.556 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:08.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.560 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.560 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.04354100310713305
2025-10-31 10:28:08.561 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05817277610654825
2025-10-31 10:28:08.561 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.050749269499728245
2025-10-31 10:28:08.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:08.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0435 (4.35%) - PASS
2025-10-31 10:28:08.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0582 (5.82%) - PASS
2025-10-31 10:28:08.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0507 (5.07%) - PASS
2025-10-31 10:28:08.564 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.564 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.565 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.565 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.565 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:08.566 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 636.25 @ $138.06 (P&L: $-2,263.24)
2025-10-31 10:28:08.566 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,799.55
2025-10-31 10:28:08.567 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$87,931.33, Cash=$87,799.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:08.567 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.568 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:08.568 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:08.569 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:08.569 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:08.570 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.91
2025-10-31 10:28:08.570 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.93
2025-10-31 10:28:08.570 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,019.26
2025-10-31 10:28:08.571 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 635.32 @ $138.06
2025-10-31 10:28:08.571 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.572 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.572 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,799.55, Cash end=$-0.00
2025-10-31 10:28:08.573 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.573 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:08.574 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.574 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 635.32 shares @ $138.06 (Value: $87,711.83)
2025-10-31 10:28:08.575 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.575 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,711.83
2025-10-31 10:28:08.575 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.576 | INFO     | src.backtesting.engine:run:336 -      Change: $-219.50
2025-10-31 10:28:08.576 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.577 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:08.578 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,568.42
2025-10-31 10:28:08.578 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.579 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.579 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42, P&L: $3,856.59)
2025-10-31 10:28:08.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05618000180644045
2025-10-31 10:28:08.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06382148319011183
2025-10-31 10:28:08.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.021775481826179943
2025-10-31 10:28:08.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:08.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0562 (5.62%) - PASS
2025-10-31 10:28:08.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:08.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0218 (2.18%) - PASS
2025-10-31 10:28:08.587 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.587 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.587 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.588 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:08.588 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42)
2025-10-31 10:28:08.589 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$91,568.42, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:08.589 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.590 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:08.590 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:08.591 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.32 shares worth $91,568.42
2025-10-31 10:28:08.591 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:08.592 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:08.592 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:08.592 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.01
2025-10-31 10:28:08.593 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.32
2025-10-31 10:28:08.593 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:08.594 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:08.594 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.74
2025-10-31 10:28:08.595 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $144.06 (proceeds: $45.69)
2025-10-31 10:28:08.595 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:08.596 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.69
2025-10-31 10:28:08.596 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.74, Cash end=$45.69
2025-10-31 10:28:08.596 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:08.597 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.597 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,568.35
2025-10-31 10:28:08.598 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:08.598 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:08.599 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.600 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:08.600 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,663.80
2025-10-31 10:28:08.601 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:08.601 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.602 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10, P&L: $4,950.10)
2025-10-31 10:28:08.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05731563951086516
2025-10-31 10:28:08.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08652535999780908
2025-10-31 10:28:08.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028712997605179646
2025-10-31 10:28:08.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:08.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0573 (5.73%) - PASS
2025-10-31 10:28:08.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0865 (8.65%) - PASS
2025-10-31 10:28:08.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0287 (2.87%) - PASS
2025-10-31 10:28:08.609 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.609 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.610 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.610 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:08.611 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10)
2025-10-31 10:28:08.611 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$92,663.80, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:08.612 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.612 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:08.612 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:08.613 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,618.10
2025-10-31 10:28:08.613 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:08.614 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:08.614 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:08.615 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:08.615 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:08.616 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:08.616 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:08.617 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:08.617 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:08.617 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:08.618 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:08.618 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.619 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,663.80
2025-10-31 10:28:08.619 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:08.620 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:08.620 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.621 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:08.622 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,665.19
2025-10-31 10:28:08.622 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:08.623 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.623 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50, P&L: $4,951.50)
2025-10-31 10:28:08.625 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06283582279220967
2025-10-31 10:28:08.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0840282160513397
2025-10-31 10:28:08.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0781538240647981
2025-10-31 10:28:08.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:08.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0628 (6.28%) - PASS
2025-10-31 10:28:08.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0840 (8.40%) - PASS
2025-10-31 10:28:08.630 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0782 (7.82%) - PASS
2025-10-31 10:28:08.630 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.631 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.631 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.632 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:08.632 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50)
2025-10-31 10:28:08.633 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$92,665.19, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:08.633 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.634 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:08.634 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:08.634 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,619.50
2025-10-31 10:28:08.635 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:08.635 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.86 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:08.636 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:08.636 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:08.637 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:08.637 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:08.638 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:08.638 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:08.638 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:08.639 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:08.639 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:08.640 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.640 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,665.19
2025-10-31 10:28:08.641 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:08.641 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:08.642 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.643 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:08.643 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,844.44
2025-10-31 10:28:08.644 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:08.644 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.644 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:08.646 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0797353250554409
2025-10-31 10:28:08.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0663792780678536
2025-10-31 10:28:08.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06865645520660602
2025-10-31 10:28:08.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:08.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0797 (7.97%) - PASS
2025-10-31 10:28:08.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0664 (6.64%) - PASS
2025-10-31 10:28:08.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0687 (6.87%) - PASS
2025-10-31 10:28:08.652 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:08.652 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.653 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:08.653 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.654 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:08.654 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 635.01 @ $142.92 (P&L: $3,085.34)
2025-10-31 10:28:08.655 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,708.28
2025-10-31 10:28:08.655 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$90,844.44, Cash=$90,708.28, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:08.655 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:08.656 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:08.656 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:08.657 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $146.97 ? $147.04 (slippage: 0.050%)
2025-10-31 10:28:08.657 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:08.658 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 617.82
2025-10-31 10:28:08.658 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.84
2025-10-31 10:28:08.659 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,935.28
2025-10-31 10:28:08.659 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 616.28 @ $147.04
2025-10-31 10:28:08.660 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.660 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:08.660 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,708.28, Cash end=$0.00
2025-10-31 10:28:08.661 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.661 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:08.662 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.662 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 616.28 shares @ $147.04 (Value: $90,617.67)
2025-10-31 10:28:08.663 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.663 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,617.67
2025-10-31 10:28:08.664 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:08.664 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.77
2025-10-31 10:28:08.664 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.665 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:08.666 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,098.27
2025-10-31 10:28:08.666 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:08.667 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.667 | INFO     | src.backtesting.engine:run:293 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:08.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.670 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.670 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.061678785162375904
2025-10-31 10:28:08.672 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0630140413189888
2025-10-31 10:28:08.672 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06351458377721841
2025-10-31 10:28:08.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:08.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0617 (6.17%) - PASS
2025-10-31 10:28:08.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0630 (6.30%) - PASS
2025-10-31 10:28:08.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0635 (6.35%) - PASS
2025-10-31 10:28:08.675 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:08.675 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.676 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:08.676 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.676 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:08.677 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 616.28 @ $146.12 (P&L: $-564.45)
2025-10-31 10:28:08.677 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,963.16
2025-10-31 10:28:08.678 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$90,098.27, Cash=$89,963.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.678 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:08.679 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:08.679 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:08.680 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:08.680 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:08.681 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 611.99
2025-10-31 10:28:08.681 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.10
2025-10-31 10:28:08.681 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,188.36
2025-10-31 10:28:08.682 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 610.46 @ $147.22
2025-10-31 10:28:08.682 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.683 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:08.683 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,963.16, Cash end=$0.00
2025-10-31 10:28:08.684 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.684 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:08.685 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.685 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 610.46 shares @ $147.22 (Value: $89,873.29)
2025-10-31 10:28:08.685 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.686 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,873.29
2025-10-31 10:28:08.686 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:08.687 | INFO     | src.backtesting.engine:run:336 -      Change: $-224.98
2025-10-31 10:28:08.687 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.688 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:08.689 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,403.63
2025-10-31 10:28:08.689 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:08.690 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.690 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63, P&L: $1,530.34)
2025-10-31 10:28:08.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05049848489114539
2025-10-31 10:28:08.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050013878843399695
2025-10-31 10:28:08.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08398809728515122
2025-10-31 10:28:08.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:08.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0505 (5.05%) - PASS
2025-10-31 10:28:08.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0500 (5.00%) - PASS
2025-10-31 10:28:08.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0840 (8.40%) - PASS
2025-10-31 10:28:08.697 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:08.698 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.698 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:08.699 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:08.699 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63)
2025-10-31 10:28:08.700 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$91,403.63, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:08.700 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:08.701 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:08.701 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:08.702 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 610.46 shares worth $91,403.63
2025-10-31 10:28:08.702 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:08.702 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:08.703 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:08.703 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 610.15
2025-10-31 10:28:08.704 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 610.46
2025-10-31 10:28:08.704 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.31
2025-10-31 10:28:08.705 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:08.705 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.66
2025-10-31 10:28:08.706 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.31 shares at $149.66 (proceeds: $45.61)
2025-10-31 10:28:08.706 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:08.706 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.61
2025-10-31 10:28:08.707 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.66, Cash end=$45.61
2025-10-31 10:28:08.707 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:08.708 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.708 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,403.56
2025-10-31 10:28:08.709 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.61
2025-10-31 10:28:08.709 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:08.710 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.711 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:08.711 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,696.12
2025-10-31 10:28:08.712 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.61
2025-10-31 10:28:08.712 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.712 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:08.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02348918660372412
2025-10-31 10:28:08.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08750655028956023
2025-10-31 10:28:08.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0390661027483481
2025-10-31 10:28:08.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:08.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0235 (2.35%) - PASS
2025-10-31 10:28:08.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0875 (8.75%) - PASS
2025-10-31 10:28:08.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0391 (3.91%) - PASS
2025-10-31 10:28:08.720 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.720 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.721 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.721 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.721 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:08.722 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 610.15 @ $143.58 (P&L: $-2,221.69)
2025-10-31 10:28:08.722 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,564.69
2025-10-31 10:28:08.723 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$87,696.12, Cash=$87,564.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:08.723 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.724 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:08.724 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:08.725 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:08.725 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:08.726 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 583.20
2025-10-31 10:28:08.726 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.70
2025-10-31 10:28:08.726 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,783.82
2025-10-31 10:28:08.727 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 581.74 @ $150.37
2025-10-31 10:28:08.727 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.728 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.728 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,564.69, Cash end=$-0.00
2025-10-31 10:28:08.729 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.729 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:08.730 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.730 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 581.74 shares @ $150.37 (Value: $87,477.21)
2025-10-31 10:28:08.731 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.731 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,477.21
2025-10-31 10:28:08.731 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.732 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.91
2025-10-31 10:28:08.732 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.733 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:08.734 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $85,079.53
2025-10-31 10:28:08.734 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.735 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.735 | INFO     | src.backtesting.engine:run:293 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:08.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.739 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:08.739 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0811051176218518
2025-10-31 10:28:08.740 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03823797219127867
2025-10-31 10:28:08.740 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08937036751513094
2025-10-31 10:28:08.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:08.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0811 (8.11%) - PASS
2025-10-31 10:28:08.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0382 (3.82%) - PASS
2025-10-31 10:28:08.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0894 (8.94%) - PASS
2025-10-31 10:28:08.742 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:08.743 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.743 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:08.744 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.744 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:08.745 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 581.74 @ $146.18 (P&L: $-2,440.22)
2025-10-31 10:28:08.745 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $84,951.96
2025-10-31 10:28:08.746 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$85,079.53, Cash=$84,951.96, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.746 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:08.747 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:08.747 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:08.748 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:08.748 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:08.748 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 559.63
2025-10-31 10:28:08.749 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $85.08
2025-10-31 10:28:08.749 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $85,164.61
2025-10-31 10:28:08.750 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 558.24 @ $152.03
2025-10-31 10:28:08.750 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.751 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.751 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$84,951.96, Cash end=$-0.00
2025-10-31 10:28:08.752 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.752 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:08.753 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.753 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 558.24 shares @ $152.03 (Value: $84,867.09)
2025-10-31 10:28:08.753 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.754 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $84,867.09
2025-10-31 10:28:08.754 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.755 | INFO     | src.backtesting.engine:run:336 -      Change: $-212.44
2025-10-31 10:28:08.755 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.756 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 558.24 @ $151.85 (P&L: $-96.75)
2025-10-31 10:28:08.758 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-09-10 to 2023-12-31
2025-10-31 10:28:08.759 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:08.767 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:08.769 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:08.770 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'AGG_quantity', 'AGG_price', 'AGG_value', 'EFA_quantity', 'EFA_price', 'EFA_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:08.771 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 843 records (performance period)
2025-10-31 10:28:08.849 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:08.850 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:08.851 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:08.851 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 843
2025-10-31 10:28:08.851 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:08.852 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (843, 18)
2025-10-31 10:28:08.852 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:08.853 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:08.864 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-09-10    100000.000000  1.000000e+05  ...        NaN      NaN
2021-09-11     96272.216190 -1.455192e-11  ...        NaN      NaN
2021-09-12    101109.070476 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:08.864 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:08.875 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2023-12-29     84299.707862 -1.455192e-11  ...        NaN      NaN
2023-12-30     82574.588149 -1.455192e-11  ...        NaN      NaN
2023-12-31     84812.741501 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:08.876 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:08.876 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $84,812.74 (-15.19% return)
2025-10-31 10:28:08.877 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102808.log
2025-10-31 10:28:08.877 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:08.878 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:08.886 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102808.log
2025-10-31 10:28:08.886 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:08.887 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:08.888 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:08.889 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:08.890 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:08.890 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:08.891 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:08.892 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:08.892 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:08.893 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:08.893 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:08.894 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:08.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:08.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:08.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:08.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:08.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:08.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:08.901 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:08.901 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.902 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.902 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.903 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:08.903 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.904 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:08.904 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:08.905 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:08.905 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:08.906 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:08.906 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:08.906 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:08.907 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:08.907 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.908 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.908 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:08.909 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.909 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:08.910 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.910 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:08.911 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.911 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:08.911 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.912 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:08.913 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:08.913 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.914 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.914 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:08.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:08.919 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:08.919 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:08.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:08.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:08.921 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:08.921 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:08.922 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:08.922 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.923 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:08.923 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.923 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:08.924 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:08.924 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:08.925 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.925 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:08.926 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:08.926 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:08.927 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:08.927 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:08.928 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:08.928 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:08.929 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:08.929 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:08.930 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.930 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:08.931 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:08.931 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.931 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:08.932 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.932 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:08.933 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.933 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:08.934 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:08.934 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:08.935 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.936 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:08.936 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:08.937 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:08.937 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.937 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:08.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:08.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:08.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:08.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:08.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:08.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:08.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:08.945 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:08.945 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.946 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:08.946 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.947 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:08.947 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:08.948 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:08.948 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.949 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:08.949 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:08.950 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:08.950 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:08.950 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:08.951 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:08.951 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:08.952 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:08.952 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:08.953 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.953 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.954 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:08.954 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.955 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:08.955 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.955 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:08.956 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.956 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:08.957 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.957 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:08.958 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.959 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:08.959 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:08.960 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.960 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.961 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:08.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.965 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:08.965 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:08.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:08.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:08.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:08.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:08.968 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:08.968 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:08.968 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.969 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:08.969 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:08.970 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:08.970 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:08.971 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:08.971 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:08.972 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:08.972 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:08.973 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:08.973 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:08.974 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:08.974 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:08.975 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:08.975 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:08.976 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:08.976 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:08.976 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:08.977 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:08.977 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:08.978 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:08.978 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:08.979 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:08.979 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:08.980 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:08.980 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:08.980 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:08.981 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:08.982 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:08.982 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:08.983 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:08.983 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:08.984 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:08.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:08.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:08.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:08.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:08.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:08.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:08.990 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:08.990 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:08.991 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:08.991 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:08.992 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:08.992 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:08.993 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:08.993 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:08.994 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:08.994 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:08.994 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:08.995 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:08.995 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:08.996 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:08.996 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:08.997 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:08.997 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:08.998 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:08.998 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:08.999 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:08.999 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:09.000 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:09.000 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:09.000 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:09.001 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:09.001 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:09.002 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.002 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:09.003 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:09.003 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:09.004 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.005 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:09.005 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:09.006 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:09.006 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.006 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:09.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:09.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:09.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:09.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:09.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:09.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:09.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:09.014 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.014 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.015 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.015 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.016 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:09.016 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:09.017 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:09.017 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:09.018 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.018 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.019 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.019 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:09.020 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:09.020 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:09.020 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:09.021 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:09.021 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:09.022 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.022 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:09.023 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:09.023 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.024 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:09.024 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.025 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:09.025 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.025 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:09.026 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:09.026 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:09.027 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.028 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:09.028 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:09.029 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:09.029 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.030 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:09.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:09.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:09.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:09.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:09.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:09.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:09.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:09.037 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:09.038 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.038 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:09.038 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.039 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:09.039 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:09.040 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:09.040 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.041 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:09.041 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:09.042 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:09.042 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:09.043 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:09.043 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:09.044 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:09.044 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:09.045 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:09.045 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.045 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.046 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:09.046 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.047 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:09.047 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.048 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:09.048 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.049 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:09.049 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.050 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:09.050 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.051 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:09.052 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:09.052 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.052 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.053 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:09.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:09.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:09.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:09.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:09.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:09.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:09.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:09.061 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:09.061 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.062 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:09.062 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.063 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:09.063 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:09.064 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:09.064 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.065 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:09.065 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:09.066 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:09.066 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:09.067 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:09.067 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:09.068 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:09.068 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:09.069 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:09.069 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.069 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.070 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:09.070 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.071 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:09.071 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.072 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:09.072 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.073 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:09.073 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.073 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:09.074 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.075 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:09.075 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:09.076 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.076 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.077 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:09.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:09.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:09.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:09.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:09.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:09.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:09.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:09.084 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:09.085 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.085 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:09.086 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:09.086 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:09.086 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:09.087 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:09.087 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:09.088 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:09.088 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:09.089 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:09.089 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:09.090 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:09.090 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:09.091 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:09.091 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:09.092 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:09.092 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:09.092 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:09.093 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:09.093 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:09.094 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:09.094 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:09.095 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.095 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:09.096 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:09.096 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:09.096 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.098 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:09.098 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:09.099 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:09.099 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.099 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:09.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:09.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:09.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:09.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:09.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:09.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:09.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:09.107 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:09.107 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.108 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:09.108 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.109 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:09.109 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:09.110 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:09.110 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:09.110 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:09.111 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:09.170 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:09.172 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:09.173 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:09.173 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:09.174 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:09.174 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:09.175 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:09.175 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.176 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.176 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:09.177 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.177 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:09.177 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.178 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:09.178 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.179 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:09.179 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.180 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:09.180 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.181 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:09.182 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:09.182 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.183 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.183 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:09.185 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:09.188 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:09.188 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:09.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:09.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:09.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:09.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:09.191 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:09.191 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.191 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:09.192 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.192 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:09.193 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:09.193 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:09.194 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.194 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:09.195 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:09.195 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:09.196 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:09.196 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:09.197 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:09.197 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:09.198 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:09.198 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:09.199 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.199 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.199 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:09.200 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.200 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:09.201 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.201 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:09.202 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.202 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:09.203 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.203 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:09.203 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.205 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:09.205 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:09.206 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.206 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.206 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:09.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.210 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.210 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:09.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:09.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:09.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:09.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:09.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:09.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:09.214 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:09.214 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.215 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:09.215 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.216 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:09.216 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:09.217 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:09.217 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.218 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:09.218 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:09.219 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:09.219 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:09.220 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:09.220 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:09.221 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:09.221 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:09.222 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:09.222 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.222 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.223 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:09.223 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.224 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:09.224 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.225 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:09.225 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.226 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:09.226 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.227 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:09.227 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.228 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:09.229 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:09.229 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.230 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.230 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:09.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.233 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.234 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.234 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:09.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:09.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:09.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:09.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:09.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:09.237 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:09.237 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:09.238 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.238 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:09.239 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.239 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:09.240 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:09.240 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:09.241 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.241 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:09.242 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:09.242 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:09.243 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:09.243 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:09.243 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:09.244 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:09.244 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:09.245 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:09.245 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.246 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.246 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:09.247 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.247 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:09.248 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.248 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:09.248 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.249 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:09.249 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.250 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:09.250 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.251 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:09.252 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:09.252 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.253 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.253 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:09.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.256 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.256 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:09.258 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:09.258 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:09.259 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:09.259 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:09.260 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:09.260 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:09.261 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:09.261 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.261 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:09.262 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:09.262 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:09.263 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:09.263 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:09.264 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:09.264 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:09.265 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:09.265 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:09.266 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:09.266 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:09.267 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:09.267 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:09.268 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:09.268 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:09.268 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:09.269 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:09.269 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:09.270 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:09.270 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:09.271 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:09.271 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.272 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:09.272 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:09.273 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:09.273 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.274 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:09.275 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:09.275 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:09.275 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.276 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:09.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.278 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.279 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.280 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.280 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:09.281 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:09.281 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:09.282 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:09.282 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:09.282 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:09.283 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:09.283 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.284 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.284 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.285 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.285 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:09.286 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:09.286 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:09.287 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:09.287 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.287 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.288 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.288 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:09.289 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:09.289 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:09.290 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:09.290 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:09.291 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:09.291 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.292 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.292 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:09.293 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.293 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:09.294 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.294 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:09.295 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.295 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:09.295 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.296 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:09.296 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.297 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:09.298 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:09.298 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.299 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.299 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:09.301 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.303 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:09.304 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:09.304 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:09.305 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:09.305 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:09.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:09.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:09.307 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:09.307 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.308 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:09.308 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.308 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:09.309 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:09.309 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:09.310 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.310 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:09.311 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:09.311 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:09.312 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:09.312 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:09.313 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:09.313 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:09.314 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:09.314 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:09.315 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.315 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.316 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:09.316 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.316 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:09.317 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.317 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:09.318 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.318 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:09.319 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.319 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:09.320 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.321 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:09.321 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:09.322 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.322 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.323 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:09.324 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.325 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.326 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.326 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:09.327 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:09.328 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:09.328 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:09.329 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:09.329 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:09.330 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:09.330 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.330 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.331 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.331 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.332 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:09.332 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:09.333 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:09.333 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.334 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.334 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.335 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.335 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:09.336 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:09.336 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:09.337 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:09.337 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:09.338 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:09.338 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.338 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.339 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:09.339 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.340 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:09.340 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.341 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:09.341 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.342 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:09.342 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.342 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:09.343 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.344 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:09.344 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:09.345 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.345 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.346 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:09.348 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.348 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.350 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:09.350 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:09.351 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:09.351 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:09.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:09.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:09.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:09.353 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:09.354 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.354 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:09.355 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.355 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:09.355 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:09.356 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:09.356 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.357 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:09.357 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:09.358 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:09.358 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:09.359 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:09.359 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:09.360 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:09.360 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:09.361 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:09.361 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.362 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:09.362 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:09.362 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.363 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:09.363 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.364 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:09.364 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.365 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:09.365 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:09.366 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:09.366 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.367 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:09.368 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:09.368 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:09.368 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.369 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:09.371 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.371 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.372 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.373 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.373 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:09.374 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:09.374 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:09.375 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:09.375 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:09.376 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:09.376 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:09.376 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.377 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.377 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.378 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.378 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:09.379 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:09.379 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:09.380 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.380 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.381 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.381 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.382 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:09.382 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:09.383 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:09.383 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:09.384 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:09.384 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:09.384 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.385 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:09.385 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:09.386 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.386 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:09.387 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.387 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:09.388 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.388 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:09.389 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:09.389 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:09.389 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.391 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:09.391 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:09.391 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:09.392 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.392 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:09.394 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.395 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.395 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.396 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:09.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:09.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:09.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:09.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:09.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:09.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:09.400 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.400 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.401 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.401 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:09.402 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:09.402 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:09.403 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.403 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:09.403 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:09.404 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:09.404 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:09.405 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:09.405 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:09.406 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:09.406 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:09.407 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:09.407 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:09.408 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:09.408 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:09.409 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:09.409 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:09.409 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:09.410 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:09.410 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.411 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:09.411 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:09.412 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:09.412 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.413 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:09.414 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:09.414 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:09.415 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.415 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:09.417 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.418 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.418 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.419 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.419 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:09.420 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:09.420 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:09.421 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:09.421 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:09.422 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:09.422 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:09.423 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:09.423 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.423 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:09.424 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.424 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:09.425 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:09.425 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:09.426 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:09.426 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:09.427 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:09.427 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:09.428 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:09.428 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:09.429 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:09.429 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:09.429 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:09.430 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:09.430 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.431 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.431 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:09.432 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.432 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:09.433 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.433 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:09.434 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.434 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:09.435 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.435 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:09.435 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.437 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:09.437 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:09.438 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.438 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.438 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:09.440 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.441 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.442 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.442 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:09.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:09.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:09.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:09.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:09.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:09.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:09.446 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.446 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.447 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.447 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.448 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:09.448 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:09.449 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:09.449 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.450 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.450 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.451 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.451 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:09.452 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:09.452 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:09.452 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:09.453 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:09.453 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:09.454 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.454 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.455 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:09.455 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.456 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:09.456 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.457 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:09.457 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.458 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:09.458 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.458 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:09.459 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.460 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:09.460 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:09.461 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.461 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.462 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:09.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.464 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.465 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.466 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:09.466 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:09.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:09.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:09.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:09.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:09.469 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:09.469 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:09.470 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.470 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:09.471 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.471 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:09.472 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:09.472 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:09.473 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.473 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:09.473 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:09.474 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:09.474 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:09.475 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:09.475 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:09.476 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:09.476 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:09.477 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:09.477 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.478 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.478 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:09.479 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.479 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:09.480 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.480 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:09.480 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.481 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:09.481 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.482 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:09.482 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.483 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:09.484 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:09.484 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.485 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.485 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:09.487 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.488 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.488 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.489 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:09.490 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:09.490 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:09.491 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:09.491 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:09.492 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:09.492 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:09.493 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.493 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.494 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.494 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.494 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:09.495 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:09.495 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:09.496 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.496 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.497 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.497 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.498 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:09.498 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:09.499 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:09.499 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:09.500 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:09.500 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:09.501 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.501 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.501 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:09.502 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.502 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:09.503 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.503 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:09.504 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.504 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:09.505 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.505 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:09.505 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.507 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:09.507 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:09.507 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.508 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.508 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:09.510 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.511 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.512 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.512 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:09.513 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:09.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:09.514 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:09.515 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:09.515 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:09.515 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:09.516 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.516 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.517 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.517 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:09.518 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:09.518 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:09.519 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.519 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:09.520 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:09.520 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:09.521 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:09.521 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:09.522 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:09.522 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:09.522 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:09.523 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:09.523 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:09.524 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:09.524 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:09.525 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:09.525 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:09.526 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:09.526 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:09.527 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.527 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:09.527 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:09.528 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:09.528 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.529 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:09.530 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:09.530 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:09.531 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.531 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:09.533 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.535 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:09.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:09.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:09.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:09.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:09.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:09.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:09.539 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.539 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.540 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.540 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:09.541 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:09.541 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:09.542 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.542 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:09.543 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:09.543 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:09.544 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:09.544 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:09.545 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:09.545 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:09.545 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:09.546 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:09.546 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:09.547 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:09.547 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:09.548 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:09.548 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:09.549 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.549 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:09.550 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:09.550 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:09.550 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.552 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:09.552 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:09.552 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:09.553 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.553 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:09.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:09.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:09.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:09.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:09.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:09.560 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:09.560 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:09.561 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:09.561 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.562 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:09.562 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.563 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:09.563 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:09.564 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:09.564 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:09.565 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:09.565 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:09.566 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:09.566 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:09.567 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:09.567 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:09.567 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:09.568 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:09.568 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:09.569 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.569 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.570 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:09.570 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.571 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:09.571 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.572 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:09.572 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.572 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:09.573 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.573 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:09.574 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.575 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:09.575 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:09.576 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.576 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.577 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:09.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:09.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:09.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:09.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:09.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:09.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:09.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:09.584 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.585 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.585 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.586 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.586 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:09.587 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:09.587 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:09.588 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.588 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.588 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.589 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.589 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:09.590 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:09.590 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:09.591 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:09.591 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:09.592 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:09.592 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.593 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:09.593 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:09.594 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.594 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:09.595 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.595 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:09.595 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.596 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:09.596 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:09.597 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:09.597 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.598 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:09.599 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:09.599 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:09.600 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.600 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:09.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:09.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:09.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:09.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:09.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:09.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:09.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:09.608 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:09.608 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.609 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:09.609 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.609 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:09.610 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:09.610 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:09.611 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.611 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:09.612 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:09.612 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:09.613 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:09.613 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:09.614 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:09.614 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:09.615 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:09.615 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:09.616 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.616 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.617 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:09.617 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.617 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:09.618 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.618 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:09.619 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.619 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:09.620 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.620 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:09.621 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.622 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:09.622 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:09.623 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.623 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.623 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:09.625 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:09.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:09.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:09.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:09.630 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:09.630 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:09.631 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:09.631 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:09.631 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.632 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:09.632 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:09.633 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:09.633 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:09.634 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:09.634 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:09.635 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:09.635 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:09.636 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:09.636 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:09.637 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:09.637 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:09.638 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:09.638 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:09.638 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:09.639 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:09.639 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:09.640 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:09.640 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:09.641 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:09.641 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:09.642 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.642 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:09.643 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:09.643 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:09.643 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.645 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:09.645 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:09.645 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:09.646 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.646 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:09.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:09.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:09.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:09.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:09.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:09.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:09.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:09.654 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.654 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.655 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.655 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.656 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:09.656 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:09.657 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:09.657 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:09.658 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.658 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.659 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.659 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:09.660 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:09.660 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:09.660 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:09.661 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:09.661 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:09.662 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.662 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:09.663 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:09.663 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.664 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:09.664 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.665 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:09.665 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.666 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:09.666 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:09.666 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:09.667 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.668 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:09.668 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:09.669 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:09.669 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.670 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:09.672 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.672 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:09.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:09.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:09.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:09.676 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:09.676 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:09.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:09.677 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:09.678 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.678 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:09.679 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.679 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:09.680 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:09.680 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:09.681 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.681 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:09.681 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:09.682 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:09.682 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:09.683 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:09.683 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:09.684 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:09.684 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:09.685 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:09.685 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.686 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:09.686 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:09.687 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.687 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:09.687 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.688 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:09.688 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.689 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:09.689 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:09.690 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:09.690 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.691 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:09.693 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:09.695 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:09.702 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:09.705 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:09.705 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:09.706 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:09.797 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:09.798 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:09.798 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:09.799 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:09.799 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:09.799 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:09.800 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:09.800 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:09.811 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:09.812 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:09.823 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:09.824 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:09.824 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:09.824 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102808.log
2025-10-31 10:28:09.825 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:09.826 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:09.833 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102809.log
2025-10-31 10:28:09.834 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:09.834 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:09.836 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:09.837 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:09.838 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:09.838 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:09.839 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:09.840 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:09.840 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:09.841 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:09.841 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:09.842 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:09.843 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.844 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.845 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.845 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:09.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:09.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:09.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:09.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:09.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:09.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:09.849 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.850 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.850 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.851 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:09.851 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.851 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.852 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.853 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:09.853 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:09.853 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:09.854 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:09.854 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:09.855 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:09.855 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.856 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.856 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:09.857 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.857 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:09.858 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.858 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:09.859 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.859 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:09.860 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.861 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:09.861 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:09.862 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.862 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.862 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:09.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.866 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.867 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:09.867 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:09.868 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:09.868 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:09.869 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:09.869 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:09.869 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:09.870 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:09.870 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.871 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:09.871 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.872 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:09.872 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:09.873 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:09.873 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.874 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:09.874 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:09.875 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:09.875 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:09.876 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:09.876 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:09.877 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:09.877 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:09.878 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:09.878 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.879 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:09.879 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:09.880 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.880 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:09.880 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.881 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:09.881 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.882 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:09.882 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:09.883 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:09.883 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.884 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:09.885 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:09.885 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:09.886 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.886 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:09.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:09.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:09.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:09.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:09.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:09.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:09.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:09.894 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.894 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.895 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.895 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.895 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:09.896 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:09.896 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:09.897 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.897 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.898 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.898 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.899 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:09.899 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:09.900 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:09.900 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:09.901 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:09.901 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:09.902 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.902 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.903 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:09.903 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.904 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:09.904 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.905 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:09.905 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.906 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:09.906 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.906 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:09.907 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.908 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:09.909 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:09.909 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.909 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.910 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:09.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:09.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:09.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:09.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:09.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:09.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:09.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:09.917 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:09.918 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.918 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:09.919 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.919 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:09.920 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:09.920 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:09.921 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.921 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:09.922 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:09.922 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:09.923 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:09.923 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:09.924 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:09.924 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:09.925 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:09.925 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:09.926 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.926 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.927 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:09.927 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.927 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:09.928 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.928 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:09.929 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.929 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:09.930 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:09.930 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:09.931 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.932 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:09.932 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:09.933 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:09.933 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.934 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:09.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.937 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.937 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:09.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:09.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:09.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:09.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:09.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:09.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:09.941 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:09.942 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.942 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:09.942 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:09.943 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:09.943 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:09.944 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:09.944 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:09.945 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:09.945 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:09.946 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:09.946 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:09.947 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:09.947 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:09.948 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:09.948 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:09.949 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:09.949 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:09.950 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:09.950 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:09.950 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:09.951 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:09.951 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:09.952 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.952 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:09.953 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:09.953 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:09.954 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.955 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:09.955 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:09.956 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:09.956 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.957 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:09.958 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.959 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.960 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.960 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:09.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:09.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:09.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:09.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:09.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:09.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:09.964 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:09.965 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.965 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:09.966 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.966 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:09.967 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:09.967 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:09.968 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:09.968 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:09.968 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:09.969 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:09.970 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:09.970 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:09.970 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:09.971 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:09.971 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:09.972 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:09.972 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.973 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:09.973 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:09.974 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.974 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:09.975 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.975 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:09.976 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:09.976 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:09.976 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:09.977 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:09.977 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:09.978 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:09.979 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:09.979 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:09.980 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:09.980 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:09.982 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:09.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.984 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:09.984 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:09.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:09.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:09.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:09.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:09.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:09.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:09.988 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:09.988 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:09.989 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:09.989 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:09.990 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:09.990 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:09.991 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:09.991 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:09.992 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:09.992 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:09.993 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:09.993 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:09.994 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:09.994 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:09.994 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:09.995 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:09.995 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:09.996 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:09.996 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:09.997 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:09.998 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:09.998 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:09.999 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:09.999 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:10.000 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.000 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:10.001 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.001 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:10.002 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.003 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:10.003 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:10.004 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.004 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.005 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:10.006 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:10.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:10.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:10.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:10.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:10.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:10.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:10.012 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.013 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.013 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.014 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.014 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:10.014 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:10.015 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:10.015 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.016 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.016 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:10.017 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:10.017 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:10.018 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:10.018 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:10.019 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:10.019 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:10.020 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:10.020 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.021 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.021 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:10.022 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.022 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:10.023 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.023 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:10.023 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.024 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:10.024 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.025 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:10.025 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.026 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:10.027 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:10.027 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.028 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.028 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:10.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:10.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:10.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:10.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:10.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:10.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:10.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:10.036 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.036 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.037 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.037 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:10.038 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:10.038 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:10.039 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.039 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:10.040 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:10.040 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:10.041 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:10.041 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:10.041 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:10.042 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:10.042 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:10.043 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:10.043 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:10.044 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:10.044 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:10.045 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:10.045 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:10.046 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:10.046 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:10.047 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.047 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:10.047 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:10.048 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:10.048 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.049 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:10.050 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:10.050 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:10.051 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.051 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:10.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:10.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:10.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:10.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:10.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:10.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:10.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:10.059 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:10.059 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.060 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:10.060 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.061 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:10.061 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:10.062 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:10.062 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:10.063 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:10.063 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:10.064 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:10.064 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:10.065 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:10.065 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:10.065 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:10.066 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:10.066 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:10.067 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.067 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.068 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:10.068 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.069 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:10.069 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.070 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:10.070 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.071 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:10.071 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.072 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:10.072 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.073 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:10.074 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:10.074 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.074 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.075 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:10.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:10.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:10.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:10.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:10.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:10.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:10.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:10.083 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.083 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.083 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.084 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.084 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:10.085 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:10.085 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:10.086 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.086 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.087 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:10.087 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:10.088 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:10.088 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:10.089 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:10.089 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:10.090 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:10.090 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:10.091 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.091 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.092 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:10.092 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.093 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:10.093 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.093 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:10.094 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.094 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:10.095 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.095 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:10.096 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.097 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:10.097 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:10.098 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.098 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.099 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:10.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:10.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:10.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:10.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:10.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:10.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:10.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:10.106 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:10.107 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.107 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:10.108 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.108 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:10.109 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:10.109 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:10.110 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.110 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:10.110 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:10.111 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:10.111 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:10.112 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:10.112 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:10.113 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:10.113 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:10.114 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:10.114 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.115 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.115 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:10.116 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.116 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:10.117 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.117 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:10.118 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.118 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:10.118 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.119 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:10.119 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.120 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:10.121 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:10.121 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.122 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.122 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:10.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:10.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:10.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:10.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:10.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:10.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:10.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:10.130 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.130 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.131 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.131 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.132 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:10.132 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:10.133 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:10.133 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.134 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.134 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:10.135 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:10.135 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:10.136 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:10.136 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:10.137 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:10.137 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:10.138 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:10.138 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.138 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.139 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:10.139 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.140 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:10.140 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.141 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:10.141 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.142 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:10.142 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.143 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:10.143 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.144 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:10.145 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:10.145 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.146 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.146 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:10.148 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.148 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.150 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.150 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:10.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:10.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:10.152 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:10.152 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:10.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:10.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:10.153 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.154 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.154 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.155 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:10.155 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:10.156 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:10.156 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.157 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:10.157 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:10.158 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:10.158 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:10.159 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:10.159 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:10.160 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:10.160 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:10.161 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:10.161 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:10.161 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:10.162 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:10.162 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:10.163 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:10.163 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:10.164 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:10.164 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.165 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:10.165 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:10.166 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:10.166 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.167 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:10.168 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:10.168 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:10.169 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.169 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:10.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:10.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:10.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:10.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:10.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:10.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:10.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:10.176 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.177 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.177 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.178 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.178 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:10.179 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:10.179 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:10.180 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:10.180 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.181 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:10.181 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:10.182 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:10.182 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:10.183 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:10.183 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:10.184 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:10.184 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:10.185 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.185 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.186 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:10.186 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.186 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:10.187 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.187 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:10.188 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.188 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:10.189 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.189 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:10.190 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.191 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:10.191 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:10.192 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.192 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.193 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:10.195 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.195 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.197 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:10.197 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:10.198 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:10.198 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:10.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:10.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:10.200 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:10.200 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:10.201 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.201 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:10.202 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.202 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:10.203 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:10.203 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:10.204 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.204 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:10.205 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:10.205 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:10.206 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:10.206 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:10.206 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:10.207 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:10.207 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:10.208 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:10.208 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.209 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.209 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:10.210 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.210 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:10.211 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.211 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:10.212 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.212 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:10.213 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.213 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:10.213 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.215 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:10.215 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:10.216 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.216 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.216 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:10.218 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:10.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:10.222 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:10.222 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:10.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:10.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:10.224 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:10.224 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.224 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.225 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.225 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.226 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:10.226 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:10.227 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:10.227 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.228 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.228 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:10.229 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:10.229 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:10.230 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:10.230 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:10.231 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:10.231 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:10.232 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:10.232 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.233 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.233 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:10.234 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.234 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:10.234 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.235 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:10.235 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.236 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:10.236 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.237 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:10.237 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.238 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:10.239 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:10.239 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.240 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.240 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:10.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:10.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:10.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:10.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:10.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:10.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:10.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:10.248 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:10.248 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.249 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:10.249 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.250 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:10.250 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:10.251 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:10.251 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.251 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:10.252 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:10.252 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:10.253 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:10.253 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:10.254 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:10.254 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:10.255 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:10.255 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:10.256 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.256 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:10.257 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:10.257 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.258 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:10.258 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.259 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:10.259 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.259 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:10.260 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:10.260 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:10.261 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.262 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:10.262 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:10.263 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:10.263 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.264 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:10.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:10.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:10.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:10.270 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:10.270 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:10.270 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:10.271 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:10.271 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.272 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.272 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.273 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.273 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:10.274 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:10.274 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:10.275 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.275 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.276 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:10.276 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:10.277 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:10.277 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:10.278 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:10.278 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:10.279 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:10.279 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:10.280 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.280 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:10.280 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:10.281 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.281 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:10.282 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.282 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:10.283 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.283 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:10.284 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:10.284 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:10.285 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.286 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:10.286 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:10.287 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:10.287 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.287 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:10.289 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.292 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:10.292 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:10.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:10.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:10.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:10.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:10.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:10.295 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.296 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.296 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.296 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:10.297 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:10.297 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:10.298 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.298 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:10.299 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:10.299 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:10.300 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:10.300 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:10.301 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:10.301 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:10.302 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:10.302 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:10.303 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:10.303 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:10.304 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:10.304 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:10.305 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:10.305 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:10.305 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:10.306 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.306 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:10.307 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:10.307 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:10.308 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.309 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:10.309 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:10.310 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:10.310 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.311 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:10.313 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.313 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.314 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:10.315 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:10.316 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:10.316 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:10.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:10.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:10.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:10.318 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.319 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.319 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.320 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.320 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:10.321 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:10.321 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:10.322 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:10.322 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.322 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:10.323 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:10.324 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:10.324 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:10.324 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:10.325 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:10.325 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:10.326 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:10.326 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.327 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.327 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:10.328 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.328 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:10.329 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.329 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:10.330 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.330 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:10.330 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.331 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:10.331 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.332 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:10.333 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:10.333 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.334 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.334 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:10.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:10.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:10.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:10.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:10.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:10.341 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:10.341 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:10.342 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.342 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.343 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.343 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.344 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:10.344 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:10.345 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:10.345 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.346 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.346 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:10.347 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:10.347 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:10.348 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:10.348 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:10.348 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:10.349 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:10.350 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:10.350 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.350 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.351 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:10.351 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.352 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:10.352 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.353 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:10.353 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.354 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:10.354 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.355 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:10.355 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.356 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:10.357 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:10.357 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.357 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.358 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:10.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.361 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.362 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.362 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:10.363 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:10.363 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:10.364 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:10.364 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:10.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:10.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:10.365 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:10.366 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.366 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:10.367 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.367 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:10.368 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:10.368 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:10.369 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.369 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:10.370 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:10.370 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:10.371 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:10.371 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:10.372 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:10.372 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:10.373 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:10.373 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:10.374 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.374 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.375 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:10.375 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.375 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:10.376 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.376 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:10.377 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.377 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:10.378 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.378 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:10.379 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.380 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:10.380 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:10.381 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.381 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.382 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:10.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.385 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.385 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.386 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:10.386 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:10.387 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:10.387 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:10.388 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:10.388 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:10.389 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:10.389 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.390 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.390 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.391 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.391 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:10.392 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:10.392 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:10.392 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.393 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.393 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:10.394 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:10.394 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:10.395 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:10.395 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:10.396 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:10.396 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:10.397 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:10.397 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.398 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.398 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:10.399 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.399 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:10.400 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.400 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:10.401 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.401 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:10.401 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.402 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:10.402 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.403 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:10.404 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:10.404 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.405 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.405 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:10.407 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.408 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.409 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.409 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:10.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:10.411 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:10.411 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:10.412 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:10.412 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:10.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:10.413 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.414 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.414 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.414 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:10.415 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:10.415 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:10.416 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.416 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:10.417 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:10.417 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:10.418 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:10.418 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:10.419 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:10.419 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:10.420 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:10.420 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:10.421 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:10.421 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:10.422 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:10.422 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:10.423 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:10.423 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:10.423 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:10.424 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.424 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:10.425 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:10.425 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:10.426 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.427 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:10.427 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:10.428 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:10.428 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.429 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:10.431 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.431 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.432 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.432 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.433 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:10.433 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:10.434 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:10.434 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:10.435 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:10.435 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:10.436 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:10.436 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.437 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.437 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.438 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:10.438 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:10.439 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:10.439 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.440 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:10.440 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:10.441 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:10.441 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:10.442 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:10.442 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:10.442 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:10.443 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:10.443 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:10.444 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:10.444 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:10.445 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:10.445 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:10.446 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:10.446 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.447 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:10.447 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:10.447 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:10.448 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.449 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:10.450 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:10.450 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:10.451 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.451 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:10.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.454 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.454 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:10.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:10.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:10.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:10.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:10.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:10.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:10.459 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:10.459 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.460 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:10.460 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.461 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:10.461 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:10.462 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:10.462 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:10.462 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:10.463 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:10.463 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:10.464 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:10.464 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:10.465 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:10.465 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:10.466 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:10.466 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:10.467 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.467 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.468 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:10.468 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.469 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:10.469 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.470 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:10.470 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.471 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:10.471 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.471 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:10.472 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.473 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:10.473 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:10.474 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.474 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.475 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:10.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:10.480 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:10.480 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:10.480 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:10.481 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:10.481 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:10.482 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:10.482 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.483 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.483 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.484 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.484 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:10.485 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:10.485 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:10.486 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.486 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.487 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:10.487 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:10.488 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:10.488 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:10.489 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:10.489 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:10.489 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:10.490 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:10.490 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.491 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:10.491 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:10.492 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.492 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:10.493 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.493 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:10.494 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.494 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:10.495 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:10.495 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:10.495 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.497 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:10.497 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:10.498 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:10.498 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.498 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:10.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:10.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:10.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:10.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:10.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:10.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:10.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:10.506 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.506 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.507 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.507 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.508 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:10.508 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:10.509 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:10.509 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.510 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.510 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:10.511 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:10.511 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:10.512 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:10.512 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:10.513 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:10.513 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:10.514 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:10.514 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.515 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.515 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:10.515 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.516 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:10.516 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.517 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:10.517 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.518 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:10.518 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.519 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:10.519 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.520 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:10.521 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:10.521 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.522 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.522 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:10.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:10.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:10.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:10.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:10.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:10.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:10.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:10.530 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.530 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.531 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.531 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:10.531 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:10.532 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:10.532 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.533 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:10.533 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:10.534 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:10.534 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:10.535 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:10.535 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:10.536 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:10.536 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:10.537 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:10.537 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:10.538 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:10.538 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:10.539 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:10.539 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:10.539 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:10.540 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:10.540 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.541 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:10.541 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:10.542 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:10.542 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.543 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:10.544 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:10.544 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:10.545 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.545 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:10.547 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.549 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.549 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:10.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:10.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:10.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:10.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:10.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:10.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:10.553 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.553 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.554 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.554 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.555 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:10.555 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:10.556 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:10.556 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:10.557 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.557 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:10.558 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:10.558 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:10.559 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:10.559 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:10.559 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:10.560 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:10.560 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:10.561 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.561 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:10.562 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:10.562 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.563 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:10.563 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.564 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:10.564 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.565 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:10.565 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:10.565 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:10.566 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.567 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:10.568 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:10.568 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:10.568 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.569 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:10.571 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.571 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.572 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:10.574 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:10.574 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:10.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:10.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:10.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:10.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:10.576 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.577 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.577 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.578 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.578 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:10.579 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:10.579 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:10.580 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.580 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.581 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:10.581 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:10.582 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:10.582 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:10.583 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:10.583 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:10.584 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:10.584 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:10.585 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.585 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:10.585 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:10.586 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.586 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:10.587 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.587 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:10.588 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.588 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:10.589 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:10.589 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:10.590 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.591 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:10.592 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:10.594 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:10.602 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:10.604 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:10.605 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:10.606 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:10.696 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:10.697 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:10.697 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:10.698 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:10.698 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:10.699 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:10.699 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:10.700 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:10.710 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:10.711 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:10.722 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:10.723 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:10.723 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:10.724 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102809.log
2025-10-31 10:28:10.724 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:10.725 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:10.733 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102810.log
2025-10-31 10:28:10.733 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:10.734 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:10.735 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:10.736 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:10.737 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:10.738 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:10.738 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:10.739 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:10.740 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:10.740 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:10.741 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:10.741 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:10.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.745 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.745 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:10.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:10.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:10.747 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:10.747 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:10.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:10.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:10.749 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.749 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.750 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.750 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:10.751 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.751 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:10.752 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:10.752 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:10.753 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:10.753 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:10.754 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:10.754 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:10.755 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:10.755 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.756 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.756 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:10.757 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.757 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:10.758 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.758 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:10.758 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.759 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:10.759 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.760 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:10.761 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:10.761 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.762 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.762 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:10.764 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.765 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.765 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:10.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:10.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:10.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:10.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:10.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:10.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:10.770 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.770 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.771 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.771 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.772 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:10.772 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:10.773 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:10.773 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.774 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.774 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:10.775 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:10.775 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:10.776 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:10.776 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:10.777 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:10.777 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:10.778 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:10.778 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.779 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:10.779 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:10.780 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.780 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:10.780 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.781 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:10.781 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.782 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:10.782 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:10.783 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:10.783 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.784 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:10.785 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:10.785 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:10.786 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.786 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:10.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.789 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.789 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.790 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:10.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:10.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:10.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:10.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:10.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:10.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:10.794 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.794 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.795 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.795 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.796 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:10.796 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:10.797 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:10.797 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.798 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.798 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:10.799 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:10.799 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:10.800 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:10.800 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:10.801 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:10.801 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:10.802 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:10.802 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.803 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.803 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:10.804 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.804 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:10.805 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.805 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:10.805 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.806 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:10.806 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.807 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:10.807 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.808 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:10.809 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:10.809 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.810 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.810 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:10.812 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.814 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:10.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:10.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:10.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:10.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:10.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:10.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:10.818 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:10.818 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.819 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:10.819 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.820 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:10.820 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:10.821 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:10.821 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.822 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:10.822 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:10.823 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:10.823 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:10.824 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:10.824 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:10.825 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:10.825 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:10.826 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:10.826 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.827 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.827 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:10.828 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.828 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:10.829 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.829 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:10.830 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.830 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:10.831 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.831 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:10.831 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.833 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:10.833 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:10.834 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.834 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.834 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:10.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:10.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:10.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:10.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:10.841 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:10.841 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:10.842 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:10.842 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:10.843 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.843 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:10.844 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:10.844 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:10.844 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:10.845 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:10.845 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:10.846 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:10.846 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:10.847 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:10.847 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:10.848 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:10.848 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:10.849 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:10.849 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:10.850 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:10.850 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:10.851 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:10.851 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:10.852 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:10.852 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:10.853 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:10.853 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.854 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:10.854 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:10.854 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:10.855 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.856 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:10.856 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:10.857 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:10.857 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.858 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:10.860 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.860 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:10.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:10.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:10.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:10.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:10.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:10.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:10.866 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:10.866 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.866 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:10.867 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.867 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:10.868 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:10.868 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:10.869 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:10.869 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:10.870 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:10.870 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:10.871 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:10.871 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:10.872 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:10.872 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:10.873 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:10.873 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:10.874 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.874 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:10.875 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:10.875 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.876 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:10.876 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.877 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:10.877 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.877 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:10.878 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:10.878 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:10.879 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.880 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:10.880 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:10.881 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:10.881 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.882 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:10.884 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.884 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.886 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.886 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:10.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:10.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:10.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:10.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:10.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:10.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:10.890 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:10.890 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.891 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:10.891 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.892 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:10.892 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:10.893 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:10.893 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.894 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:10.894 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:10.895 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:10.895 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:10.895 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:10.896 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:10.896 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:10.897 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:10.897 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:10.898 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.898 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.899 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:10.899 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.900 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:10.900 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.901 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:10.901 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.902 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:10.902 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.903 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:10.903 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.904 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:10.905 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:10.905 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.906 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.906 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:10.908 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.909 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.909 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.910 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.910 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:10.911 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:10.911 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:10.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:10.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:10.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:10.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:10.914 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.914 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.915 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.915 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.916 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:10.916 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:10.917 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:10.917 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.918 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.918 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:10.919 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:10.919 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:10.920 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:10.920 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:10.920 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:10.921 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:10.922 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:10.922 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.922 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.923 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:10.923 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.924 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:10.924 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.925 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:10.925 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.926 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:10.926 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.927 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:10.927 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.928 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:10.929 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:10.929 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.930 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.930 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:10.932 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.933 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.933 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.934 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.934 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:10.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:10.935 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:10.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:10.937 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:10.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:10.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:10.938 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.939 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.939 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.940 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:10.940 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:10.941 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:10.941 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.942 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:10.942 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:10.943 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:10.943 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:10.944 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:10.944 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:10.945 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:10.945 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:10.946 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:10.946 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:10.947 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:10.947 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:10.948 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:10.948 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:10.949 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:10.949 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:10.950 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.950 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:10.950 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:10.951 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:10.951 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.952 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:10.953 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:10.953 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:10.954 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.954 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:10.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.957 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.957 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.958 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.959 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:10.959 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:10.960 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:10.960 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:10.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:10.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:10.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:10.962 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:10.962 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.963 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:10.963 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.964 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:10.964 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:10.965 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:10.965 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:10.966 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:10.966 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:10.967 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:10.967 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:10.968 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:10.968 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:10.969 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:10.969 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:10.970 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:10.970 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.971 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.971 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:10.972 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.972 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:10.973 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.973 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:10.974 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.974 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:10.974 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.975 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:10.975 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:10.976 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:10.977 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:10.977 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:10.978 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:10.978 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:10.980 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:10.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.982 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.982 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:10.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:10.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:10.984 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:10.984 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:10.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:10.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:10.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:10.986 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:10.986 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:10.987 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:10.987 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:10.988 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:10.988 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:10.989 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:10.989 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:10.990 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:10.990 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:10.991 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:10.991 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:10.992 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:10.992 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:10.993 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:10.993 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:10.994 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:10.994 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:10.995 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:10.995 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:10.996 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:10.996 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:10.997 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:10.997 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:10.998 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:10.998 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:10.998 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:10.999 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:10.999 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.000 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:11.001 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:11.001 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.002 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.002 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:11.004 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.005 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.006 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.006 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:11.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:11.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:11.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:11.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:11.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:11.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:11.010 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:11.011 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.011 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:11.012 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.012 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:11.013 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:11.013 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:11.014 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.014 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:11.014 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:11.015 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:11.015 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:11.016 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:11.016 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:11.017 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:11.017 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:11.018 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:11.018 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.019 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.019 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:11.020 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.020 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:11.021 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.021 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:11.022 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.022 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:11.023 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.023 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:11.024 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.025 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:11.025 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:11.026 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.026 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.027 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:11.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:11.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:11.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:11.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:11.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:11.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:11.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:11.034 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:11.035 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.035 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:11.036 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.036 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:11.037 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:11.037 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:11.038 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.038 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:11.039 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:11.039 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:11.040 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:11.040 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:11.041 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:11.041 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:11.042 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:11.042 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:11.043 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.043 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.044 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:11.044 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.044 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:11.045 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.045 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:11.046 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.046 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:11.047 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.047 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:11.048 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.049 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:11.049 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:11.050 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.050 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.051 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:11.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:11.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:11.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:11.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:11.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:11.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:11.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:11.058 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:11.059 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.059 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:11.060 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:11.060 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:11.061 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:11.061 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:11.062 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:11.062 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:11.063 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:11.063 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:11.064 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:11.064 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:11.065 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:11.065 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:11.066 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:11.066 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:11.066 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:11.067 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:11.067 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:11.068 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:11.068 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:11.069 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:11.069 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.070 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:11.070 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:11.071 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:11.071 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.072 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:11.073 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:11.073 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:11.074 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.074 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:11.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:11.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:11.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:11.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:11.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:11.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:11.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:11.082 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.082 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.083 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.083 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.084 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:11.084 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:11.085 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:11.085 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:11.086 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.086 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.087 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.087 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:11.088 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:11.088 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:11.089 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:11.089 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:11.090 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:11.090 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.091 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.091 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:11.091 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.092 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:11.092 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.093 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:11.093 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.094 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:11.094 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.095 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:11.095 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.096 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:11.097 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:11.097 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.098 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.098 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:11.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:11.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:11.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:11.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:11.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:11.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:11.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:11.106 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:11.106 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.107 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:11.107 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.108 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:11.108 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:11.109 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:11.109 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.110 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:11.110 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:11.111 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:11.111 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:11.112 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:11.112 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:11.113 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:11.113 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:11.114 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:11.114 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.115 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.115 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:11.116 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.116 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:11.117 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.117 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:11.117 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.118 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:11.118 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.119 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:11.119 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.120 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:11.121 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:11.121 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.122 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.122 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:11.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:11.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:11.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:11.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:11.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:11.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:11.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:11.130 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.131 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.131 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.132 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.132 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:11.133 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:11.133 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:11.134 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.134 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.135 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.135 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.136 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:11.136 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:11.137 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:11.137 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:11.138 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:11.138 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:11.139 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.139 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.140 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:11.140 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.140 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:11.141 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.141 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:11.142 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.142 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:11.143 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.143 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:11.144 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.145 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:11.145 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:11.146 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.146 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.147 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:11.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.150 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:11.152 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:11.152 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:11.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:11.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:11.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:11.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:11.155 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:11.155 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.156 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:11.156 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.156 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:11.157 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:11.158 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:11.158 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.159 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:11.159 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:11.160 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:11.160 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:11.160 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:11.161 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:11.161 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:11.162 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:11.163 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:11.163 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.163 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:11.164 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:11.164 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.165 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:11.165 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.166 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:11.166 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.167 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:11.167 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:11.168 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:11.168 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.169 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:11.170 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:11.170 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:11.171 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.171 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:11.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:11.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:11.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:11.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:11.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:11.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:11.179 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:11.179 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.180 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.180 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.180 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.181 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:11.182 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:11.182 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:11.182 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.183 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.183 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.184 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.184 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:11.185 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:11.185 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:11.186 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:11.186 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:11.187 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:11.187 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.188 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:11.188 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:11.189 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.189 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:11.190 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.190 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:11.191 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.191 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:11.192 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:11.192 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:11.193 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.194 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:11.194 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:11.195 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:11.195 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.196 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:11.197 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.198 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.200 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:11.200 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:11.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:11.201 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:11.202 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:11.202 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:11.203 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:11.203 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.204 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.204 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.205 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:11.205 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:11.206 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:11.206 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.207 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:11.207 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:11.208 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:11.208 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:11.209 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:11.209 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:11.209 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:11.210 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:11.210 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:11.211 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:11.211 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:11.212 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:11.212 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:11.213 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:11.213 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:11.214 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:11.214 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.215 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:11.215 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:11.216 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:11.216 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.217 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:11.218 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:11.218 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:11.219 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.219 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:11.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.222 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.222 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:11.224 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:11.224 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:11.225 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:11.225 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:11.226 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:11.226 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:11.227 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:11.227 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.228 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:11.228 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.229 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:11.229 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:11.230 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:11.230 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:11.231 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:11.231 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:11.232 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:11.232 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:11.233 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:11.233 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:11.234 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:11.234 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:11.235 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:11.235 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.236 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.236 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:11.236 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.237 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:11.237 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.238 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:11.238 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.239 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:11.239 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.240 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:11.240 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.241 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:11.242 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:11.242 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.243 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.243 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:11.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:11.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:11.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:11.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:11.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:11.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:11.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:11.251 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.251 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.252 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.252 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.253 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:11.253 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:11.314 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:11.314 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.315 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.315 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.316 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.316 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:11.317 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:11.317 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:11.318 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:11.318 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:11.319 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:11.319 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.320 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.320 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:11.321 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.321 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:11.321 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.322 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:11.322 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.323 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:11.323 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.324 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:11.324 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.325 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:11.326 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:11.326 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.327 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.327 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:11.329 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.330 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.330 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.331 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.332 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:11.332 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:11.332 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:11.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:11.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:11.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:11.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:11.335 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:11.335 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.336 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:11.336 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.337 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:11.337 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:11.338 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:11.338 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.339 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:11.339 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:11.340 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:11.340 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:11.341 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:11.341 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:11.342 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:11.342 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:11.343 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:11.343 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.344 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.344 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:11.345 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.345 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:11.346 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.346 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:11.346 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.347 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:11.347 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.348 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:11.348 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.349 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:11.350 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:11.350 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.351 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.351 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:11.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.354 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.354 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.355 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.356 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:11.356 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:11.357 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:11.357 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:11.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:11.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:11.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:11.359 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.359 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.360 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.360 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.361 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:11.361 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:11.362 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:11.362 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.363 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.363 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.364 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.364 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:11.365 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:11.365 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:11.366 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:11.366 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:11.367 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:11.367 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.368 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.368 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:11.369 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.369 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:11.370 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.370 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:11.370 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.371 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:11.371 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.372 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:11.372 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.373 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:11.374 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:11.374 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.375 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.375 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:11.377 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.378 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.379 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.379 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:11.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:11.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:11.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:11.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:11.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:11.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:11.383 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.384 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.384 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.384 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:11.385 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:11.385 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:11.386 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.386 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:11.387 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:11.387 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:11.388 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:11.388 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:11.389 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:11.389 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:11.390 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:11.390 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:11.391 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:11.391 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:11.392 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:11.392 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:11.393 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:11.393 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:11.394 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:11.394 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.395 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:11.395 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:11.396 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:11.396 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.397 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:11.398 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:11.398 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:11.399 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.399 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:11.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:11.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:11.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:11.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:11.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:11.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:11.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:11.407 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.407 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.408 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.408 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:11.409 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:11.409 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:11.410 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.410 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:11.411 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:11.411 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:11.412 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:11.412 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:11.412 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:11.413 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:11.413 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:11.414 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:11.414 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:11.415 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:11.415 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:11.416 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:11.416 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:11.417 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.417 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:11.418 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:11.418 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:11.419 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.420 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:11.420 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:11.421 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:11.421 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.422 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:11.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:11.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:11.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:11.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:11.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:11.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:11.429 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:11.429 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:11.430 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.430 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:11.431 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.431 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:11.432 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:11.432 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:11.433 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:11.433 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:11.434 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:11.434 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:11.435 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:11.435 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:11.436 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:11.436 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:11.436 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:11.437 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:11.438 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.438 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.439 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:11.439 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.439 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:11.440 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.440 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:11.441 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.441 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:11.442 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.442 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:11.443 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.444 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:11.444 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:11.445 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.445 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.446 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:11.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:11.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:11.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:11.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:11.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:11.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:11.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:11.453 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.454 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.454 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.455 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.455 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:11.456 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:11.456 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:11.457 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.457 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.458 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.458 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.459 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:11.459 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:11.460 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:11.460 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:11.461 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:11.461 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:11.462 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.462 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:11.463 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:11.463 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.464 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:11.464 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.464 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:11.465 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.465 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:11.466 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:11.466 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:11.467 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.468 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:11.468 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:11.469 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:11.469 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.470 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:11.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.473 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.474 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.474 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:11.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:11.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:11.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:11.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:11.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:11.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:11.477 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:11.478 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.478 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:11.479 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.479 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:11.480 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:11.480 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:11.481 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.481 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:11.482 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:11.482 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:11.483 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:11.483 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:11.484 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:11.484 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:11.485 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:11.485 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:11.486 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.486 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.487 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:11.487 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.488 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:11.488 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.489 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:11.489 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.489 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:11.490 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.490 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:11.491 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.492 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:11.492 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:11.493 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.493 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.494 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:11.496 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.496 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:11.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:11.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:11.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:11.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:11.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:11.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:11.501 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:11.502 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.502 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:11.503 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:11.503 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:11.504 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:11.504 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:11.505 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:11.505 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:11.506 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:11.506 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:11.507 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:11.507 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:11.508 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:11.508 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:11.509 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:11.509 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:11.510 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:11.510 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:11.511 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:11.511 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:11.512 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:11.512 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:11.512 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.513 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:11.513 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:11.514 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:11.514 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.515 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:11.516 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:11.516 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:11.517 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.517 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:11.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:11.522 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:11.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:11.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:11.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:11.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:11.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:11.525 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.526 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.526 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.527 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.527 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:11.528 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:11.528 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:11.528 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:11.529 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.529 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.530 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.530 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:11.531 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:11.531 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:11.532 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:11.532 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:11.533 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:11.533 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.534 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:11.534 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:11.535 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.535 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:11.536 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.536 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:11.537 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.537 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:11.538 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:11.538 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:11.538 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.540 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:11.540 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:11.541 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:11.541 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.542 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:11.543 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.544 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.545 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.545 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:11.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:11.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:11.547 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:11.547 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:11.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:11.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:11.549 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:11.549 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:11.550 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.550 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:11.551 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.551 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:11.552 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:11.552 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:11.553 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.553 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:11.554 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:11.554 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:11.555 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:11.555 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:11.556 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:11.556 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:11.556 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:11.557 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:11.557 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.558 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:11.558 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:11.559 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.559 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:11.560 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.560 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:11.561 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.561 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:11.562 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:11.562 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:11.563 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.564 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:11.565 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:11.567 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:11.575 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:11.577 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:11.578 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:11.579 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:11.669 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:11.670 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:11.670 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:11.671 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:11.671 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:11.672 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:11.672 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:11.673 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:11.684 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:11.684 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:11.695 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:11.696 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:11.696 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:11.697 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102810.log
2025-10-31 10:28:11.697 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:11.698 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:11.706 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102811.log
2025-10-31 10:28:11.707 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:11.707 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:11.709 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:11.709 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-09-10 00:00:00 (after 252 periods of warm-up data)
2025-10-31 10:28:11.710 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:11.711 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:11.711 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:11.713 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-09-10
2025-10-31 10:28:11.714 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-10
2025-10-31 10:28:11.714 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:11.714 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:11.715 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:11.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0809326756523252
2025-10-31 10:28:11.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08149454604873574
2025-10-31 10:28:11.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08817543839164688
2025-10-31 10:28:11.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-10 00:00:00:
2025-10-31 10:28:11.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0809 (8.09%) - PASS
2025-10-31 10:28:11.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0815 (8.15%) - PASS
2025-10-31 10:28:11.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0882 (8.82%) - PASS
2025-10-31 10:28:11.723 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:11.723 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.724 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:11.724 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-10: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:11.725 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:11.725 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:11.726 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:11.726 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.53 ? $123.59 (slippage: 0.050%)
2025-10-31 10:28:11.727 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:11.727 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 809.15
2025-10-31 10:28:11.728 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:11.728 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:11.729 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 808.34 @ $123.59
2025-10-31 10:28:11.729 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.730 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.730 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:11.731 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.731 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 808.34 shares @ $123.59 (Value: $99,900.10)
2025-10-31 10:28:11.732 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.732 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:11.733 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.733 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:11.734 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.735 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:11.735 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,594.06
2025-10-31 10:28:11.735 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.736 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.736 | INFO     | src.backtesting.engine:run:293 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:11.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.739 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.740 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.740 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019551495925198337
2025-10-31 10:28:11.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07498293204285922
2025-10-31 10:28:11.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05824612172849841
2025-10-31 10:28:11.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:11.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0196 (1.96%) - PASS
2025-10-31 10:28:11.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0750 (7.50%) - PASS
2025-10-31 10:28:11.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0582 (5.82%) - PASS
2025-10-31 10:28:11.744 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.745 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.745 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.746 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.746 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:11.747 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 808.34 @ $121.91 (P&L: $-1,355.34)
2025-10-31 10:28:11.747 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,446.22
2025-10-31 10:28:11.748 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$98,594.06, Cash=$98,446.22, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.748 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.749 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.749 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.750 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:11.750 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:11.751 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 813.89
2025-10-31 10:28:11.751 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.59
2025-10-31 10:28:11.752 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,692.65
2025-10-31 10:28:11.752 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 811.85 @ $121.14
2025-10-31 10:28:11.753 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.753 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.754 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,446.22, Cash end=$-0.00
2025-10-31 10:28:11.754 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.755 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:11.755 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.756 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 811.85 shares @ $121.14 (Value: $98,347.87)
2025-10-31 10:28:11.756 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.757 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,347.87
2025-10-31 10:28:11.757 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.757 | INFO     | src.backtesting.engine:run:336 -      Change: $-246.19
2025-10-31 10:28:11.758 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.759 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:11.760 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,275.11
2025-10-31 10:28:11.760 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.761 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.761 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11, P&L: $927.24)
2025-10-31 10:28:11.763 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.764 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.764 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.765 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.765 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07511303569502892
2025-10-31 10:28:11.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08589327251529832
2025-10-31 10:28:11.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06452336484703469
2025-10-31 10:28:11.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:11.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0751 (7.51%) - PASS
2025-10-31 10:28:11.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0859 (8.59%) - PASS
2025-10-31 10:28:11.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0645 (6.45%) - PASS
2025-10-31 10:28:11.769 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.769 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.770 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.770 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:11.771 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11)
2025-10-31 10:28:11.771 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$99,275.11, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:11.772 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.772 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:11.773 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:11.773 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 811.85 shares worth $99,275.11
2025-10-31 10:28:11.774 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:11.774 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.28 ? $122.34 (slippage: 0.050%)
2025-10-31 10:28:11.775 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:11.775 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 811.45
2025-10-31 10:28:11.776 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 811.85
2025-10-31 10:28:11.776 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.41
2025-10-31 10:28:11.777 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:11.777 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.59
2025-10-31 10:28:11.778 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.41 shares at $122.22 (proceeds: $49.54)
2025-10-31 10:28:11.778 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:11.779 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.54
2025-10-31 10:28:11.779 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.59, Cash end=$49.54
2025-10-31 10:28:11.780 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:11.780 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.780 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,275.03
2025-10-31 10:28:11.781 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.54
2025-10-31 10:28:11.781 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:11.782 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.783 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:11.784 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,453.53
2025-10-31 10:28:11.784 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.54
2025-10-31 10:28:11.784 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.785 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:11.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.789 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.789 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07533958777997163
2025-10-31 10:28:11.790 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06332847983307777
2025-10-31 10:28:11.790 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06863582586745842
2025-10-31 10:28:11.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:11.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0753 (7.53%) - PASS
2025-10-31 10:28:11.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0633 (6.33%) - PASS
2025-10-31 10:28:11.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0686 (6.86%) - PASS
2025-10-31 10:28:11.793 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:11.793 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.794 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:11.794 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.795 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:11.795 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 811.45 @ $123.67 (P&L: $2,055.08)
2025-10-31 10:28:11.796 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,302.98
2025-10-31 10:28:11.796 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$100,453.53, Cash=$100,302.98, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:11.797 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:11.797 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:11.798 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:11.798 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.93 ? $122.99 (slippage: 0.050%)
2025-10-31 10:28:11.799 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:11.799 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 816.77
2025-10-31 10:28:11.800 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.45
2025-10-31 10:28:11.800 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,553.99
2025-10-31 10:28:11.801 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 814.73 @ $122.99
2025-10-31 10:28:11.801 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.802 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.802 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,302.98, Cash end=$-0.00
2025-10-31 10:28:11.803 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.803 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:11.804 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.804 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 814.73 shares @ $122.99 (Value: $100,202.78)
2025-10-31 10:28:11.805 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.805 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,202.78
2025-10-31 10:28:11.806 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.806 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.76
2025-10-31 10:28:11.806 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.808 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:11.808 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,275.19
2025-10-31 10:28:11.809 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.809 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.810 | INFO     | src.backtesting.engine:run:293 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:11.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.812 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.813 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.814 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.037374576779007684
2025-10-31 10:28:11.814 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0865684206777857
2025-10-31 10:28:11.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05637830462180449
2025-10-31 10:28:11.815 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:11.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0374 (3.74%) - PASS
2025-10-31 10:28:11.816 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0866 (8.66%) - PASS
2025-10-31 10:28:11.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0564 (5.64%) - PASS
2025-10-31 10:28:11.817 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.818 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.818 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.819 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.819 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:11.820 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 814.73 @ $123.02 (P&L: $22.28)
2025-10-31 10:28:11.820 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,124.83
2025-10-31 10:28:11.821 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$100,275.19, Cash=$100,124.83, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.821 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.822 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.822 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.823 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $124.66 ? $124.73 (slippage: 0.050%)
2025-10-31 10:28:11.823 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:11.824 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 803.97
2025-10-31 10:28:11.824 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.28
2025-10-31 10:28:11.825 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,375.47
2025-10-31 10:28:11.825 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 801.96 @ $124.73
2025-10-31 10:28:11.826 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.826 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.827 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,124.83, Cash end=$-0.00
2025-10-31 10:28:11.827 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.828 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:11.828 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.829 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 801.96 shares @ $124.73 (Value: $100,024.80)
2025-10-31 10:28:11.829 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.830 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,024.80
2025-10-31 10:28:11.830 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.831 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.39
2025-10-31 10:28:11.831 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.832 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:11.833 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,585.07
2025-10-31 10:28:11.833 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.834 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.834 | INFO     | src.backtesting.engine:run:293 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:11.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11193767893425632
2025-10-31 10:28:11.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.034556594930737594
2025-10-31 10:28:11.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04474012852421505
2025-10-31 10:28:11.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:11.841 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1119 (11.19%) - PASS
2025-10-31 10:28:11.841 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0346 (3.46%) - PASS
2025-10-31 10:28:11.842 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0447 (4.47%) - PASS
2025-10-31 10:28:11.842 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:11.843 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.843 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:11.844 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.844 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:11.845 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 801.96 @ $121.62 (P&L: $-2,488.52)
2025-10-31 10:28:11.845 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,438.74
2025-10-31 10:28:11.846 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$97,585.07, Cash=$97,438.74, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.846 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:11.847 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:11.847 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:11.848 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:11.848 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:11.849 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 743.33
2025-10-31 10:28:11.849 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.59
2025-10-31 10:28:11.850 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,682.66
2025-10-31 10:28:11.850 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 741.47 @ $131.28
2025-10-31 10:28:11.851 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.851 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.852 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,438.74, Cash end=$-0.00
2025-10-31 10:28:11.852 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.853 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:11.853 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.854 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 741.47 shares @ $131.28 (Value: $97,341.40)
2025-10-31 10:28:11.854 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.854 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,341.40
2025-10-31 10:28:11.855 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.855 | INFO     | src.backtesting.engine:run:336 -      Change: $-243.67
2025-10-31 10:28:11.856 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.857 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:11.857 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,844.40
2025-10-31 10:28:11.858 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.858 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.859 | INFO     | src.backtesting.engine:run:293 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:11.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.062080363269852556
2025-10-31 10:28:11.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11404037668171707
2025-10-31 10:28:11.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08587886730594763
2025-10-31 10:28:11.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:11.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0621 (6.21%) - PASS
2025-10-31 10:28:11.866 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1140 (11.40%) - PASS
2025-10-31 10:28:11.866 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:11.867 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.867 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.868 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.868 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.869 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:11.869 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 741.47 @ $127.85 (P&L: $-2,544.42)
2025-10-31 10:28:11.870 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,702.18
2025-10-31 10:28:11.870 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$94,844.40, Cash=$94,702.18, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.871 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.871 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.872 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.872 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.79 ? $130.86 (slippage: 0.050%)
2025-10-31 10:28:11.873 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:11.873 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 724.78
2025-10-31 10:28:11.874 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.84
2025-10-31 10:28:11.874 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,939.24
2025-10-31 10:28:11.875 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 722.97 @ $130.86
2025-10-31 10:28:11.875 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.877 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.877 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,702.18, Cash end=$-0.00
2025-10-31 10:28:11.878 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.878 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:11.879 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.879 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 722.97 shares @ $130.86 (Value: $94,607.57)
2025-10-31 10:28:11.879 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.880 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,607.57
2025-10-31 10:28:11.880 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.881 | INFO     | src.backtesting.engine:run:336 -      Change: $-236.83
2025-10-31 10:28:11.881 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.883 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:11.883 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,111.15
2025-10-31 10:28:11.884 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.884 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.884 | INFO     | src.backtesting.engine:run:293 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:11.886 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10230277701936319
2025-10-31 10:28:11.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09632721679950307
2025-10-31 10:28:11.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07945606670536898
2025-10-31 10:28:11.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:11.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1023 (10.23%) - PASS
2025-10-31 10:28:11.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0963 (9.63%) - PASS
2025-10-31 10:28:11.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0795 (7.95%) - PASS
2025-10-31 10:28:11.892 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:11.893 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.893 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:11.894 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.894 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:11.895 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 722.97 @ $128.73 (P&L: $-1,542.98)
2025-10-31 10:28:11.895 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,971.53
2025-10-31 10:28:11.896 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$93,111.15, Cash=$92,971.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.896 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:11.897 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:11.897 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:11.898 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:11.898 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:11.899 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.77
2025-10-31 10:28:11.899 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.11
2025-10-31 10:28:11.900 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,204.26
2025-10-31 10:28:11.900 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.99 @ $131.00
2025-10-31 10:28:11.901 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.901 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.902 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,971.53, Cash end=$-0.00
2025-10-31 10:28:11.902 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.903 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:11.903 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.904 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.99 shares @ $131.00 (Value: $92,878.65)
2025-10-31 10:28:11.904 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.905 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,878.65
2025-10-31 10:28:11.905 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.906 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.50
2025-10-31 10:28:11.906 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.907 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:11.908 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,774.56
2025-10-31 10:28:11.908 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.909 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.909 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:11.911 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05578194617471177
2025-10-31 10:28:11.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07522900530727417
2025-10-31 10:28:11.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08673886201403636
2025-10-31 10:28:11.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:11.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0558 (5.58%) - PASS
2025-10-31 10:28:11.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0752 (7.52%) - PASS
2025-10-31 10:28:11.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0867 (8.67%) - PASS
2025-10-31 10:28:11.917 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:11.918 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.918 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:11.919 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.919 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:11.920 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.99 @ $127.97 (P&L: $-2,149.48)
2025-10-31 10:28:11.920 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,638.44
2025-10-31 10:28:11.921 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$90,774.56, Cash=$90,638.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.921 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:11.922 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:11.922 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:11.923 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:11.923 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:11.924 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 705.94
2025-10-31 10:28:11.924 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.77
2025-10-31 10:28:11.925 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,865.33
2025-10-31 10:28:11.925 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 704.18 @ $128.59
2025-10-31 10:28:11.926 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.926 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:11.927 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,638.44, Cash end=$-0.00
2025-10-31 10:28:11.927 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.928 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:11.928 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.928 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 704.18 shares @ $128.59 (Value: $90,547.89)
2025-10-31 10:28:11.929 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.929 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,547.89
2025-10-31 10:28:11.930 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:11.930 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.66
2025-10-31 10:28:11.931 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.932 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:11.932 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,297.65
2025-10-31 10:28:11.933 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:11.933 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.934 | INFO     | src.backtesting.engine:run:293 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:11.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.936 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.937 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09337633282852487
2025-10-31 10:28:11.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05925575928114202
2025-10-31 10:28:11.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04087147827096205
2025-10-31 10:28:11.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:11.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0934 (9.34%) - PASS
2025-10-31 10:28:11.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:11.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0409 (4.09%) - PASS
2025-10-31 10:28:11.942 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:11.942 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.943 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:11.943 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.944 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:11.944 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 704.18 @ $128.17 (P&L: $-295.39)
2025-10-31 10:28:11.945 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,162.25
2025-10-31 10:28:11.945 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$90,297.65, Cash=$90,162.25, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.946 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:11.946 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:11.947 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:11.947 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.23 ? $129.29 (slippage: 0.050%)
2025-10-31 10:28:11.948 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:11.948 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.41
2025-10-31 10:28:11.949 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.30
2025-10-31 10:28:11.949 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,387.94
2025-10-31 10:28:11.950 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 696.66 @ $129.29
2025-10-31 10:28:11.950 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.951 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:11.951 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,162.25, Cash end=$0.00
2025-10-31 10:28:11.952 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.952 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:11.953 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.953 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 696.66 shares @ $129.29 (Value: $90,072.17)
2025-10-31 10:28:11.954 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.954 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,072.17
2025-10-31 10:28:11.955 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:11.955 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.47
2025-10-31 10:28:11.955 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.957 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:11.957 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,772.33
2025-10-31 10:28:11.958 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:11.958 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.958 | INFO     | src.backtesting.engine:run:293 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:11.960 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.961 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.962 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08460905845341782
2025-10-31 10:28:11.963 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058143063523203864
2025-10-31 10:28:11.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08521457036160784
2025-10-31 10:28:11.964 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:11.965 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0846 (8.46%) - PASS
2025-10-31 10:28:11.965 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0581 (5.81%) - PASS
2025-10-31 10:28:11.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0852 (8.52%) - PASS
2025-10-31 10:28:11.966 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:11.967 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.967 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:11.968 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.968 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:11.969 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 696.66 @ $131.67 (P&L: $1,654.27)
2025-10-31 10:28:11.969 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,634.71
2025-10-31 10:28:11.970 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,772.33, Cash=$91,634.71, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.970 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:11.971 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:11.971 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:11.972 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.28 ? $135.34 (slippage: 0.050%)
2025-10-31 10:28:11.972 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:11.973 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 678.07
2025-10-31 10:28:11.973 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.77
2025-10-31 10:28:11.974 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,864.10
2025-10-31 10:28:11.974 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 676.37 @ $135.34
2025-10-31 10:28:11.975 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:11.975 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:11.976 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,634.71, Cash end=$0.00
2025-10-31 10:28:11.976 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:11.977 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:11.977 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:11.978 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 676.37 shares @ $135.34 (Value: $91,543.17)
2025-10-31 10:28:11.978 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:11.979 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,543.17
2025-10-31 10:28:11.979 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:11.980 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.16
2025-10-31 10:28:11.980 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:11.981 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:11.982 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,459.48
2025-10-31 10:28:11.982 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:11.983 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:11.983 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:11.985 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:11.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.986 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:11.987 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.048523400437661346
2025-10-31 10:28:11.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06375280245768722
2025-10-31 10:28:11.988 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04266694489239309
2025-10-31 10:28:11.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:11.989 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0485 (4.85%) - PASS
2025-10-31 10:28:11.990 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:11.990 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0427 (4.27%) - PASS
2025-10-31 10:28:11.991 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:11.991 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:11.992 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:11.992 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:11.993 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:11.993 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.37 @ $129.24 (P&L: $-4,127.42)
2025-10-31 10:28:11.994 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,328.33
2025-10-31 10:28:11.994 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$87,459.48, Cash=$87,328.33, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:11.995 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:11.995 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:11.996 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:11.996 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.36 ? $130.43 (slippage: 0.050%)
2025-10-31 10:28:11.997 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:11.997 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 670.55
2025-10-31 10:28:11.998 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.46
2025-10-31 10:28:11.998 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,546.94
2025-10-31 10:28:11.999 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 668.87 @ $130.43
2025-10-31 10:28:11.999 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.000 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:12.000 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,328.33, Cash end=$0.00
2025-10-31 10:28:12.001 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.001 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:12.002 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.002 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 668.87 shares @ $130.43 (Value: $87,241.09)
2025-10-31 10:28:12.003 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.003 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,241.09
2025-10-31 10:28:12.004 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:12.004 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.39
2025-10-31 10:28:12.005 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.006 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:12.006 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,297.49
2025-10-31 10:28:12.007 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:12.007 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.008 | INFO     | src.backtesting.engine:run:293 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:12.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.011 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.012 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08550496050562328
2025-10-31 10:28:12.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.029203921523580645
2025-10-31 10:28:12.013 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.052898492074856085
2025-10-31 10:28:12.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:12.014 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0855 (8.55%) - PASS
2025-10-31 10:28:12.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0292 (2.92%) - PASS
2025-10-31 10:28:12.015 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0529 (5.29%) - PASS
2025-10-31 10:28:12.016 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.016 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.016 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.017 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.017 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:12.018 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 668.87 @ $131.94 (P&L: $1,012.25)
2025-10-31 10:28:12.018 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $88,165.09
2025-10-31 10:28:12.019 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$88,297.49, Cash=$88,165.09, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.019 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.020 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:12.021 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:12.021 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.46 ? $132.53 (slippage: 0.050%)
2025-10-31 10:28:12.022 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:12.022 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.25
2025-10-31 10:28:12.022 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $88.30
2025-10-31 10:28:12.023 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,385.79
2025-10-31 10:28:12.024 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.58 @ $132.53
2025-10-31 10:28:12.024 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.025 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.025 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$88,165.09, Cash end=$-0.00
2025-10-31 10:28:12.026 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.026 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:12.026 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.027 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.58 shares @ $132.53 (Value: $88,077.01)
2025-10-31 10:28:12.027 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.028 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,077.01
2025-10-31 10:28:12.028 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.029 | INFO     | src.backtesting.engine:run:336 -      Change: $-220.48
2025-10-31 10:28:12.029 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.030 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:12.031 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,236.89
2025-10-31 10:28:12.031 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.032 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.032 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89, P&L: $2,159.88)
2025-10-31 10:28:12.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09675418215912424
2025-10-31 10:28:12.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0711032800562954
2025-10-31 10:28:12.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08209555160058413
2025-10-31 10:28:12.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:12.039 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0968 (9.68%) - PASS
2025-10-31 10:28:12.039 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0711 (7.11%) - PASS
2025-10-31 10:28:12.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0821 (8.21%) - PASS
2025-10-31 10:28:12.040 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.041 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.041 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.042 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.042 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89)
2025-10-31 10:28:12.043 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$90,236.89, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:12.043 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.044 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.044 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:12.045 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.58 shares worth $90,236.89
2025-10-31 10:28:12.045 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:12.046 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:12.046 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:12.047 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.25
2025-10-31 10:28:12.047 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.58
2025-10-31 10:28:12.048 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:12.048 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:12.049 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.07
2025-10-31 10:28:12.049 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.33 shares at $135.71 (proceeds: $45.03)
2025-10-31 10:28:12.050 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:12.050 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.03
2025-10-31 10:28:12.051 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.07, Cash end=$45.03
2025-10-31 10:28:12.051 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.052 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.052 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,236.82
2025-10-31 10:28:12.052 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:12.053 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:12.053 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.055 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:12.055 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,105.47
2025-10-31 10:28:12.056 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:12.056 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.056 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44, P&L: $4,027.44)
2025-10-31 10:28:12.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08245274168982375
2025-10-31 10:28:12.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07346223866474255
2025-10-31 10:28:12.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.043413197059924746
2025-10-31 10:28:12.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:12.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0825 (8.25%) - PASS
2025-10-31 10:28:12.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0735 (7.35%) - PASS
2025-10-31 10:28:12.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0434 (4.34%) - PASS
2025-10-31 10:28:12.064 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.065 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.065 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.066 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.066 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44)
2025-10-31 10:28:12.067 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$92,105.47, Cash=$45.03, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:12.067 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.068 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.068 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:12.069 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.25 shares worth $92,060.44
2025-10-31 10:28:12.069 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD SPY [relative_top]
2025-10-31 10:28:12.070 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $138.59 ? $138.66 (slippage: 0.050%)
2025-10-31 10:28:12.070 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:12.071 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.24
2025-10-31 10:28:12.071 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.25
2025-10-31 10:28:12.072 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.01
2025-10-31 10:28:12.072 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:12.073 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1.00
2025-10-31 10:28:12.073 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:12.074 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.03
2025-10-31 10:28:12.074 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.075 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.075 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,105.47
2025-10-31 10:28:12.075 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:12.076 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:12.076 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.078 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:12.078 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,209.39
2025-10-31 10:28:12.079 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:12.079 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.079 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:12.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.046770856134837224
2025-10-31 10:28:12.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09687053348885044
2025-10-31 10:28:12.085 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04184317094333867
2025-10-31 10:28:12.085 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:12.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0468 (4.68%) - PASS
2025-10-31 10:28:12.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0969 (9.69%) - PASS
2025-10-31 10:28:12.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:12.087 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.088 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.088 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.089 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.089 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:12.090 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.25 @ $134.17 (P&L: $1,086.79)
2025-10-31 10:28:12.090 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,075.69
2025-10-31 10:28:12.091 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$89,209.39, Cash=$89,075.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:12.091 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.092 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:12.092 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:12.093 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:12.093 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.86
2025-10-31 10:28:12.094 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 646.42
2025-10-31 10:28:12.094 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.21
2025-10-31 10:28:12.095 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,298.60
2025-10-31 10:28:12.095 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 644.81 @ $138.01
2025-10-31 10:28:12.096 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.096 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.097 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,075.69, Cash end=$-0.00
2025-10-31 10:28:12.097 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.098 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:12.098 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.099 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 644.81 shares @ $138.01 (Value: $88,986.71)
2025-10-31 10:28:12.099 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.100 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,986.71
2025-10-31 10:28:12.100 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.100 | INFO     | src.backtesting.engine:run:336 -      Change: $-222.69
2025-10-31 10:28:12.101 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.102 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:12.103 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,617.00
2025-10-31 10:28:12.103 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.104 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.104 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00, P&L: $-369.70)
2025-10-31 10:28:12.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06541858782151833
2025-10-31 10:28:12.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09774311842405137
2025-10-31 10:28:12.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08593314284028253
2025-10-31 10:28:12.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:12.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0654 (6.54%) - PASS
2025-10-31 10:28:12.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0977 (9.77%) - PASS
2025-10-31 10:28:12.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:12.112 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.112 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.113 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.113 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.114 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00)
2025-10-31 10:28:12.114 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$88,617.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:12.115 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.115 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.116 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:12.116 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 644.81 shares worth $88,617.00
2025-10-31 10:28:12.117 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:12.117 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.43 ? $137.50 (slippage: 0.050%)
2025-10-31 10:28:12.118 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:12.118 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 644.48
2025-10-31 10:28:12.119 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 644.81
2025-10-31 10:28:12.119 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:12.120 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:12.120 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.26
2025-10-31 10:28:12.121 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $137.36 (proceeds: $44.22)
2025-10-31 10:28:12.121 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:12.122 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.22
2025-10-31 10:28:12.122 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.26, Cash end=$44.22
2025-10-31 10:28:12.123 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.123 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.124 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,616.94
2025-10-31 10:28:12.124 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.22
2025-10-31 10:28:12.125 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:12.125 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.126 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:12.127 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,376.47
2025-10-31 10:28:12.127 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.22
2025-10-31 10:28:12.128 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.128 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:12.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026449575231996203
2025-10-31 10:28:12.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06097758703104095
2025-10-31 10:28:12.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0810725080136625
2025-10-31 10:28:12.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:12.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0264 (2.64%) - PASS
2025-10-31 10:28:12.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0610 (6.10%) - PASS
2025-10-31 10:28:12.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0811 (8.11%) - PASS
2025-10-31 10:28:12.136 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.136 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.137 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.137 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.138 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:12.138 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 644.48 @ $140.09 (P&L: $1,344.85)
2025-10-31 10:28:12.139 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,241.02
2025-10-31 10:28:12.139 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$90,376.47, Cash=$90,241.02, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:12.140 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.140 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:12.141 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:12.141 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.55 ? $141.62 (slippage: 0.050%)
2025-10-31 10:28:12.142 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:12.142 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.17
2025-10-31 10:28:12.143 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.38
2025-10-31 10:28:12.143 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,466.85
2025-10-31 10:28:12.144 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 636.57 @ $141.62
2025-10-31 10:28:12.144 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.145 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.145 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,241.02, Cash end=$-0.00
2025-10-31 10:28:12.146 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.146 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:12.147 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.147 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 636.57 shares @ $141.62 (Value: $90,150.87)
2025-10-31 10:28:12.148 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.148 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,150.87
2025-10-31 10:28:12.149 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.149 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.60
2025-10-31 10:28:12.150 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.151 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:12.151 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,816.41
2025-10-31 10:28:12.152 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.152 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.153 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41, P&L: $-334.46)
2025-10-31 10:28:12.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.060629103850839305
2025-10-31 10:28:12.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04278850978852278
2025-10-31 10:28:12.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06600451891900727
2025-10-31 10:28:12.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:12.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0606 (6.06%) - PASS
2025-10-31 10:28:12.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0428 (4.28%) - PASS
2025-10-31 10:28:12.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0660 (6.60%) - PASS
2025-10-31 10:28:12.160 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.161 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.161 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.162 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.162 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41)
2025-10-31 10:28:12.163 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$89,816.41, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:12.163 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.164 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.164 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:12.165 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 636.57 shares worth $89,816.41
2025-10-31 10:28:12.166 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:12.166 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.09 ? $141.16 (slippage: 0.050%)
2025-10-31 10:28:12.166 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:12.167 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.25
2025-10-31 10:28:12.167 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 636.57
2025-10-31 10:28:12.168 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:12.168 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:12.169 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.86
2025-10-31 10:28:12.169 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.32 shares at $141.02 (proceeds: $44.82)
2025-10-31 10:28:12.170 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:12.170 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.82
2025-10-31 10:28:12.171 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.86, Cash end=$44.82
2025-10-31 10:28:12.171 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.172 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.172 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,816.34
2025-10-31 10:28:12.173 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.82
2025-10-31 10:28:12.173 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:12.174 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.175 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:12.175 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,931.33
2025-10-31 10:28:12.176 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.82
2025-10-31 10:28:12.176 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.177 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:12.179 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.179 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.180 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.181 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.181 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.04354100310713305
2025-10-31 10:28:12.182 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05817277610654825
2025-10-31 10:28:12.182 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.050749269499728245
2025-10-31 10:28:12.183 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:12.183 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0435 (4.35%) - PASS
2025-10-31 10:28:12.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0582 (5.82%) - PASS
2025-10-31 10:28:12.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0507 (5.07%) - PASS
2025-10-31 10:28:12.185 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.185 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.186 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.186 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.187 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:12.187 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 636.25 @ $138.06 (P&L: $-2,263.24)
2025-10-31 10:28:12.188 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,799.55
2025-10-31 10:28:12.188 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$87,931.33, Cash=$87,799.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:12.189 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.189 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:12.190 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:12.190 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:12.191 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:12.191 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.91
2025-10-31 10:28:12.192 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.93
2025-10-31 10:28:12.192 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,019.26
2025-10-31 10:28:12.193 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 635.32 @ $138.06
2025-10-31 10:28:12.193 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.194 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.194 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,799.55, Cash end=$-0.00
2025-10-31 10:28:12.195 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.195 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:12.195 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.196 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 635.32 shares @ $138.06 (Value: $87,711.83)
2025-10-31 10:28:12.196 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.197 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,711.83
2025-10-31 10:28:12.197 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.198 | INFO     | src.backtesting.engine:run:336 -      Change: $-219.50
2025-10-31 10:28:12.198 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.199 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:12.200 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,568.42
2025-10-31 10:28:12.200 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.201 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.201 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42, P&L: $3,856.59)
2025-10-31 10:28:12.203 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.204 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.205 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.205 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.206 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05618000180644045
2025-10-31 10:28:12.206 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06382148319011183
2025-10-31 10:28:12.207 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.021775481826179943
2025-10-31 10:28:12.207 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:12.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0562 (5.62%) - PASS
2025-10-31 10:28:12.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:12.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0218 (2.18%) - PASS
2025-10-31 10:28:12.209 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.210 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.210 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.211 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.211 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42)
2025-10-31 10:28:12.212 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$91,568.42, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:12.212 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.213 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.213 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:12.214 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.32 shares worth $91,568.42
2025-10-31 10:28:12.214 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:12.215 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:12.215 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:12.216 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.01
2025-10-31 10:28:12.216 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.32
2025-10-31 10:28:12.217 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:12.217 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:12.218 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.74
2025-10-31 10:28:12.218 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $144.06 (proceeds: $45.69)
2025-10-31 10:28:12.219 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:12.219 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.69
2025-10-31 10:28:12.220 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.74, Cash end=$45.69
2025-10-31 10:28:12.220 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.220 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.221 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,568.35
2025-10-31 10:28:12.221 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:12.222 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:12.222 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.224 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:12.224 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,663.80
2025-10-31 10:28:12.224 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:12.225 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.225 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10, P&L: $4,950.10)
2025-10-31 10:28:12.227 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.228 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.229 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.229 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.230 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05731563951086516
2025-10-31 10:28:12.230 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08652535999780908
2025-10-31 10:28:12.231 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028712997605179646
2025-10-31 10:28:12.231 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:12.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0573 (5.73%) - PASS
2025-10-31 10:28:12.232 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0865 (8.65%) - PASS
2025-10-31 10:28:12.233 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0287 (2.87%) - PASS
2025-10-31 10:28:12.233 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.234 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.234 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.235 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.235 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10)
2025-10-31 10:28:12.236 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$92,663.80, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:12.236 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.237 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.237 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:12.238 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,618.10
2025-10-31 10:28:12.238 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:12.239 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:12.239 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:12.240 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:12.240 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:12.241 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:12.241 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:12.242 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:12.242 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:12.243 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:12.243 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.244 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.244 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,663.80
2025-10-31 10:28:12.245 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:12.252 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:12.253 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.254 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:12.255 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,665.19
2025-10-31 10:28:12.255 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:12.256 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.256 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50, P&L: $4,951.50)
2025-10-31 10:28:12.258 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.259 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.259 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.260 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.261 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06283582279220967
2025-10-31 10:28:12.261 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0840282160513397
2025-10-31 10:28:12.262 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0781538240647981
2025-10-31 10:28:12.262 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:12.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0628 (6.28%) - PASS
2025-10-31 10:28:12.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0840 (8.40%) - PASS
2025-10-31 10:28:12.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0782 (7.82%) - PASS
2025-10-31 10:28:12.264 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.264 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.265 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.265 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.266 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50)
2025-10-31 10:28:12.266 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$92,665.19, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:12.267 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.267 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.268 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:12.268 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,619.50
2025-10-31 10:28:12.269 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:12.269 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.86 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:12.270 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:12.270 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:12.271 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:12.271 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:12.272 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:12.272 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:12.273 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:12.273 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:12.274 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.274 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.275 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,665.19
2025-10-31 10:28:12.275 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:12.276 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:12.276 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.277 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:12.278 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,844.44
2025-10-31 10:28:12.278 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:12.279 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.279 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:12.281 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.282 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.282 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.283 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.284 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0797353250554409
2025-10-31 10:28:12.284 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0663792780678536
2025-10-31 10:28:12.285 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06865645520660602
2025-10-31 10:28:12.285 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:12.286 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0797 (7.97%) - PASS
2025-10-31 10:28:12.286 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0664 (6.64%) - PASS
2025-10-31 10:28:12.287 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0687 (6.87%) - PASS
2025-10-31 10:28:12.287 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.288 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.288 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.288 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.289 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:12.290 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 635.01 @ $142.92 (P&L: $3,085.34)
2025-10-31 10:28:12.290 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,708.28
2025-10-31 10:28:12.290 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$90,844.44, Cash=$90,708.28, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:12.291 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.291 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:12.292 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:12.293 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $146.97 ? $147.04 (slippage: 0.050%)
2025-10-31 10:28:12.293 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:12.294 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 617.82
2025-10-31 10:28:12.294 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.84
2025-10-31 10:28:12.294 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,935.28
2025-10-31 10:28:12.295 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 616.28 @ $147.04
2025-10-31 10:28:12.295 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.296 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:12.296 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,708.28, Cash end=$0.00
2025-10-31 10:28:12.297 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.297 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:12.298 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.298 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 616.28 shares @ $147.04 (Value: $90,617.67)
2025-10-31 10:28:12.299 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.299 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,617.67
2025-10-31 10:28:12.300 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:12.300 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.77
2025-10-31 10:28:12.301 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.302 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:12.302 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,098.27
2025-10-31 10:28:12.303 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:12.303 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.304 | INFO     | src.backtesting.engine:run:293 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:12.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.306 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.307 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.308 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.061678785162375904
2025-10-31 10:28:12.309 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0630140413189888
2025-10-31 10:28:12.309 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06351458377721841
2025-10-31 10:28:12.310 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:12.310 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0617 (6.17%) - PASS
2025-10-31 10:28:12.311 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0630 (6.30%) - PASS
2025-10-31 10:28:12.311 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0635 (6.35%) - PASS
2025-10-31 10:28:12.312 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.312 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.313 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.313 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.314 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:12.314 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 616.28 @ $146.12 (P&L: $-564.45)
2025-10-31 10:28:12.315 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,963.16
2025-10-31 10:28:12.315 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$90,098.27, Cash=$89,963.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.316 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.316 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:12.317 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:12.317 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:12.318 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:12.318 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 611.99
2025-10-31 10:28:12.319 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.10
2025-10-31 10:28:12.319 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,188.36
2025-10-31 10:28:12.320 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 610.46 @ $147.22
2025-10-31 10:28:12.320 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.321 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:12.321 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,963.16, Cash end=$0.00
2025-10-31 10:28:12.322 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.322 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:12.322 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.323 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 610.46 shares @ $147.22 (Value: $89,873.29)
2025-10-31 10:28:12.323 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.324 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,873.29
2025-10-31 10:28:12.324 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:12.325 | INFO     | src.backtesting.engine:run:336 -      Change: $-224.98
2025-10-31 10:28:12.325 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.326 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:12.327 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,403.63
2025-10-31 10:28:12.327 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:12.328 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.328 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63, P&L: $1,530.34)
2025-10-31 10:28:12.330 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.331 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.332 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.332 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05049848489114539
2025-10-31 10:28:12.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050013878843399695
2025-10-31 10:28:12.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08398809728515122
2025-10-31 10:28:12.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:12.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0505 (5.05%) - PASS
2025-10-31 10:28:12.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0500 (5.00%) - PASS
2025-10-31 10:28:12.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0840 (8.40%) - PASS
2025-10-31 10:28:12.336 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.337 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.337 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.338 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.338 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63)
2025-10-31 10:28:12.339 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$91,403.63, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:12.339 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.339 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.340 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:12.341 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 610.46 shares worth $91,403.63
2025-10-31 10:28:12.341 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:12.342 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:12.342 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:12.343 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 610.15
2025-10-31 10:28:12.343 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 610.46
2025-10-31 10:28:12.343 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.31
2025-10-31 10:28:12.344 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:12.344 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.66
2025-10-31 10:28:12.345 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.31 shares at $149.66 (proceeds: $45.61)
2025-10-31 10:28:12.345 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:12.346 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.61
2025-10-31 10:28:12.346 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.66, Cash end=$45.61
2025-10-31 10:28:12.347 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.347 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.348 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,403.56
2025-10-31 10:28:12.348 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.61
2025-10-31 10:28:12.349 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:12.349 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.350 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:12.351 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,696.12
2025-10-31 10:28:12.351 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.61
2025-10-31 10:28:12.352 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.352 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:12.354 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.355 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.355 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.356 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.357 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02348918660372412
2025-10-31 10:28:12.357 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08750655028956023
2025-10-31 10:28:12.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0390661027483481
2025-10-31 10:28:12.358 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:12.359 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0235 (2.35%) - PASS
2025-10-31 10:28:12.359 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0875 (8.75%) - PASS
2025-10-31 10:28:12.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0391 (3.91%) - PASS
2025-10-31 10:28:12.360 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.361 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.361 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.362 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.362 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:12.363 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 610.15 @ $143.58 (P&L: $-2,221.69)
2025-10-31 10:28:12.363 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,564.69
2025-10-31 10:28:12.364 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$87,696.12, Cash=$87,564.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:12.364 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.364 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:12.365 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:12.366 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:12.366 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:12.367 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 583.20
2025-10-31 10:28:12.367 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.70
2025-10-31 10:28:12.367 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,783.82
2025-10-31 10:28:12.368 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 581.74 @ $150.37
2025-10-31 10:28:12.369 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.369 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.369 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,564.69, Cash end=$-0.00
2025-10-31 10:28:12.370 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.370 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:12.371 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.371 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 581.74 shares @ $150.37 (Value: $87,477.21)
2025-10-31 10:28:12.372 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.372 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,477.21
2025-10-31 10:28:12.373 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.373 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.91
2025-10-31 10:28:12.374 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.375 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:12.375 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $85,079.53
2025-10-31 10:28:12.376 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.376 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.377 | INFO     | src.backtesting.engine:run:293 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:12.379 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.379 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:12.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0811051176218518
2025-10-31 10:28:12.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03823797219127867
2025-10-31 10:28:12.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08937036751513094
2025-10-31 10:28:12.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:12.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0811 (8.11%) - PASS
2025-10-31 10:28:12.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0382 (3.82%) - PASS
2025-10-31 10:28:12.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0894 (8.94%) - PASS
2025-10-31 10:28:12.384 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.385 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.385 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.386 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.386 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:12.387 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 581.74 @ $146.18 (P&L: $-2,440.22)
2025-10-31 10:28:12.387 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $84,951.96
2025-10-31 10:28:12.388 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$85,079.53, Cash=$84,951.96, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.388 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.389 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:12.390 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:12.390 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:12.390 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:12.391 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 559.63
2025-10-31 10:28:12.391 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $85.08
2025-10-31 10:28:12.392 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $85,164.61
2025-10-31 10:28:12.392 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 558.24 @ $152.03
2025-10-31 10:28:12.393 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.393 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.394 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$84,951.96, Cash end=$-0.00
2025-10-31 10:28:12.394 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.395 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:12.395 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.396 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 558.24 shares @ $152.03 (Value: $84,867.09)
2025-10-31 10:28:12.396 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.397 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $84,867.09
2025-10-31 10:28:12.397 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.398 | INFO     | src.backtesting.engine:run:336 -      Change: $-212.44
2025-10-31 10:28:12.398 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.399 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 558.24 @ $151.85 (P&L: $-96.75)
2025-10-31 10:28:12.401 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-09-10 to 2023-12-31
2025-10-31 10:28:12.403 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:12.410 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:12.412 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:12.413 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'AGG_quantity', 'AGG_price', 'AGG_value', 'EFA_quantity', 'EFA_price', 'EFA_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:12.414 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 843 records (performance period)
2025-10-31 10:28:12.493 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:12.494 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:12.494 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:12.495 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 843
2025-10-31 10:28:12.495 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:12.496 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (843, 18)
2025-10-31 10:28:12.496 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:12.497 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:12.507 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-09-10    100000.000000  1.000000e+05  ...        NaN      NaN
2021-09-11     96272.216190 -1.455192e-11  ...        NaN      NaN
2021-09-12    101109.070476 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:12.508 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:12.519 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2023-12-29     84299.707862 -1.455192e-11  ...        NaN      NaN
2023-12-30     82574.588149 -1.455192e-11  ...        NaN      NaN
2023-12-31     84812.741501 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:12.520 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:12.520 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $84,812.74 (-15.19% return)
2025-10-31 10:28:12.521 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102811.log
2025-10-31 10:28:12.527 | INFO     | src.backtesting.engine:__init__:101 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-31 10:28:12.528 | INFO     | src.backtesting.engine:__init__:108 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-31 10:28:12.528 | INFO     | src.backtesting.hyperparameter_tuner:__init__:179 - Initialized HyperparameterTuner for DualMomentumStrategy
2025-10-31 10:28:12.531 | INFO     | src.backtesting.hyperparameter_tuner:compare_optimization_methods:814 - Comparing optimization methods: ['grid_search', 'random_search']
2025-10-31 10:28:12.532 | INFO     | src.backtesting.hyperparameter_tuner:compare_optimization_methods:815 - Optimizing metric: sharpe_ratio (maximize)
2025-10-31 10:28:12.532 | INFO     | src.backtesting.hyperparameter_tuner:grid_search:204 - Starting grid search hyperparameter optimization
2025-10-31 10:28:12.533 | INFO     | src.backtesting.hyperparameter_tuner:grid_search:205 - Optimizing metric: sharpe_ratio (maximize)
2025-10-31 10:28:12.533 | INFO     | src.backtesting.hyperparameter_tuner:grid_search:215 - Generated 2 parameter combinations
2025-10-31 10:28:12.534 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:12.534 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:12.542 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102812.log
2025-10-31 10:28:12.543 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:12.543 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:12.545 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:12.546 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:12.547 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:12.547 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:12.548 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:12.549 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:12.549 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:12.550 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:12.550 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:12.551 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:12.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:12.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:12.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:12.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:12.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:12.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:12.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:12.559 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.559 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.560 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.560 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:12.561 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.561 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:12.562 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:12.562 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:12.563 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:12.563 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:12.564 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:12.564 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:12.565 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:12.565 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.566 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.566 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:12.567 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.567 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:12.568 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.568 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:12.569 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.569 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:12.570 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.571 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:12.571 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:12.572 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.572 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.573 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:12.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:12.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:12.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:12.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:12.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:12.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:12.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:12.580 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.581 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.581 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.582 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.582 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:12.583 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:12.583 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:12.584 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.584 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.585 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:12.586 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:12.586 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:12.587 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:12.587 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:12.587 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:12.588 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:12.589 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:12.589 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.590 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:12.590 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:12.591 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.591 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:12.591 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.592 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:12.592 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.593 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:12.593 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:12.594 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:12.594 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.596 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:12.596 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:12.596 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:12.597 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.597 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:12.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:12.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:12.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:12.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:12.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:12.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:12.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:12.605 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.606 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.606 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.607 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.607 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:12.608 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:12.608 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:12.609 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.609 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.610 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:12.610 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:12.611 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:12.611 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:12.612 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:12.612 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:12.613 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:12.613 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:12.614 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.614 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.615 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:12.615 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.616 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:12.616 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.617 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:12.617 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.618 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:12.618 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.619 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:12.619 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.620 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:12.621 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:12.621 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.622 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.622 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:12.624 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.625 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.625 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:12.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:12.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:12.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:12.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:12.629 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:12.630 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:12.630 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.631 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.631 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.632 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.632 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:12.633 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:12.633 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:12.634 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.634 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.635 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:12.635 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:12.636 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:12.636 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:12.637 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:12.637 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:12.638 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:12.638 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:12.639 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.639 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.640 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:12.640 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.641 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:12.641 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.642 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:12.642 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.643 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:12.643 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.644 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:12.644 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.645 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:12.646 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:12.646 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.647 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.647 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:12.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:12.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:12.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:12.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:12.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:12.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:12.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:12.655 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.656 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.656 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.657 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.657 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:12.658 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:12.658 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.659 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.659 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:12.660 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:12.660 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:12.661 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:12.661 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:12.662 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:12.662 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:12.663 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:12.663 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:12.664 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:12.664 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:12.665 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:12.665 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:12.666 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:12.666 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.667 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.667 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:12.668 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:12.668 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:12.668 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.670 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:12.670 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:12.671 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:12.671 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.672 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:12.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.675 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.676 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:12.676 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:12.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:12.677 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:12.678 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:12.678 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:12.679 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:12.679 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.680 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.680 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.681 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.681 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:12.682 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:12.682 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:12.683 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:12.683 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.684 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:12.684 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:12.685 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:12.685 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:12.686 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:12.686 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:12.687 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:12.687 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:12.688 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.688 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:12.689 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:12.689 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.690 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:12.690 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.691 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:12.691 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.692 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:12.692 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:12.693 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:12.693 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.694 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:12.695 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:12.695 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:12.696 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.696 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:12.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.701 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:12.701 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:12.702 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:12.702 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:12.703 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:12.703 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:12.704 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:12.704 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.705 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.705 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.706 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.706 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:12.707 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:12.707 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:12.708 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.708 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.709 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:12.709 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:12.710 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:12.710 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:12.711 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:12.711 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:12.712 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:12.712 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:12.713 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.713 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.714 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:12.714 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.715 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:12.715 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.716 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:12.716 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.717 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:12.717 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.718 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:12.718 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.719 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:12.720 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:12.720 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.721 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.721 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:12.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.725 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.725 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.726 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:12.726 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:12.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:12.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:12.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:12.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:12.729 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:12.729 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.730 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.730 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.731 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.731 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:12.732 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:12.732 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:12.733 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.733 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.734 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:12.734 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:12.735 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:12.735 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:12.736 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:12.736 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:12.737 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:12.737 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:12.738 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.738 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.739 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:12.739 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.740 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:12.740 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.741 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:12.741 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.742 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:12.742 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.743 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:12.743 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.744 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:12.745 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:12.745 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.746 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.746 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:12.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:12.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:12.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:12.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:12.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:12.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:12.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:12.754 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.755 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.755 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.756 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.756 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:12.757 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:12.757 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.758 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.758 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:12.759 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:12.759 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:12.760 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:12.760 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:12.761 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:12.761 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:12.762 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:12.762 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:12.763 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:12.763 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:12.764 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:12.764 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:12.765 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:12.765 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.766 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.766 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:12.767 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:12.767 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:12.767 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.769 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:12.769 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:12.770 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:12.770 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.771 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:12.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:12.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:12.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:12.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:12.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:12.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:12.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:12.778 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.779 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.779 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.780 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.780 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:12.781 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:12.782 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:12.782 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:12.783 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.783 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:12.784 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:12.784 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:12.785 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:12.785 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:12.786 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:12.786 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:12.787 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:12.787 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.788 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.788 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:12.789 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.789 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:12.790 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.790 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:12.791 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.791 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:12.791 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.792 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:12.792 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.794 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:12.794 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:12.795 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.795 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.795 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:12.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.798 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.799 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.799 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.800 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:12.800 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:12.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:12.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:12.802 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:12.802 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:12.803 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:12.803 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.804 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.804 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.805 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.805 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:12.806 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:12.806 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:12.807 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.807 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.808 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:12.808 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:12.809 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:12.809 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:12.810 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:12.810 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:12.811 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:12.811 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:12.812 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.812 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.813 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:12.813 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.814 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:12.814 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.815 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:12.815 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.816 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:12.816 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.817 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:12.817 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.818 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:12.819 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:12.819 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.820 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.820 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:12.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.824 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.824 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.825 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.826 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:12.826 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:12.827 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:12.827 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:12.828 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:12.828 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:12.829 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:12.829 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.830 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.830 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.831 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.831 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:12.832 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:12.832 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:12.833 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.833 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.834 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:12.834 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:12.835 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:12.835 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:12.836 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:12.836 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:12.837 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:12.837 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:12.838 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.838 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.839 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:12.839 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.840 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:12.840 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.841 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:12.841 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.842 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:12.842 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.843 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:12.843 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.844 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:12.845 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:12.845 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.846 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.846 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:12.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:12.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:12.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:12.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:12.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:12.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:12.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:12.854 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.854 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.855 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.855 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.856 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:12.856 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:12.857 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:12.857 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.858 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.858 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:12.859 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:12.860 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:12.860 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:12.860 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:12.861 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:12.861 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:12.862 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:12.863 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.863 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.864 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:12.864 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.864 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:12.865 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.865 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:12.866 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.866 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:12.867 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.867 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:12.868 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.869 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:12.870 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:12.870 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.871 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.871 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:12.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:12.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:12.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:12.877 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:12.877 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:12.878 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:12.878 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:12.879 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:12.879 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.880 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:12.880 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:12.881 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:12.881 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:12.882 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:12.882 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:12.883 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:12.883 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:12.884 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:12.884 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:12.885 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:12.885 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:12.886 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:12.886 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:12.887 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:12.887 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:12.888 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:12.888 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:12.889 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:12.889 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:12.890 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:12.890 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.891 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:12.891 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:12.892 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:12.892 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.893 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:12.894 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:12.894 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:12.895 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.895 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:12.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:12.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:12.901 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:12.901 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:12.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:12.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:12.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:12.903 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.903 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.904 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.904 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.905 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:12.906 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:12.906 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:12.907 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:12.907 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.907 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:12.908 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:12.909 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:12.909 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:12.910 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:12.910 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:12.911 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:12.911 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:12.912 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.912 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.913 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:12.913 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.914 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:12.914 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.914 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:12.915 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.915 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:12.916 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.916 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:12.917 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.918 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:12.919 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:12.919 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.919 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.920 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:12.922 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.923 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.923 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:12.925 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:12.925 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:12.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:12.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:12.927 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:12.927 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:12.928 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.928 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.929 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.929 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.930 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:12.930 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:12.931 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:12.931 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.932 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.932 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:12.933 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:12.933 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:12.934 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:12.934 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:12.935 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:12.935 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:12.936 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:12.936 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.937 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.937 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:12.938 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.938 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:12.939 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.939 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:12.940 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.940 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:12.941 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.941 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:12.942 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.943 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:12.943 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:12.944 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.944 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.945 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:12.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.949 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.949 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:12.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:12.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:12.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:12.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:12.952 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:12.952 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:12.953 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:12.953 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.954 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:12.954 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.955 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:12.955 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:12.956 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:12.956 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.957 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:12.957 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:12.958 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:12.958 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:12.959 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:12.959 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:12.960 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:12.960 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:12.961 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:12.962 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.962 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:12.963 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:12.963 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.963 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:12.964 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.964 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:12.965 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.965 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:12.966 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:12.966 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:12.967 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.968 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:12.968 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:12.969 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:12.969 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.970 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:12.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:12.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:12.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:12.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:12.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:12.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:12.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:12.978 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:12.978 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:12.979 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:12.979 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:12.980 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:12.980 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:12.981 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:12.981 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:12.982 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:12.982 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:12.983 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:12.983 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:12.984 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:12.984 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:12.985 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:12.985 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:12.986 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:12.986 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:12.987 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:12.987 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:12.988 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:12.988 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:12.989 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:12.989 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:12.990 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:12.990 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:12.991 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:12.991 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:12.992 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:12.993 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:12.993 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:12.994 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:12.994 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:12.995 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:12.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:12.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:12.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:13.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:13.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:13.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:13.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:13.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:13.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:13.003 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.003 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.004 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.004 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.005 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:13.005 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:13.006 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:13.006 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.007 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.007 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.008 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.008 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:13.009 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:13.009 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:13.010 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:13.010 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:13.011 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:13.011 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.012 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:13.012 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:13.013 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.013 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:13.014 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.014 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:13.015 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.015 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:13.016 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:13.016 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:13.016 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.018 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:13.018 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:13.019 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:13.019 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.020 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:13.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.022 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:13.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:13.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:13.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:13.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:13.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:13.027 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:13.027 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.028 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.028 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.029 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:13.029 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:13.030 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:13.030 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.031 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:13.031 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:13.032 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:13.033 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:13.033 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:13.034 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:13.034 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:13.035 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:13.035 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:13.035 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:13.036 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:13.036 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:13.037 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:13.037 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:13.038 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:13.038 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:13.039 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.039 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:13.040 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:13.040 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:13.041 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.042 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:13.043 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:13.043 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:13.043 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.044 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:13.046 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.047 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.047 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.048 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.048 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:13.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:13.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:13.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:13.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:13.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:13.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:13.052 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:13.052 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.053 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:13.053 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.054 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:13.054 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:13.055 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:13.055 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:13.056 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:13.056 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:13.057 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:13.057 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:13.058 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:13.058 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:13.059 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:13.059 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:13.060 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:13.060 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.061 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.061 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:13.062 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.062 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:13.063 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.063 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:13.064 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.064 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:13.065 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.065 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:13.066 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.067 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:13.067 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:13.068 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.068 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.069 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:13.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.072 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.073 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.073 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:13.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:13.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:13.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:13.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:13.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:13.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:13.077 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.077 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.078 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.078 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.079 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:13.079 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:13.080 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:13.080 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.081 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.081 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.082 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.082 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:13.083 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:13.083 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:13.084 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:13.084 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:13.085 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:13.085 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.086 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.086 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:13.087 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.087 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:13.088 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.088 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:13.089 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.089 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:13.090 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.090 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:13.091 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.092 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:13.092 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:13.093 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.093 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.094 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:13.096 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.096 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.097 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.097 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.098 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:13.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:13.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:13.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:13.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:13.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:13.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:13.102 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:13.102 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.102 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:13.103 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.103 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:13.104 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:13.105 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:13.105 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.106 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:13.106 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:13.107 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:13.107 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:13.108 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:13.108 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:13.109 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:13.109 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:13.110 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:13.110 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.111 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.111 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:13.112 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.112 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:13.113 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.113 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:13.114 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.114 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:13.115 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.115 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:13.115 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.117 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:13.117 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:13.118 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.118 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.119 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:13.120 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.122 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.122 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.123 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:13.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:13.124 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:13.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:13.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:13.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:13.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:13.127 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.127 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.128 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.128 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.128 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:13.129 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:13.130 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:13.130 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.131 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.131 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.132 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.132 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:13.133 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:13.133 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:13.134 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:13.134 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:13.135 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:13.135 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.136 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.136 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:13.137 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.137 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:13.138 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.138 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:13.139 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.139 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:13.139 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.140 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:13.140 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.142 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:13.142 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:13.143 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.143 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.144 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:13.145 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.146 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.147 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.147 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.148 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:13.148 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:13.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:13.149 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:13.150 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:13.150 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:13.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:13.151 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.152 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.152 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.153 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:13.153 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:13.154 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:13.154 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.155 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:13.155 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:13.156 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:13.157 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:13.157 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:13.157 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:13.158 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:13.158 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:13.159 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:13.159 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:13.160 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:13.160 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:13.161 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:13.161 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:13.162 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:13.162 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:13.163 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.163 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:13.164 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:13.164 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:13.165 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.166 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:13.166 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:13.167 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:13.167 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.168 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:13.170 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.170 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:13.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:13.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:13.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:13.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:13.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:13.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:13.176 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.176 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.177 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.177 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:13.178 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:13.178 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:13.179 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.179 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:13.180 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:13.180 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:13.181 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:13.181 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:13.182 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:13.182 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:13.183 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:13.183 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:13.184 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:13.184 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:13.185 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:13.185 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:13.186 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:13.186 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.187 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:13.187 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:13.188 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:13.188 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.189 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:13.190 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:13.190 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:13.191 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.191 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:13.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.195 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:13.196 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:13.197 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:13.197 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:13.198 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:13.198 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:13.199 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:13.199 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:13.200 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.200 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:13.200 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.201 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:13.202 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:13.202 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:13.203 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:13.203 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:13.204 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:13.204 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:13.205 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:13.205 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:13.206 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:13.206 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:13.207 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:13.207 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:13.208 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.208 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.209 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:13.209 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.210 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:13.210 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.211 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:13.211 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.211 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:13.212 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.212 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:13.213 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.214 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:13.215 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:13.215 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.216 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.216 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:13.218 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:13.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:13.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:13.222 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:13.222 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:13.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:13.223 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:13.224 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.224 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.225 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.225 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.226 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:13.226 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:13.227 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:13.227 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.228 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.228 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.229 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.229 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:13.230 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:13.230 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:13.231 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:13.231 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:13.232 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:13.232 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.233 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:13.233 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:13.234 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.234 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:13.235 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.235 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:13.236 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.236 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:13.237 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:13.237 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:13.238 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.239 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:13.239 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:13.240 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:13.240 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.241 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:13.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:13.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:13.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:13.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:13.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:13.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:13.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:13.249 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:13.249 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.250 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:13.250 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.251 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:13.251 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:13.252 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:13.252 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.253 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:13.253 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:13.254 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:13.254 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:13.255 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:13.255 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:13.256 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:13.256 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:13.257 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:13.257 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.258 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.258 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:13.259 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.259 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:13.260 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.260 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:13.261 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.261 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:13.262 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.262 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:13.263 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.264 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:13.264 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:13.265 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.265 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.266 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:13.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.269 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.270 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.270 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:13.271 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:13.271 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:13.272 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:13.272 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:13.273 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:13.273 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:13.274 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:13.274 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.275 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:13.275 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:13.276 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:13.276 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:13.277 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:13.277 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:13.278 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:13.278 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:13.279 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:13.279 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:13.280 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:13.280 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:13.281 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:13.281 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:13.282 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:13.282 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:13.283 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:13.283 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:13.284 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:13.284 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:13.285 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:13.285 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.286 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:13.286 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:13.287 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:13.287 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.288 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:13.289 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:13.289 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:13.290 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.290 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:13.292 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:13.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:13.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:13.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:13.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:13.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:13.298 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:13.298 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.299 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.299 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.300 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.300 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:13.301 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:13.301 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:13.302 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:13.302 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.303 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.303 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.304 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:13.304 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:13.305 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:13.305 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:13.306 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:13.306 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:13.307 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.307 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:13.308 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:13.308 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.309 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:13.309 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.310 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:13.310 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.311 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:13.311 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:13.312 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:13.312 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.313 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:13.314 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:13.314 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:13.315 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.315 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:13.317 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.318 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.319 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:13.320 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:13.320 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:13.321 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:13.321 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:13.322 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:13.322 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:13.323 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:13.323 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:13.324 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.324 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:13.325 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.325 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:13.326 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:13.326 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:13.327 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.327 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:13.328 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:13.328 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:13.329 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:13.329 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:13.330 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:13.330 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:13.331 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:13.331 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:13.332 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.332 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:13.333 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:13.333 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.334 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:13.334 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.335 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:13.335 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.336 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:13.336 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:13.337 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:13.337 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.338 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:13.340 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:13.342 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:13.349 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:13.352 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:13.352 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:13.353 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:13.445 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:13.446 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:13.446 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:13.447 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:13.447 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:13.448 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:13.448 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:13.449 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:13.459 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:13.460 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:13.471 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:13.472 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:13.472 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:13.473 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102812.log
2025-10-31 10:28:13.473 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:13.474 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:13.482 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102813.log
2025-10-31 10:28:13.482 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:13.483 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:13.485 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:13.485 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-09-10 00:00:00 (after 252 periods of warm-up data)
2025-10-31 10:28:13.486 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:13.487 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:13.487 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:13.489 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-09-10
2025-10-31 10:28:13.489 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-10
2025-10-31 10:28:13.490 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:13.490 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:13.491 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:13.493 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.494 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.494 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0809326756523252
2025-10-31 10:28:13.496 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08149454604873574
2025-10-31 10:28:13.496 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08817543839164688
2025-10-31 10:28:13.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-10 00:00:00:
2025-10-31 10:28:13.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0809 (8.09%) - PASS
2025-10-31 10:28:13.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0815 (8.15%) - PASS
2025-10-31 10:28:13.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0882 (8.82%) - PASS
2025-10-31 10:28:13.499 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:13.499 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.500 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:13.500 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-10: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:13.501 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:13.501 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:13.502 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:13.503 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.53 ? $123.59 (slippage: 0.050%)
2025-10-31 10:28:13.503 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:13.504 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 809.15
2025-10-31 10:28:13.504 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:13.505 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:13.505 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 808.34 @ $123.59
2025-10-31 10:28:13.506 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.506 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.507 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:13.507 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.508 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 808.34 shares @ $123.59 (Value: $99,900.10)
2025-10-31 10:28:13.508 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.509 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:13.509 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.510 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:13.510 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.511 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:13.512 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,594.06
2025-10-31 10:28:13.512 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.513 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.513 | INFO     | src.backtesting.engine:run:293 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:13.515 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.516 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.517 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019551495925198337
2025-10-31 10:28:13.518 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07498293204285922
2025-10-31 10:28:13.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05824612172849841
2025-10-31 10:28:13.519 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:13.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0196 (1.96%) - PASS
2025-10-31 10:28:13.520 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0750 (7.50%) - PASS
2025-10-31 10:28:13.521 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0582 (5.82%) - PASS
2025-10-31 10:28:13.521 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.522 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.522 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.523 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.523 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:13.524 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 808.34 @ $121.91 (P&L: $-1,355.34)
2025-10-31 10:28:13.524 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,446.22
2025-10-31 10:28:13.525 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$98,594.06, Cash=$98,446.22, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.525 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.526 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.526 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.527 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:13.527 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:13.528 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 813.89
2025-10-31 10:28:13.528 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.59
2025-10-31 10:28:13.529 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,692.65
2025-10-31 10:28:13.529 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 811.85 @ $121.14
2025-10-31 10:28:13.530 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.530 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.531 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,446.22, Cash end=$-0.00
2025-10-31 10:28:13.531 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.532 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:13.532 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.533 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 811.85 shares @ $121.14 (Value: $98,347.87)
2025-10-31 10:28:13.533 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.534 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,347.87
2025-10-31 10:28:13.534 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.535 | INFO     | src.backtesting.engine:run:336 -      Change: $-246.19
2025-10-31 10:28:13.535 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.537 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:13.537 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,275.11
2025-10-31 10:28:13.538 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.538 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.539 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11, P&L: $927.24)
2025-10-31 10:28:13.540 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.541 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.542 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.542 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.543 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07511303569502892
2025-10-31 10:28:13.544 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08589327251529832
2025-10-31 10:28:13.544 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06452336484703469
2025-10-31 10:28:13.545 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:13.545 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0751 (7.51%) - PASS
2025-10-31 10:28:13.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0859 (8.59%) - PASS
2025-10-31 10:28:13.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0645 (6.45%) - PASS
2025-10-31 10:28:13.547 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.547 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.548 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.548 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:13.549 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11)
2025-10-31 10:28:13.549 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$99,275.11, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:13.550 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.550 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:13.551 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:13.551 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 811.85 shares worth $99,275.11
2025-10-31 10:28:13.552 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:13.552 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.28 ? $122.34 (slippage: 0.050%)
2025-10-31 10:28:13.553 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:13.553 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 811.45
2025-10-31 10:28:13.554 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 811.85
2025-10-31 10:28:13.554 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.41
2025-10-31 10:28:13.555 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:13.555 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.59
2025-10-31 10:28:13.556 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.41 shares at $122.22 (proceeds: $49.54)
2025-10-31 10:28:13.556 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:13.557 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.54
2025-10-31 10:28:13.557 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.59, Cash end=$49.54
2025-10-31 10:28:13.558 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:13.558 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.559 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,275.03
2025-10-31 10:28:13.559 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.54
2025-10-31 10:28:13.560 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:13.560 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.561 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:13.562 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,453.53
2025-10-31 10:28:13.562 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.54
2025-10-31 10:28:13.563 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.563 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:13.565 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.566 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.567 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.567 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.568 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07533958777997163
2025-10-31 10:28:13.568 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06332847983307777
2025-10-31 10:28:13.569 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06863582586745842
2025-10-31 10:28:13.569 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:13.570 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0753 (7.53%) - PASS
2025-10-31 10:28:13.570 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0633 (6.33%) - PASS
2025-10-31 10:28:13.571 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0686 (6.86%) - PASS
2025-10-31 10:28:13.571 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:13.572 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.572 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:13.573 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.573 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:13.574 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 811.45 @ $123.67 (P&L: $2,055.08)
2025-10-31 10:28:13.574 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,302.98
2025-10-31 10:28:13.575 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$100,453.53, Cash=$100,302.98, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:13.575 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:13.576 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:13.577 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:13.577 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.93 ? $122.99 (slippage: 0.050%)
2025-10-31 10:28:13.578 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:13.578 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 816.77
2025-10-31 10:28:13.579 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.45
2025-10-31 10:28:13.579 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,553.99
2025-10-31 10:28:13.580 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 814.73 @ $122.99
2025-10-31 10:28:13.580 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.581 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.581 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,302.98, Cash end=$-0.00
2025-10-31 10:28:13.582 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.582 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:13.583 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.583 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 814.73 shares @ $122.99 (Value: $100,202.78)
2025-10-31 10:28:13.584 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.584 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,202.78
2025-10-31 10:28:13.585 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.585 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.76
2025-10-31 10:28:13.586 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.587 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:13.587 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,275.19
2025-10-31 10:28:13.588 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.588 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.589 | INFO     | src.backtesting.engine:run:293 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:13.591 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.591 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.592 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.593 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.593 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.037374576779007684
2025-10-31 10:28:13.594 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0865684206777857
2025-10-31 10:28:13.594 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05637830462180449
2025-10-31 10:28:13.595 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:13.595 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0374 (3.74%) - PASS
2025-10-31 10:28:13.596 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0866 (8.66%) - PASS
2025-10-31 10:28:13.596 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0564 (5.64%) - PASS
2025-10-31 10:28:13.597 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.597 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.598 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.598 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.599 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:13.599 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 814.73 @ $123.02 (P&L: $22.28)
2025-10-31 10:28:13.600 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,124.83
2025-10-31 10:28:13.600 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$100,275.19, Cash=$100,124.83, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.601 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.601 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.602 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.602 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $124.66 ? $124.73 (slippage: 0.050%)
2025-10-31 10:28:13.603 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:13.603 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 803.97
2025-10-31 10:28:13.604 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.28
2025-10-31 10:28:13.604 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,375.47
2025-10-31 10:28:13.605 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 801.96 @ $124.73
2025-10-31 10:28:13.606 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.606 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.607 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,124.83, Cash end=$-0.00
2025-10-31 10:28:13.607 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.608 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:13.608 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.609 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 801.96 shares @ $124.73 (Value: $100,024.80)
2025-10-31 10:28:13.609 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.610 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,024.80
2025-10-31 10:28:13.610 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.610 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.39
2025-10-31 10:28:13.611 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.612 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:13.613 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,585.07
2025-10-31 10:28:13.613 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.614 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.614 | INFO     | src.backtesting.engine:run:293 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:13.616 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.617 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.617 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.618 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.619 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11193767893425632
2025-10-31 10:28:13.619 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.034556594930737594
2025-10-31 10:28:13.620 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04474012852421505
2025-10-31 10:28:13.620 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:13.621 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1119 (11.19%) - PASS
2025-10-31 10:28:13.621 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0346 (3.46%) - PASS
2025-10-31 10:28:13.622 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0447 (4.47%) - PASS
2025-10-31 10:28:13.622 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:13.623 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.623 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:13.624 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.624 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:13.625 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 801.96 @ $121.62 (P&L: $-2,488.52)
2025-10-31 10:28:13.625 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,438.74
2025-10-31 10:28:13.626 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$97,585.07, Cash=$97,438.74, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.626 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:13.627 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:13.628 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:13.628 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:13.628 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:13.629 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 743.33
2025-10-31 10:28:13.630 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.59
2025-10-31 10:28:13.630 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,682.66
2025-10-31 10:28:13.631 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 741.47 @ $131.28
2025-10-31 10:28:13.631 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.632 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.632 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,438.74, Cash end=$-0.00
2025-10-31 10:28:13.633 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.633 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:13.634 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.634 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 741.47 shares @ $131.28 (Value: $97,341.40)
2025-10-31 10:28:13.635 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.635 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,341.40
2025-10-31 10:28:13.636 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.636 | INFO     | src.backtesting.engine:run:336 -      Change: $-243.67
2025-10-31 10:28:13.637 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.638 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:13.638 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,844.40
2025-10-31 10:28:13.639 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.639 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.640 | INFO     | src.backtesting.engine:run:293 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:13.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.643 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.644 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.644 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.062080363269852556
2025-10-31 10:28:13.645 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11404037668171707
2025-10-31 10:28:13.646 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08587886730594763
2025-10-31 10:28:13.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:13.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0621 (6.21%) - PASS
2025-10-31 10:28:13.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1140 (11.40%) - PASS
2025-10-31 10:28:13.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:13.649 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.649 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.650 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.650 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.651 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:13.651 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 741.47 @ $127.85 (P&L: $-2,544.42)
2025-10-31 10:28:13.652 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,702.18
2025-10-31 10:28:13.652 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$94,844.40, Cash=$94,702.18, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.653 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.653 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.654 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.654 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.79 ? $130.86 (slippage: 0.050%)
2025-10-31 10:28:13.655 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:13.655 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 724.78
2025-10-31 10:28:13.656 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.84
2025-10-31 10:28:13.656 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,939.24
2025-10-31 10:28:13.657 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 722.97 @ $130.86
2025-10-31 10:28:13.658 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.658 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.659 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,702.18, Cash end=$-0.00
2025-10-31 10:28:13.659 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.660 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:13.660 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.660 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 722.97 shares @ $130.86 (Value: $94,607.57)
2025-10-31 10:28:13.661 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.661 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,607.57
2025-10-31 10:28:13.662 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.662 | INFO     | src.backtesting.engine:run:336 -      Change: $-236.83
2025-10-31 10:28:13.663 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.664 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:13.665 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,111.15
2025-10-31 10:28:13.665 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.666 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.666 | INFO     | src.backtesting.engine:run:293 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:13.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.670 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10230277701936319
2025-10-31 10:28:13.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09632721679950307
2025-10-31 10:28:13.672 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07945606670536898
2025-10-31 10:28:13.672 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:13.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1023 (10.23%) - PASS
2025-10-31 10:28:13.673 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0963 (9.63%) - PASS
2025-10-31 10:28:13.674 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0795 (7.95%) - PASS
2025-10-31 10:28:13.674 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:13.675 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.675 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:13.676 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.676 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:13.677 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 722.97 @ $128.73 (P&L: $-1,542.98)
2025-10-31 10:28:13.677 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,971.53
2025-10-31 10:28:13.678 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$93,111.15, Cash=$92,971.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.678 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:13.679 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:13.679 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:13.680 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:13.680 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:13.681 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.77
2025-10-31 10:28:13.681 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.11
2025-10-31 10:28:13.682 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,204.26
2025-10-31 10:28:13.682 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.99 @ $131.00
2025-10-31 10:28:13.683 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.683 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.684 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,971.53, Cash end=$-0.00
2025-10-31 10:28:13.684 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.685 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:13.685 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.686 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.99 shares @ $131.00 (Value: $92,878.65)
2025-10-31 10:28:13.686 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.687 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,878.65
2025-10-31 10:28:13.687 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.688 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.50
2025-10-31 10:28:13.688 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.689 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:13.690 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,774.56
2025-10-31 10:28:13.690 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.691 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.691 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:13.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05578194617471177
2025-10-31 10:28:13.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07522900530727417
2025-10-31 10:28:13.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08673886201403636
2025-10-31 10:28:13.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:13.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0558 (5.58%) - PASS
2025-10-31 10:28:13.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0752 (7.52%) - PASS
2025-10-31 10:28:13.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0867 (8.67%) - PASS
2025-10-31 10:28:13.699 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:13.700 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.700 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:13.701 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.701 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:13.702 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.99 @ $127.97 (P&L: $-2,149.48)
2025-10-31 10:28:13.702 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,638.44
2025-10-31 10:28:13.703 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$90,774.56, Cash=$90,638.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.703 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:13.704 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:13.705 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:13.705 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:13.706 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:13.706 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 705.94
2025-10-31 10:28:13.707 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.77
2025-10-31 10:28:13.707 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,865.33
2025-10-31 10:28:13.708 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 704.18 @ $128.59
2025-10-31 10:28:13.708 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.709 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.709 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,638.44, Cash end=$-0.00
2025-10-31 10:28:13.710 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.710 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:13.711 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.711 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 704.18 shares @ $128.59 (Value: $90,547.89)
2025-10-31 10:28:13.712 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.712 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,547.89
2025-10-31 10:28:13.713 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.713 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.66
2025-10-31 10:28:13.714 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.715 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:13.715 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,297.65
2025-10-31 10:28:13.716 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.716 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.717 | INFO     | src.backtesting.engine:run:293 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:13.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09337633282852487
2025-10-31 10:28:13.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05925575928114202
2025-10-31 10:28:13.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04087147827096205
2025-10-31 10:28:13.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:13.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0934 (9.34%) - PASS
2025-10-31 10:28:13.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:13.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0409 (4.09%) - PASS
2025-10-31 10:28:13.725 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:13.725 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.726 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:13.726 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.727 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:13.727 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 704.18 @ $128.17 (P&L: $-295.39)
2025-10-31 10:28:13.728 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,162.25
2025-10-31 10:28:13.728 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$90,297.65, Cash=$90,162.25, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.729 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:13.729 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:13.730 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:13.730 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.23 ? $129.29 (slippage: 0.050%)
2025-10-31 10:28:13.731 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:13.731 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.41
2025-10-31 10:28:13.732 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.30
2025-10-31 10:28:13.732 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,387.94
2025-10-31 10:28:13.733 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 696.66 @ $129.29
2025-10-31 10:28:13.733 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.734 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:13.734 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,162.25, Cash end=$0.00
2025-10-31 10:28:13.735 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.735 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:13.736 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.736 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 696.66 shares @ $129.29 (Value: $90,072.17)
2025-10-31 10:28:13.737 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.737 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,072.17
2025-10-31 10:28:13.738 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:13.738 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.47
2025-10-31 10:28:13.739 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.740 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:13.740 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,772.33
2025-10-31 10:28:13.741 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:13.741 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.742 | INFO     | src.backtesting.engine:run:293 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:13.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.745 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.745 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08460905845341782
2025-10-31 10:28:13.747 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058143063523203864
2025-10-31 10:28:13.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08521457036160784
2025-10-31 10:28:13.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:13.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0846 (8.46%) - PASS
2025-10-31 10:28:13.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0581 (5.81%) - PASS
2025-10-31 10:28:13.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0852 (8.52%) - PASS
2025-10-31 10:28:13.750 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:13.751 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.751 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:13.752 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.752 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:13.753 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 696.66 @ $131.67 (P&L: $1,654.27)
2025-10-31 10:28:13.753 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,634.71
2025-10-31 10:28:13.754 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,772.33, Cash=$91,634.71, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.754 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:13.755 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:13.755 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:13.756 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.28 ? $135.34 (slippage: 0.050%)
2025-10-31 10:28:13.756 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:13.757 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 678.07
2025-10-31 10:28:13.757 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.77
2025-10-31 10:28:13.758 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,864.10
2025-10-31 10:28:13.758 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 676.37 @ $135.34
2025-10-31 10:28:13.759 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.759 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:13.760 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,634.71, Cash end=$0.00
2025-10-31 10:28:13.760 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.761 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:13.762 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.763 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 676.37 shares @ $135.34 (Value: $91,543.17)
2025-10-31 10:28:13.763 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.764 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,543.17
2025-10-31 10:28:13.764 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:13.765 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.16
2025-10-31 10:28:13.765 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.766 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:13.767 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,459.48
2025-10-31 10:28:13.767 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:13.768 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.768 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:13.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.048523400437661346
2025-10-31 10:28:13.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06375280245768722
2025-10-31 10:28:13.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04266694489239309
2025-10-31 10:28:13.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:13.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0485 (4.85%) - PASS
2025-10-31 10:28:13.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:13.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0427 (4.27%) - PASS
2025-10-31 10:28:13.776 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.777 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.777 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.778 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.778 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:13.779 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.37 @ $129.24 (P&L: $-4,127.42)
2025-10-31 10:28:13.779 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,328.33
2025-10-31 10:28:13.780 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$87,459.48, Cash=$87,328.33, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.780 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.781 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.782 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.782 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.36 ? $130.43 (slippage: 0.050%)
2025-10-31 10:28:13.783 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:13.783 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 670.55
2025-10-31 10:28:13.784 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.46
2025-10-31 10:28:13.784 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,546.94
2025-10-31 10:28:13.785 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 668.87 @ $130.43
2025-10-31 10:28:13.785 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.786 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:13.786 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,328.33, Cash end=$0.00
2025-10-31 10:28:13.787 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.787 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:13.788 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.788 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 668.87 shares @ $130.43 (Value: $87,241.09)
2025-10-31 10:28:13.789 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.789 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,241.09
2025-10-31 10:28:13.790 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:13.790 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.39
2025-10-31 10:28:13.791 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.792 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:13.792 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,297.49
2025-10-31 10:28:13.793 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:13.793 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.794 | INFO     | src.backtesting.engine:run:293 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:13.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.798 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08550496050562328
2025-10-31 10:28:13.799 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.029203921523580645
2025-10-31 10:28:13.799 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.052898492074856085
2025-10-31 10:28:13.800 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:13.800 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0855 (8.55%) - PASS
2025-10-31 10:28:13.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0292 (2.92%) - PASS
2025-10-31 10:28:13.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0529 (5.29%) - PASS
2025-10-31 10:28:13.802 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:13.802 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.803 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:13.803 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.804 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:13.804 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 668.87 @ $131.94 (P&L: $1,012.25)
2025-10-31 10:28:13.805 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $88,165.09
2025-10-31 10:28:13.805 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$88,297.49, Cash=$88,165.09, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:13.806 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:13.806 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:13.807 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:13.807 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.46 ? $132.53 (slippage: 0.050%)
2025-10-31 10:28:13.808 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:13.808 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.25
2025-10-31 10:28:13.809 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $88.30
2025-10-31 10:28:13.809 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,385.79
2025-10-31 10:28:13.810 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.58 @ $132.53
2025-10-31 10:28:13.810 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.811 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.811 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$88,165.09, Cash end=$-0.00
2025-10-31 10:28:13.812 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.812 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:13.813 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.813 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.58 shares @ $132.53 (Value: $88,077.01)
2025-10-31 10:28:13.814 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.814 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,077.01
2025-10-31 10:28:13.815 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.815 | INFO     | src.backtesting.engine:run:336 -      Change: $-220.48
2025-10-31 10:28:13.816 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.817 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:13.817 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,236.89
2025-10-31 10:28:13.818 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.818 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.819 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89, P&L: $2,159.88)
2025-10-31 10:28:13.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.822 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.822 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09675418215912424
2025-10-31 10:28:13.824 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0711032800562954
2025-10-31 10:28:13.824 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08209555160058413
2025-10-31 10:28:13.825 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:13.825 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0968 (9.68%) - PASS
2025-10-31 10:28:13.826 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0711 (7.11%) - PASS
2025-10-31 10:28:13.826 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0821 (8.21%) - PASS
2025-10-31 10:28:13.827 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:13.827 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.828 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:13.828 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:13.829 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89)
2025-10-31 10:28:13.829 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$90,236.89, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:13.830 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:13.830 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:13.831 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:13.832 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.58 shares worth $90,236.89
2025-10-31 10:28:13.832 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:13.833 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:13.833 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:13.834 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.25
2025-10-31 10:28:13.834 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.58
2025-10-31 10:28:13.835 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:13.835 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:13.836 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.07
2025-10-31 10:28:13.836 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.33 shares at $135.71 (proceeds: $45.03)
2025-10-31 10:28:13.837 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:13.837 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.03
2025-10-31 10:28:13.838 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.07, Cash end=$45.03
2025-10-31 10:28:13.838 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:13.839 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.839 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,236.82
2025-10-31 10:28:13.840 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:13.840 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:13.840 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.842 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:13.842 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,105.47
2025-10-31 10:28:13.843 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:13.843 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.844 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44, P&L: $4,027.44)
2025-10-31 10:28:13.845 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08245274168982375
2025-10-31 10:28:13.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07346223866474255
2025-10-31 10:28:13.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.043413197059924746
2025-10-31 10:28:13.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:13.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0825 (8.25%) - PASS
2025-10-31 10:28:13.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0735 (7.35%) - PASS
2025-10-31 10:28:13.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0434 (4.34%) - PASS
2025-10-31 10:28:13.852 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:13.852 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.853 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:13.853 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:13.854 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44)
2025-10-31 10:28:13.854 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$92,105.47, Cash=$45.03, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:13.855 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:13.855 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:13.856 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:13.856 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.25 shares worth $92,060.44
2025-10-31 10:28:13.857 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD SPY [relative_top]
2025-10-31 10:28:13.857 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $138.59 ? $138.66 (slippage: 0.050%)
2025-10-31 10:28:13.858 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:13.858 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.24
2025-10-31 10:28:13.859 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.25
2025-10-31 10:28:13.859 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.01
2025-10-31 10:28:13.860 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:13.860 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1.00
2025-10-31 10:28:13.861 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:13.861 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.03
2025-10-31 10:28:13.862 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:13.862 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.863 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,105.47
2025-10-31 10:28:13.863 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:13.864 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:13.864 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.865 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:13.866 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,209.39
2025-10-31 10:28:13.866 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:13.867 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.867 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:13.869 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.870 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.046770856134837224
2025-10-31 10:28:13.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09687053348885044
2025-10-31 10:28:13.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04184317094333867
2025-10-31 10:28:13.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:13.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0468 (4.68%) - PASS
2025-10-31 10:28:13.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0969 (9.69%) - PASS
2025-10-31 10:28:13.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:13.875 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.876 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.876 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.877 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.877 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:13.878 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.25 @ $134.17 (P&L: $1,086.79)
2025-10-31 10:28:13.878 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,075.69
2025-10-31 10:28:13.879 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$89,209.39, Cash=$89,075.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:13.879 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.880 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.880 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.881 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:13.881 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.86
2025-10-31 10:28:13.882 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 646.42
2025-10-31 10:28:13.882 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.21
2025-10-31 10:28:13.883 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,298.60
2025-10-31 10:28:13.883 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 644.81 @ $138.01
2025-10-31 10:28:13.884 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.884 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.885 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,075.69, Cash end=$-0.00
2025-10-31 10:28:13.885 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.886 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:13.886 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.887 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 644.81 shares @ $138.01 (Value: $88,986.71)
2025-10-31 10:28:13.887 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.888 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,986.71
2025-10-31 10:28:13.888 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.889 | INFO     | src.backtesting.engine:run:336 -      Change: $-222.69
2025-10-31 10:28:13.889 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.891 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:13.891 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,617.00
2025-10-31 10:28:13.892 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.892 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.892 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00, P&L: $-369.70)
2025-10-31 10:28:13.894 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06541858782151833
2025-10-31 10:28:13.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09774311842405137
2025-10-31 10:28:13.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08593314284028253
2025-10-31 10:28:13.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:13.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0654 (6.54%) - PASS
2025-10-31 10:28:13.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0977 (9.77%) - PASS
2025-10-31 10:28:13.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:13.900 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.901 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.901 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.902 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:13.902 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00)
2025-10-31 10:28:13.903 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$88,617.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:13.903 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.904 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:13.904 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:13.905 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 644.81 shares worth $88,617.00
2025-10-31 10:28:13.906 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:13.906 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.43 ? $137.50 (slippage: 0.050%)
2025-10-31 10:28:13.907 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:13.907 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 644.48
2025-10-31 10:28:13.908 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 644.81
2025-10-31 10:28:13.908 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:13.909 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:13.909 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.26
2025-10-31 10:28:13.910 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $137.36 (proceeds: $44.22)
2025-10-31 10:28:13.910 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:13.911 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.22
2025-10-31 10:28:13.911 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.26, Cash end=$44.22
2025-10-31 10:28:13.912 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:13.912 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.913 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,616.94
2025-10-31 10:28:13.913 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.22
2025-10-31 10:28:13.914 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:13.914 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.915 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:13.916 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,376.47
2025-10-31 10:28:13.916 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.22
2025-10-31 10:28:13.917 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.917 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:13.919 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.921 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.922 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026449575231996203
2025-10-31 10:28:13.922 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06097758703104095
2025-10-31 10:28:13.923 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0810725080136625
2025-10-31 10:28:13.923 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:13.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0264 (2.64%) - PASS
2025-10-31 10:28:13.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0610 (6.10%) - PASS
2025-10-31 10:28:13.925 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0811 (8.11%) - PASS
2025-10-31 10:28:13.925 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:13.926 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.926 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:13.927 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.927 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:13.928 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 644.48 @ $140.09 (P&L: $1,344.85)
2025-10-31 10:28:13.928 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,241.02
2025-10-31 10:28:13.929 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$90,376.47, Cash=$90,241.02, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:13.929 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:13.930 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:13.930 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:13.931 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.55 ? $141.62 (slippage: 0.050%)
2025-10-31 10:28:13.931 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:13.932 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.17
2025-10-31 10:28:13.932 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.38
2025-10-31 10:28:13.933 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,466.85
2025-10-31 10:28:13.933 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 636.57 @ $141.62
2025-10-31 10:28:13.934 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.934 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.935 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,241.02, Cash end=$-0.00
2025-10-31 10:28:13.935 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.936 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:13.936 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.937 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 636.57 shares @ $141.62 (Value: $90,150.87)
2025-10-31 10:28:13.937 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.938 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,150.87
2025-10-31 10:28:13.938 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.939 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.60
2025-10-31 10:28:13.939 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.940 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:13.941 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,816.41
2025-10-31 10:28:13.942 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.942 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.942 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41, P&L: $-334.46)
2025-10-31 10:28:13.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.945 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.946 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.946 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.060629103850839305
2025-10-31 10:28:13.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04278850978852278
2025-10-31 10:28:13.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06600451891900727
2025-10-31 10:28:13.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:13.949 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0606 (6.06%) - PASS
2025-10-31 10:28:13.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0428 (4.28%) - PASS
2025-10-31 10:28:13.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0660 (6.60%) - PASS
2025-10-31 10:28:13.951 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:13.951 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.952 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:13.952 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:13.953 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41)
2025-10-31 10:28:13.953 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$89,816.41, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:13.954 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:13.954 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:13.955 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:13.955 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 636.57 shares worth $89,816.41
2025-10-31 10:28:13.956 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:13.956 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.09 ? $141.16 (slippage: 0.050%)
2025-10-31 10:28:13.957 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:13.957 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.25
2025-10-31 10:28:13.958 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 636.57
2025-10-31 10:28:13.958 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:13.959 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:13.959 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.86
2025-10-31 10:28:13.960 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.32 shares at $141.02 (proceeds: $44.82)
2025-10-31 10:28:13.960 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:13.961 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.82
2025-10-31 10:28:13.961 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.86, Cash end=$44.82
2025-10-31 10:28:13.962 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:13.962 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.963 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,816.34
2025-10-31 10:28:13.963 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.82
2025-10-31 10:28:13.964 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:13.964 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.965 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:13.966 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,931.33
2025-10-31 10:28:13.966 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.82
2025-10-31 10:28:13.967 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.967 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:13.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.970 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.970 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.04354100310713305
2025-10-31 10:28:13.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05817277610654825
2025-10-31 10:28:13.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.050749269499728245
2025-10-31 10:28:13.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:13.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0435 (4.35%) - PASS
2025-10-31 10:28:13.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0582 (5.82%) - PASS
2025-10-31 10:28:13.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0507 (5.07%) - PASS
2025-10-31 10:28:13.975 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:13.976 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:13.976 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:13.977 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:13.977 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:13.978 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 636.25 @ $138.06 (P&L: $-2,263.24)
2025-10-31 10:28:13.978 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,799.55
2025-10-31 10:28:13.979 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$87,931.33, Cash=$87,799.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:13.979 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:13.980 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:13.980 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:13.981 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:13.981 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:13.982 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.91
2025-10-31 10:28:13.982 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.93
2025-10-31 10:28:13.983 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,019.26
2025-10-31 10:28:13.983 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 635.32 @ $138.06
2025-10-31 10:28:13.984 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:13.984 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:13.985 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,799.55, Cash end=$-0.00
2025-10-31 10:28:13.985 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:13.986 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:13.986 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:13.987 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 635.32 shares @ $138.06 (Value: $87,711.83)
2025-10-31 10:28:13.987 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:13.988 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,711.83
2025-10-31 10:28:13.988 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:13.989 | INFO     | src.backtesting.engine:run:336 -      Change: $-219.50
2025-10-31 10:28:13.989 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:13.990 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:13.991 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,568.42
2025-10-31 10:28:13.991 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:13.992 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:13.992 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42, P&L: $3,856.59)
2025-10-31 10:28:13.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:13.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:13.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05618000180644045
2025-10-31 10:28:13.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06382148319011183
2025-10-31 10:28:13.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.021775481826179943
2025-10-31 10:28:13.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:13.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0562 (5.62%) - PASS
2025-10-31 10:28:13.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:14.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0218 (2.18%) - PASS
2025-10-31 10:28:14.000 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.001 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.001 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.002 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:14.002 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42)
2025-10-31 10:28:14.003 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$91,568.42, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:14.003 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.004 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:14.004 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:14.005 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.32 shares worth $91,568.42
2025-10-31 10:28:14.006 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:14.006 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:14.006 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:14.007 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.01
2025-10-31 10:28:14.007 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.32
2025-10-31 10:28:14.008 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:14.008 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:14.009 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.74
2025-10-31 10:28:14.010 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $144.06 (proceeds: $45.69)
2025-10-31 10:28:14.010 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:14.010 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.69
2025-10-31 10:28:14.011 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.74, Cash end=$45.69
2025-10-31 10:28:14.011 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:14.012 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.012 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,568.35
2025-10-31 10:28:14.013 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:14.013 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:14.014 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.015 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:14.016 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,663.80
2025-10-31 10:28:14.016 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:14.017 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.017 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10, P&L: $4,950.10)
2025-10-31 10:28:14.019 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.020 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.020 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05731563951086516
2025-10-31 10:28:14.022 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08652535999780908
2025-10-31 10:28:14.022 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028712997605179646
2025-10-31 10:28:14.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:14.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0573 (5.73%) - PASS
2025-10-31 10:28:14.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0865 (8.65%) - PASS
2025-10-31 10:28:14.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0287 (2.87%) - PASS
2025-10-31 10:28:14.025 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.026 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.026 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.027 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:14.027 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10)
2025-10-31 10:28:14.028 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$92,663.80, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:14.028 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.029 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:14.029 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:14.030 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,618.10
2025-10-31 10:28:14.030 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:14.031 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:14.031 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:14.032 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:14.032 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:14.033 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:14.033 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:14.034 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:14.034 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:14.035 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:14.035 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:14.036 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.036 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,663.80
2025-10-31 10:28:14.037 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:14.037 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:14.038 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.039 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:14.039 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,665.19
2025-10-31 10:28:14.040 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:14.040 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.041 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50, P&L: $4,951.50)
2025-10-31 10:28:14.043 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.043 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.044 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.045 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.045 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06283582279220967
2025-10-31 10:28:14.046 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0840282160513397
2025-10-31 10:28:14.046 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0781538240647981
2025-10-31 10:28:14.047 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:14.047 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0628 (6.28%) - PASS
2025-10-31 10:28:14.048 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0840 (8.40%) - PASS
2025-10-31 10:28:14.048 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0782 (7.82%) - PASS
2025-10-31 10:28:14.049 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.049 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.050 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.050 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:14.051 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50)
2025-10-31 10:28:14.051 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$92,665.19, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:14.052 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.052 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:14.053 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:14.053 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,619.50
2025-10-31 10:28:14.054 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:14.054 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.86 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:14.055 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:14.055 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:14.056 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:14.056 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:14.057 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:14.057 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:14.058 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:14.058 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:14.059 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:14.059 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.060 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,665.19
2025-10-31 10:28:14.060 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:14.061 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:14.061 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.062 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:14.063 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,844.44
2025-10-31 10:28:14.063 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:14.064 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.064 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:14.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0797353250554409
2025-10-31 10:28:14.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0663792780678536
2025-10-31 10:28:14.070 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06865645520660602
2025-10-31 10:28:14.070 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:14.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0797 (7.97%) - PASS
2025-10-31 10:28:14.071 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0664 (6.64%) - PASS
2025-10-31 10:28:14.072 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0687 (6.87%) - PASS
2025-10-31 10:28:14.072 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:14.073 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.073 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:14.074 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.074 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:14.075 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 635.01 @ $142.92 (P&L: $3,085.34)
2025-10-31 10:28:14.075 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,708.28
2025-10-31 10:28:14.076 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$90,844.44, Cash=$90,708.28, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:14.076 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:14.077 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:14.078 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:14.078 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $146.97 ? $147.04 (slippage: 0.050%)
2025-10-31 10:28:14.079 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:14.079 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 617.82
2025-10-31 10:28:14.080 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.84
2025-10-31 10:28:14.080 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,935.28
2025-10-31 10:28:14.081 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 616.28 @ $147.04
2025-10-31 10:28:14.081 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.082 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:14.082 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,708.28, Cash end=$0.00
2025-10-31 10:28:14.083 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.083 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:14.084 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.084 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 616.28 shares @ $147.04 (Value: $90,617.67)
2025-10-31 10:28:14.085 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.085 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,617.67
2025-10-31 10:28:14.086 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:14.086 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.77
2025-10-31 10:28:14.087 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.088 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:14.088 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,098.27
2025-10-31 10:28:14.089 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:14.089 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.090 | INFO     | src.backtesting.engine:run:293 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:14.092 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.092 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.093 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.094 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.094 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.061678785162375904
2025-10-31 10:28:14.095 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0630140413189888
2025-10-31 10:28:14.095 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06351458377721841
2025-10-31 10:28:14.096 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:14.096 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0617 (6.17%) - PASS
2025-10-31 10:28:14.097 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0630 (6.30%) - PASS
2025-10-31 10:28:14.097 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0635 (6.35%) - PASS
2025-10-31 10:28:14.098 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:14.098 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.099 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:14.099 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.100 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:14.100 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 616.28 @ $146.12 (P&L: $-564.45)
2025-10-31 10:28:14.101 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,963.16
2025-10-31 10:28:14.101 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$90,098.27, Cash=$89,963.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.102 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:14.102 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:14.103 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:14.103 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:14.104 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:14.104 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 611.99
2025-10-31 10:28:14.105 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.10
2025-10-31 10:28:14.105 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,188.36
2025-10-31 10:28:14.106 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 610.46 @ $147.22
2025-10-31 10:28:14.106 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.107 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:14.107 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,963.16, Cash end=$0.00
2025-10-31 10:28:14.108 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.108 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:14.109 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.109 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 610.46 shares @ $147.22 (Value: $89,873.29)
2025-10-31 10:28:14.110 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.110 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,873.29
2025-10-31 10:28:14.111 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:14.111 | INFO     | src.backtesting.engine:run:336 -      Change: $-224.98
2025-10-31 10:28:14.112 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.113 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:14.114 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,403.63
2025-10-31 10:28:14.114 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:14.115 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.115 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63, P&L: $1,530.34)
2025-10-31 10:28:14.117 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.118 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.118 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.119 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.119 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05049848489114539
2025-10-31 10:28:14.120 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050013878843399695
2025-10-31 10:28:14.120 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08398809728515122
2025-10-31 10:28:14.121 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:14.122 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0505 (5.05%) - PASS
2025-10-31 10:28:14.122 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0500 (5.00%) - PASS
2025-10-31 10:28:14.122 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0840 (8.40%) - PASS
2025-10-31 10:28:14.123 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:14.124 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.124 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:14.125 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:14.125 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63)
2025-10-31 10:28:14.126 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$91,403.63, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:14.126 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:14.127 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:14.127 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:14.128 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 610.46 shares worth $91,403.63
2025-10-31 10:28:14.128 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:14.129 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:14.129 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:14.130 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 610.15
2025-10-31 10:28:14.130 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 610.46
2025-10-31 10:28:14.131 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.31
2025-10-31 10:28:14.131 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:14.132 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.66
2025-10-31 10:28:14.132 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.31 shares at $149.66 (proceeds: $45.61)
2025-10-31 10:28:14.133 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:14.133 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.61
2025-10-31 10:28:14.134 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.66, Cash end=$45.61
2025-10-31 10:28:14.134 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:14.135 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.135 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,403.56
2025-10-31 10:28:14.136 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.61
2025-10-31 10:28:14.136 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:14.137 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.138 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:14.138 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,696.12
2025-10-31 10:28:14.139 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.61
2025-10-31 10:28:14.139 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.140 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:14.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.143 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.143 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.144 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02348918660372412
2025-10-31 10:28:14.145 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08750655028956023
2025-10-31 10:28:14.145 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0390661027483481
2025-10-31 10:28:14.146 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:14.146 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0235 (2.35%) - PASS
2025-10-31 10:28:14.147 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0875 (8.75%) - PASS
2025-10-31 10:28:14.147 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0391 (3.91%) - PASS
2025-10-31 10:28:14.148 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.148 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.149 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.149 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.150 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:14.150 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 610.15 @ $143.58 (P&L: $-2,221.69)
2025-10-31 10:28:14.151 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,564.69
2025-10-31 10:28:14.151 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$87,696.12, Cash=$87,564.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:14.152 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.152 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:14.153 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:14.153 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:14.154 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:14.154 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 583.20
2025-10-31 10:28:14.155 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.70
2025-10-31 10:28:14.155 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,783.82
2025-10-31 10:28:14.156 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 581.74 @ $150.37
2025-10-31 10:28:14.156 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.157 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.157 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,564.69, Cash end=$-0.00
2025-10-31 10:28:14.158 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.158 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:14.159 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.159 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 581.74 shares @ $150.37 (Value: $87,477.21)
2025-10-31 10:28:14.160 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.160 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,477.21
2025-10-31 10:28:14.161 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.161 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.91
2025-10-31 10:28:14.162 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.163 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:14.163 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $85,079.53
2025-10-31 10:28:14.164 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.164 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.165 | INFO     | src.backtesting.engine:run:293 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:14.167 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.167 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.169 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:14.169 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0811051176218518
2025-10-31 10:28:14.170 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03823797219127867
2025-10-31 10:28:14.170 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08937036751513094
2025-10-31 10:28:14.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:14.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0811 (8.11%) - PASS
2025-10-31 10:28:14.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0382 (3.82%) - PASS
2025-10-31 10:28:14.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0894 (8.94%) - PASS
2025-10-31 10:28:14.173 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:14.173 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.174 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:14.174 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.175 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:14.175 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 581.74 @ $146.18 (P&L: $-2,440.22)
2025-10-31 10:28:14.176 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $84,951.96
2025-10-31 10:28:14.176 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$85,079.53, Cash=$84,951.96, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.177 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:14.177 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:14.178 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:14.178 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:14.179 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:14.179 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 559.63
2025-10-31 10:28:14.180 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $85.08
2025-10-31 10:28:14.180 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $85,164.61
2025-10-31 10:28:14.181 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 558.24 @ $152.03
2025-10-31 10:28:14.182 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.182 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.183 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$84,951.96, Cash end=$-0.00
2025-10-31 10:28:14.183 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.183 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:14.184 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.184 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 558.24 shares @ $152.03 (Value: $84,867.09)
2025-10-31 10:28:14.185 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.185 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $84,867.09
2025-10-31 10:28:14.186 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.186 | INFO     | src.backtesting.engine:run:336 -      Change: $-212.44
2025-10-31 10:28:14.187 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.188 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 558.24 @ $151.85 (P&L: $-96.75)
2025-10-31 10:28:14.190 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-09-10 to 2023-12-31
2025-10-31 10:28:14.191 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:14.199 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:14.201 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:14.202 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'AGG_quantity', 'AGG_price', 'AGG_value', 'EFA_quantity', 'EFA_price', 'EFA_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:14.203 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 843 records (performance period)
2025-10-31 10:28:14.282 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:14.283 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:14.283 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:14.284 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 843
2025-10-31 10:28:14.284 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:14.285 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (843, 18)
2025-10-31 10:28:14.285 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:14.286 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:14.297 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-09-10    100000.000000  1.000000e+05  ...        NaN      NaN
2021-09-11     96272.216190 -1.455192e-11  ...        NaN      NaN
2021-09-12    101109.070476 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:14.297 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:14.308 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2023-12-29     84299.707862 -1.455192e-11  ...        NaN      NaN
2023-12-30     82574.588149 -1.455192e-11  ...        NaN      NaN
2023-12-31     84812.741501 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:14.309 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:14.309 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $84,812.74 (-15.19% return)
2025-10-31 10:28:14.310 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102813.log
2025-10-31 10:28:14.311 | INFO     | src.backtesting.hyperparameter_tuner:random_search:335 - Starting random search hyperparameter optimization
2025-10-31 10:28:14.311 | INFO     | src.backtesting.hyperparameter_tuner:random_search:336 - Optimizing metric: sharpe_ratio (maximize)
2025-10-31 10:28:14.312 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:14.313 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:14.336 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102814.log
2025-10-31 10:28:14.337 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:14.338 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:14.339 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:14.340 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:14.341 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:14.342 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:14.342 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:14.343 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:14.344 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:14.344 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:14.345 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:14.345 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:14.347 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.348 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.350 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:14.350 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:14.351 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:14.351 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:14.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:14.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:14.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:14.353 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.354 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.354 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.355 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:14.355 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.356 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:14.357 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:14.357 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:14.358 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:14.358 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:14.359 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:14.359 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:14.360 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:14.360 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.361 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.361 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:14.362 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.362 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:14.363 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.363 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:14.364 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.364 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:14.365 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.366 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:14.367 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:14.367 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.368 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.368 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:14.370 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.371 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.371 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.372 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.372 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:14.373 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:14.373 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:14.374 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:14.375 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:14.375 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:14.376 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:14.376 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:14.377 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.377 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:14.378 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.378 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:14.379 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:14.379 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:14.380 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.380 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:14.381 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:14.381 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:14.382 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:14.382 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:14.383 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:14.383 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:14.384 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:14.384 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:14.385 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.386 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:14.386 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:14.387 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.387 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:14.388 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.388 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:14.389 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.389 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:14.390 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:14.390 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:14.391 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.392 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:14.392 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:14.393 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:14.393 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.394 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:14.396 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.396 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.397 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:14.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:14.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:14.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:14.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:14.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:14.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:14.402 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.402 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.403 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.403 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.404 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:14.404 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:14.405 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:14.405 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.406 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.406 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:14.407 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:14.408 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:14.408 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:14.409 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:14.409 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:14.410 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:14.410 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:14.411 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.411 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.412 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:14.412 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.413 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:14.413 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.414 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:14.414 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.415 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:14.415 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.416 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:14.416 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.417 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:14.418 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:14.418 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.419 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.419 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:14.421 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.422 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:14.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:14.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:14.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:14.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:14.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:14.427 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:14.427 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:14.428 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.428 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:14.429 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.430 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:14.430 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:14.431 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:14.431 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.432 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:14.432 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:14.433 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:14.433 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:14.434 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:14.434 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:14.435 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:14.435 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:14.436 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:14.436 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.437 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.438 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:14.438 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.438 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:14.439 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.439 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:14.440 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.440 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:14.441 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.441 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:14.442 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.443 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:14.444 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:14.444 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.445 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.445 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:14.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:14.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:14.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:14.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:14.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:14.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:14.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:14.453 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:14.454 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.454 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:14.455 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:14.455 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:14.456 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:14.456 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:14.457 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:14.457 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:14.458 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:14.459 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:14.459 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:14.460 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:14.460 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:14.461 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:14.461 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:14.462 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:14.462 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:14.463 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:14.463 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:14.464 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:14.464 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:14.465 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:14.465 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.466 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:14.466 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:14.467 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:14.467 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.468 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:14.469 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:14.469 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:14.470 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.470 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:14.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.473 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.474 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.474 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:14.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:14.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:14.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:14.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:14.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:14.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:14.479 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.479 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.480 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.480 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.481 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:14.481 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:14.482 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:14.482 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:14.483 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.483 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:14.484 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:14.484 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:14.485 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:14.485 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:14.486 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:14.486 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:14.487 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:14.488 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.488 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:14.489 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:14.489 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.490 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:14.490 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.491 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:14.491 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.492 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:14.492 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:14.493 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:14.493 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.494 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:14.495 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:14.495 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:14.496 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.496 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:14.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:14.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:14.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:14.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:14.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:14.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:14.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:14.504 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:14.505 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.505 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:14.506 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.506 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:14.507 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:14.508 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:14.508 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.509 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:14.509 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:14.510 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:14.510 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:14.511 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:14.511 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:14.512 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:14.512 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:14.513 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:14.513 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.514 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.514 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:14.515 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.515 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:14.574 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.577 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:14.577 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.578 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:14.578 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.579 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:14.579 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.581 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:14.581 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:14.582 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.582 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.583 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:14.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:14.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:14.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:14.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:14.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:14.590 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:14.590 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:14.591 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:14.591 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.592 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:14.592 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.593 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:14.594 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:14.594 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:14.595 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.595 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:14.596 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:14.596 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:14.597 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:14.597 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:14.598 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:14.598 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:14.599 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:14.599 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:14.600 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.600 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.601 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:14.601 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.602 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:14.602 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.603 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:14.603 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.604 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:14.604 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.605 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:14.605 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.607 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:14.607 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:14.608 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.608 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.609 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:14.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:14.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:14.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:14.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:14.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:14.616 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:14.616 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:14.617 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:14.617 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.618 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:14.619 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:14.619 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:14.620 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:14.620 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:14.621 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:14.621 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:14.622 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:14.622 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:14.623 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:14.623 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:14.624 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:14.624 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:14.625 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:14.625 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:14.626 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:14.626 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:14.627 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:14.627 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:14.628 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:14.628 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:14.629 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.629 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:14.630 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:14.630 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:14.631 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.632 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:14.633 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:14.633 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:14.634 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.634 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:14.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:14.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:14.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:14.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:14.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:14.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:14.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:14.642 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:14.643 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.643 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:14.644 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.644 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:14.645 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:14.645 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:14.646 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:14.647 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:14.647 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:14.648 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:14.648 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:14.649 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:14.649 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:14.650 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:14.650 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:14.651 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:14.651 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.652 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.652 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:14.653 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.653 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:14.654 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.654 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:14.655 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.655 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:14.656 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.656 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:14.657 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.658 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:14.659 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:14.659 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.660 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.660 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:14.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:14.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:14.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:14.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:14.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:14.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:14.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:14.668 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:14.669 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.669 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:14.670 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.670 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:14.671 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:14.671 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:14.672 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.672 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:14.673 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:14.674 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:14.674 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:14.675 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:14.675 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:14.676 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:14.676 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:14.677 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:14.677 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.678 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.678 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:14.679 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.679 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:14.680 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.680 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:14.681 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.681 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:14.682 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.682 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:14.683 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.684 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:14.684 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:14.685 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.686 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.686 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:14.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:14.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:14.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:14.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:14.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:14.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:14.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:14.694 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:14.695 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.695 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:14.696 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.696 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:14.697 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:14.697 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:14.698 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.698 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:14.699 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:14.699 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:14.700 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:14.700 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:14.701 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:14.701 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:14.702 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:14.703 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:14.703 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.704 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.704 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:14.705 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.705 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:14.706 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.706 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:14.707 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.707 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:14.708 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.708 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:14.709 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.710 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:14.710 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:14.711 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.711 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.712 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:14.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:14.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:14.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:14.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:14.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:14.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:14.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:14.721 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:14.722 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.722 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:14.723 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.723 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:14.724 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:14.724 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:14.725 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.725 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:14.726 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:14.726 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:14.727 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:14.727 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:14.728 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:14.728 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:14.729 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:14.730 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:14.730 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.731 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.731 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:14.732 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.732 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:14.733 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.733 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:14.734 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.734 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:14.735 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.735 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:14.736 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.737 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:14.737 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:14.738 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.738 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.739 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:14.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:14.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:14.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:14.745 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:14.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:14.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:14.747 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:14.747 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:14.748 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.748 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:14.749 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:14.749 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:14.750 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:14.750 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:14.751 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:14.751 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:14.752 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:14.752 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:14.753 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:14.753 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:14.754 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:14.754 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:14.755 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:14.755 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:14.756 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:14.756 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:14.757 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:14.757 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:14.758 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:14.758 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:14.759 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.759 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:14.760 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:14.760 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:14.761 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.762 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:14.763 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:14.763 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:14.764 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.764 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:14.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:14.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:14.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:14.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:14.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:14.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:14.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:14.772 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.773 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.773 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.774 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.774 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:14.775 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:14.775 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:14.776 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:14.776 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.777 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:14.778 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:14.778 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:14.779 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:14.779 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:14.780 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:14.780 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:14.781 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:14.781 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.782 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.782 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:14.783 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.783 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:14.784 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.784 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:14.785 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.785 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:14.786 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.786 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:14.787 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.788 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:14.788 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:14.789 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.789 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.790 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:14.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:14.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:14.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:14.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:14.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:14.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:14.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:14.798 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:14.799 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.799 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:14.800 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.800 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:14.801 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:14.801 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:14.802 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.802 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:14.803 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:14.803 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:14.804 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:14.804 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:14.805 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:14.805 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:14.806 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:14.806 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:14.807 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.807 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.808 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:14.808 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.809 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:14.810 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.810 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:14.811 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.811 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:14.812 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.812 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:14.813 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.814 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:14.814 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:14.815 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.815 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.816 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:14.818 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.818 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.820 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.820 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:14.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:14.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:14.822 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:14.822 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:14.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:14.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:14.824 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.824 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.825 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.825 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.826 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:14.826 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:14.827 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:14.827 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.828 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.828 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:14.829 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:14.830 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:14.830 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:14.831 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:14.831 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:14.832 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:14.832 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:14.833 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.833 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.834 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:14.834 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.835 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:14.835 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.836 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:14.836 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.837 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:14.837 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.838 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:14.838 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.839 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:14.840 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:14.840 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.841 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.841 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:14.843 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.844 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.845 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.845 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:14.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:14.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:14.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:14.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:14.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:14.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:14.850 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:14.850 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.851 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:14.851 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.852 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:14.852 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:14.853 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:14.853 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.854 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:14.854 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:14.855 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:14.855 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:14.856 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:14.856 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:14.857 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:14.857 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:14.858 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:14.858 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.859 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:14.859 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:14.860 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.860 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:14.861 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.861 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:14.862 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.862 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:14.863 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:14.863 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:14.864 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.865 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:14.866 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:14.866 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:14.867 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.867 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:14.869 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.870 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.870 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:14.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:14.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:14.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:14.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:14.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:14.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:14.875 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.876 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.876 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.877 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.877 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:14.878 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:14.878 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:14.879 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.880 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.880 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:14.881 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:14.881 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:14.882 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:14.882 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:14.883 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:14.883 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:14.884 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:14.884 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.885 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:14.885 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:14.886 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.886 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:14.887 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.887 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:14.888 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.888 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:14.889 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:14.889 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:14.890 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.891 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:14.892 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:14.892 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:14.893 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.893 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:14.895 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.896 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:14.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:14.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:14.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:14.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:14.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:14.901 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:14.901 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.902 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.902 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.903 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:14.903 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:14.904 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:14.904 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.905 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:14.905 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:14.906 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:14.906 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:14.907 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:14.907 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:14.908 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:14.908 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:14.909 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:14.910 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:14.910 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:14.911 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:14.911 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:14.912 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:14.912 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:14.913 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:14.913 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.914 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:14.914 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:14.915 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:14.915 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.916 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:14.917 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:14.917 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:14.918 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.918 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:14.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.921 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.922 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.922 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.923 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:14.923 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:14.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:14.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:14.925 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:14.925 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:14.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:14.926 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:14.927 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.927 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:14.928 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.929 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:14.929 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:14.930 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:14.930 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:14.931 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:14.931 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:14.932 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:14.932 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:14.933 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:14.933 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:14.934 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:14.934 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:14.935 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:14.935 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.936 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.936 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:14.937 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.937 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:14.938 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.938 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:14.939 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.939 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:14.940 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.940 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:14.941 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.942 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:14.943 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:14.943 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.944 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.944 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:14.946 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.949 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:14.949 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:14.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:14.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:14.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:14.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:14.952 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:14.952 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:14.953 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.953 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:14.954 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.954 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:14.955 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:14.955 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:14.956 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.956 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:14.957 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:14.958 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:14.958 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:14.959 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:14.959 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:14.960 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:14.960 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:14.961 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:14.961 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.962 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.962 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:14.963 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.963 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:14.964 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.964 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:14.965 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.965 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:14.966 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.966 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:14.967 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.968 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:14.968 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:14.969 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.969 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.970 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:14.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:14.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:14.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:14.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:14.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:14.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:14.978 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:14.978 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:14.979 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:14.979 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:14.980 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:14.980 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:14.981 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:14.981 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:14.982 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:14.982 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:14.983 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:14.983 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:14.984 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:14.984 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:14.985 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:14.986 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:14.986 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:14.987 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:14.987 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:14.988 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:14.988 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:14.989 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:14.989 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:14.990 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:14.990 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:14.991 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:14.991 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:14.992 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:14.992 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:14.993 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:14.994 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:14.994 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:14.995 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:14.995 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:14.996 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:14.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:14.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:14.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:15.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:15.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:15.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:15.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:15.003 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:15.003 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:15.004 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.004 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.005 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.006 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.006 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:15.007 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:15.007 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:15.008 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.008 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.009 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.009 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.010 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:15.010 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:15.011 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:15.011 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:15.012 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:15.012 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:15.013 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.013 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.014 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:15.014 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.015 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:15.015 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.016 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:15.016 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.017 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:15.018 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.018 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:15.019 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.020 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:15.020 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:15.021 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.021 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.022 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:15.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:15.027 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:15.027 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:15.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:15.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:15.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:15.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:15.030 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.031 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.031 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.032 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:15.032 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:15.033 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:15.033 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.034 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:15.034 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:15.035 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:15.035 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:15.036 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:15.036 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:15.037 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:15.037 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:15.038 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:15.038 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:15.039 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:15.039 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:15.040 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:15.040 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:15.041 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:15.042 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:15.042 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.043 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:15.043 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:15.044 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:15.044 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.045 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:15.046 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:15.046 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:15.047 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.047 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:15.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:15.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:15.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:15.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:15.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:15.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:15.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:15.055 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.056 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.056 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.057 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:15.057 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:15.058 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:15.058 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.059 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:15.060 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:15.060 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:15.061 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:15.061 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:15.062 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:15.062 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:15.063 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:15.063 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:15.064 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:15.064 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:15.065 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:15.065 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:15.066 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:15.066 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.067 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:15.067 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:15.068 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:15.068 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.069 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:15.070 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:15.070 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:15.071 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.071 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:15.073 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:15.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:15.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:15.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:15.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:15.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:15.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:15.080 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:15.080 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.081 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:15.081 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.082 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:15.082 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:15.083 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:15.083 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:15.084 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:15.084 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:15.085 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:15.085 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:15.086 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:15.086 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:15.087 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:15.087 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:15.088 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:15.089 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.089 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.090 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:15.090 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.091 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:15.091 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.092 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:15.092 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.093 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:15.093 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.094 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:15.094 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.095 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:15.096 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:15.096 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.097 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.097 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:15.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:15.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:15.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:15.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:15.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:15.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:15.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:15.105 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.106 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.106 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.107 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.107 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:15.108 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:15.109 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:15.109 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.110 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.110 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.111 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.111 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:15.112 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:15.112 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:15.113 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:15.113 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:15.114 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:15.114 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.115 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:15.115 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:15.116 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.116 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:15.117 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.117 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:15.118 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.118 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:15.119 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:15.119 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:15.120 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.121 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:15.122 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:15.122 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:15.123 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.123 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:15.125 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:15.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:15.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:15.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:15.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:15.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:15.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:15.131 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:15.132 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.132 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:15.133 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.133 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:15.134 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:15.134 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:15.135 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.135 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:15.136 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:15.136 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:15.137 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:15.137 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:15.138 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:15.138 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:15.139 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:15.140 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:15.140 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.141 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.141 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:15.142 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.142 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:15.143 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.143 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:15.144 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.144 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:15.145 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.145 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:15.146 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.147 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:15.147 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:15.148 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.148 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.149 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:15.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.151 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.152 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:15.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:15.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:15.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:15.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:15.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:15.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:15.157 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:15.157 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.158 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:15.158 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:15.159 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:15.160 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:15.160 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:15.161 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:15.161 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:15.162 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:15.162 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:15.163 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:15.163 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:15.164 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:15.164 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:15.165 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:15.165 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:15.166 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:15.166 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:15.167 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:15.167 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:15.168 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:15.168 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:15.169 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.169 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:15.170 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:15.170 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:15.171 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.172 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:15.173 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:15.173 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:15.174 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.174 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:15.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.179 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:15.179 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:15.180 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:15.180 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:15.181 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:15.181 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:15.182 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:15.182 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.183 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.183 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.184 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.184 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:15.185 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:15.185 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:15.186 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:15.186 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.187 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.187 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.188 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:15.188 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:15.189 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:15.189 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:15.190 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:15.191 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:15.191 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.192 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:15.192 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:15.193 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.193 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:15.194 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.194 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:15.195 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.195 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:15.196 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:15.196 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:15.197 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.198 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:15.198 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:15.199 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:15.199 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.200 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:15.202 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.202 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.203 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.204 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.204 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:15.205 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:15.205 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:15.206 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:15.206 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:15.207 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:15.207 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:15.208 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:15.208 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.209 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:15.209 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.210 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:15.211 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:15.211 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:15.212 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.212 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:15.213 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:15.213 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:15.214 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:15.214 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:15.215 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:15.215 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:15.216 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:15.216 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:15.217 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.217 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:15.218 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:15.218 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.219 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:15.219 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.220 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:15.220 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.221 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:15.221 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:15.222 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:15.222 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.224 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:15.225 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:15.227 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:15.235 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:15.237 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:15.238 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:15.239 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:15.331 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:15.331 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:15.332 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:15.332 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:15.333 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:15.333 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:15.334 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:15.334 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:15.345 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:15.346 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:15.357 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:15.358 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:15.358 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:15.359 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102814.log
2025-10-31 10:28:15.359 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:15.360 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:15.368 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102815.log
2025-10-31 10:28:15.369 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:15.369 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:15.371 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:15.372 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:15.373 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:15.373 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:15.374 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:15.375 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:15.375 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:15.376 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:15.376 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:15.377 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:15.379 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.379 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.380 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.381 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:15.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:15.382 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:15.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:15.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:15.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:15.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:15.385 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.386 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.386 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.387 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:15.387 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.388 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.388 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.389 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:15.389 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:15.390 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:15.390 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:15.391 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:15.392 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:15.392 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.393 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.393 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:15.394 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.394 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:15.395 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.395 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:15.396 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.396 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:15.397 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.398 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:15.398 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:15.399 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.399 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.400 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:15.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:15.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:15.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:15.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:15.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:15.407 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:15.407 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:15.408 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:15.408 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.409 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:15.410 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.410 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:15.411 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:15.411 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:15.412 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.412 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:15.413 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:15.413 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:15.414 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:15.414 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:15.415 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:15.415 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:15.416 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:15.417 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:15.417 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.418 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:15.418 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:15.419 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.419 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:15.420 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.420 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:15.421 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.421 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:15.422 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:15.422 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:15.423 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.424 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:15.424 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:15.425 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:15.425 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.426 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:15.428 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.429 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.429 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.430 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.430 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:15.431 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:15.431 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:15.432 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:15.433 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:15.433 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:15.434 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:15.434 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.435 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.435 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.436 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.436 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:15.437 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:15.437 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:15.438 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.438 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.439 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.439 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.440 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:15.441 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:15.441 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:15.442 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:15.442 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:15.443 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:15.443 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.444 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.444 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:15.445 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.445 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:15.446 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.446 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:15.447 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.447 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:15.448 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.448 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:15.449 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.450 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:15.451 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:15.451 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.452 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.452 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:15.454 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:15.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:15.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:15.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:15.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:15.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:15.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:15.460 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:15.461 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.461 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:15.462 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.462 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:15.463 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:15.464 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:15.464 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.465 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:15.465 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:15.466 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:15.466 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:15.467 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:15.467 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:15.468 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:15.468 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:15.469 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:15.470 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.470 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.471 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:15.471 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.472 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:15.472 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.473 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:15.473 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.474 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:15.474 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.475 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:15.475 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.476 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:15.477 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:15.477 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.478 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.478 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:15.480 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.481 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.482 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.482 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.483 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:15.483 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:15.484 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:15.485 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:15.485 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:15.486 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:15.486 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:15.487 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:15.487 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.488 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:15.488 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:15.489 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:15.489 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:15.490 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:15.490 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:15.491 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:15.491 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:15.492 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:15.492 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:15.493 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:15.494 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:15.494 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:15.495 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:15.495 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:15.496 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:15.496 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:15.497 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:15.497 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:15.498 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:15.498 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:15.499 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.499 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:15.500 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:15.500 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:15.501 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.502 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:15.502 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:15.503 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:15.503 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.504 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:15.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:15.509 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:15.510 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:15.510 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:15.511 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:15.511 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:15.512 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:15.512 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.513 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.513 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.514 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.514 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:15.515 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:15.515 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:15.516 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:15.516 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.517 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.518 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.518 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:15.519 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:15.519 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:15.520 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:15.520 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:15.521 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:15.521 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.522 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:15.522 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:15.523 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.523 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:15.524 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.524 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:15.525 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.525 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:15.526 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:15.526 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:15.527 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.528 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:15.529 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:15.529 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:15.530 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.530 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:15.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.533 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.534 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.535 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:15.535 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:15.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:15.536 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:15.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:15.537 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:15.538 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:15.538 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:15.539 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.540 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:15.540 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.541 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:15.541 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:15.542 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:15.542 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.543 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:15.543 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:15.544 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:15.544 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:15.545 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:15.545 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:15.546 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:15.546 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:15.547 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:15.548 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.548 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.549 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:15.549 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.550 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:15.550 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.551 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:15.551 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.552 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:15.552 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.553 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:15.553 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.554 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:15.555 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:15.555 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.556 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.556 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:15.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.560 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.560 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.561 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:15.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:15.562 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:15.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:15.563 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:15.564 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:15.564 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:15.565 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:15.565 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.566 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:15.566 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.567 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:15.567 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:15.568 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:15.568 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.569 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:15.569 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:15.570 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:15.571 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:15.571 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:15.572 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:15.572 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:15.573 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:15.573 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:15.574 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.574 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.575 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:15.575 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.576 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:15.576 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.577 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:15.577 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.578 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:15.578 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.579 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:15.579 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.581 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:15.581 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:15.582 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.582 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.583 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:15.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:15.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:15.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:15.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:15.589 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:15.590 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:15.590 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:15.591 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:15.591 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.592 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:15.593 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:15.593 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:15.594 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:15.594 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:15.595 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:15.595 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:15.596 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:15.596 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:15.597 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:15.597 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:15.598 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:15.598 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:15.599 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:15.599 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:15.600 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:15.600 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:15.601 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:15.601 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:15.602 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:15.603 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:15.603 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.604 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:15.604 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:15.605 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:15.605 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.606 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:15.607 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:15.607 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:15.608 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.608 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:15.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:15.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:15.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:15.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:15.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:15.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:15.616 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:15.616 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:15.617 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.617 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:15.618 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.618 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:15.619 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:15.620 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:15.620 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:15.621 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:15.621 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:15.622 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:15.622 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:15.623 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:15.623 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:15.624 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:15.624 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:15.625 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:15.626 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.626 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.627 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:15.627 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.628 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:15.628 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.629 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:15.629 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.630 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:15.630 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.631 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:15.631 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.632 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:15.633 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:15.633 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.634 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.634 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:15.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:15.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:15.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:15.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:15.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:15.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:15.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:15.643 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:15.643 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.644 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:15.644 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.645 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:15.645 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:15.646 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:15.646 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.647 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:15.647 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:15.648 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:15.648 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:15.649 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:15.649 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:15.650 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:15.650 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:15.651 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:15.652 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.652 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.653 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:15.653 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.654 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:15.654 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.655 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:15.655 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.656 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:15.657 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.657 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:15.658 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.659 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:15.660 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:15.660 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.661 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.661 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:15.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:15.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:15.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:15.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:15.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:15.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:15.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:15.669 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:15.670 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.670 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:15.671 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.671 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:15.672 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:15.673 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:15.673 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.674 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:15.674 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:15.675 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:15.675 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:15.676 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:15.676 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:15.677 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:15.677 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:15.678 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:15.678 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.679 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.679 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:15.680 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.680 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:15.681 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.682 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:15.682 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.683 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:15.683 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.684 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:15.684 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.685 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:15.686 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:15.686 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.687 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.687 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:15.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:15.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:15.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:15.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:15.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:15.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:15.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:15.695 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:15.696 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.696 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:15.697 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.698 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:15.698 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:15.699 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:15.699 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.700 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:15.700 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:15.701 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:15.701 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:15.702 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:15.702 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:15.703 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:15.703 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:15.704 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:15.704 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.705 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.706 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:15.706 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.707 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:15.707 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.708 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:15.708 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.709 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:15.709 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.710 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:15.710 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.711 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:15.712 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:15.712 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.713 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.713 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:15.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:15.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:15.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:15.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:15.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:15.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:15.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:15.722 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:15.722 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.723 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:15.723 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:15.724 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:15.724 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:15.725 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:15.725 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:15.726 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:15.726 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:15.727 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:15.728 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:15.728 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:15.729 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:15.729 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:15.730 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:15.730 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:15.731 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:15.731 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:15.732 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:15.732 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:15.733 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:15.733 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:15.734 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.734 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:15.735 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:15.735 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:15.736 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.737 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:15.737 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:15.738 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:15.738 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.739 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:15.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:15.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:15.745 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:15.745 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:15.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:15.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:15.747 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:15.747 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.748 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.748 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.749 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.749 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:15.750 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:15.750 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:15.751 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:15.751 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.752 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.753 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.753 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:15.754 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:15.754 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:15.755 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:15.755 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:15.756 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:15.756 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.757 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.757 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:15.758 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.758 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:15.759 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.759 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:15.760 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.760 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:15.761 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.761 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:15.762 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.763 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:15.764 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:15.764 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.765 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.765 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:15.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:15.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:15.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:15.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:15.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:15.772 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:15.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:15.773 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:15.774 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.774 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:15.775 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.775 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:15.776 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:15.776 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:15.777 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.778 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:15.778 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:15.779 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:15.779 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:15.780 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:15.780 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:15.781 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:15.781 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:15.782 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:15.782 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.783 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.783 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:15.784 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.784 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:15.785 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.785 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:15.786 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.787 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:15.787 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.788 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:15.788 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.789 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:15.790 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:15.790 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.791 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.791 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:15.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:15.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:15.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:15.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:15.798 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:15.798 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:15.799 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:15.799 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.800 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.800 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.801 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.802 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:15.802 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:15.803 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:15.803 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.804 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.804 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.805 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.805 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:15.806 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:15.806 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:15.807 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:15.807 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:15.808 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:15.809 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.809 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.810 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:15.810 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.811 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:15.811 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.812 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:15.812 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.813 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:15.813 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.814 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:15.814 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.815 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:15.816 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:15.816 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.817 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.817 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:15.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.820 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.822 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:15.822 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:15.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:15.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:15.824 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:15.824 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:15.825 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:15.826 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:15.826 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.827 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:15.827 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.828 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:15.828 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:15.829 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:15.829 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.830 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:15.830 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:15.831 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:15.831 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:15.832 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:15.832 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:15.833 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:15.833 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:15.834 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:15.835 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.835 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:15.836 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:15.836 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.837 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:15.837 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.838 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:15.838 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.839 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:15.839 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:15.840 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:15.840 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.841 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:15.842 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:15.843 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:15.843 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.844 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:15.845 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:15.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:15.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:15.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:15.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:15.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:15.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:15.852 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.852 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.853 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.853 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.854 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:15.854 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:15.855 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:15.856 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.856 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.857 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.857 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.858 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:15.858 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:15.859 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:15.859 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:15.860 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:15.860 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:15.861 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.861 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:15.862 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:15.862 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.863 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:15.863 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.864 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:15.864 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.865 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:15.866 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:15.866 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:15.867 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.868 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:15.868 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:15.869 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:15.869 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.870 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:15.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:15.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:15.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:15.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:15.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:15.877 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:15.878 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:15.878 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.879 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.879 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.880 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:15.880 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:15.881 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:15.881 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.882 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:15.882 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:15.883 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:15.883 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:15.884 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:15.884 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:15.885 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:15.885 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:15.886 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:15.887 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:15.887 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:15.888 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:15.888 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:15.889 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:15.889 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:15.890 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:15.890 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.891 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:15.891 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:15.892 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:15.892 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.893 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:15.894 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:15.894 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:15.895 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.895 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:15.897 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:15.901 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:15.901 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:15.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:15.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:15.903 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:15.903 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:15.904 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:15.904 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.905 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:15.905 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.906 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:15.906 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:15.907 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:15.907 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:15.908 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:15.908 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:15.909 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:15.910 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:15.910 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:15.911 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:15.911 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:15.912 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:15.912 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:15.913 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.913 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.914 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:15.914 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.915 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:15.915 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.916 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:15.916 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.917 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:15.917 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.918 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:15.918 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.920 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:15.920 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:15.921 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.921 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.922 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:15.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.925 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:15.927 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:15.927 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:15.928 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:15.928 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:15.929 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:15.929 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:15.930 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.930 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.931 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.931 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.932 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:15.933 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:15.933 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:15.934 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.934 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.935 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.935 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.936 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:15.936 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:15.937 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:15.937 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:15.938 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:15.938 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:15.939 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.940 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.940 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:15.941 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.941 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:15.942 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.942 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:15.943 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.943 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:15.944 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.944 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:15.945 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.946 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:15.946 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:15.947 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.947 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.948 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:15.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.950 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.952 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.952 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:15.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:15.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:15.954 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:15.954 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:15.955 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:15.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:15.956 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:15.957 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.957 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:15.958 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.958 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:15.959 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:15.959 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:15.960 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.960 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:15.961 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:15.961 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:15.962 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:15.962 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:15.963 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:15.963 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:15.964 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:15.965 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:15.965 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.966 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.966 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:15.967 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.967 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:15.968 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.968 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:15.969 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.969 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:15.970 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.970 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:15.971 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.972 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:15.972 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:15.973 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:15.973 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:15.974 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:15.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:15.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.978 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:15.978 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:15.979 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:15.980 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:15.980 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:15.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:15.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:15.982 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:15.982 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:15.983 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:15.983 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:15.984 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:15.984 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:15.985 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:15.985 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:15.986 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:15.986 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:15.987 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:15.988 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:15.988 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:15.989 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:15.989 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:15.990 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:15.990 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:15.991 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:15.991 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:15.992 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:15.992 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:15.993 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:15.993 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:15.994 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:15.994 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:15.995 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:15.995 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:15.996 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:15.996 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:15.997 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:15.998 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:15.999 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:15.999 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.000 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.000 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:16.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.003 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.004 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.004 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.005 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:16.005 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:16.006 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:16.006 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:16.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:16.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:16.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:16.008 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.009 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.010 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.010 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.011 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:16.011 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:16.012 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.012 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.013 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:16.013 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:16.014 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:16.014 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:16.015 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:16.015 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:16.016 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:16.016 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:16.017 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:16.017 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:16.018 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:16.019 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:16.019 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:16.020 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:16.020 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.021 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.021 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:16.022 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:16.022 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:16.023 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.024 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:16.024 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:16.025 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:16.025 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.026 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:16.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:16.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:16.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:16.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:16.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:16.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:16.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:16.034 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.035 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.035 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.036 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.036 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:16.037 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:16.037 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.038 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.038 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:16.039 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:16.039 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:16.040 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:16.041 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:16.041 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:16.042 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:16.042 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:16.043 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:16.043 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:16.044 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:16.044 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:16.045 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.045 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.046 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:16.046 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:16.047 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:16.047 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.048 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:16.049 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:16.049 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:16.050 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.050 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:16.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:16.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:16.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:16.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:16.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:16.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:16.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:16.059 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.059 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.060 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.060 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.061 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:16.061 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:16.062 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:16.062 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:16.063 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.063 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.064 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.064 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:16.065 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:16.066 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:16.066 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:16.067 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:16.067 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:16.068 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.068 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.069 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:16.069 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.070 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:16.070 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.071 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:16.071 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.072 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:16.072 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.073 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:16.073 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.074 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:16.075 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:16.076 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.076 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.077 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:16.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:16.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:16.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:16.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:16.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:16.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:16.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:16.085 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.085 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.086 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.086 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.087 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:16.087 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:16.088 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:16.089 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.089 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.090 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.090 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.091 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:16.091 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:16.092 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:16.092 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:16.093 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:16.093 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:16.094 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.094 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.095 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:16.095 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.096 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:16.096 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.097 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:16.098 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.098 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:16.099 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.099 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:16.099 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.101 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:16.101 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:16.102 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:16.102 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.103 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:16.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:16.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:16.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:16.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:16.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:16.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:16.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:16.111 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.111 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.112 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.113 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.113 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:16.114 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:16.114 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:16.115 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.115 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.116 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.116 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.117 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:16.117 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:16.118 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:16.118 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:16.119 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:16.120 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:16.120 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.121 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.121 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:16.122 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.122 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:16.123 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.123 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:16.124 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.124 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:16.125 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.125 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:16.126 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.127 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:16.127 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:16.128 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.128 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.129 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:16.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:16.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:16.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:16.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:16.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:16.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:16.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:16.137 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.138 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.138 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.139 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.139 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:16.140 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:16.140 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.141 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.141 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:16.142 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:16.143 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:16.143 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:16.144 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:16.144 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:16.145 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:16.145 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:16.146 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:16.146 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:16.147 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:16.147 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:16.148 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:16.148 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:16.149 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.149 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.150 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:16.150 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:16.151 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:16.151 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.153 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:16.153 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:16.154 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:16.154 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.155 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:16.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:16.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:16.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:16.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:16.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:16.162 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:16.162 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:16.163 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.163 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.164 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.164 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.165 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:16.165 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:16.166 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:16.167 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:16.167 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.168 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.168 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.169 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:16.169 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:16.170 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:16.170 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:16.171 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:16.171 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:16.172 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.172 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.173 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:16.173 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.174 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:16.174 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.175 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:16.175 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.176 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:16.177 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.177 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:16.178 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.179 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:16.179 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:16.180 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:16.180 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.181 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:16.183 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.183 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.185 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.185 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:16.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:16.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:16.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:16.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:16.188 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:16.188 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:16.189 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.189 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.190 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.191 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.191 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:16.192 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:16.192 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:16.193 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.193 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.194 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.194 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.195 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:16.195 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:16.196 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:16.196 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:16.197 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:16.198 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:16.198 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.199 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.199 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:16.200 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.200 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:16.201 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.201 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:16.202 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.202 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:16.203 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.203 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:16.204 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.205 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:16.206 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:16.208 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:16.216 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:16.219 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:16.219 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:16.220 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:16.311 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:16.312 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:16.312 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:16.313 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:16.313 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:16.314 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:16.315 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:16.315 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:16.326 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:16.327 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:16.338 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:16.338 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:16.339 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:16.340 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102815.log
2025-10-31 10:28:16.340 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:16.341 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:16.349 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102816.log
2025-10-31 10:28:16.349 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:16.350 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:16.352 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:16.352 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:16.353 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:16.354 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:16.355 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:16.356 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:16.356 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:16.357 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:16.357 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:16.358 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:16.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.360 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.361 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.362 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.362 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:16.363 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:16.363 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:16.364 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:16.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:16.365 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:16.366 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:16.366 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.367 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.367 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.368 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:16.368 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.369 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.369 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.370 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:16.371 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:16.371 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:16.372 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:16.372 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:16.373 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:16.373 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.374 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.374 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:16.375 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.375 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:16.376 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.376 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:16.377 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.377 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:16.378 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.379 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:16.380 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:16.380 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.381 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.381 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:16.383 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.384 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.385 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.386 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:16.386 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:16.387 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:16.387 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:16.388 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:16.388 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:16.389 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:16.389 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.390 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.390 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.391 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.391 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:16.392 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:16.393 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:16.393 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.394 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.394 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.395 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.395 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:16.396 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:16.396 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:16.397 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:16.398 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:16.398 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:16.399 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.399 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.400 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:16.400 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.401 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:16.401 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.402 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:16.402 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.403 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:16.403 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.404 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:16.404 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.405 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:16.406 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:16.407 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:16.407 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.408 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:16.409 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.410 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.411 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.412 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.412 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:16.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:16.413 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:16.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:16.414 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:16.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:16.415 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:16.416 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.416 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.417 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.418 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.418 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:16.419 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:16.419 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:16.420 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.420 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.421 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.421 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.422 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:16.422 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:16.423 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:16.482 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:16.484 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:16.485 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:16.486 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.486 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.487 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:16.487 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.488 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:16.488 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.489 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:16.489 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.490 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:16.490 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.491 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:16.491 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.493 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:16.493 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:16.494 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.494 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.495 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:16.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:16.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:16.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:16.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:16.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:16.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:16.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:16.503 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.504 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.504 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.505 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.505 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:16.506 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:16.506 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:16.507 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.508 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.508 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.509 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.509 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:16.510 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:16.510 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:16.511 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:16.511 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:16.512 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:16.512 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.513 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.514 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:16.514 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.515 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:16.515 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.516 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:16.516 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.517 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:16.517 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.518 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:16.518 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.519 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:16.520 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:16.520 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.521 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.522 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:16.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:16.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:16.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:16.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:16.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:16.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:16.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:16.530 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.530 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.531 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.531 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.532 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:16.532 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:16.533 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.534 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.534 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:16.535 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:16.535 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:16.536 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:16.536 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:16.537 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:16.537 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:16.538 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:16.538 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:16.539 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:16.539 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:16.540 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:16.541 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:16.541 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:16.542 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.542 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.543 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:16.543 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:16.544 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:16.544 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.545 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:16.546 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:16.546 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:16.547 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.548 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:16.549 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:16.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:16.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:16.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:16.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:16.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:16.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:16.556 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.556 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.557 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.558 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.558 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:16.559 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:16.559 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:16.560 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:16.560 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.561 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.561 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.562 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:16.562 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:16.563 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:16.564 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:16.564 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:16.565 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:16.565 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.566 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.566 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:16.567 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.567 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:16.568 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.568 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:16.569 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.569 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:16.570 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.570 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:16.571 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.572 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:16.573 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:16.573 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:16.574 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.574 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:16.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:16.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:16.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:16.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:16.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:16.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:16.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:16.583 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.583 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.584 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.584 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.585 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:16.585 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:16.586 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:16.586 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.587 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.587 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.588 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.589 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:16.589 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:16.590 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:16.590 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:16.591 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:16.591 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:16.592 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.592 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.593 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:16.593 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.594 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:16.596 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.597 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:16.597 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.598 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:16.599 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.599 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:16.600 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.601 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:16.601 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:16.602 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.602 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.603 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:16.605 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.606 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:16.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:16.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:16.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:16.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:16.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:16.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:16.611 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.612 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.612 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.613 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.614 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:16.614 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:16.615 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:16.615 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.616 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.616 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.617 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.617 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:16.618 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:16.618 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:16.619 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:16.620 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:16.620 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:16.621 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.621 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.622 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:16.622 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.623 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:16.623 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.624 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:16.624 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.625 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:16.625 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.626 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:16.626 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.628 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:16.628 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:16.629 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.629 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.630 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:16.632 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.632 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.633 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.634 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.634 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:16.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:16.635 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:16.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:16.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:16.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:16.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:16.638 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.639 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.639 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.640 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.640 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:16.641 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:16.641 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.642 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.642 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:16.643 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:16.644 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:16.644 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:16.645 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:16.645 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:16.646 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:16.646 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:16.647 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:16.647 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:16.648 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:16.648 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:16.649 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:16.649 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:16.650 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.650 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.651 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:16.652 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:16.652 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:16.653 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.654 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:16.654 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:16.655 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:16.655 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.656 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:16.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.661 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:16.661 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:16.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:16.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:16.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:16.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:16.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:16.664 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.665 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.665 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.666 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.666 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:16.667 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:16.668 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:16.668 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:16.669 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.669 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.670 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.670 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:16.671 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:16.671 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:16.672 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:16.672 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:16.673 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:16.674 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.674 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.675 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:16.675 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.676 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:16.676 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.677 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:16.677 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.678 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:16.678 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.679 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:16.679 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.680 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:16.681 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:16.682 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.682 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.683 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:16.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:16.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:16.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:16.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:16.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:16.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:16.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:16.691 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.692 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.692 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.693 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.693 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:16.694 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:16.694 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:16.695 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.695 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.696 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.696 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.697 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:16.698 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:16.698 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:16.699 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:16.699 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:16.700 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:16.700 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.701 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.701 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:16.702 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.702 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:16.703 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.703 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:16.704 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.704 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:16.705 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.705 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:16.706 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.707 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:16.708 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:16.708 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.709 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.709 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:16.711 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.712 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.713 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.713 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:16.714 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:16.715 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:16.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:16.716 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:16.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:16.717 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:16.718 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.718 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.719 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.719 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.720 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:16.720 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:16.721 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:16.722 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.722 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.723 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.723 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.724 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:16.724 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:16.725 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:16.725 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:16.726 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:16.727 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:16.727 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.728 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.728 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:16.729 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.729 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:16.730 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.730 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:16.731 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.731 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:16.732 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.732 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:16.733 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.734 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:16.735 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:16.735 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.736 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.736 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:16.738 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.739 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.739 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.740 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:16.741 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:16.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:16.742 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:16.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:16.743 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:16.744 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:16.744 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.745 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.745 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.746 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.746 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:16.747 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:16.748 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:16.748 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.749 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.749 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.750 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.750 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:16.751 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:16.751 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:16.752 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:16.752 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:16.753 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:16.754 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.754 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.755 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:16.755 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.756 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:16.756 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.757 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:16.757 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.758 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:16.758 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.759 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:16.759 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.761 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:16.761 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:16.762 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.762 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.763 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:16.765 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.765 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.766 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.767 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:16.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:16.768 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:16.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:16.769 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:16.770 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:16.771 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:16.771 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.772 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.772 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.773 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.773 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:16.774 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:16.774 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.775 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.775 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:16.776 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:16.777 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:16.777 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:16.778 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:16.778 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:16.779 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:16.779 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:16.780 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:16.780 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:16.781 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:16.781 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:16.782 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:16.782 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:16.783 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.783 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.784 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:16.784 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:16.785 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:16.786 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.787 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:16.787 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:16.788 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:16.788 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.789 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:16.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.791 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.792 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.793 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:16.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:16.794 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:16.795 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:16.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:16.796 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:16.797 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:16.797 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.798 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.798 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.799 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.799 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:16.800 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:16.800 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:16.801 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:16.801 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.802 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.803 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.803 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:16.804 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:16.804 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:16.805 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:16.805 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:16.806 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:16.806 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.807 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.807 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:16.808 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.809 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:16.809 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.810 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:16.810 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.811 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:16.811 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.812 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:16.812 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.813 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:16.814 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:16.814 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.815 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.815 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:16.817 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.818 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.819 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.820 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:16.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:16.821 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:16.822 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:16.822 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:16.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:16.823 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:16.824 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.824 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.825 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.825 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.826 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:16.826 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:16.827 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:16.828 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.828 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.829 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.829 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.830 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:16.830 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:16.831 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:16.831 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:16.832 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:16.833 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:16.833 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.834 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.834 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:16.835 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.835 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:16.836 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.836 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:16.837 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.837 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:16.838 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.838 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:16.839 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.840 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:16.841 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:16.841 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.842 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.842 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:16.844 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.845 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.846 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:16.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:16.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:16.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:16.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:16.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:16.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:16.851 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.851 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.852 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.852 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.853 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:16.853 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:16.854 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:16.854 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.855 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.855 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.856 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.857 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:16.857 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:16.858 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:16.858 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:16.859 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:16.859 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:16.860 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.860 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.861 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:16.862 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.862 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:16.863 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.863 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:16.864 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.864 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:16.865 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.865 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:16.866 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.867 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:16.868 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:16.868 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.869 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.869 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:16.871 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.872 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.873 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:16.874 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:16.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:16.875 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:16.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:16.876 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:16.877 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:16.877 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:16.878 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.878 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:16.879 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.880 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:16.880 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:16.881 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:16.881 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.882 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:16.882 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:16.883 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:16.883 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:16.884 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:16.884 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:16.885 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:16.886 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:16.886 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:16.887 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.887 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.888 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:16.888 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.889 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:16.889 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.890 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:16.890 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.891 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:16.891 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.892 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:16.892 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.894 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:16.894 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:16.895 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:16.895 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.896 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:16.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.898 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.899 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.900 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:16.901 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:16.901 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:16.902 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:16.903 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:16.903 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:16.904 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:16.904 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.905 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.905 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.906 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.906 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:16.907 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:16.907 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:16.908 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.908 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.909 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.910 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.910 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:16.911 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:16.911 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:16.912 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:16.912 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:16.913 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:16.913 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.914 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:16.915 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:16.915 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.916 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:16.916 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.917 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:16.917 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.918 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:16.918 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:16.919 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:16.919 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.920 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:16.921 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:16.921 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:16.922 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.922 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:16.924 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.925 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.926 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.927 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:16.928 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:16.928 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:16.929 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:16.929 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:16.930 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:16.930 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:16.931 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.931 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.932 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.932 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:16.933 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:16.934 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:16.934 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.935 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:16.935 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:16.936 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:16.936 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:16.937 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:16.937 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:16.938 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:16.938 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:16.939 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:16.939 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:16.940 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:16.941 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:16.941 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:16.942 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:16.942 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:16.943 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:16.943 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.944 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:16.944 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:16.945 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:16.945 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.946 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:16.947 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:16.948 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:16.948 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.949 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:16.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.951 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.952 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.953 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:16.954 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:16.954 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:16.955 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:16.955 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:16.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:16.956 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:16.957 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:16.958 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.958 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:16.959 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.959 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:16.960 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:16.960 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:16.961 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:16.961 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:16.962 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:16.963 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:16.963 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:16.964 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:16.964 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:16.965 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:16.965 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:16.966 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:16.966 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.967 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.967 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:16.968 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.968 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:16.969 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.969 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:16.970 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.971 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:16.971 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.972 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:16.972 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:16.973 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:16.974 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:16.974 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:16.975 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:16.975 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:16.977 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:16.978 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.979 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.979 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:16.980 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:16.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:16.981 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:16.982 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:16.982 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:16.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:16.983 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:16.984 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:16.984 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:16.985 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:16.985 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:16.986 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:16.987 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:16.987 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:16.988 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:16.988 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:16.989 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:16.989 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:16.990 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:16.990 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:16.991 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:16.992 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:16.992 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:16.993 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:16.993 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:16.994 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:16.994 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:16.995 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:16.995 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:16.996 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:16.996 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:16.997 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:16.997 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:16.998 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:16.998 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:16.999 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.000 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:17.001 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:17.001 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.002 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.002 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:17.004 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.005 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.006 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.006 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:17.007 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:17.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:17.008 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:17.009 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:17.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:17.010 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:17.011 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.011 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.012 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.012 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.013 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:17.013 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:17.014 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:17.014 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.015 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.015 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.016 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.017 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:17.017 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:17.018 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:17.018 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:17.019 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:17.019 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:17.020 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.020 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.021 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:17.021 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.022 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:17.023 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.023 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:17.024 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.024 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:17.025 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.025 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:17.026 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.027 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:17.027 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:17.028 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.028 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.029 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:17.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:17.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:17.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:17.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:17.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:17.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:17.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:17.037 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.038 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.038 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.039 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.040 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:17.040 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:17.041 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:17.041 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.042 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.042 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.043 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.043 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:17.044 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:17.045 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:17.045 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:17.046 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:17.046 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:17.047 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.047 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.048 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:17.048 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.049 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:17.049 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.050 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:17.050 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.051 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:17.051 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.052 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:17.052 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.054 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:17.054 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:17.055 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.055 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.056 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:17.058 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:17.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:17.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:17.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:17.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:17.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:17.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:17.064 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.065 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.065 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.066 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.067 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:17.067 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.068 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.068 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.069 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:17.069 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:17.070 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:17.070 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:17.071 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:17.071 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:17.072 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:17.073 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:17.073 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:17.074 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:17.074 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:17.075 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.075 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:17.076 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:17.076 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.077 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.077 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:17.078 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:17.078 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:17.079 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.080 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:17.081 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:17.081 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:17.082 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.082 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:17.084 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.085 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.086 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:17.087 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:17.088 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:17.088 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:17.089 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:17.090 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:17.090 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:17.091 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.091 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.092 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.092 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.093 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:17.093 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:17.094 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.094 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.095 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:17.095 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:17.096 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:17.097 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:17.097 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:17.098 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:17.098 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:17.099 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:17.099 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:17.100 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:17.100 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:17.101 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:17.101 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.102 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.102 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:17.103 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:17.103 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:17.104 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.105 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:17.106 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:17.106 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:17.107 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.107 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:17.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:17.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:17.113 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:17.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:17.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:17.115 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:17.115 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:17.116 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.116 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.117 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.117 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.118 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:17.118 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:17.119 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:17.120 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.120 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.121 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.121 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.122 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:17.122 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:17.123 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:17.123 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:17.124 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:17.124 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:17.125 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.126 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.126 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:17.127 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.127 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:17.128 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.128 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:17.129 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.129 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:17.130 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.130 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:17.131 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.132 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:17.133 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:17.133 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.134 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.134 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:17.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.138 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:17.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:17.140 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:17.140 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:17.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:17.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:17.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:17.142 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.143 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.143 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.144 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.145 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:17.145 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:17.146 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:17.146 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.147 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.147 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.148 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.148 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:17.149 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:17.150 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:17.150 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:17.151 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:17.151 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:17.152 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.152 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.153 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:17.153 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.154 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:17.154 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.155 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:17.155 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.156 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:17.156 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.157 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:17.157 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.159 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:17.159 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:17.160 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.160 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.161 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:17.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:17.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:17.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:17.167 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:17.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:17.168 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:17.169 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:17.169 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.170 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.170 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.171 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.171 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:17.172 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:17.172 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:17.173 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.173 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.174 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.175 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.175 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:17.176 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:17.176 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:17.177 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:17.177 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:17.178 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:17.178 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.179 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.179 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:17.180 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.180 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:17.181 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.182 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:17.182 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.183 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:17.183 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.184 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:17.184 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.185 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:17.186 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:17.186 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.187 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.187 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:17.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:17.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:17.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:17.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:17.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:17.195 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:17.195 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:17.196 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.196 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.197 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.197 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.198 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:17.199 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.199 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.200 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.200 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:17.201 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:17.201 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:17.202 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:17.202 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:17.203 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:17.203 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:17.204 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:17.205 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:17.205 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:17.206 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:17.206 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.207 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:17.207 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:17.208 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.208 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.209 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:17.209 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:17.210 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:17.210 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.212 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:17.212 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:17.213 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:17.213 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.214 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:17.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.217 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.218 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.218 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:17.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:17.219 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:17.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:17.220 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:17.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:17.221 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:17.222 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.223 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.223 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.224 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.224 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:17.225 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:17.225 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:17.226 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.226 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.227 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.227 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.228 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:17.229 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:17.229 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:17.230 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:17.230 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:17.231 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:17.231 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.232 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.232 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:17.233 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.233 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:17.234 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.234 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:17.235 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.235 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:17.236 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.236 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:17.237 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.238 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:17.239 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:17.239 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.240 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.240 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:17.242 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.243 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.244 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:17.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:17.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:17.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:17.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:17.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:17.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:17.249 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.249 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.250 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.250 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.251 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:17.251 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:17.252 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:17.252 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.253 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.254 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.254 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.255 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:17.255 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:17.256 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:17.256 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:17.257 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:17.257 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:17.258 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.258 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.259 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:17.260 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.260 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:17.261 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.261 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:17.262 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.262 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:17.263 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.263 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:17.264 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.265 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:17.267 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:17.268 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:17.277 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:17.279 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:17.280 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:17.281 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:17.371 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:17.372 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:17.373 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:17.373 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:17.374 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:17.374 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:17.375 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:17.375 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:17.386 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:17.387 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:17.398 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:17.399 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:17.400 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:17.400 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102816.log
2025-10-31 10:28:17.401 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:17.401 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:17.409 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102817.log
2025-10-31 10:28:17.410 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:17.410 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:17.412 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:17.413 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-05-07 00:00:00 (after 126 periods of warm-up data)
2025-10-31 10:28:17.414 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:17.415 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:17.415 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:17.416 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-05-07
2025-10-31 10:28:17.417 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-05-07
2025-10-31 10:28:17.418 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:17.418 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:17.419 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:17.420 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.421 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.422 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.423 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.035595092883429214
2025-10-31 10:28:17.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050208830485294786
2025-10-31 10:28:17.424 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03420408780413764
2025-10-31 10:28:17.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-05-07 00:00:00:
2025-10-31 10:28:17.425 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0356 (3.56%) - PASS
2025-10-31 10:28:17.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0502 (5.02%) - PASS
2025-10-31 10:28:17.426 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0342 (3.42%) - PASS
2025-10-31 10:28:17.427 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.428 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.428 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.429 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-05-07: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:17.429 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.430 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.430 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.431 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $117.65 ? $117.71 (slippage: 0.050%)
2025-10-31 10:28:17.432 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:17.432 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 849.57
2025-10-31 10:28:17.433 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:17.433 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:17.434 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 848.72 @ $117.71
2025-10-31 10:28:17.434 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.435 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.435 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:17.436 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.437 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 848.72 shares @ $117.71 (Value: $99,900.10)
2025-10-31 10:28:17.437 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.438 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:17.438 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.439 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:17.439 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.440 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-06-01
2025-10-31 10:28:17.441 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,809.06
2025-10-31 10:28:17.441 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.442 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.442 | INFO     | src.backtesting.engine:run:293 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:17.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.012031726275273602
2025-10-31 10:28:17.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.006513844679864711
2025-10-31 10:28:17.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07850743204593869
2025-10-31 10:28:17.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-06-01 00:00:00:
2025-10-31 10:28:17.449 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0120 (1.20%) - PASS
2025-10-31 10:28:17.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0065 (0.65%) - PASS
2025-10-31 10:28:17.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0785 (7.85%) - PASS
2025-10-31 10:28:17.451 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.451 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.452 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.453 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.453 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:17.454 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 848.72 @ $115.19 (P&L: $-2,139.94)
2025-10-31 10:28:17.454 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,662.40
2025-10-31 10:28:17.455 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-06-01: PV=$97,809.06, Cash=$97,662.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.455 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.456 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.457 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.457 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $119.18 ? $119.24 (slippage: 0.050%)
2025-10-31 10:28:17.458 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:17.458 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 820.26
2025-10-31 10:28:17.459 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.81
2025-10-31 10:28:17.459 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,906.87
2025-10-31 10:28:17.460 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 818.21 @ $119.24
2025-10-31 10:28:17.460 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.461 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.462 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,662.40, Cash end=$0.00
2025-10-31 10:28:17.462 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.463 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 848.72 shares @ $115.24 (Value: $97,809.06, P&L: $-2,091.04)
2025-10-31 10:28:17.463 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.464 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 818.21 shares @ $119.24 (Value: $97,564.83)
2025-10-31 10:28:17.464 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.465 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,564.83
2025-10-31 10:28:17.465 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.466 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.23
2025-10-31 10:28:17.466 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.468 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-07-01
2025-10-31 10:28:17.468 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,825.11
2025-10-31 10:28:17.469 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.469 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.470 | INFO     | src.backtesting.engine:run:293 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:17.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.473 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.474 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.474 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0033774369238706026
2025-10-31 10:28:17.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05871544127393258
2025-10-31 10:28:17.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03624729446272634
2025-10-31 10:28:17.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-07-01 00:00:00:
2025-10-31 10:28:17.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0034 (0.34%) - PASS
2025-10-31 10:28:17.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0587 (5.87%) - PASS
2025-10-31 10:28:17.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0362 (3.62%) - PASS
2025-10-31 10:28:17.478 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.479 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.479 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.480 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.480 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:17.481 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 818.21 @ $119.50 (P&L: $211.37)
2025-10-31 10:28:17.482 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,678.42
2025-10-31 10:28:17.482 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-07-01: PV=$97,825.11, Cash=$97,678.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.483 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.483 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.484 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.484 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.60 ? $121.66 (slippage: 0.050%)
2025-10-31 10:28:17.485 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:17.485 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.10
2025-10-31 10:28:17.486 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.83
2025-10-31 10:28:17.486 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,922.94
2025-10-31 10:28:17.487 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 802.09 @ $121.66
2025-10-31 10:28:17.488 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.488 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.489 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,678.42, Cash end=$-0.00
2025-10-31 10:28:17.489 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.490 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 818.21 shares @ $119.56 (Value: $97,825.11, P&L: $260.28)
2025-10-31 10:28:17.490 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.491 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 802.09 shares @ $121.66 (Value: $97,580.84)
2025-10-31 10:28:17.491 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.492 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,580.84
2025-10-31 10:28:17.492 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.493 | INFO     | src.backtesting.engine:run:336 -      Change: $-244.27
2025-10-31 10:28:17.494 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.495 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-08-01
2025-10-31 10:28:17.495 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,299.74
2025-10-31 10:28:17.496 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.496 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.497 | INFO     | src.backtesting.engine:run:293 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:17.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02933139598418677
2025-10-31 10:28:17.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.021303401941068945
2025-10-31 10:28:17.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027229393534919266
2025-10-31 10:28:17.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-08-01 00:00:00:
2025-10-31 10:28:17.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0293 (2.93%) - PASS
2025-10-31 10:28:17.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0213 (2.13%) - PASS
2025-10-31 10:28:17.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0272 (2.72%) - PASS
2025-10-31 10:28:17.506 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.506 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.507 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.507 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.508 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:17.508 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 802.09 @ $117.51 (P&L: $-3,328.25)
2025-10-31 10:28:17.509 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,158.34
2025-10-31 10:28:17.509 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-08-01: PV=$94,299.74, Cash=$94,158.34, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.510 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.511 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.511 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.512 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $116.84 ? $116.90 (slippage: 0.050%)
2025-10-31 10:28:17.512 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:17.513 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 806.70
2025-10-31 10:28:17.513 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.30
2025-10-31 10:28:17.514 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,394.04
2025-10-31 10:28:17.515 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 804.69 @ $116.90
2025-10-31 10:28:17.515 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.516 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.516 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,158.34, Cash end=$-0.00
2025-10-31 10:28:17.517 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.517 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 802.09 shares @ $117.57 (Value: $94,299.74, P&L: $-3,281.10)
2025-10-31 10:28:17.518 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.518 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 804.69 shares @ $116.90 (Value: $94,064.28)
2025-10-31 10:28:17.519 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.519 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,064.28
2025-10-31 10:28:17.520 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.520 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.47
2025-10-31 10:28:17.521 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.522 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-01
2025-10-31 10:28:17.523 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,658.84
2025-10-31 10:28:17.523 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.524 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.524 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84, P&L: $5,594.56)
2025-10-31 10:28:17.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05900253512475051
2025-10-31 10:28:17.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.031225914616210826
2025-10-31 10:28:17.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.01892942848358925
2025-10-31 10:28:17.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-01 00:00:00:
2025-10-31 10:28:17.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0590 (5.90%) - PASS
2025-10-31 10:28:17.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0312 (3.12%) - PASS
2025-10-31 10:28:17.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0189 (1.89%) - PASS
2025-10-31 10:28:17.533 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.534 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.534 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.535 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.535 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 804.69 shares @ $123.85 (Value: $99,658.84)
2025-10-31 10:28:17.536 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-01: PV=$99,658.84, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.536 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.537 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.538 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:17.538 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 804.69 shares worth $99,658.84
2025-10-31 10:28:17.539 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:17.539 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.85 ? $123.91 (slippage: 0.050%)
2025-10-31 10:28:17.540 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.84
2025-10-31 10:28:17.540 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 804.28
2025-10-31 10:28:17.541 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 804.69
2025-10-31 10:28:17.541 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.40
2025-10-31 10:28:17.542 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:17.542 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.78
2025-10-31 10:28:17.543 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.40 shares at $123.79 (proceeds: $49.73)
2025-10-31 10:28:17.544 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.544 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.73
2025-10-31 10:28:17.545 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.78, Cash end=$49.73
2025-10-31 10:28:17.545 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.546 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.546 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,658.76
2025-10-31 10:28:17.547 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.73
2025-10-31 10:28:17.547 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:17.548 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.549 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:17.550 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,995.38
2025-10-31 10:28:17.550 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.73
2025-10-31 10:28:17.551 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.551 | INFO     | src.backtesting.engine:run:293 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:17.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.030582594707523336
2025-10-31 10:28:17.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04575706079612951
2025-10-31 10:28:17.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.009929104600407301
2025-10-31 10:28:17.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:17.558 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0306 (3.06%) - PASS
2025-10-31 10:28:17.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0458 (4.58%) - PASS
2025-10-31 10:28:17.559 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0099 (0.99%) - PASS
2025-10-31 10:28:17.560 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.560 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.561 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.561 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.562 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:17.563 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 804.28 @ $119.23 (P&L: $1,880.41)
2025-10-31 10:28:17.563 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,851.51
2025-10-31 10:28:17.564 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$95,995.38, Cash=$95,851.51, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.564 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.565 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.566 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.567 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:17.567 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:17.568 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 792.43
2025-10-31 10:28:17.568 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.00
2025-10-31 10:28:17.569 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,091.37
2025-10-31 10:28:17.570 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 790.46 @ $121.14
2025-10-31 10:28:17.570 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.571 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.571 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,851.51, Cash end=$0.00
2025-10-31 10:28:17.572 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.572 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 804.28 shares @ $119.29 (Value: $95,945.65, P&L: $1,928.38)
2025-10-31 10:28:17.573 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.573 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 790.46 shares @ $121.14 (Value: $95,755.75)
2025-10-31 10:28:17.574 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.574 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,755.75
2025-10-31 10:28:17.575 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.575 | INFO     | src.backtesting.engine:run:336 -      Change: $-239.63
2025-10-31 10:28:17.576 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.577 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:17.578 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $96,658.55
2025-10-31 10:28:17.578 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.579 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.579 | INFO     | src.backtesting.engine:run:293 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:17.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1033587269465217
2025-10-31 10:28:17.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0021903567372779653
2025-10-31 10:28:17.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0003576685114388134
2025-10-31 10:28:17.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:17.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1034 (10.34%) - PASS
2025-10-31 10:28:17.587 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0022 (-0.22%) - FAIL
2025-10-31 10:28:17.588 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0004 (0.04%) - PASS
2025-10-31 10:28:17.588 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.589 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.589 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.590 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.590 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:17.591 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 790.46 @ $122.22 (P&L: $854.47)
2025-10-31 10:28:17.591 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,513.61
2025-10-31 10:28:17.592 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$96,658.55, Cash=$96,513.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.593 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.593 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.594 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.594 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $125.44 ? $125.50 (slippage: 0.050%)
2025-10-31 10:28:17.595 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:17.595 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 770.19
2025-10-31 10:28:17.596 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $96.66
2025-10-31 10:28:17.596 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $96,755.21
2025-10-31 10:28:17.597 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 768.26 @ $125.50
2025-10-31 10:28:17.598 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.598 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.599 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,513.61, Cash end=$-0.00
2025-10-31 10:28:17.599 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.600 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 790.46 shares @ $122.28 (Value: $96,658.55, P&L: $902.80)
2025-10-31 10:28:17.600 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.601 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 768.26 shares @ $125.50 (Value: $96,417.20)
2025-10-31 10:28:17.601 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.602 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,417.20
2025-10-31 10:28:17.602 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.603 | INFO     | src.backtesting.engine:run:336 -      Change: $-241.36
2025-10-31 10:28:17.603 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.605 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:17.605 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,440.50
2025-10-31 10:28:17.606 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.606 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.607 | INFO     | src.backtesting.engine:run:293 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:17.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.013277776249488893
2025-10-31 10:28:17.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06262152608940363
2025-10-31 10:28:17.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08676322180129037
2025-10-31 10:28:17.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:17.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0133 (1.33%) - PASS
2025-10-31 10:28:17.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0626 (6.26%) - PASS
2025-10-31 10:28:17.615 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0868 (8.68%) - PASS
2025-10-31 10:28:17.615 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.616 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.616 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.617 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.618 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:17.618 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 768.26 @ $122.87 (P&L: $-2,023.92)
2025-10-31 10:28:17.619 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,298.89
2025-10-31 10:28:17.619 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$94,440.50, Cash=$94,298.89, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.620 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.620 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.621 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.622 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.11 ? $126.17 (slippage: 0.050%)
2025-10-31 10:28:17.622 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.78
2025-10-31 10:28:17.623 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 748.52
2025-10-31 10:28:17.623 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.44
2025-10-31 10:28:17.624 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,534.94
2025-10-31 10:28:17.624 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 746.65 @ $126.17
2025-10-31 10:28:17.625 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.625 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.626 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,298.89, Cash end=$-0.00
2025-10-31 10:28:17.627 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.627 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 768.26 shares @ $122.93 (Value: $94,440.50, P&L: $-1,976.70)
2025-10-31 10:28:17.628 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.628 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 746.65 shares @ $126.17 (Value: $94,204.68)
2025-10-31 10:28:17.629 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.629 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,204.68
2025-10-31 10:28:17.630 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.630 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.82
2025-10-31 10:28:17.631 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.632 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:17.633 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,480.59
2025-10-31 10:28:17.633 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.634 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.634 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59, P&L: $275.90)
2025-10-31 10:28:17.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.011209429102255974
2025-10-31 10:28:17.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058941606166150295
2025-10-31 10:28:17.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0622535911616362
2025-10-31 10:28:17.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:17.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0112 (-1.12%) - FAIL
2025-10-31 10:28:17.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0589 (5.89%) - PASS
2025-10-31 10:28:17.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0623 (6.23%) - PASS
2025-10-31 10:28:17.643 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.643 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.644 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.644 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.645 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 746.65 shares @ $126.54 (Value: $94,480.59)
2025-10-31 10:28:17.645 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$94,480.59, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.646 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.646 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.647 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:17.648 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 746.65 shares worth $94,480.59
2025-10-31 10:28:17.648 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:17.649 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $126.54 ? $126.60 (slippage: 0.050%)
2025-10-31 10:28:17.649 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:17.650 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 746.28
2025-10-31 10:28:17.650 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 746.65
2025-10-31 10:28:17.651 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.37
2025-10-31 10:28:17.651 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:17.652 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.19
2025-10-31 10:28:17.653 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.37 shares at $126.48 (proceeds: $47.15)
2025-10-31 10:28:17.653 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.654 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.15
2025-10-31 10:28:17.654 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.19, Cash end=$47.15
2025-10-31 10:28:17.655 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.655 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.656 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,480.51
2025-10-31 10:28:17.656 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.15
2025-10-31 10:28:17.657 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:17.657 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.659 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:17.659 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,267.65
2025-10-31 10:28:17.660 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.15
2025-10-31 10:28:17.660 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.661 | INFO     | src.backtesting.engine:run:293 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:17.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.664 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06310520477858117
2025-10-31 10:28:17.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: -0.0051841404099940425
2025-10-31 10:28:17.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.012397872823692424
2025-10-31 10:28:17.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:17.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0631 (6.31%) - PASS
2025-10-31 10:28:17.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: -0.0052 (-0.52%) - FAIL
2025-10-31 10:28:17.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0124 (1.24%) - PASS
2025-10-31 10:28:17.669 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.670 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.670 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.671 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.671 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:17.672 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 746.28 @ $124.85 (P&L: $-983.71)
2025-10-31 10:28:17.673 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,127.87
2025-10-31 10:28:17.673 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$93,267.65, Cash=$93,127.87, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.674 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.674 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.675 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.675 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:17.676 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.94
2025-10-31 10:28:17.677 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.44
2025-10-31 10:28:17.677 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.27
2025-10-31 10:28:17.678 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,360.92
2025-10-31 10:28:17.678 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.67 @ $131.28
2025-10-31 10:28:17.679 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.679 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.680 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,127.87, Cash end=$-0.00
2025-10-31 10:28:17.680 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.681 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 746.28 shares @ $124.91 (Value: $93,220.51, P&L: $-937.10)
2025-10-31 10:28:17.681 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.682 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.67 shares @ $131.28 (Value: $93,034.83)
2025-10-31 10:28:17.683 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.683 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,034.83
2025-10-31 10:28:17.684 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.684 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.82
2025-10-31 10:28:17.685 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.686 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:17.686 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,648.30
2025-10-31 10:28:17.687 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.687 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.688 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:17.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.692 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05440422887621632
2025-10-31 10:28:17.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05142103819376587
2025-10-31 10:28:17.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07752140911136718
2025-10-31 10:28:17.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:17.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0544 (5.44%) - PASS
2025-10-31 10:28:17.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0514 (5.14%) - PASS
2025-10-31 10:28:17.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0775 (7.75%) - PASS
2025-10-31 10:28:17.697 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.697 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.698 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.698 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.699 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:17.699 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.67 @ $127.85 (P&L: $-2,431.85)
2025-10-31 10:28:17.700 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,512.38
2025-10-31 10:28:17.701 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$90,648.30, Cash=$90,512.38, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.701 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.702 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.702 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.703 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.94 ? $130.00 (slippage: 0.050%)
2025-10-31 10:28:17.703 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:17.704 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.29
2025-10-31 10:28:17.705 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.65
2025-10-31 10:28:17.705 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,738.95
2025-10-31 10:28:17.706 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 695.54 @ $130.00
2025-10-31 10:28:17.706 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.707 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.707 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,512.38, Cash end=$-0.00
2025-10-31 10:28:17.708 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.709 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.67 shares @ $127.91 (Value: $90,648.30, P&L: $-2,386.53)
2025-10-31 10:28:17.709 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.710 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 695.54 shares @ $130.00 (Value: $90,421.96)
2025-10-31 10:28:17.710 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.711 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,421.96
2025-10-31 10:28:17.711 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.712 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.35
2025-10-31 10:28:17.712 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.714 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:17.714 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,560.83
2025-10-31 10:28:17.715 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.715 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.716 | INFO     | src.backtesting.engine:run:293 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:17.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.718 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.719 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.720 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06293808201915763
2025-10-31 10:28:17.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.041240648472229635
2025-10-31 10:28:17.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04175482645070505
2025-10-31 10:28:17.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:17.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:17.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0412 (4.12%) - PASS
2025-10-31 10:28:17.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:17.724 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.725 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.726 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.726 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.727 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:17.727 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 695.54 @ $128.70 (P&L: $-905.91)
2025-10-31 10:28:17.728 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,426.53
2025-10-31 10:28:17.728 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$89,560.83, Cash=$89,426.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.729 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.730 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.730 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.731 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:17.731 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:17.732 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 683.67
2025-10-31 10:28:17.732 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.56
2025-10-31 10:28:17.733 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,650.39
2025-10-31 10:28:17.734 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 681.96 @ $131.00
2025-10-31 10:28:17.734 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.735 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.735 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,426.53, Cash end=$-0.00
2025-10-31 10:28:17.736 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.736 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 695.54 shares @ $128.76 (Value: $89,560.83, P&L: $-861.12)
2025-10-31 10:28:17.737 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.737 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 681.96 shares @ $131.00 (Value: $89,337.20)
2025-10-31 10:28:17.738 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.739 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,337.20
2025-10-31 10:28:17.739 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.740 | INFO     | src.backtesting.engine:run:336 -      Change: $-223.63
2025-10-31 10:28:17.740 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.741 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:17.742 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,313.33
2025-10-31 10:28:17.742 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.743 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.744 | INFO     | src.backtesting.engine:run:293 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:17.745 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.746 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.747 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.028700449576120723
2025-10-31 10:28:17.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023964287233837922
2025-10-31 10:28:17.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03251597016736918
2025-10-31 10:28:17.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:17.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0287 (2.87%) - PASS
2025-10-31 10:28:17.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0240 (2.40%) - PASS
2025-10-31 10:28:17.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0325 (3.25%) - PASS
2025-10-31 10:28:17.752 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.753 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.753 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.754 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.754 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:17.755 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 681.96 @ $127.97 (P&L: $-2,067.52)
2025-10-31 10:28:17.756 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,182.40
2025-10-31 10:28:17.756 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$87,313.33, Cash=$87,182.40, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.757 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.757 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.758 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.758 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:17.759 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:17.760 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 679.02
2025-10-31 10:28:17.760 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.31
2025-10-31 10:28:17.761 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,400.64
2025-10-31 10:28:17.761 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 677.33 @ $128.59
2025-10-31 10:28:17.762 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.762 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.763 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,182.40, Cash end=$-0.00
2025-10-31 10:28:17.763 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.764 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 681.96 shares @ $128.03 (Value: $87,313.33, P&L: $-2,023.87)
2025-10-31 10:28:17.765 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.765 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 677.33 shares @ $128.59 (Value: $87,095.31)
2025-10-31 10:28:17.766 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.766 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,095.31
2025-10-31 10:28:17.767 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.767 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.02
2025-10-31 10:28:17.768 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.769 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:17.770 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $86,854.60
2025-10-31 10:28:17.770 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.771 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.771 | INFO     | src.backtesting.engine:run:293 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60, P&L: $-240.70)
2025-10-31 10:28:17.773 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.774 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.775 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.776 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018518351950487455
2025-10-31 10:28:17.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02485394620564496
2025-10-31 10:28:17.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0291192760415675
2025-10-31 10:28:17.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:17.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0185 (1.85%) - PASS
2025-10-31 10:28:17.779 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0249 (2.49%) - PASS
2025-10-31 10:28:17.779 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0291 (2.91%) - PASS
2025-10-31 10:28:17.780 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.780 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.781 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.782 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.782 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 677.33 shares @ $128.23 (Value: $86,854.60)
2025-10-31 10:28:17.783 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$86,854.60, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.783 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.784 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.784 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:17.785 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 677.33 shares worth $86,854.60
2025-10-31 10:28:17.786 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:17.786 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.23 ? $128.30 (slippage: 0.050%)
2025-10-31 10:28:17.787 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:17.787 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.99
2025-10-31 10:28:17.788 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 677.33
2025-10-31 10:28:17.788 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.34
2025-10-31 10:28:17.789 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:17.789 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-43.38
2025-10-31 10:28:17.790 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.34 shares at $128.17 (proceeds: $43.34)
2025-10-31 10:28:17.791 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.791 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $43.34
2025-10-31 10:28:17.792 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43.38, Cash end=$43.34
2025-10-31 10:28:17.792 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.793 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.793 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $86,854.54
2025-10-31 10:28:17.794 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $43.34
2025-10-31 10:28:17.794 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:17.795 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.796 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:17.797 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,624.02
2025-10-31 10:28:17.797 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $43.34
2025-10-31 10:28:17.798 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.798 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:17.800 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.802 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.802 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.803 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02446611647269581
2025-10-31 10:28:17.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03443021598630658
2025-10-31 10:28:17.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.03362143477167212
2025-10-31 10:28:17.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:17.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:17.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0344 (3.44%) - PASS
2025-10-31 10:28:17.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0336 (3.36%) - PASS
2025-10-31 10:28:17.807 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.808 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.808 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.809 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.809 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:17.810 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.99 @ $135.21 (P&L: $4,483.10)
2025-10-31 10:28:17.810 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,486.69
2025-10-31 10:28:17.811 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,624.02, Cash=$91,486.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.812 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.812 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.813 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.813 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.17 ? $129.24 (slippage: 0.050%)
2025-10-31 10:28:17.814 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:17.814 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 708.95
2025-10-31 10:28:17.815 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.62
2025-10-31 10:28:17.815 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,715.64
2025-10-31 10:28:17.816 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 707.18 @ $129.24
2025-10-31 10:28:17.817 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.817 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.818 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,486.69, Cash end=$-0.00
2025-10-31 10:28:17.818 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.819 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.99 shares @ $135.28 (Value: $91,580.68, P&L: $4,528.90)
2025-10-31 10:28:17.819 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.820 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 707.18 shares @ $129.24 (Value: $91,395.30)
2025-10-31 10:28:17.820 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.821 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,395.30
2025-10-31 10:28:17.822 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.822 | INFO     | src.backtesting.engine:run:336 -      Change: $-228.72
2025-10-31 10:28:17.823 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.824 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:17.824 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,191.51
2025-10-31 10:28:17.825 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.826 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.826 | INFO     | src.backtesting.engine:run:293 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:17.828 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.829 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.830 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.018013859020837852
2025-10-31 10:28:17.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.017245874902314773
2025-10-31 10:28:17.832 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.003348702345053356
2025-10-31 10:28:17.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:17.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0180 (1.80%) - PASS
2025-10-31 10:28:17.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0172 (1.72%) - PASS
2025-10-31 10:28:17.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0033 (0.33%) - PASS
2025-10-31 10:28:17.835 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.835 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.836 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.837 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.837 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:17.838 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 707.18 @ $130.30 (P&L: $750.12)
2025-10-31 10:28:17.838 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,053.27
2025-10-31 10:28:17.839 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$92,191.51, Cash=$92,053.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.839 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.840 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.841 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.841 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.10 ? $132.16 (slippage: 0.050%)
2025-10-31 10:28:17.842 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:17.842 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.56
2025-10-31 10:28:17.843 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.19
2025-10-31 10:28:17.843 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,283.71
2025-10-31 10:28:17.844 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 695.82 @ $132.16
2025-10-31 10:28:17.845 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.845 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.846 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,053.27, Cash end=$-0.00
2025-10-31 10:28:17.846 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.847 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 707.18 shares @ $130.36 (Value: $92,191.51, P&L: $796.22)
2025-10-31 10:28:17.847 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.848 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 695.82 shares @ $132.16 (Value: $91,961.31)
2025-10-31 10:28:17.848 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.849 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,961.31
2025-10-31 10:28:17.849 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.850 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.20
2025-10-31 10:28:17.850 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.852 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:17.852 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,171.16
2025-10-31 10:28:17.853 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.853 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.854 | INFO     | src.backtesting.engine:run:293 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:17.856 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.857 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.858 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03677187763956247
2025-10-31 10:28:17.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03704344265614412
2025-10-31 10:28:17.860 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02053621215417656
2025-10-31 10:28:17.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:17.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0368 (3.68%) - PASS
2025-10-31 10:28:17.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0370 (3.70%) - PASS
2025-10-31 10:28:17.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0205 (2.05%) - PASS
2025-10-31 10:28:17.863 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.863 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.864 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.864 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.865 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:17.866 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 695.82 @ $132.40 (P&L: $163.76)
2025-10-31 10:28:17.866 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,032.95
2025-10-31 10:28:17.867 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$92,171.16, Cash=$92,032.95, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.867 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.868 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.868 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.869 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.01 ? $132.08 (slippage: 0.050%)
2025-10-31 10:28:17.870 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:17.870 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 697.87
2025-10-31 10:28:17.871 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.17
2025-10-31 10:28:17.871 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,263.33
2025-10-31 10:28:17.872 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 696.13 @ $132.08
2025-10-31 10:28:17.872 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.873 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.874 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,032.95, Cash end=$-0.00
2025-10-31 10:28:17.874 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.875 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 695.82 shares @ $132.46 (Value: $92,171.16, P&L: $209.85)
2025-10-31 10:28:17.875 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.876 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 696.13 shares @ $132.08 (Value: $91,941.01)
2025-10-31 10:28:17.876 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.877 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,941.01
2025-10-31 10:28:17.877 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.878 | INFO     | src.backtesting.engine:run:336 -      Change: $-230.15
2025-10-31 10:28:17.878 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.880 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:17.880 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,345.41
2025-10-31 10:28:17.881 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.881 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.882 | INFO     | src.backtesting.engine:run:293 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:17.884 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.886 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.044175278311836985
2025-10-31 10:28:17.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04000141991045014
2025-10-31 10:28:17.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02351476138248665
2025-10-31 10:28:17.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:17.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0442 (4.42%) - PASS
2025-10-31 10:28:17.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0400 (4.00%) - PASS
2025-10-31 10:28:17.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0235 (2.35%) - PASS
2025-10-31 10:28:17.890 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:17.891 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.891 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:17.892 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.893 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:17.893 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 696.13 @ $134.03 (P&L: $1,357.73)
2025-10-31 10:28:17.894 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,205.44
2025-10-31 10:28:17.894 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$93,345.41, Cash=$93,205.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.895 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:17.895 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:17.896 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:17.897 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:17.897 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:17.898 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.13
2025-10-31 10:28:17.898 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.35
2025-10-31 10:28:17.899 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,438.76
2025-10-31 10:28:17.899 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 685.42 @ $135.85
2025-10-31 10:28:17.900 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.900 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.901 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,205.44, Cash end=$0.00
2025-10-31 10:28:17.902 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.902 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 696.13 shares @ $134.09 (Value: $93,345.41, P&L: $1,404.41)
2025-10-31 10:28:17.903 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.903 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 685.42 shares @ $135.85 (Value: $93,112.33)
2025-10-31 10:28:17.904 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.904 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $93,112.33
2025-10-31 10:28:17.905 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.905 | INFO     | src.backtesting.engine:run:336 -      Change: $-233.08
2025-10-31 10:28:17.906 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.907 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:17.908 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,993.99
2025-10-31 10:28:17.908 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.909 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.909 | INFO     | src.backtesting.engine:run:293 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:17.911 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.912 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.913 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02315525044888278
2025-10-31 10:28:17.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03686238404775599
2025-10-31 10:28:17.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0040414713832701565
2025-10-31 10:28:17.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:17.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0232 (2.32%) - PASS
2025-10-31 10:28:17.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0369 (3.69%) - PASS
2025-10-31 10:28:17.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0040 (0.40%) - PASS
2025-10-31 10:28:17.918 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.918 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.919 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.919 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.920 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:17.920 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 685.42 @ $138.52 (P&L: $1,834.16)
2025-10-31 10:28:17.921 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,851.55
2025-10-31 10:28:17.922 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$94,993.99, Cash=$94,851.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:17.922 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.923 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:17.923 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:17.924 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $136.32 ? $136.39 (slippage: 0.050%)
2025-10-31 10:28:17.924 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:17.925 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.48
2025-10-31 10:28:17.925 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.99
2025-10-31 10:28:17.926 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,088.98
2025-10-31 10:28:17.927 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 694.74 @ $136.39
2025-10-31 10:28:17.927 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.928 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:17.928 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,851.55, Cash end=$0.00
2025-10-31 10:28:17.929 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.929 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 685.42 shares @ $138.59 (Value: $94,993.99, P&L: $1,881.66)
2025-10-31 10:28:17.930 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.930 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 694.74 shares @ $136.39 (Value: $94,756.79)
2025-10-31 10:28:17.931 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.931 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,756.79
2025-10-31 10:28:17.932 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:17.932 | INFO     | src.backtesting.engine:run:336 -      Change: $-237.20
2025-10-31 10:28:17.933 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.934 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:17.935 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,830.21
2025-10-31 10:28:17.935 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:17.936 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.936 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21, P&L: $1,073.42)
2025-10-31 10:28:17.938 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.939 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.940 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.941 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.024451661444869544
2025-10-31 10:28:17.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.02476747586708239
2025-10-31 10:28:17.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.013218491540031518
2025-10-31 10:28:17.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:17.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0245 (2.45%) - PASS
2025-10-31 10:28:17.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0248 (2.48%) - PASS
2025-10-31 10:28:17.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0132 (1.32%) - PASS
2025-10-31 10:28:17.945 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.945 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.946 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:17.947 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:17.947 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 694.74 shares @ $137.94 (Value: $95,830.21)
2025-10-31 10:28:17.948 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$95,830.21, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:17.948 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:17.949 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:17.949 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:17.950 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 694.74 shares worth $95,830.21
2025-10-31 10:28:17.951 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:17.951 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:17.952 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:17.952 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 694.39
2025-10-31 10:28:17.953 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 694.74
2025-10-31 10:28:17.953 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:17.954 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:17.954 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.87
2025-10-31 10:28:17.955 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.35 shares at $137.87 (proceeds: $47.82)
2025-10-31 10:28:17.955 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:17.956 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.82
2025-10-31 10:28:17.956 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.87, Cash end=$47.82
2025-10-31 10:28:17.957 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:17.958 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.958 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,830.14
2025-10-31 10:28:17.959 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.82
2025-10-31 10:28:17.959 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:17.960 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.961 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:17.961 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,479.90
2025-10-31 10:28:17.962 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.82
2025-10-31 10:28:17.963 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.963 | INFO     | src.backtesting.engine:run:293 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:17.965 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.966 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.967 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.968 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0315873221385794
2025-10-31 10:28:17.968 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.022007835324161285
2025-10-31 10:28:17.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0724370625609081
2025-10-31 10:28:17.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:17.970 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0316 (3.16%) - PASS
2025-10-31 10:28:17.970 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0220 (2.20%) - PASS
2025-10-31 10:28:17.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0724 (7.24%) - PASS
2025-10-31 10:28:17.972 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:17.972 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:17.973 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:17.973 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:17.974 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:17.974 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 694.39 @ $137.36 (P&L: $674.93)
2025-10-31 10:28:17.975 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,336.80
2025-10-31 10:28:17.975 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$95,479.90, Cash=$95,336.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:17.976 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:17.977 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:17.977 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:17.978 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.13 ? $141.21 (slippage: 0.050%)
2025-10-31 10:28:17.978 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:17.979 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 676.18
2025-10-31 10:28:17.979 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.48
2025-10-31 10:28:17.980 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,575.38
2025-10-31 10:28:17.980 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 674.49 @ $141.21
2025-10-31 10:28:17.981 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:17.982 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:17.982 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,336.80, Cash end=$-0.00
2025-10-31 10:28:17.983 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:17.983 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 694.39 shares @ $137.43 (Value: $95,432.08, P&L: $722.64)
2025-10-31 10:28:17.984 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:17.984 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 674.49 shares @ $141.21 (Value: $95,241.56)
2025-10-31 10:28:17.985 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:17.985 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,241.56
2025-10-31 10:28:17.986 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:17.986 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.34
2025-10-31 10:28:17.987 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:17.988 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:17.989 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,472.96
2025-10-31 10:28:17.989 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:17.990 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:17.990 | INFO     | src.backtesting.engine:run:293 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:17.992 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:17.993 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:17.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.007031872470838918
2025-10-31 10:28:17.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.040451903982305915
2025-10-31 10:28:17.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027798114878354596
2025-10-31 10:28:17.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:17.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0070 (0.70%) - PASS
2025-10-31 10:28:17.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0405 (4.05%) - PASS
2025-10-31 10:28:17.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0278 (2.78%) - PASS
2025-10-31 10:28:17.999 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:17.999 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.000 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.000 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.001 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:18.002 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 674.49 @ $141.48 (P&L: $183.67)
2025-10-31 10:28:18.002 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $95,329.80
2025-10-31 10:28:18.003 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$95,472.96, Cash=$95,329.80, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.003 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.004 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.004 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.005 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $140.16 ? $140.23 (slippage: 0.050%)
2025-10-31 10:28:18.005 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.79
2025-10-31 10:28:18.006 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 680.82
2025-10-31 10:28:18.007 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $95.47
2025-10-31 10:28:18.007 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $95,568.43
2025-10-31 10:28:18.008 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 679.12 @ $140.23
2025-10-31 10:28:18.008 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.009 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.009 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$95,329.80, Cash end=$-0.00
2025-10-31 10:28:18.010 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.010 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 674.49 shares @ $141.55 (Value: $95,472.96, P&L: $231.41)
2025-10-31 10:28:18.011 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.011 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 679.12 shares @ $140.23 (Value: $95,234.56)
2025-10-31 10:28:18.012 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.013 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,234.56
2025-10-31 10:28:18.013 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.014 | INFO     | src.backtesting.engine:run:336 -      Change: $-238.40
2025-10-31 10:28:18.014 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.015 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:18.016 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,305.04
2025-10-31 10:28:18.016 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.017 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.017 | INFO     | src.backtesting.engine:run:293 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:18.019 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.020 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.022 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06291784117375898
2025-10-31 10:28:18.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.023401936544315438
2025-10-31 10:28:18.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04215492418835143
2025-10-31 10:28:18.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:18.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0629 (6.29%) - PASS
2025-10-31 10:28:18.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0234 (2.34%) - PASS
2025-10-31 10:28:18.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0422 (4.22%) - PASS
2025-10-31 10:28:18.026 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.026 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.027 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.028 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.028 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:18.029 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 679.12 @ $138.79 (P&L: $-976.67)
2025-10-31 10:28:18.029 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,163.63
2025-10-31 10:28:18.030 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$94,305.04, Cash=$94,163.63, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.030 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.031 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.032 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.032 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.57 ? $141.65 (slippage: 0.050%)
2025-10-31 10:28:18.033 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:18.033 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.78
2025-10-31 10:28:18.034 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.31
2025-10-31 10:28:18.034 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,399.35
2025-10-31 10:28:18.035 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.12 @ $141.65
2025-10-31 10:28:18.035 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.036 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.037 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,163.63, Cash end=$-0.00
2025-10-31 10:28:18.037 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.038 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 679.12 shares @ $138.86 (Value: $94,305.04, P&L: $-929.52)
2025-10-31 10:28:18.038 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.039 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.12 shares @ $141.65 (Value: $94,069.56)
2025-10-31 10:28:18.039 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.040 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,069.56
2025-10-31 10:28:18.040 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.041 | INFO     | src.backtesting.engine:run:336 -      Change: $-235.48
2025-10-31 10:28:18.041 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.043 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:18.043 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,081.35
2025-10-31 10:28:18.044 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.044 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.045 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:18.047 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.047 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.048 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.049 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.005852208253313895
2025-10-31 10:28:18.050 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.018161210498184976
2025-10-31 10:28:18.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.015986324054038104
2025-10-31 10:28:18.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:18.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0059 (0.59%) - PASS
2025-10-31 10:28:18.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0182 (1.82%) - PASS
2025-10-31 10:28:18.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0160 (1.60%) - PASS
2025-10-31 10:28:18.053 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.054 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.054 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.055 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.055 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:18.056 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.12 @ $138.58 (P&L: $-2,034.25)
2025-10-31 10:28:18.057 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,943.27
2025-10-31 10:28:18.057 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$92,081.35, Cash=$91,943.27, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.058 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.058 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.059 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.059 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:18.060 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:18.060 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.97
2025-10-31 10:28:18.061 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $92.08
2025-10-31 10:28:18.062 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $92,173.43
2025-10-31 10:28:18.062 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 665.31 @ $138.06
2025-10-31 10:28:18.063 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.063 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.064 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,943.27, Cash end=$-0.00
2025-10-31 10:28:18.064 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.065 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.12 shares @ $138.65 (Value: $92,081.35, P&L: $-1,988.21)
2025-10-31 10:28:18.065 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.066 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 665.31 shares @ $138.06 (Value: $91,851.42)
2025-10-31 10:28:18.066 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.067 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,851.42
2025-10-31 10:28:18.068 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.068 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.93
2025-10-31 10:28:18.069 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.070 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:18.070 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $95,890.02
2025-10-31 10:28:18.071 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.071 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.072 | INFO     | src.backtesting.engine:run:293 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02, P&L: $4,038.60)
2025-10-31 10:28:18.074 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.075 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.076 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.022679425291296074
2025-10-31 10:28:18.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.028263312763302073
2025-10-31 10:28:18.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028106208140941336
2025-10-31 10:28:18.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:18.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0227 (2.27%) - PASS
2025-10-31 10:28:18.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0283 (2.83%) - PASS
2025-10-31 10:28:18.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0281 (2.81%) - PASS
2025-10-31 10:28:18.081 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.081 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.082 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.082 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.083 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 665.31 shares @ $144.13 (Value: $95,890.02)
2025-10-31 10:28:18.083 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$95,890.02, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.084 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.084 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.085 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:18.086 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 665.31 shares worth $95,890.02
2025-10-31 10:28:18.086 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:18.087 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:18.087 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:18.088 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.98
2025-10-31 10:28:18.088 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 665.31
2025-10-31 10:28:18.089 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:18.089 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:18.090 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-47.90
2025-10-31 10:28:18.091 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.33 shares at $144.06 (proceeds: $47.85)
2025-10-31 10:28:18.091 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.092 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $47.85
2025-10-31 10:28:18.092 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$47.90, Cash end=$47.85
2025-10-31 10:28:18.093 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.093 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.094 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $95,889.95
2025-10-31 10:28:18.094 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:18.095 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:18.095 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.097 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:18.097 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,037.10
2025-10-31 10:28:18.098 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:18.098 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.099 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25, P&L: $5,183.73)
2025-10-31 10:28:18.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0028491665222010187
2025-10-31 10:28:18.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06890459290912854
2025-10-31 10:28:18.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.02804644166332726
2025-10-31 10:28:18.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:18.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0028 (0.28%) - PASS
2025-10-31 10:28:18.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0689 (6.89%) - PASS
2025-10-31 10:28:18.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0280 (2.80%) - PASS
2025-10-31 10:28:18.107 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.108 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.108 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.109 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.109 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 664.98 shares @ $145.85 (Value: $96,989.25)
2025-10-31 10:28:18.110 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$97,037.10, Cash=$47.85, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:18.111 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.111 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.112 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:18.112 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.98 shares worth $96,989.25
2025-10-31 10:28:18.113 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:18.113 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:18.114 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:18.114 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.97
2025-10-31 10:28:18.115 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.98
2025-10-31 10:28:18.116 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:18.116 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:18.117 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.64
2025-10-31 10:28:18.117 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:18.118 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$47.85
2025-10-31 10:28:18.118 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.119 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.119 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,037.10
2025-10-31 10:28:18.120 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $47.85
2025-10-31 10:28:18.120 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:18.121 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.122 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:18.123 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,038.56
2025-10-31 10:28:18.123 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $47.85
2025-10-31 10:28:18.124 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.124 | INFO     | src.backtesting.engine:run:293 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:18.126 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.127 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.128 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06963520697737557
2025-10-31 10:28:18.129 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06825583810414271
2025-10-31 10:28:18.130 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.022651966651945354
2025-10-31 10:28:18.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:18.131 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0696 (6.96%) - PASS
2025-10-31 10:28:18.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0683 (6.83%) - PASS
2025-10-31 10:28:18.132 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0227 (2.27%) - PASS
2025-10-31 10:28:18.133 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.133 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.134 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.134 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.135 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:18.136 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 664.98 @ $145.78 (P&L: $5,136.69)
2025-10-31 10:28:18.136 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,893.12
2025-10-31 10:28:18.137 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$97,038.56, Cash=$96,893.12, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.137 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.138 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.138 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.139 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.52 ? $144.59 (slippage: 0.050%)
2025-10-31 10:28:18.139 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:18.140 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 671.12
2025-10-31 10:28:18.141 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.04
2025-10-31 10:28:18.141 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,135.60
2025-10-31 10:28:18.142 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 669.45 @ $144.59
2025-10-31 10:28:18.142 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.143 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.143 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,893.12, Cash end=$-0.00
2025-10-31 10:28:18.144 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.144 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 664.98 shares @ $145.86 (Value: $96,990.71, P&L: $5,185.19)
2025-10-31 10:28:18.145 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.145 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 669.45 shares @ $144.59 (Value: $96,796.32)
2025-10-31 10:28:18.146 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.147 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,796.32
2025-10-31 10:28:18.147 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.148 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.23
2025-10-31 10:28:18.148 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.149 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:18.150 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,385.95
2025-10-31 10:28:18.150 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.151 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.151 | INFO     | src.backtesting.engine:run:293 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:18.153 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.154 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.155 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.156 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03267533957311608
2025-10-31 10:28:18.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04027333839873615
2025-10-31 10:28:18.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.027414059792455925
2025-10-31 10:28:18.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:18.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0327 (3.27%) - PASS
2025-10-31 10:28:18.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0403 (4.03%) - PASS
2025-10-31 10:28:18.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0274 (2.74%) - PASS
2025-10-31 10:28:18.160 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.161 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.161 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.162 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.162 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:18.163 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 669.45 @ $146.89 (P&L: $1,540.43)
2025-10-31 10:28:18.163 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,238.42
2025-10-31 10:28:18.164 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$98,385.95, Cash=$98,238.42, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.164 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.165 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.166 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.166 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.99 ? $143.06 (slippage: 0.050%)
2025-10-31 10:28:18.167 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:18.167 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 687.72
2025-10-31 10:28:18.168 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.39
2025-10-31 10:28:18.168 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,484.33
2025-10-31 10:28:18.169 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 686.01 @ $143.06
2025-10-31 10:28:18.170 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.170 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.171 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,238.42, Cash end=$0.00
2025-10-31 10:28:18.171 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.172 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 669.45 shares @ $146.97 (Value: $98,385.95, P&L: $1,589.63)
2025-10-31 10:28:18.172 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.173 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 686.01 shares @ $143.06 (Value: $98,140.28)
2025-10-31 10:28:18.173 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.174 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,140.28
2025-10-31 10:28:18.174 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.175 | INFO     | src.backtesting.engine:run:336 -      Change: $-245.67
2025-10-31 10:28:18.175 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.177 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:18.177 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,816.37
2025-10-31 10:28:18.178 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:18.178 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.179 | INFO     | src.backtesting.engine:run:293 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:18.181 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.181 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.182 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.183 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.183 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019996046151271596
2025-10-31 10:28:18.184 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05011913861073647
2025-10-31 10:28:18.185 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05252697548424279
2025-10-31 10:28:18.185 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:18.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0200 (2.00%) - PASS
2025-10-31 10:28:18.186 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0501 (5.01%) - PASS
2025-10-31 10:28:18.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0525 (5.25%) - PASS
2025-10-31 10:28:18.187 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.188 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.188 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.189 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.189 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:18.190 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 686.01 @ $149.80 (P&L: $4,624.68)
2025-10-31 10:28:18.191 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $102,662.19
2025-10-31 10:28:18.191 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$102,816.37, Cash=$102,662.19, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.192 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.192 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.193 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.193 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:18.194 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.71
2025-10-31 10:28:18.194 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.37
2025-10-31 10:28:18.195 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $102.82
2025-10-31 10:28:18.196 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $102,919.18
2025-10-31 10:28:18.196 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 696.63 @ $147.22
2025-10-31 10:28:18.197 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.197 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.198 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$102,662.19, Cash end=$-0.00
2025-10-31 10:28:18.198 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.199 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 686.01 shares @ $149.88 (Value: $102,816.37, P&L: $4,676.09)
2025-10-31 10:28:18.199 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.200 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 696.63 shares @ $147.22 (Value: $102,559.63)
2025-10-31 10:28:18.200 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.201 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,559.63
2025-10-31 10:28:18.202 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.202 | INFO     | src.backtesting.engine:run:336 -      Change: $-256.73
2025-10-31 10:28:18.203 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.204 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:18.204 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,306.00
2025-10-31 10:28:18.205 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.205 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.206 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00, P&L: $1,746.36)
2025-10-31 10:28:18.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.210 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03255307912862948
2025-10-31 10:28:18.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04108588315780337
2025-10-31 10:28:18.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.049307738927068856
2025-10-31 10:28:18.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:18.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0326 (3.26%) - PASS
2025-10-31 10:28:18.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0411 (4.11%) - PASS
2025-10-31 10:28:18.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0493 (4.93%) - PASS
2025-10-31 10:28:18.214 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.215 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.216 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.216 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.217 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 696.63 shares @ $149.73 (Value: $104,306.00)
2025-10-31 10:28:18.217 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$104,306.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.218 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.218 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.219 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:18.219 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 696.63 shares worth $104,306.00
2025-10-31 10:28:18.220 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:18.221 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:18.221 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:18.222 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 696.28
2025-10-31 10:28:18.222 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 696.63
2025-10-31 10:28:18.223 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.35
2025-10-31 10:28:18.223 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:18.224 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-52.10
2025-10-31 10:28:18.224 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.35 shares at $149.66 (proceeds: $52.05)
2025-10-31 10:28:18.225 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.225 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52.05
2025-10-31 10:28:18.226 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$52.10, Cash end=$52.05
2025-10-31 10:28:18.227 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.227 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.228 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,305.92
2025-10-31 10:28:18.228 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $52.05
2025-10-31 10:28:18.229 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.08
2025-10-31 10:28:18.229 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.230 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:18.231 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,075.14
2025-10-31 10:28:18.232 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $52.05
2025-10-31 10:28:18.232 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.233 | INFO     | src.backtesting.engine:run:293 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:18.234 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.235 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.236 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.237 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.237 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0014032179832472735
2025-10-31 10:28:18.238 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.059344329586368705
2025-10-31 10:28:18.238 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0016537420185778196
2025-10-31 10:28:18.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:18.239 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0014 (-0.14%) - FAIL
2025-10-31 10:28:18.240 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:18.240 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0017 (0.17%) - PASS
2025-10-31 10:28:18.241 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.242 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.242 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.243 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.243 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:18.244 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 696.28 @ $143.58 (P&L: $-2,535.30)
2025-10-31 10:28:18.244 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $99,925.16
2025-10-31 10:28:18.245 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$100,075.14, Cash=$99,925.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.246 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.246 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.247 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.247 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:18.248 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.99
2025-10-31 10:28:18.248 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 665.52
2025-10-31 10:28:18.249 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.08
2025-10-31 10:28:18.249 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,175.22
2025-10-31 10:28:18.250 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 663.86 @ $150.37
2025-10-31 10:28:18.251 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.251 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.252 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$99,925.16, Cash end=$0.00
2025-10-31 10:28:18.252 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.253 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 696.28 shares @ $143.65 (Value: $100,023.09, P&L: $-2,485.29)
2025-10-31 10:28:18.253 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.254 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 663.86 shares @ $150.37 (Value: $99,825.33)
2025-10-31 10:28:18.254 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.255 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,825.33
2025-10-31 10:28:18.255 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.256 | INFO     | src.backtesting.engine:run:336 -      Change: $-249.81
2025-10-31 10:28:18.256 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.258 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:18.258 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,089.20
2025-10-31 10:28:18.259 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:18.259 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.260 | INFO     | src.backtesting.engine:run:293 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:18.262 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.263 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.264 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 127 momentum values, 1 non-NaN
2025-10-31 10:28:18.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026465707413576123
2025-10-31 10:28:18.265 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.005910261859245924
2025-10-31 10:28:18.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07025815806200986
2025-10-31 10:28:18.266 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:18.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0265 (2.65%) - PASS
2025-10-31 10:28:18.267 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0059 (0.59%) - PASS
2025-10-31 10:28:18.268 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0703 (7.03%) - PASS
2025-10-31 10:28:18.268 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.269 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.270 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.270 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.271 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:18.271 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 663.86 @ $146.18 (P&L: $-2,784.68)
2025-10-31 10:28:18.272 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $96,943.61
2025-10-31 10:28:18.272 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$97,089.20, Cash=$96,943.61, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.273 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.274 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.274 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.275 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:18.275 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.89
2025-10-31 10:28:18.276 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.63
2025-10-31 10:28:18.276 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.09
2025-10-31 10:28:18.277 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,186.29
2025-10-31 10:28:18.278 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 637.04 @ $152.03
2025-10-31 10:28:18.278 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.279 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.279 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$96,943.61, Cash end=$0.00
2025-10-31 10:28:18.280 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.280 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 663.86 shares @ $146.25 (Value: $97,089.20, P&L: $-2,736.13)
2025-10-31 10:28:18.281 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.281 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 637.04 shares @ $152.03 (Value: $96,846.77)
2025-10-31 10:28:18.282 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.282 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $96,846.77
2025-10-31 10:28:18.283 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.284 | INFO     | src.backtesting.engine:run:336 -      Change: $-242.43
2025-10-31 10:28:18.284 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.285 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 637.04 @ $151.85 (P&L: $-110.41)
2025-10-31 10:28:18.287 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-05-07 to 2023-12-31
2025-10-31 10:28:18.289 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:18.297 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:18.299 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:18.300 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'EFA_quantity', 'EFA_price', 'EFA_value', 'AGG_quantity', 'AGG_price', 'AGG_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:18.301 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 969 records (performance period)
2025-10-31 10:28:18.392 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:18.393 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:18.393 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:18.394 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 969
2025-10-31 10:28:18.394 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:18.395 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (969, 18)
2025-10-31 10:28:18.395 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:18.396 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:18.407 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-05-07    100000.000000  1.000000e+05  ...        NaN      NaN
2021-05-08     95923.126469 -1.455192e-11  ...        NaN      NaN
2021-05-09     97101.989135 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:18.408 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:18.419 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value  cash  cash_pct  ...  SPY_quantity  SPY_price  SPY_pct
timestamp                                    ...                                  
2023-12-29     96199.294489   0.0       0.0  ...           NaN        NaN      NaN
2023-12-30     94230.660154   0.0       0.0  ...           NaN        NaN      NaN
2023-12-31     96784.746983   0.0       0.0  ...           NaN        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:18.420 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:18.420 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $96,784.75 (-3.22% return)
2025-10-31 10:28:18.421 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102817.log
2025-10-31 10:28:18.421 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:97 - Safe asset configured: AGG
2025-10-31 10:28:18.422 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:18.430 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102818.log
2025-10-31 10:28:18.431 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:18.431 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2021-01-01 to 2023-12-31
2025-10-31 10:28:18.433 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2021-01-01 00:00:00 to 2023-12-31 00:00:00 (1095 periods)
2025-10-31 10:28:18.434 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2021-09-10 00:00:00 (after 252 periods of warm-up data)
2025-10-31 10:28:18.435 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:18.436 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:18.436 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:18.438 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2021-09-10
2025-10-31 10:28:18.438 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-09-10
2025-10-31 10:28:18.439 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:18.440 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:18.440 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:18.442 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.443 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.444 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0809326756523252
2025-10-31 10:28:18.445 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08149454604873574
2025-10-31 10:28:18.446 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08817543839164688
2025-10-31 10:28:18.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-09-10 00:00:00:
2025-10-31 10:28:18.447 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0809 (8.09%) - PASS
2025-10-31 10:28:18.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0815 (8.15%) - PASS
2025-10-31 10:28:18.448 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0882 (8.82%) - PASS
2025-10-31 10:28:18.449 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.449 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.450 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.451 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-09-10: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:18.451 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.452 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.452 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.453 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $123.53 ? $123.59 (slippage: 0.050%)
2025-10-31 10:28:18.454 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:18.454 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 809.15
2025-10-31 10:28:18.455 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.00
2025-10-31 10:28:18.455 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,100.00
2025-10-31 10:28:18.456 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 808.34 @ $123.59
2025-10-31 10:28:18.456 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.457 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.458 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,000.00, Cash end=$-0.00
2025-10-31 10:28:18.458 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.459 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 808.34 shares @ $123.59 (Value: $99,900.10)
2025-10-31 10:28:18.459 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.460 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,900.10
2025-10-31 10:28:18.460 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.461 | INFO     | src.backtesting.engine:run:336 -      Change: $-99.90
2025-10-31 10:28:18.461 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.463 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-10-01
2025-10-31 10:28:18.463 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $98,594.06
2025-10-31 10:28:18.464 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.464 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.465 | INFO     | src.backtesting.engine:run:293 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:18.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.467 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.468 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.469 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.469 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.019551495925198337
2025-10-31 10:28:18.470 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07498293204285922
2025-10-31 10:28:18.471 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05824612172849841
2025-10-31 10:28:18.471 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-10-01 00:00:00:
2025-10-31 10:28:18.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0196 (1.96%) - PASS
2025-10-31 10:28:18.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0750 (7.50%) - PASS
2025-10-31 10:28:18.473 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0582 (5.82%) - PASS
2025-10-31 10:28:18.473 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.474 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.475 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.475 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.476 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:18.476 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 808.34 @ $121.91 (P&L: $-1,355.34)
2025-10-31 10:28:18.477 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $98,446.22
2025-10-31 10:28:18.477 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-10-01: PV=$98,594.06, Cash=$98,446.22, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.478 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.479 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.479 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.480 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $121.08 ? $121.14 (slippage: 0.050%)
2025-10-31 10:28:18.480 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:18.481 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 813.89
2025-10-31 10:28:18.482 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $98.59
2025-10-31 10:28:18.482 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $98,692.65
2025-10-31 10:28:18.483 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 811.85 @ $121.14
2025-10-31 10:28:18.483 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.484 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.484 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$98,446.22, Cash end=$-0.00
2025-10-31 10:28:18.485 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.486 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 808.34 shares @ $121.97 (Value: $98,594.06, P&L: $-1,306.04)
2025-10-31 10:28:18.486 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.487 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 811.85 shares @ $121.14 (Value: $98,347.87)
2025-10-31 10:28:18.487 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.488 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $98,347.87
2025-10-31 10:28:18.488 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.489 | INFO     | src.backtesting.engine:run:336 -      Change: $-246.19
2025-10-31 10:28:18.489 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.491 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-11-01
2025-10-31 10:28:18.491 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $99,275.11
2025-10-31 10:28:18.492 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.492 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.493 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11, P&L: $927.24)
2025-10-31 10:28:18.495 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.496 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.496 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.497 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07511303569502892
2025-10-31 10:28:18.498 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08589327251529832
2025-10-31 10:28:18.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06452336484703469
2025-10-31 10:28:18.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-11-01 00:00:00:
2025-10-31 10:28:18.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0751 (7.51%) - PASS
2025-10-31 10:28:18.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0859 (8.59%) - PASS
2025-10-31 10:28:18.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0645 (6.45%) - PASS
2025-10-31 10:28:18.502 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.502 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.503 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.503 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.504 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 811.85 shares @ $122.28 (Value: $99,275.11)
2025-10-31 10:28:18.505 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-11-01: PV=$99,275.11, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.506 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.506 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.507 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:18.507 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 811.85 shares worth $99,275.11
2025-10-31 10:28:18.508 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:18.509 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.28 ? $122.34 (slippage: 0.050%)
2025-10-31 10:28:18.509 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:18.510 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 811.45
2025-10-31 10:28:18.510 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 811.85
2025-10-31 10:28:18.511 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.41
2025-10-31 10:28:18.511 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:18.512 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-49.59
2025-10-31 10:28:18.513 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.41 shares at $122.22 (proceeds: $49.54)
2025-10-31 10:28:18.513 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.514 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49.54
2025-10-31 10:28:18.514 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$49.59, Cash end=$49.54
2025-10-31 10:28:18.515 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.515 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.516 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,275.03
2025-10-31 10:28:18.516 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49.54
2025-10-31 10:28:18.517 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:18.518 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.519 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2021-12-01
2025-10-31 10:28:18.519 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,453.53
2025-10-31 10:28:18.520 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49.54
2025-10-31 10:28:18.520 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.521 | INFO     | src.backtesting.engine:run:293 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:18.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07533958777997163
2025-10-31 10:28:18.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06332847983307777
2025-10-31 10:28:18.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06863582586745842
2025-10-31 10:28:18.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2021-12-01 00:00:00:
2025-10-31 10:28:18.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0753 (7.53%) - PASS
2025-10-31 10:28:18.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0633 (6.33%) - PASS
2025-10-31 10:28:18.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0686 (6.86%) - PASS
2025-10-31 10:28:18.530 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.530 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.531 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.531 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.532 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:18.533 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 811.45 @ $123.67 (P&L: $2,055.08)
2025-10-31 10:28:18.533 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,302.98
2025-10-31 10:28:18.534 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2021-12-01: PV=$100,453.53, Cash=$100,302.98, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.534 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.535 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.536 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.536 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $122.93 ? $122.99 (slippage: 0.050%)
2025-10-31 10:28:18.537 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:18.537 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 816.77
2025-10-31 10:28:18.538 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.45
2025-10-31 10:28:18.538 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,553.99
2025-10-31 10:28:18.539 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 814.73 @ $122.99
2025-10-31 10:28:18.540 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.540 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.541 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,302.98, Cash end=$-0.00
2025-10-31 10:28:18.541 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.542 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 811.45 shares @ $123.73 (Value: $100,404.00, P&L: $2,105.28)
2025-10-31 10:28:18.542 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.543 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 814.73 shares @ $122.99 (Value: $100,202.78)
2025-10-31 10:28:18.543 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.544 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,202.78
2025-10-31 10:28:18.545 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.545 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.76
2025-10-31 10:28:18.546 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.547 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-01-01
2025-10-31 10:28:18.547 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,275.19
2025-10-31 10:28:18.548 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.549 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.549 | INFO     | src.backtesting.engine:run:293 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:18.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.037374576779007684
2025-10-31 10:28:18.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0865684206777857
2025-10-31 10:28:18.555 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.05637830462180449
2025-10-31 10:28:18.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-01-01 00:00:00:
2025-10-31 10:28:18.556 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0374 (3.74%) - PASS
2025-10-31 10:28:18.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0866 (8.66%) - PASS
2025-10-31 10:28:18.557 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0564 (5.64%) - PASS
2025-10-31 10:28:18.558 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.558 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.559 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.560 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.560 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:18.561 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 814.73 @ $123.02 (P&L: $22.28)
2025-10-31 10:28:18.561 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,124.83
2025-10-31 10:28:18.562 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-01-01: PV=$100,275.19, Cash=$100,124.83, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.562 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.563 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.564 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.564 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $124.66 ? $124.73 (slippage: 0.050%)
2025-10-31 10:28:18.565 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:18.565 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 803.97
2025-10-31 10:28:18.566 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $100.28
2025-10-31 10:28:18.566 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $100,375.47
2025-10-31 10:28:18.567 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 801.96 @ $124.73
2025-10-31 10:28:18.568 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.568 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.569 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$100,124.83, Cash end=$-0.00
2025-10-31 10:28:18.569 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.570 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 814.73 shares @ $123.08 (Value: $100,275.19, P&L: $72.41)
2025-10-31 10:28:18.570 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.571 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 801.96 shares @ $124.73 (Value: $100,024.80)
2025-10-31 10:28:18.572 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.572 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,024.80
2025-10-31 10:28:18.573 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.573 | INFO     | src.backtesting.engine:run:336 -      Change: $-250.39
2025-10-31 10:28:18.574 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.575 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-02-01
2025-10-31 10:28:18.576 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $97,585.07
2025-10-31 10:28:18.576 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.577 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.577 | INFO     | src.backtesting.engine:run:293 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:18.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.580 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.581 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.582 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.11193767893425632
2025-10-31 10:28:18.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.034556594930737594
2025-10-31 10:28:18.583 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04474012852421505
2025-10-31 10:28:18.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-02-01 00:00:00:
2025-10-31 10:28:18.584 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1119 (11.19%) - PASS
2025-10-31 10:28:18.585 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0346 (3.46%) - PASS
2025-10-31 10:28:18.586 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0447 (4.47%) - PASS
2025-10-31 10:28:18.586 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.587 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.587 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.588 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.588 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:18.589 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 801.96 @ $121.62 (P&L: $-2,488.52)
2025-10-31 10:28:18.590 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $97,438.74
2025-10-31 10:28:18.590 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-02-01: PV=$97,585.07, Cash=$97,438.74, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.591 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.591 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.592 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.592 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $131.22 ? $131.28 (slippage: 0.050%)
2025-10-31 10:28:18.593 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:18.594 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 743.33
2025-10-31 10:28:18.594 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $97.59
2025-10-31 10:28:18.595 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $97,682.66
2025-10-31 10:28:18.595 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 741.47 @ $131.28
2025-10-31 10:28:18.596 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.597 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.597 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$97,438.74, Cash end=$-0.00
2025-10-31 10:28:18.598 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.598 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 801.96 shares @ $121.68 (Value: $97,585.07, P&L: $-2,439.73)
2025-10-31 10:28:18.599 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.599 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 741.47 shares @ $131.28 (Value: $97,341.40)
2025-10-31 10:28:18.600 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.600 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $97,341.40
2025-10-31 10:28:18.601 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.602 | INFO     | src.backtesting.engine:run:336 -      Change: $-243.67
2025-10-31 10:28:18.602 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.603 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-03-01
2025-10-31 10:28:18.604 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $94,844.40
2025-10-31 10:28:18.604 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.605 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.605 | INFO     | src.backtesting.engine:run:293 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:18.607 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.608 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.609 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.610 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.062080363269852556
2025-10-31 10:28:18.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.11404037668171707
2025-10-31 10:28:18.611 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08587886730594763
2025-10-31 10:28:18.612 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-03-01 00:00:00:
2025-10-31 10:28:18.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0621 (6.21%) - PASS
2025-10-31 10:28:18.613 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.1140 (11.40%) - PASS
2025-10-31 10:28:18.614 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:18.614 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.615 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.615 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.616 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.616 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:18.617 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 741.47 @ $127.85 (P&L: $-2,544.42)
2025-10-31 10:28:18.618 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $94,702.18
2025-10-31 10:28:18.618 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-03-01: PV=$94,844.40, Cash=$94,702.18, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.619 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.619 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.620 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.621 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.79 ? $130.86 (slippage: 0.050%)
2025-10-31 10:28:18.621 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:18.622 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 724.78
2025-10-31 10:28:18.622 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $94.84
2025-10-31 10:28:18.623 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $94,939.24
2025-10-31 10:28:18.624 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 722.97 @ $130.86
2025-10-31 10:28:18.624 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.625 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.625 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$94,702.18, Cash end=$-0.00
2025-10-31 10:28:18.626 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.626 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 741.47 shares @ $127.91 (Value: $94,844.40, P&L: $-2,497.00)
2025-10-31 10:28:18.627 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.627 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 722.97 shares @ $130.86 (Value: $94,607.57)
2025-10-31 10:28:18.628 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.629 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $94,607.57
2025-10-31 10:28:18.629 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.630 | INFO     | src.backtesting.engine:run:336 -      Change: $-236.83
2025-10-31 10:28:18.630 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.631 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-04-01
2025-10-31 10:28:18.632 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $93,111.15
2025-10-31 10:28:18.633 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.633 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.634 | INFO     | src.backtesting.engine:run:293 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:18.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.636 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.637 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.638 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.10230277701936319
2025-10-31 10:28:18.639 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09632721679950307
2025-10-31 10:28:18.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.07945606670536898
2025-10-31 10:28:18.640 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-04-01 00:00:00:
2025-10-31 10:28:18.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1023 (10.23%) - PASS
2025-10-31 10:28:18.641 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0963 (9.63%) - PASS
2025-10-31 10:28:18.642 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0795 (7.95%) - PASS
2025-10-31 10:28:18.643 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.643 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.644 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.644 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.645 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:18.647 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 722.97 @ $128.73 (P&L: $-1,542.98)
2025-10-31 10:28:18.647 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $92,971.53
2025-10-31 10:28:18.648 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-04-01: PV=$93,111.15, Cash=$92,971.53, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.649 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.649 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.650 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.650 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.94 ? $131.00 (slippage: 0.050%)
2025-10-31 10:28:18.651 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:18.651 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 710.77
2025-10-31 10:28:18.652 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $93.11
2025-10-31 10:28:18.653 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $93,204.26
2025-10-31 10:28:18.653 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 708.99 @ $131.00
2025-10-31 10:28:18.654 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.654 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.655 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$92,971.53, Cash end=$-0.00
2025-10-31 10:28:18.655 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.656 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 722.97 shares @ $128.79 (Value: $93,111.15, P&L: $-1,496.42)
2025-10-31 10:28:18.657 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.657 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 708.99 shares @ $131.00 (Value: $92,878.65)
2025-10-31 10:28:18.658 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.658 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,878.65
2025-10-31 10:28:18.659 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.659 | INFO     | src.backtesting.engine:run:336 -      Change: $-232.50
2025-10-31 10:28:18.660 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.661 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-05-01
2025-10-31 10:28:18.662 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,774.56
2025-10-31 10:28:18.662 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.663 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.663 | INFO     | src.backtesting.engine:run:293 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:18.665 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.666 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.667 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.668 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05578194617471177
2025-10-31 10:28:18.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07522900530727417
2025-10-31 10:28:18.669 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08673886201403636
2025-10-31 10:28:18.670 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-05-01 00:00:00:
2025-10-31 10:28:18.670 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0558 (5.58%) - PASS
2025-10-31 10:28:18.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0752 (7.52%) - PASS
2025-10-31 10:28:18.671 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0867 (8.67%) - PASS
2025-10-31 10:28:18.672 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.673 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.673 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.674 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.674 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:18.675 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 708.99 @ $127.97 (P&L: $-2,149.48)
2025-10-31 10:28:18.675 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,638.44
2025-10-31 10:28:18.676 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-05-01: PV=$90,774.56, Cash=$90,638.44, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.677 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.677 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.678 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.678 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $128.52 ? $128.59 (slippage: 0.050%)
2025-10-31 10:28:18.679 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:18.680 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 705.94
2025-10-31 10:28:18.680 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.77
2025-10-31 10:28:18.681 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,865.33
2025-10-31 10:28:18.681 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 704.18 @ $128.59
2025-10-31 10:28:18.682 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.682 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.683 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,638.44, Cash end=$-0.00
2025-10-31 10:28:18.683 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.684 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 708.99 shares @ $128.03 (Value: $90,774.56, P&L: $-2,104.10)
2025-10-31 10:28:18.685 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.685 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 704.18 shares @ $128.59 (Value: $90,547.89)
2025-10-31 10:28:18.686 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.686 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,547.89
2025-10-31 10:28:18.687 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.687 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.66
2025-10-31 10:28:18.688 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.689 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-06-01
2025-10-31 10:28:18.690 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,297.65
2025-10-31 10:28:18.690 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.691 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.691 | INFO     | src.backtesting.engine:run:293 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:18.693 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.694 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.695 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.696 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09337633282852487
2025-10-31 10:28:18.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05925575928114202
2025-10-31 10:28:18.697 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04087147827096205
2025-10-31 10:28:18.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-06-01 00:00:00:
2025-10-31 10:28:18.698 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0934 (9.34%) - PASS
2025-10-31 10:28:18.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0593 (5.93%) - PASS
2025-10-31 10:28:18.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0409 (4.09%) - PASS
2025-10-31 10:28:18.700 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.701 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.701 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.702 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.702 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:18.703 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 704.18 @ $128.17 (P&L: $-295.39)
2025-10-31 10:28:18.704 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,162.25
2025-10-31 10:28:18.704 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-06-01: PV=$90,297.65, Cash=$90,162.25, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.705 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.705 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.706 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.706 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $129.23 ? $129.29 (slippage: 0.050%)
2025-10-31 10:28:18.707 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:18.708 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 698.41
2025-10-31 10:28:18.708 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.30
2025-10-31 10:28:18.709 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,387.94
2025-10-31 10:28:18.709 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 696.66 @ $129.29
2025-10-31 10:28:18.710 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.710 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.711 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,162.25, Cash end=$0.00
2025-10-31 10:28:18.712 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.712 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 704.18 shares @ $128.23 (Value: $90,297.65, P&L: $-250.25)
2025-10-31 10:28:18.713 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.713 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 696.66 shares @ $129.29 (Value: $90,072.17)
2025-10-31 10:28:18.714 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.714 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,072.17
2025-10-31 10:28:18.715 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.715 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.47
2025-10-31 10:28:18.716 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.717 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-07-01
2025-10-31 10:28:18.718 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,772.33
2025-10-31 10:28:18.718 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:18.719 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.719 | INFO     | src.backtesting.engine:run:293 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:18.721 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.722 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.723 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.724 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08460905845341782
2025-10-31 10:28:18.725 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.058143063523203864
2025-10-31 10:28:18.725 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08521457036160784
2025-10-31 10:28:18.726 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-07-01 00:00:00:
2025-10-31 10:28:18.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0846 (8.46%) - PASS
2025-10-31 10:28:18.727 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0581 (5.81%) - PASS
2025-10-31 10:28:18.728 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0852 (8.52%) - PASS
2025-10-31 10:28:18.728 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.729 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.729 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.730 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.730 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:18.731 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 696.66 @ $131.67 (P&L: $1,654.27)
2025-10-31 10:28:18.732 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $91,634.71
2025-10-31 10:28:18.732 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-07-01: PV=$91,772.33, Cash=$91,634.71, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.733 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.733 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.734 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.735 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.28 ? $135.34 (slippage: 0.050%)
2025-10-31 10:28:18.735 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:18.736 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 678.07
2025-10-31 10:28:18.736 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $91.77
2025-10-31 10:28:18.737 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $91,864.10
2025-10-31 10:28:18.737 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 676.37 @ $135.34
2025-10-31 10:28:18.738 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.739 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.739 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$91,634.71, Cash end=$0.00
2025-10-31 10:28:18.740 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.740 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 696.66 shares @ $131.73 (Value: $91,772.33, P&L: $1,700.15)
2025-10-31 10:28:18.741 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.741 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 676.37 shares @ $135.34 (Value: $91,543.17)
2025-10-31 10:28:18.742 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.742 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,543.17
2025-10-31 10:28:18.743 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.744 | INFO     | src.backtesting.engine:run:336 -      Change: $-229.16
2025-10-31 10:28:18.744 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.745 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-08-01
2025-10-31 10:28:18.746 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,459.48
2025-10-31 10:28:18.746 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:18.747 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.748 | INFO     | src.backtesting.engine:run:293 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:18.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.048523400437661346
2025-10-31 10:28:18.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06375280245768722
2025-10-31 10:28:18.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04266694489239309
2025-10-31 10:28:18.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-08-01 00:00:00:
2025-10-31 10:28:18.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0485 (4.85%) - PASS
2025-10-31 10:28:18.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:18.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0427 (4.27%) - PASS
2025-10-31 10:28:18.756 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.757 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.757 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.758 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.759 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:18.759 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 676.37 @ $129.24 (P&L: $-4,127.42)
2025-10-31 10:28:18.760 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,328.33
2025-10-31 10:28:18.760 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-08-01: PV=$87,459.48, Cash=$87,328.33, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.761 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.761 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.762 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.763 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $130.36 ? $130.43 (slippage: 0.050%)
2025-10-31 10:28:18.763 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:18.764 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 670.55
2025-10-31 10:28:18.764 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.46
2025-10-31 10:28:18.765 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,546.94
2025-10-31 10:28:18.766 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 668.87 @ $130.43
2025-10-31 10:28:18.766 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.767 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:18.767 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,328.33, Cash end=$0.00
2025-10-31 10:28:18.768 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.768 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 676.37 shares @ $129.31 (Value: $87,459.48, P&L: $-4,083.69)
2025-10-31 10:28:18.769 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.769 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 668.87 shares @ $130.43 (Value: $87,241.09)
2025-10-31 10:28:18.770 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.770 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,241.09
2025-10-31 10:28:18.771 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:18.772 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.39
2025-10-31 10:28:18.772 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.773 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-09-01
2025-10-31 10:28:18.774 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,297.49
2025-10-31 10:28:18.774 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:18.775 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.775 | INFO     | src.backtesting.engine:run:293 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:18.777 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.778 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.779 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.780 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.780 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08550496050562328
2025-10-31 10:28:18.781 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.029203921523580645
2025-10-31 10:28:18.781 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.052898492074856085
2025-10-31 10:28:18.782 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-09-01 00:00:00:
2025-10-31 10:28:18.783 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0855 (8.55%) - PASS
2025-10-31 10:28:18.783 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0292 (2.92%) - PASS
2025-10-31 10:28:18.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0529 (5.29%) - PASS
2025-10-31 10:28:18.784 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.785 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.785 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.786 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.786 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:18.787 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 668.87 @ $131.94 (P&L: $1,012.25)
2025-10-31 10:28:18.788 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $88,165.09
2025-10-31 10:28:18.788 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-09-01: PV=$88,297.49, Cash=$88,165.09, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:18.789 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.789 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:18.790 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:18.791 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $132.46 ? $132.53 (slippage: 0.050%)
2025-10-31 10:28:18.791 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.81
2025-10-31 10:28:18.792 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 666.25
2025-10-31 10:28:18.792 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $88.30
2025-10-31 10:28:18.793 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,385.79
2025-10-31 10:28:18.793 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 664.58 @ $132.53
2025-10-31 10:28:18.794 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.795 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.795 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$88,165.09, Cash end=$-0.00
2025-10-31 10:28:18.796 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.796 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 668.87 shares @ $132.01 (Value: $88,297.49, P&L: $1,056.40)
2025-10-31 10:28:18.797 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.797 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 664.58 shares @ $132.53 (Value: $88,077.01)
2025-10-31 10:28:18.798 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.798 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,077.01
2025-10-31 10:28:18.799 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.800 | INFO     | src.backtesting.engine:run:336 -      Change: $-220.48
2025-10-31 10:28:18.800 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.801 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-10-01
2025-10-31 10:28:18.802 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,236.89
2025-10-31 10:28:18.802 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.803 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.804 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89, P&L: $2,159.88)
2025-10-31 10:28:18.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.807 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.808 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.09675418215912424
2025-10-31 10:28:18.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0711032800562954
2025-10-31 10:28:18.809 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08209555160058413
2025-10-31 10:28:18.810 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-10-01 00:00:00:
2025-10-31 10:28:18.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0968 (9.68%) - PASS
2025-10-31 10:28:18.811 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0711 (7.11%) - PASS
2025-10-31 10:28:18.812 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0821 (8.21%) - PASS
2025-10-31 10:28:18.812 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.813 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.813 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.814 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.815 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.58 shares @ $135.78 (Value: $90,236.89)
2025-10-31 10:28:18.815 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-10-01: PV=$90,236.89, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.816 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.816 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.817 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:18.817 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.58 shares worth $90,236.89
2025-10-31 10:28:18.818 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:18.819 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $135.78 ? $135.85 (slippage: 0.050%)
2025-10-31 10:28:18.819 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.75
2025-10-31 10:28:18.820 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.25
2025-10-31 10:28:18.820 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.58
2025-10-31 10:28:18.821 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.33
2025-10-31 10:28:18.821 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:18.822 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.07
2025-10-31 10:28:18.823 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 0.33 shares at $135.71 (proceeds: $45.03)
2025-10-31 10:28:18.823 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.824 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.03
2025-10-31 10:28:18.824 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.07, Cash end=$45.03
2025-10-31 10:28:18.825 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.825 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.826 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,236.82
2025-10-31 10:28:18.826 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:18.827 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:18.827 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.829 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-11-01
2025-10-31 10:28:18.829 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,105.47
2025-10-31 10:28:18.830 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:18.830 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.831 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44, P&L: $4,027.44)
2025-10-31 10:28:18.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08245274168982375
2025-10-31 10:28:18.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.07346223866474255
2025-10-31 10:28:18.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.043413197059924746
2025-10-31 10:28:18.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-11-01 00:00:00:
2025-10-31 10:28:18.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0825 (8.25%) - PASS
2025-10-31 10:28:18.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0735 (7.35%) - PASS
2025-10-31 10:28:18.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0434 (4.34%) - PASS
2025-10-31 10:28:18.840 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:18.840 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.841 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:18.841 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.842 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 664.25 shares @ $138.59 (Value: $92,060.44)
2025-10-31 10:28:18.842 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-11-01: PV=$92,105.47, Cash=$45.03, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:18.843 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:18.844 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.844 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: []
2025-10-31 10:28:18.845 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 664.25 shares worth $92,060.44
2025-10-31 10:28:18.845 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD SPY [relative_top]
2025-10-31 10:28:18.846 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $138.59 ? $138.66 (slippage: 0.050%)
2025-10-31 10:28:18.846 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:18.847 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 664.24
2025-10-31 10:28:18.848 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 664.25
2025-10-31 10:28:18.848 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.01
2025-10-31 10:28:18.849 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:18.849 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-1.00
2025-10-31 10:28:18.850 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:18.850 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.03
2025-10-31 10:28:18.851 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.851 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.852 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,105.47
2025-10-31 10:28:18.853 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.03
2025-10-31 10:28:18.853 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:18.854 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.855 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2022-12-01
2025-10-31 10:28:18.855 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,209.39
2025-10-31 10:28:18.856 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.03
2025-10-31 10:28:18.856 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.857 | INFO     | src.backtesting.engine:run:293 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:18.859 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.860 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.860 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.861 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.046770856134837224
2025-10-31 10:28:18.862 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09687053348885044
2025-10-31 10:28:18.863 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.04184317094333867
2025-10-31 10:28:18.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2022-12-01 00:00:00:
2025-10-31 10:28:18.864 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0468 (4.68%) - PASS
2025-10-31 10:28:18.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0969 (9.69%) - PASS
2025-10-31 10:28:18.865 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0418 (4.18%) - PASS
2025-10-31 10:28:18.866 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.866 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.867 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.868 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.868 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:18.869 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 664.25 @ $134.17 (P&L: $1,086.79)
2025-10-31 10:28:18.869 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,075.69
2025-10-31 10:28:18.870 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2022-12-01: PV=$89,209.39, Cash=$89,075.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.870 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.871 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.872 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.872 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.94 ? $138.01 (slippage: 0.050%)
2025-10-31 10:28:18.873 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.86
2025-10-31 10:28:18.873 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 646.42
2025-10-31 10:28:18.874 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $89.21
2025-10-31 10:28:18.874 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $89,298.60
2025-10-31 10:28:18.875 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 644.81 @ $138.01
2025-10-31 10:28:18.876 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.876 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.877 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,075.69, Cash end=$-0.00
2025-10-31 10:28:18.877 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.878 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 664.25 shares @ $134.23 (Value: $89,164.37, P&L: $1,131.37)
2025-10-31 10:28:18.878 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.879 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 644.81 shares @ $138.01 (Value: $88,986.71)
2025-10-31 10:28:18.879 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.880 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,986.71
2025-10-31 10:28:18.881 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.881 | INFO     | src.backtesting.engine:run:336 -      Change: $-222.69
2025-10-31 10:28:18.882 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.883 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-01-01
2025-10-31 10:28:18.883 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $88,617.00
2025-10-31 10:28:18.884 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.884 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.885 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00, P&L: $-369.70)
2025-10-31 10:28:18.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06541858782151833
2025-10-31 10:28:18.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.09774311842405137
2025-10-31 10:28:18.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08593314284028253
2025-10-31 10:28:18.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-01-01 00:00:00:
2025-10-31 10:28:18.892 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0654 (6.54%) - PASS
2025-10-31 10:28:18.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0977 (9.77%) - PASS
2025-10-31 10:28:18.893 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0859 (8.59%) - PASS
2025-10-31 10:28:18.894 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.894 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.895 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.895 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.896 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 644.81 shares @ $137.43 (Value: $88,617.00)
2025-10-31 10:28:18.897 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-01-01: PV=$88,617.00, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.897 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.898 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.898 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:18.899 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 644.81 shares worth $88,617.00
2025-10-31 10:28:18.899 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:18.900 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.43 ? $137.50 (slippage: 0.050%)
2025-10-31 10:28:18.901 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:18.901 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 644.48
2025-10-31 10:28:18.902 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 644.81
2025-10-31 10:28:18.902 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:18.903 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:18.903 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.26
2025-10-31 10:28:18.904 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $137.36 (proceeds: $44.22)
2025-10-31 10:28:18.904 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.905 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.22
2025-10-31 10:28:18.906 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.26, Cash end=$44.22
2025-10-31 10:28:18.906 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.907 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.907 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $88,616.94
2025-10-31 10:28:18.908 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.22
2025-10-31 10:28:18.908 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:18.909 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.910 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-02-01
2025-10-31 10:28:18.911 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,376.47
2025-10-31 10:28:18.911 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.22
2025-10-31 10:28:18.912 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.912 | INFO     | src.backtesting.engine:run:293 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:18.914 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.915 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.916 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.917 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.026449575231996203
2025-10-31 10:28:18.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06097758703104095
2025-10-31 10:28:18.918 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0810725080136625
2025-10-31 10:28:18.919 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-02-01 00:00:00:
2025-10-31 10:28:18.919 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0264 (2.64%) - PASS
2025-10-31 10:28:18.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0610 (6.10%) - PASS
2025-10-31 10:28:18.920 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0811 (8.11%) - PASS
2025-10-31 10:28:18.921 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.922 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.922 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.923 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.923 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:18.924 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 644.48 @ $140.09 (P&L: $1,344.85)
2025-10-31 10:28:18.924 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,241.02
2025-10-31 10:28:18.925 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-02-01: PV=$90,376.47, Cash=$90,241.02, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.926 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.926 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:18.927 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:18.927 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.55 ? $141.62 (slippage: 0.050%)
2025-10-31 10:28:18.928 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:18.928 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 638.17
2025-10-31 10:28:18.929 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.38
2025-10-31 10:28:18.930 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,466.85
2025-10-31 10:28:18.930 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 636.57 @ $141.62
2025-10-31 10:28:18.931 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.931 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.932 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,241.02, Cash end=$-0.00
2025-10-31 10:28:18.932 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.933 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 644.48 shares @ $140.16 (Value: $90,332.25, P&L: $1,390.02)
2025-10-31 10:28:18.934 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.934 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 636.57 shares @ $141.62 (Value: $90,150.87)
2025-10-31 10:28:18.935 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.935 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,150.87
2025-10-31 10:28:18.936 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.936 | INFO     | src.backtesting.engine:run:336 -      Change: $-225.60
2025-10-31 10:28:18.937 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.938 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-01
2025-10-31 10:28:18.939 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $89,816.41
2025-10-31 10:28:18.939 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.940 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.940 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41, P&L: $-334.46)
2025-10-31 10:28:18.942 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.943 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.944 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.945 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.060629103850839305
2025-10-31 10:28:18.946 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.04278850978852278
2025-10-31 10:28:18.946 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06600451891900727
2025-10-31 10:28:18.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-01 00:00:00:
2025-10-31 10:28:18.947 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0606 (6.06%) - PASS
2025-10-31 10:28:18.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0428 (4.28%) - PASS
2025-10-31 10:28:18.948 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0660 (6.60%) - PASS
2025-10-31 10:28:18.949 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:18.949 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.950 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:18.951 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:18.951 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 636.57 shares @ $141.09 (Value: $89,816.41)
2025-10-31 10:28:18.952 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-01: PV=$89,816.41, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:18.952 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:18.953 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:18.953 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:18.954 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 636.57 shares worth $89,816.41
2025-10-31 10:28:18.955 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:18.955 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $141.09 ? $141.16 (slippage: 0.050%)
2025-10-31 10:28:18.956 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:18.956 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.25
2025-10-31 10:28:18.957 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 636.57
2025-10-31 10:28:18.957 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:18.958 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.04
2025-10-31 10:28:18.958 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-44.86
2025-10-31 10:28:18.959 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.32 shares at $141.02 (proceeds: $44.82)
2025-10-31 10:28:18.960 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:18.960 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44.82
2025-10-31 10:28:18.961 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$44.86, Cash end=$44.82
2025-10-31 10:28:18.961 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:18.962 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.962 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,816.34
2025-10-31 10:28:18.963 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $44.82
2025-10-31 10:28:18.963 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:18.964 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.965 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:18.966 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,931.33
2025-10-31 10:28:18.966 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $44.82
2025-10-31 10:28:18.967 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.967 | INFO     | src.backtesting.engine:run:293 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:18.969 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.970 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.971 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.972 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.04354100310713305
2025-10-31 10:28:18.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.05817277610654825
2025-10-31 10:28:18.973 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.050749269499728245
2025-10-31 10:28:18.974 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:18.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0435 (4.35%) - PASS
2025-10-31 10:28:18.975 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0582 (5.82%) - PASS
2025-10-31 10:28:18.976 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0507 (5.07%) - PASS
2025-10-31 10:28:18.976 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:18.977 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:18.977 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:18.978 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:18.979 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:18.979 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 636.25 @ $138.06 (P&L: $-2,263.24)
2025-10-31 10:28:18.980 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,799.55
2025-10-31 10:28:18.980 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$87,931.33, Cash=$87,799.55, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:18.981 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:18.981 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:18.982 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:18.983 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $137.99 ? $138.06 (slippage: 0.050%)
2025-10-31 10:28:18.983 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:18.984 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 636.91
2025-10-31 10:28:18.984 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.93
2025-10-31 10:28:18.985 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $88,019.26
2025-10-31 10:28:18.985 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 635.32 @ $138.06
2025-10-31 10:28:18.986 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:18.987 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:18.987 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,799.55, Cash end=$-0.00
2025-10-31 10:28:18.988 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:18.988 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 636.25 shares @ $138.13 (Value: $87,886.51, P&L: $-2,219.30)
2025-10-31 10:28:18.989 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:18.989 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 635.32 shares @ $138.06 (Value: $87,711.83)
2025-10-31 10:28:18.990 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:18.990 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,711.83
2025-10-31 10:28:18.991 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:18.991 | INFO     | src.backtesting.engine:run:336 -      Change: $-219.50
2025-10-31 10:28:18.992 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:18.993 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:18.994 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,568.42
2025-10-31 10:28:18.994 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:18.995 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:18.995 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42, P&L: $3,856.59)
2025-10-31 10:28:18.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:18.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:18.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05618000180644045
2025-10-31 10:28:19.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.06382148319011183
2025-10-31 10:28:19.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.021775481826179943
2025-10-31 10:28:19.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:19.003 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0562 (5.62%) - PASS
2025-10-31 10:28:19.003 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0638 (6.38%) - PASS
2025-10-31 10:28:19.004 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0218 (2.18%) - PASS
2025-10-31 10:28:19.004 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:19.005 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.005 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:19.006 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:19.006 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.32 shares @ $144.13 (Value: $91,568.42)
2025-10-31 10:28:19.007 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$91,568.42, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:19.008 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:19.008 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:19.009 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:19.009 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.32 shares worth $91,568.42
2025-10-31 10:28:19.010 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE EFA [relative_top]
2025-10-31 10:28:19.011 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.13 ? $144.20 (slippage: 0.050%)
2025-10-31 10:28:19.011 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:19.012 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.01
2025-10-31 10:28:19.012 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.32
2025-10-31 10:28:19.013 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.32
2025-10-31 10:28:19.013 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:19.014 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.74
2025-10-31 10:28:19.014 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting EFA: selling 0.32 shares at $144.06 (proceeds: $45.69)
2025-10-31 10:28:19.015 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:19.016 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.69
2025-10-31 10:28:19.016 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.74, Cash end=$45.69
2025-10-31 10:28:19.017 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:19.017 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.018 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,568.35
2025-10-31 10:28:19.018 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:19.019 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:19.019 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.021 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:19.021 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,663.80
2025-10-31 10:28:19.022 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:19.022 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.023 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10, P&L: $4,950.10)
2025-10-31 10:28:19.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.027 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05731563951086516
2025-10-31 10:28:19.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08652535999780908
2025-10-31 10:28:19.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.028712997605179646
2025-10-31 10:28:19.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:19.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0573 (5.73%) - PASS
2025-10-31 10:28:19.030 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0865 (8.65%) - PASS
2025-10-31 10:28:19.031 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0287 (2.87%) - PASS
2025-10-31 10:28:19.032 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:19.032 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.033 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:19.033 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:19.034 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.85 (Value: $92,618.10)
2025-10-31 10:28:19.034 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$92,663.80, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:19.035 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:19.035 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:19.036 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:19.037 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,618.10
2025-10-31 10:28:19.037 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:19.038 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.85 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:19.038 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.80
2025-10-31 10:28:19.039 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:19.040 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:19.040 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:19.041 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:19.041 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:19.042 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:19.042 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:19.043 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:19.043 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.044 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,663.80
2025-10-31 10:28:19.044 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:19.045 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:19.046 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.047 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:19.047 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $92,665.19
2025-10-31 10:28:19.048 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:19.048 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.049 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50, P&L: $4,951.50)
2025-10-31 10:28:19.051 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.052 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.053 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.06283582279220967
2025-10-31 10:28:19.054 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0840282160513397
2025-10-31 10:28:19.055 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0781538240647981
2025-10-31 10:28:19.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:19.056 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0628 (6.28%) - PASS
2025-10-31 10:28:19.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0840 (8.40%) - PASS
2025-10-31 10:28:19.057 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0782 (7.82%) - PASS
2025-10-31 10:28:19.058 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:19.058 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.059 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:19.060 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:19.060 | INFO     | src.backtesting.engine:_execute_signals:796 -      EFA: 635.01 shares @ $145.86 (Value: $92,619.50)
2025-10-31 10:28:19.061 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$92,665.19, Cash=$45.69, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:19.061 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:19.062 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:19.062 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['EFA'], then buys: []
2025-10-31 10:28:19.063 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 635.01 shares worth $92,619.50
2025-10-31 10:28:19.064 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? HOLD EFA [relative_top]
2025-10-31 10:28:19.064 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $145.86 ? $145.93 (slippage: 0.050%)
2025-10-31 10:28:19.065 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.72
2025-10-31 10:28:19.065 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 635.00
2025-10-31 10:28:19.066 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 635.01
2025-10-31 10:28:19.066 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.00
2025-10-31 10:28:19.067 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.00
2025-10-31 10:28:19.067 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-0.62
2025-10-31 10:28:19.068 | INFO     | src.backtesting.engine:_execute_signals:1072 -         ? No adjustment needed (already at target)
2025-10-31 10:28:19.069 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$0.00, Cash end=$45.69
2025-10-31 10:28:19.069 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:19.070 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.070 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $92,665.19
2025-10-31 10:28:19.071 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.69
2025-10-31 10:28:19.071 | INFO     | src.backtesting.engine:run:336 -      Change: $0.00
2025-10-31 10:28:19.072 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.073 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:19.074 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,844.44
2025-10-31 10:28:19.074 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.69
2025-10-31 10:28:19.075 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.075 | INFO     | src.backtesting.engine:run:293 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:19.077 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.078 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.079 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.080 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0797353250554409
2025-10-31 10:28:19.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0663792780678536
2025-10-31 10:28:19.081 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06865645520660602
2025-10-31 10:28:19.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:19.082 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0797 (7.97%) - PASS
2025-10-31 10:28:19.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0664 (6.64%) - PASS
2025-10-31 10:28:19.083 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0687 (6.87%) - PASS
2025-10-31 10:28:19.084 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:19.085 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.085 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:19.086 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:19.086 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:19.087 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 635.01 @ $142.92 (P&L: $3,085.34)
2025-10-31 10:28:19.087 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $90,708.28
2025-10-31 10:28:19.088 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$90,844.44, Cash=$90,708.28, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:19.088 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=100.00%
2025-10-31 10:28:19.089 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:19.090 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:19.090 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $146.97 ? $147.04 (slippage: 0.050%)
2025-10-31 10:28:19.091 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:19.091 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 617.82
2025-10-31 10:28:19.092 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.84
2025-10-31 10:28:19.092 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,935.28
2025-10-31 10:28:19.093 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 616.28 @ $147.04
2025-10-31 10:28:19.094 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:19.094 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:19.095 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$90,708.28, Cash end=$0.00
2025-10-31 10:28:19.095 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:19.096 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 635.01 shares @ $142.99 (Value: $90,798.74, P&L: $3,130.74)
2025-10-31 10:28:19.096 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:19.097 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 616.28 shares @ $147.04 (Value: $90,617.67)
2025-10-31 10:28:19.097 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.098 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $90,617.67
2025-10-31 10:28:19.099 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:19.099 | INFO     | src.backtesting.engine:run:336 -      Change: $-226.77
2025-10-31 10:28:19.100 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.101 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:19.101 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $90,098.27
2025-10-31 10:28:19.102 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:19.103 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.103 | INFO     | src.backtesting.engine:run:293 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:19.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.061678785162375904
2025-10-31 10:28:19.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.0630140413189888
2025-10-31 10:28:19.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.06351458377721841
2025-10-31 10:28:19.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:19.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0617 (6.17%) - PASS
2025-10-31 10:28:19.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0630 (6.30%) - PASS
2025-10-31 10:28:19.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0635 (6.35%) - PASS
2025-10-31 10:28:19.112 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:19.112 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.113 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:19.113 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:19.114 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:19.115 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 616.28 @ $146.12 (P&L: $-564.45)
2025-10-31 10:28:19.115 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $89,963.16
2025-10-31 10:28:19.116 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$90,098.27, Cash=$89,963.16, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:19.116 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:19.117 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:19.118 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:19.118 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.15 ? $147.22 (slippage: 0.050%)
2025-10-31 10:28:19.119 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.70
2025-10-31 10:28:19.119 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 611.99
2025-10-31 10:28:19.120 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $90.10
2025-10-31 10:28:19.120 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $90,188.36
2025-10-31 10:28:19.121 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 610.46 @ $147.22
2025-10-31 10:28:19.122 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:19.122 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:19.123 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$89,963.16, Cash end=$0.00
2025-10-31 10:28:19.123 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:19.124 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 616.28 shares @ $146.20 (Value: $90,098.27, P&L: $-519.40)
2025-10-31 10:28:19.124 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:19.125 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 610.46 shares @ $147.22 (Value: $89,873.29)
2025-10-31 10:28:19.125 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.126 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $89,873.29
2025-10-31 10:28:19.126 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:19.127 | INFO     | src.backtesting.engine:run:336 -      Change: $-224.98
2025-10-31 10:28:19.128 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.129 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:19.129 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $91,403.63
2025-10-31 10:28:19.130 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:19.130 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.131 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63, P&L: $1,530.34)
2025-10-31 10:28:19.133 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.134 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.135 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.05049848489114539
2025-10-31 10:28:19.136 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.050013878843399695
2025-10-31 10:28:19.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08398809728515122
2025-10-31 10:28:19.137 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:19.138 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0505 (5.05%) - PASS
2025-10-31 10:28:19.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0500 (5.00%) - PASS
2025-10-31 10:28:19.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0840 (8.40%) - PASS
2025-10-31 10:28:19.140 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:19.140 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.141 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:19.141 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:19.142 | INFO     | src.backtesting.engine:_execute_signals:796 -      AGG: 610.46 shares @ $149.73 (Value: $91,403.63)
2025-10-31 10:28:19.142 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$91,403.63, Cash=$0.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:19.143 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:19.144 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:19.144 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['AGG'], then buys: []
2025-10-31 10:28:19.145 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 610.46 shares worth $91,403.63
2025-10-31 10:28:19.145 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE AGG [relative_top]
2025-10-31 10:28:19.146 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.73 ? $149.80 (slippage: 0.050%)
2025-10-31 10:28:19.146 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:19.147 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 610.15
2025-10-31 10:28:19.147 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 610.46
2025-10-31 10:28:19.148 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -0.31
2025-10-31 10:28:19.149 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $0.05
2025-10-31 10:28:19.149 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-45.66
2025-10-31 10:28:19.150 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting AGG: selling 0.31 shares at $149.66 (proceeds: $45.61)
2025-10-31 10:28:19.150 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:19.151 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45.61
2025-10-31 10:28:19.151 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$45.66, Cash end=$45.61
2025-10-31 10:28:19.152 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:19.152 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.153 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $91,403.56
2025-10-31 10:28:19.154 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $45.61
2025-10-31 10:28:19.154 | INFO     | src.backtesting.engine:run:336 -      Change: $-0.07
2025-10-31 10:28:19.155 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.156 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:19.156 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $87,696.12
2025-10-31 10:28:19.157 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $45.61
2025-10-31 10:28:19.157 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.158 | INFO     | src.backtesting.engine:run:293 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:19.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.162 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.02348918660372412
2025-10-31 10:28:19.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.08750655028956023
2025-10-31 10:28:19.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.0390661027483481
2025-10-31 10:28:19.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:19.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0235 (2.35%) - PASS
2025-10-31 10:28:19.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0875 (8.75%) - PASS
2025-10-31 10:28:19.166 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0391 (3.91%) - PASS
2025-10-31 10:28:19.167 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['EFA']
2025-10-31 10:28:19.167 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.168 | INFO     | src.backtesting.engine:run:312 -      EFA: LONG (strength: 1.00)
2025-10-31 10:28:19.168 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:19.169 | INFO     | src.backtesting.engine:_execute_signals:787 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:19.169 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 610.15 @ $143.58 (P&L: $-2,221.69)
2025-10-31 10:28:19.170 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $87,564.69
2025-10-31 10:28:19.170 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$87,696.12, Cash=$87,564.69, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:19.171 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: EFA=100.00%
2025-10-31 10:28:19.172 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['EFA']
2025-10-31 10:28:19.172 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY EFA [relative_top]
2025-10-31 10:28:19.173 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.30 ? $150.37 (slippage: 0.050%)
2025-10-31 10:28:19.173 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.87
2025-10-31 10:28:19.174 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 583.20
2025-10-31 10:28:19.174 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $87.70
2025-10-31 10:28:19.175 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $87,783.82
2025-10-31 10:28:19.176 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: EFA x 581.74 @ $150.37
2025-10-31 10:28:19.176 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:19.177 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:19.177 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$87,564.69, Cash end=$-0.00
2025-10-31 10:28:19.178 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:19.178 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      AGG: 610.15 shares @ $143.65 (Value: $87,650.51, P&L: $-2,177.86)
2025-10-31 10:28:19.179 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:19.179 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      EFA: 581.74 shares @ $150.37 (Value: $87,477.21)
2025-10-31 10:28:19.180 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.180 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $87,477.21
2025-10-31 10:28:19.181 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:19.182 | INFO     | src.backtesting.engine:run:336 -      Change: $-218.91
2025-10-31 10:28:19.182 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.183 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:19.184 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $85,079.53
2025-10-31 10:28:19.184 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:19.185 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:19.186 | INFO     | src.backtesting.engine:run:293 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:19.187 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 3 assets
2025-10-31 10:28:19.188 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.189 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   EFA: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   AGG: 253 momentum values, 1 non-NaN
2025-10-31 10:28:19.190 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.0811051176218518
2025-10-31 10:28:19.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   EFA latest momentum: 0.03823797219127867
2025-10-31 10:28:19.191 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   AGG latest momentum: 0.08937036751513094
2025-10-31 10:28:19.192 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:19.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0811 (8.11%) - PASS
2025-10-31 10:28:19.193 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   EFA: 0.0382 (3.82%) - PASS
2025-10-31 10:28:19.194 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   AGG: 0.0894 (8.94%) - PASS
2025-10-31 10:28:19.194 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['AGG']
2025-10-31 10:28:19.195 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:19.195 | INFO     | src.backtesting.engine:run:312 -      AGG: LONG (strength: 1.00)
2025-10-31 10:28:19.196 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:19.196 | INFO     | src.backtesting.engine:_execute_signals:787 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:19.197 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: EFA x 581.74 @ $146.18 (P&L: $-2,440.22)
2025-10-31 10:28:19.198 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $84,951.96
2025-10-31 10:28:19.198 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$85,079.53, Cash=$84,951.96, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:19.199 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: AGG=100.00%
2025-10-31 10:28:19.199 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['AGG']
2025-10-31 10:28:19.200 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY AGG [relative_top]
2025-10-31 10:28:19.200 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $151.95 ? $152.03 (slippage: 0.050%)
2025-10-31 10:28:19.201 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:19.202 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 559.63
2025-10-31 10:28:19.202 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $85.08
2025-10-31 10:28:19.203 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $85,164.61
2025-10-31 10:28:19.203 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: AGG x 558.24 @ $152.03
2025-10-31 10:28:19.204 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:19.204 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:19.205 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$84,951.96, Cash end=$-0.00
2025-10-31 10:28:19.205 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:19.206 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      EFA: 581.74 shares @ $146.25 (Value: $85,079.53, P&L: $-2,397.68)
2025-10-31 10:28:19.207 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:19.207 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      AGG: 558.24 shares @ $152.03 (Value: $84,867.09)
2025-10-31 10:28:19.208 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:19.208 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $84,867.09
2025-10-31 10:28:19.209 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:19.209 | INFO     | src.backtesting.engine:run:336 -      Change: $-212.44
2025-10-31 10:28:19.210 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:19.211 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: AGG x 558.24 @ $151.85 (P&L: $-96.75)
2025-10-31 10:28:19.213 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2021-09-10 to 2023-12-31
2025-10-31 10:28:19.214 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:19.222 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 1095 snapshots
2025-10-31 10:28:19.224 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (1095, 12)
2025-10-31 10:28:19.225 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'AGG_quantity', 'AGG_price', 'AGG_value', 'EFA_quantity', 'EFA_price', 'EFA_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:19.226 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 1095 to 843 records (performance period)
2025-10-31 10:28:19.305 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:19.306 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:19.307 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:19.307 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 843
2025-10-31 10:28:19.308 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 1095
2025-10-31 10:28:19.308 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (843, 18)
2025-10-31 10:28:19.309 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'AGG_value', 'AGG_quantity', 'AGG_price', 'AGG_pct', 'EFA_value', 'EFA_quantity', 'EFA_price', 'EFA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:19.309 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:19.320 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2021-09-10    100000.000000  1.000000e+05  ...        NaN      NaN
2021-09-11     96272.216190 -1.455192e-11  ...        NaN      NaN
2021-09-12    101109.070476 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:19.321 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:19.332 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...  SPY_price  SPY_pct
timestamp                                  ...                    
2023-12-29     84299.707862 -1.455192e-11  ...        NaN      NaN
2023-12-30     82574.588149 -1.455192e-11  ...        NaN      NaN
2023-12-31     84812.741501 -1.455192e-11  ...        NaN      NaN

[3 rows x 18 columns]
2025-10-31 10:28:19.333 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:19.333 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $84,812.74 (-15.19% return)
2025-10-31 10:28:19.334 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102818.log
2025-10-31 10:28:19.338 | INFO     | src.backtesting.hyperparameter_tuner:save_comparison_results:1022 - Saved comparison metrics to /tmp/pytest-of-ubuntu/pytest-0/test_save_comparison_results0/test_comparison_20251031_102819_comparison.csv
2025-10-31 10:28:19.340 | INFO     | src.backtesting.hyperparameter_tuner:save_comparison_results:1043 - Saved comparison summary to /tmp/pytest-of-ubuntu/pytest-0/test_save_comparison_results0/test_comparison_20251031_102819_summary.json
2025-10-31 10:28:19.341 | INFO     | src.backtesting.hyperparameter_tuner:save_comparison_results:1050 - Saved full comparison to /tmp/pytest-of-ubuntu/pytest-0/test_save_comparison_results0/test_comparison_20251031_102819_full_comparison.pkl
2025-10-31 10:28:19.347 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:19.349 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:19.349 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-31 10:28:19.359 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-31 10:28:19.360 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-31 10:28:19.361 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-31 10:28:19.363 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-31 10:28:19.363 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-31 10:28:19.364 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-31 10:28:19.365 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-31 10:28:19.365 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-31 10:28:19.366 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-31 10:28:19.366 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-31 10:28:19.368 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:19.369 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-31 10:28:20.210 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-31 10:28:20.211 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-31 10:28:20.212 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-31 10:28:20.213 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-31 10:28:20.214 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-31 10:28:20.215 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-31 10:28:20.215 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-31 10:28:20.216 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-31 10:28:20.216 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-31 10:28:20.217 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-31 10:28:20.219 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.219 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-31 10:28:20.220 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-31 10:28:20.222 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-31 10:28:20.222 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-31 10:28:20.223 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-31 10:28:20.225 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.225 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-31 10:28:20.238 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-31 10:28:20.239 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-31 10:28:20.240 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-31 10:28:20.241 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-31 10:28:20.243 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.244 | INFO     | src.core.plugin_manager:discover_all:173 - Starting plugin discovery...
2025-10-31 10:28:20.244 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-31 10:28:20.245 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-31 10:28:20.246 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-31 10:28:20.247 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-31 10:28:20.248 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-31 10:28:20.249 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-31 10:28:20.250 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-31 10:28:20.251 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-31 10:28:20.251 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-31 10:28:20.252 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-31 10:28:20.252 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-31 10:28:20.253 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-31 10:28:20.254 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-31 10:28:20.255 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-31 10:28:20.256 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-31 10:28:20.257 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-31 10:28:20.258 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-31 10:28:20.259 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-31 10:28:20.259 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-31 10:28:20.260 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-31 10:28:20.261 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-31 10:28:20.261 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-31 10:28:20.262 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-31 10:28:20.263 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-31 10:28:20.264 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-31 10:28:20.264 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-31 10:28:20.265 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-31 10:28:20.266 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-31 10:28:20.271 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-31 10:28:20.272 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-31 10:28:20.273 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-31 10:28:20.274 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-31 10:28:20.274 | INFO     | src.core.plugin_manager:discover_all:180 - Plugin discovery complete
2025-10-31 10:28:20.275 | INFO     | src.core.plugin_manager:_log_summary:454 - ============================================================
2025-10-31 10:28:20.276 | INFO     | src.core.plugin_manager:_log_summary:455 - PLUGIN DISCOVERY SUMMARY
2025-10-31 10:28:20.276 | INFO     | src.core.plugin_manager:_log_summary:456 - ============================================================
2025-10-31 10:28:20.277 | INFO     | src.core.plugin_manager:_log_summary:457 - Asset Classes:  5
2025-10-31 10:28:20.277 | INFO     | src.core.plugin_manager:_log_summary:458 - Data Sources:   5
2025-10-31 10:28:20.278 | INFO     | src.core.plugin_manager:_log_summary:459 - Strategies:     2
2025-10-31 10:28:20.278 | INFO     | src.core.plugin_manager:_log_summary:460 - Risk Managers:  1
2025-10-31 10:28:20.279 | INFO     | src.core.plugin_manager:_log_summary:461 - ============================================================
2025-10-31 10:28:20.279 | INFO     | src.core.plugin_manager:_log_summary:464 - Asset Classes: EquityAsset, BondAsset, CommodityAsset, FXAsset, CryptoAsset
2025-10-31 10:28:20.280 | INFO     | src.core.plugin_manager:_log_summary:466 - Data Sources: MultiSourceDataProvider, YahooFinanceDirectSource, TwelveDataSource, AlphaVantageSource, YahooFinanceSource
2025-10-31 10:28:20.281 | INFO     | src.core.plugin_manager:_log_summary:468 - Strategies: AbsoluteMomentumStrategy, DualMomentumStrategy
2025-10-31 10:28:20.281 | INFO     | src.core.plugin_manager:_log_summary:470 - Risk Managers: BasicRiskManager
2025-10-31 10:28:20.283 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.284 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-31 10:28:20.285 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-31 10:28:20.286 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-31 10:28:20.287 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-31 10:28:20.288 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-31 10:28:20.289 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-31 10:28:20.289 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-31 10:28:20.290 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-31 10:28:20.290 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-31 10:28:20.291 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-31 10:28:20.291 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-31 10:28:20.293 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.294 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-31 10:28:20.295 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-31 10:28:20.297 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-31 10:28:20.298 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-31 10:28:20.299 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-31 10:28:20.300 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-31 10:28:20.301 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-31 10:28:20.301 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-31 10:28:20.302 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-31 10:28:20.302 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-31 10:28:20.303 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-31 10:28:20.305 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.305 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-31 10:28:20.306 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-31 10:28:20.307 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-31 10:28:20.308 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-31 10:28:20.309 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-31 10:28:20.309 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-31 10:28:20.311 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.312 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-31 10:28:20.316 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-31 10:28:20.318 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-31 10:28:20.319 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-31 10:28:20.320 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-31 10:28:20.320 | INFO     | src.core.cash_manager:__init__:93 - Initialized CashManager: strategic=0.0%, operational=2.0%, min_buffer=$100.00
2025-10-31 10:28:20.322 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.323 | INFO     | src.core.plugin_manager:discover_all:173 - Starting plugin discovery...
2025-10-31 10:28:20.323 | INFO     | src.core.plugin_manager:discover_asset_classes:185 - Discovering asset classes in: /workspace/dual_momentum_system/src/asset_classes
2025-10-31 10:28:20.324 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: EquityAsset in equity.py
2025-10-31 10:28:20.325 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BondAsset in bond.py
2025-10-31 10:28:20.326 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CommodityAsset in commodity.py
2025-10-31 10:28:20.327 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: FXAsset in fx.py
2025-10-31 10:28:20.328 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: CryptoAsset in crypto.py
2025-10-31 10:28:20.329 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: EquityAsset
2025-10-31 10:28:20.330 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: BondAsset
2025-10-31 10:28:20.330 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CommodityAsset
2025-10-31 10:28:20.331 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: FXAsset
2025-10-31 10:28:20.331 | INFO     | src.core.plugin_manager:register_asset_class:52 - Registered asset class: CryptoAsset
2025-10-31 10:28:20.332 | INFO     | src.core.plugin_manager:discover_data_sources:201 - Discovering data sources in: /workspace/dual_momentum_system/src/data_sources
2025-10-31 10:28:20.333 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: MultiSourceDataProvider in multi_source.py
2025-10-31 10:28:20.334 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceDirectSource in yahoo_finance_direct.py
2025-10-31 10:28:20.335 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: TwelveDataSource in twelve_data.py
2025-10-31 10:28:20.336 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AlphaVantageSource in alpha_vantage.py
2025-10-31 10:28:20.337 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: YahooFinanceSource in yahoo_finance.py
2025-10-31 10:28:20.338 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: MultiSourceDataProvider
2025-10-31 10:28:20.339 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceDirectSource
2025-10-31 10:28:20.339 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: TwelveDataSource
2025-10-31 10:28:20.340 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: AlphaVantageSource
2025-10-31 10:28:20.340 | INFO     | src.core.plugin_manager:register_data_source:59 - Registered data source: YahooFinanceSource
2025-10-31 10:28:20.341 | INFO     | src.core.plugin_manager:discover_strategies:217 - Discovering strategies in: /workspace/dual_momentum_system/src/strategies
2025-10-31 10:28:20.342 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: AbsoluteMomentumStrategy in absolute_momentum.py
2025-10-31 10:28:20.343 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: DualMomentumStrategy in dual_momentum.py
2025-10-31 10:28:20.343 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: AbsoluteMomentumStrategy
2025-10-31 10:28:20.344 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: DualMomentumStrategy
2025-10-31 10:28:20.345 | INFO     | src.core.plugin_manager:discover_risk_managers:233 - Discovering risk managers in: /workspace/dual_momentum_system/src/backtesting
2025-10-31 10:28:20.350 | DEBUG    | src.core.plugin_manager:_discover_plugins_in_directory:293 - Found plugin: BasicRiskManager in basic_risk.py
2025-10-31 10:28:20.351 | WARNING  | src.backtesting.advanced_analytics:<module>:23 - vectorbt not available
2025-10-31 10:28:20.352 | ERROR    | src.core.plugin_manager:_import_module_from_file:343 - Failed to import module from /workspace/dual_momentum_system/src/backtesting/vectorized_engine.py: No module named 'vectorbt'
2025-10-31 10:28:20.353 | INFO     | src.core.plugin_manager:register_risk_manager:73 - Registered risk manager: BasicRiskManager
2025-10-31 10:28:20.354 | INFO     | src.core.plugin_manager:discover_all:180 - Plugin discovery complete
2025-10-31 10:28:20.354 | INFO     | src.core.plugin_manager:_log_summary:454 - ============================================================
2025-10-31 10:28:20.355 | INFO     | src.core.plugin_manager:_log_summary:455 - PLUGIN DISCOVERY SUMMARY
2025-10-31 10:28:20.355 | INFO     | src.core.plugin_manager:_log_summary:456 - ============================================================
2025-10-31 10:28:20.356 | INFO     | src.core.plugin_manager:_log_summary:457 - Asset Classes:  5
2025-10-31 10:28:20.356 | INFO     | src.core.plugin_manager:_log_summary:458 - Data Sources:   5
2025-10-31 10:28:20.357 | INFO     | src.core.plugin_manager:_log_summary:459 - Strategies:     2
2025-10-31 10:28:20.357 | INFO     | src.core.plugin_manager:_log_summary:460 - Risk Managers:  1
2025-10-31 10:28:20.358 | INFO     | src.core.plugin_manager:_log_summary:461 - ============================================================
2025-10-31 10:28:20.359 | INFO     | src.core.plugin_manager:_log_summary:464 - Asset Classes: EquityAsset, BondAsset, CommodityAsset, FXAsset, CryptoAsset
2025-10-31 10:28:20.359 | INFO     | src.core.plugin_manager:_log_summary:466 - Data Sources: MultiSourceDataProvider, YahooFinanceDirectSource, TwelveDataSource, AlphaVantageSource, YahooFinanceSource
2025-10-31 10:28:20.360 | INFO     | src.core.plugin_manager:_log_summary:468 - Strategies: AbsoluteMomentumStrategy, DualMomentumStrategy
2025-10-31 10:28:20.360 | INFO     | src.core.plugin_manager:_log_summary:470 - Risk Managers: BasicRiskManager
2025-10-31 10:28:20.362 | INFO     | src.core.plugin_manager:__init__:165 - Initialized PluginManager with base path: /workspace/dual_momentum_system/src
2025-10-31 10:28:20.363 | INFO     | src.core.plugin_manager:register_strategy:66 - Registered strategy: TestStrategy
2025-10-31 10:28:20.366 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-31 10:28:20.367 | INFO     | src.backtesting.engine:__init__:101 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-31 10:28:20.367 | INFO     | src.backtesting.engine:__init__:108 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-31 10:28:20.368 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:20.376 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102820.log
2025-10-31 10:28:20.376 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:20.377 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2023-01-01 to 2023-12-31
2025-10-31 10:28:20.379 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2023-01-01 00:00:00 to 2023-12-31 00:00:00 (365 periods)
2025-10-31 10:28:20.379 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2023-03-02 00:00:00 (after 60 periods of warm-up data)
2025-10-31 10:28:20.380 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.381 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.381 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.382 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2023-03-02
2025-10-31 10:28:20.383 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-02
2025-10-31 10:28:20.386 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:20.387 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:20.387 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:20.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.390 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.391 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.392 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.04499753275362561
2025-10-31 10:28:20.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.11410227867333256
2025-10-31 10:28:20.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.06402916556234939
2025-10-31 10:28:20.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03043683262574659
2025-10-31 10:28:20.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-02 00:00:00:
2025-10-31 10:28:20.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0450 (-4.50%) - FAIL
2025-10-31 10:28:20.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1141 (11.41%) - PASS
2025-10-31 10:28:20.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0640 (-6.40%) - FAIL
2025-10-31 10:28:20.460 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0304 (-3.04%) - FAIL
2025-10-31 10:28:20.461 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['QQQ']
2025-10-31 10:28:20.461 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:20.462 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:20.462 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-02: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:20.463 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=33.33%
2025-10-31 10:28:20.464 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['QQQ']
2025-10-31 10:28:20.464 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:20.465 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $200.02 ? $200.12 (slippage: 0.050%)
2025-10-31 10:28:20.465 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:20.466 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 166.57
2025-10-31 10:28:20.467 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.33
2025-10-31 10:28:20.467 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,366.67
2025-10-31 10:28:20.468 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 166.57 @ $200.12
2025-10-31 10:28:20.468 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.469 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,633.33
2025-10-31 10:28:20.469 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$33,366.67, Cash end=$66,633.33
2025-10-31 10:28:20.470 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.471 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 166.57 shares @ $200.12 (Value: $33,333.33)
2025-10-31 10:28:20.471 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.472 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,966.67
2025-10-31 10:28:20.472 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,633.33
2025-10-31 10:28:20.473 | INFO     | src.backtesting.engine:run:336 -      Change: $-33.33
2025-10-31 10:28:20.473 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.475 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:20.475 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $101,791.68
2025-10-31 10:28:20.476 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,633.33
2025-10-31 10:28:20.476 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.477 | INFO     | src.backtesting.engine:run:293 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35, P&L: $1,825.01)
2025-10-31 10:28:20.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.480 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.481 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.481 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.482 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.482 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.015725998040660993
2025-10-31 10:28:20.483 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.05316804719891466
2025-10-31 10:28:20.484 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.05842940431667065
2025-10-31 10:28:20.484 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.031081946897098534
2025-10-31 10:28:20.485 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:20.485 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0157 (1.57%) - PASS
2025-10-31 10:28:20.486 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0532 (5.32%) - PASS
2025-10-31 10:28:20.486 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0584 (5.84%) - PASS
2025-10-31 10:28:20.487 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0311 (-3.11%) - FAIL
2025-10-31 10:28:20.488 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:20.488 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.489 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:20.489 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.91)
2025-10-31 10:28:20.490 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.27)
2025-10-31 10:28:20.490 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.491 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35)
2025-10-31 10:28:20.492 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$101,791.68, Cash=$66,633.33, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:20.492 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=45.89%, QQQ=41.76%, SPY=12.35%
2025-10-31 10:28:20.493 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:20.493 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:20.494 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:20.495 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $159.65 ? $159.73 (slippage: 0.050%)
2025-10-31 10:28:20.495 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:20.496 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 292.46
2025-10-31 10:28:20.496 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $46.71
2025-10-31 10:28:20.497 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $46,759.45
2025-10-31 10:28:20.497 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 292.46 @ $159.73
2025-10-31 10:28:20.498 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.498 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $19,873.88
2025-10-31 10:28:20.499 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 166.57 shares worth $35,158.35
2025-10-31 10:28:20.500 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:20.500 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $211.07 ? $211.18 (slippage: 0.050%)
2025-10-31 10:28:20.501 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.91 confidence=0.73
2025-10-31 10:28:20.501 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 201.28
2025-10-31 10:28:20.502 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 166.57
2025-10-31 10:28:20.503 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +34.71
2025-10-31 10:28:20.503 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.33
2025-10-31 10:28:20.504 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,337.83
2025-10-31 10:28:20.504 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 34.71 more shares at $211.18 (cost: $7,337.83)
2025-10-31 10:28:20.505 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.505 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,536.05
2025-10-31 10:28:20.506 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:20.507 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.65 ? $147.73 (slippage: 0.050%)
2025-10-31 10:28:20.507 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.27 confidence=0.73
2025-10-31 10:28:20.508 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 85.11
2025-10-31 10:28:20.508 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.57
2025-10-31 10:28:20.509 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $12,585.09
2025-10-31 10:28:20.510 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 84.77 @ $147.73
2025-10-31 10:28:20.510 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.511 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.511 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,633.33, Cash end=$-0.00
2025-10-31 10:28:20.512 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.512 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 84.77 shares @ $147.73 (Value: $12,523.53)
2025-10-31 10:28:20.513 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 292.46 shares @ $159.73 (Value: $46,712.74)
2025-10-31 10:28:20.513 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.514 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $101,721.45
2025-10-31 10:28:20.514 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.515 | INFO     | src.backtesting.engine:run:336 -      Change: $-70.23
2025-10-31 10:28:20.516 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.518 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:20.518 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,945.18
2025-10-31 10:28:20.519 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:20.519 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.520 | INFO     | src.backtesting.engine:run:293 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51, P&L: $3,630.66)
2025-10-31 10:28:20.520 | INFO     | src.backtesting.engine:run:293 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24, P&L: $-431.50)
2025-10-31 10:28:20.521 | INFO     | src.backtesting.engine:run:293 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43, P&L: $229.90)
2025-10-31 10:28:20.523 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.524 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.525 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.526 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.527 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.045393745602212654
2025-10-31 10:28:20.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.09068098737114672
2025-10-31 10:28:20.528 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.06923287243941179
2025-10-31 10:28:20.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.01663965694722691
2025-10-31 10:28:20.529 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:20.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0454 (4.54%) - PASS
2025-10-31 10:28:20.530 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0907 (9.07%) - PASS
2025-10-31 10:28:20.531 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0692 (6.92%) - PASS
2025-10-31 10:28:20.532 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0166 (1.66%) - PASS
2025-10-31 10:28:20.532 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'SPY']
2025-10-31 10:28:20.533 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.533 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:20.534 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.76)
2025-10-31 10:28:20.534 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.50)
2025-10-31 10:28:20.535 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.535 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51)
2025-10-31 10:28:20.536 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24)
2025-10-31 10:28:20.537 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43)
2025-10-31 10:28:20.537 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$102,945.18, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:20.538 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=44.17%, DIA=33.72%, SPY=22.11%
2025-10-31 10:28:20.538 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-31 10:28:20.539 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['QQQ', 'SPY']
2025-10-31 10:28:20.540 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 292.46 shares worth $46,281.24
2025-10-31 10:28:20.540 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:20.541 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $158.25 ? $158.33 (slippage: 0.050%)
2025-10-31 10:28:20.541 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.76 confidence=0.77
2025-10-31 10:28:20.542 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 219.26
2025-10-31 10:28:20.542 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 292.46
2025-10-31 10:28:20.543 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -73.20
2025-10-31 10:28:20.544 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.59
2025-10-31 10:28:20.544 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-11,578.10
2025-10-31 10:28:20.545 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 73.20 shares at $158.17 (proceeds: $11,566.53)
2025-10-31 10:28:20.545 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.546 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $11,566.53
2025-10-31 10:28:20.546 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 201.28 shares worth $43,910.51
2025-10-31 10:28:20.547 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:20.548 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $218.15 ? $218.26 (slippage: 0.050%)
2025-10-31 10:28:20.548 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:20.549 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 208.32
2025-10-31 10:28:20.549 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 201.28
2025-10-31 10:28:20.550 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +7.04
2025-10-31 10:28:20.550 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.54
2025-10-31 10:28:20.551 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $1,538.26
2025-10-31 10:28:20.552 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 7.04 more shares at $218.26 (cost: $1,538.26)
2025-10-31 10:28:20.552 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.553 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,028.26
2025-10-31 10:28:20.553 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 84.77 shares worth $12,753.43
2025-10-31 10:28:20.554 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:20.554 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.44 ? $150.51 (slippage: 0.050%)
2025-10-31 10:28:20.555 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.50 confidence=0.77
2025-10-31 10:28:20.556 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 151.22
2025-10-31 10:28:20.556 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 84.77
2025-10-31 10:28:20.557 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +66.45
2025-10-31 10:28:20.557 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.00
2025-10-31 10:28:20.558 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,011.49
2025-10-31 10:28:20.558 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 66.45 more shares at $150.51 (cost: $10,011.49)
2025-10-31 10:28:20.559 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.559 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $16.77
2025-10-31 10:28:20.560 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$23,127.85, Cash end=$16.77
2025-10-31 10:28:20.561 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:20.561 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.562 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,910.50
2025-10-31 10:28:20.562 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $16.77
2025-10-31 10:28:20.563 | INFO     | src.backtesting.engine:run:336 -      Change: $-34.67
2025-10-31 10:28:20.563 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.565 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:20.566 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,774.69
2025-10-31 10:28:20.567 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $16.77
2025-10-31 10:28:20.567 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.568 | INFO     | src.backtesting.engine:run:293 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62, P&L: $4,612.82)
2025-10-31 10:28:20.568 | INFO     | src.backtesting.engine:run:293 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:20.569 | INFO     | src.backtesting.engine:run:293 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65, P&L: $279.84)
2025-10-31 10:28:20.571 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.572 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.573 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.574 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.004610003578679356
2025-10-31 10:28:20.575 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06348391297189138
2025-10-31 10:28:20.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.03305545502013918
2025-10-31 10:28:20.576 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.009852101656577128
2025-10-31 10:28:20.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:20.577 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0046 (0.46%) - PASS
2025-10-31 10:28:20.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0635 (6.35%) - PASS
2025-10-31 10:28:20.578 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0331 (-3.31%) - FAIL
2025-10-31 10:28:20.579 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0099 (0.99%) - PASS
2025-10-31 10:28:20.580 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'IWM', 'SPY']
2025-10-31 10:28:20.580 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.581 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:20.581 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.16)
2025-10-31 10:28:20.582 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.07)
2025-10-31 10:28:20.582 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.583 | INFO     | src.backtesting.engine:_execute_signals:787 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:20.584 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 219.26 @ $154.25 (P&L: $-1,201.11)
2025-10-31 10:28:20.584 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $33,802.68
2025-10-31 10:28:20.585 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.585 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62)
2025-10-31 10:28:20.586 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65)
2025-10-31 10:28:20.586 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$102,774.69, Cash=$33,802.68, Comm=0.1000%, Slip=0.0500%, Scale=0.670090
2025-10-31 10:28:20.587 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=81.45%, IWM=12.64%, SPY=5.91%
2025-10-31 10:28:20.588 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:20.588 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['QQQ', 'IWM']
2025-10-31 10:28:20.589 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 151.22 shares worth $22,619.65
2025-10-31 10:28:20.589 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:20.590 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.58 ? $149.65 (slippage: 0.050%)
2025-10-31 10:28:20.590 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.07 confidence=0.95
2025-10-31 10:28:20.591 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 40.62
2025-10-31 10:28:20.592 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 151.22
2025-10-31 10:28:20.592 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -110.61
2025-10-31 10:28:20.593 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $16.55
2025-10-31 10:28:20.593 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-16,535.95
2025-10-31 10:28:20.594 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 110.61 shares at $149.50 (proceeds: $16,519.42)
2025-10-31 10:28:20.594 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.595 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,322.10
2025-10-31 10:28:20.596 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 208.32 shares worth $46,301.62
2025-10-31 10:28:20.596 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:20.597 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $222.26 ? $222.37 (slippage: 0.050%)
2025-10-31 10:28:20.597 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:20.598 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 376.43
2025-10-31 10:28:20.598 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 208.32
2025-10-31 10:28:20.599 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +168.10
2025-10-31 10:28:20.600 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $37.38
2025-10-31 10:28:20.600 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $37,418.48
2025-10-31 10:28:20.601 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 168.10 more shares at $222.37 (cost: $37,418.48)
2025-10-31 10:28:20.601 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.602 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,903.62
2025-10-31 10:28:20.602 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:20.603 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $139.90 ? $139.97 (slippage: 0.050%)
2025-10-31 10:28:20.604 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.16 confidence=0.95
2025-10-31 10:28:20.604 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 92.81
2025-10-31 10:28:20.605 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.99
2025-10-31 10:28:20.605 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $13,003.35
2025-10-31 10:28:20.606 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 92.10 @ $139.97
2025-10-31 10:28:20.606 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.607 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.608 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,858.05, Cash end=$-0.00
2025-10-31 10:28:20.608 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.609 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:20.609 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.610 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 92.10 shares @ $139.97 (Value: $12,890.73)
2025-10-31 10:28:20.610 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.611 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,630.20
2025-10-31 10:28:20.611 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.612 | INFO     | src.backtesting.engine:run:336 -      Change: $-144.50
2025-10-31 10:28:20.613 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.615 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:20.615 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,657.36
2025-10-31 10:28:20.616 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:20.616 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.617 | INFO     | src.backtesting.engine:run:293 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:20.618 | INFO     | src.backtesting.engine:run:293 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12, P&L: $569.86)
2025-10-31 10:28:20.618 | INFO     | src.backtesting.engine:run:293 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:20.620 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.621 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.622 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.623 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.624 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08243568296077863
2025-10-31 10:28:20.624 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: -0.011855044558411465
2025-10-31 10:28:20.625 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.04793936688623612
2025-10-31 10:28:20.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.014465489862648284
2025-10-31 10:28:20.626 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:20.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0824 (8.24%) - PASS
2025-10-31 10:28:20.627 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: -0.0119 (-1.19%) - FAIL
2025-10-31 10:28:20.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0479 (-4.79%) - FAIL
2025-10-31 10:28:20.628 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0145 (-1.45%) - FAIL
2025-10-31 10:28:20.629 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:20.630 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:20.630 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:20.631 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.631 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:20.632 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 376.43 @ $216.54 (P&L: $6,183.15)
2025-10-31 10:28:20.632 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:20.633 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 92.10 @ $136.03 (P&L: $-362.67)
2025-10-31 10:28:20.634 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,946.16
2025-10-31 10:28:20.634 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.635 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12)
2025-10-31 10:28:20.635 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$100,657.36, Cash=$93,946.16, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:20.636 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=33.33%
2025-10-31 10:28:20.636 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:20.637 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:20.638 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 40.62 shares worth $6,570.12
2025-10-31 10:28:20.638 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:20.639 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.76 ? $161.84 (slippage: 0.050%)
2025-10-31 10:28:20.639 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:20.640 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 207.32
2025-10-31 10:28:20.640 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 40.62
2025-10-31 10:28:20.641 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +166.70
2025-10-31 10:28:20.642 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.98
2025-10-31 10:28:20.642 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $27,006.02
2025-10-31 10:28:20.643 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 166.70 more shares at $161.84 (cost: $27,006.02)
2025-10-31 10:28:20.643 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.644 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,940.13
2025-10-31 10:28:20.644 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$27,006.02, Cash end=$66,940.13
2025-10-31 10:28:20.645 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.646 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:20.646 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:20.647 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.647 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,475.82
2025-10-31 10:28:20.648 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,940.13
2025-10-31 10:28:20.648 | INFO     | src.backtesting.engine:run:336 -      Change: $-181.55
2025-10-31 10:28:20.649 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.650 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:20.651 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,459.85
2025-10-31 10:28:20.651 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,940.13
2025-10-31 10:28:20.652 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.652 | INFO     | src.backtesting.engine:run:293 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71, P&L: $4,892.77)
2025-10-31 10:28:20.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.656 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.656 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.657 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.658 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1509633395417309
2025-10-31 10:28:20.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025289187687097314
2025-10-31 10:28:20.659 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.062017589828790465
2025-10-31 10:28:20.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03926623386501071
2025-10-31 10:28:20.660 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:20.661 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1510 (15.10%) - PASS
2025-10-31 10:28:20.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0253 (2.53%) - PASS
2025-10-31 10:28:20.662 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0620 (6.20%) - PASS
2025-10-31 10:28:20.663 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0393 (-3.93%) - FAIL
2025-10-31 10:28:20.663 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:20.664 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.664 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:20.665 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.41)
2025-10-31 10:28:20.666 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.17)
2025-10-31 10:28:20.666 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.667 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71)
2025-10-31 10:28:20.667 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$102,459.85, Cash=$66,940.13, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:20.668 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=63.36%, DIA=26.03%, QQQ=10.61%
2025-10-31 10:28:20.668 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:20.669 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:20.670 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 207.32 shares worth $35,519.71
2025-10-31 10:28:20.670 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:20.671 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.33 ? $171.41 (slippage: 0.050%)
2025-10-31 10:28:20.671 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:20.672 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 378.71
2025-10-31 10:28:20.672 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 207.32
2025-10-31 10:28:20.673 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +171.39
2025-10-31 10:28:20.674 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.38
2025-10-31 10:28:20.674 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,408.48
2025-10-31 10:28:20.675 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 171.39 more shares at $171.41 (cost: $29,408.48)
2025-10-31 10:28:20.675 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.676 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $37,531.65
2025-10-31 10:28:20.676 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:20.677 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.45 ? $161.53 (slippage: 0.050%)
2025-10-31 10:28:20.678 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.41 confidence=0.88
2025-10-31 10:28:20.678 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 165.10
2025-10-31 10:28:20.679 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.67
2025-10-31 10:28:20.679 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $26,695.19
2025-10-31 10:28:20.680 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 165.10 @ $161.53
2025-10-31 10:28:20.680 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.681 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,836.46
2025-10-31 10:28:20.682 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:20.682 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $226.13 ? $226.24 (slippage: 0.050%)
2025-10-31 10:28:20.683 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.17 confidence=0.88
2025-10-31 10:28:20.683 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 48.07
2025-10-31 10:28:20.684 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.87
2025-10-31 10:28:20.684 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,885.62
2025-10-31 10:28:20.685 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 47.85 @ $226.24
2025-10-31 10:28:20.686 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.686 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.687 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,940.13, Cash end=$-0.00
2025-10-31 10:28:20.687 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.688 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 47.85 shares @ $226.24 (Value: $10,825.63)
2025-10-31 10:28:20.688 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 165.10 shares @ $161.53 (Value: $26,668.53)
2025-10-31 10:28:20.689 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.690 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,378.29
2025-10-31 10:28:20.690 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.691 | INFO     | src.backtesting.engine:run:336 -      Change: $-81.56
2025-10-31 10:28:20.691 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.693 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:20.694 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,776.38
2025-10-31 10:28:20.695 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:20.695 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.696 | INFO     | src.backtesting.engine:run:293 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75, P&L: $9,757.28)
2025-10-31 10:28:20.696 | INFO     | src.backtesting.engine:run:293 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63, P&L: $328.11)
2025-10-31 10:28:20.697 | INFO     | src.backtesting.engine:run:293 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:20.699 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.700 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.701 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.702 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.702 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07630945219379859
2025-10-31 10:28:20.703 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06449609968159464
2025-10-31 10:28:20.704 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.09037486049938193
2025-10-31 10:28:20.704 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.07872675247019179
2025-10-31 10:28:20.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:20.705 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0763 (7.63%) - PASS
2025-10-31 10:28:20.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0645 (6.45%) - PASS
2025-10-31 10:28:20.706 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0904 (9.04%) - PASS
2025-10-31 10:28:20.707 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0787 (7.87%) - PASS
2025-10-31 10:28:20.708 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'IWM', 'SPY']
2025-10-31 10:28:20.708 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.709 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:20.709 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.87)
2025-10-31 10:28:20.710 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.84)
2025-10-31 10:28:20.710 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.711 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:20.712 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 47.85 @ $231.36 (P&L: $244.83)
2025-10-31 10:28:20.712 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $11,059.39
2025-10-31 10:28:20.713 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.713 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75)
2025-10-31 10:28:20.714 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63)
2025-10-31 10:28:20.714 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$103,776.38, Cash=$11,059.39, Comm=0.1000%, Slip=0.0500%, Scale=0.248216
2025-10-31 10:28:20.715 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=36.83%, IWM=32.08%, SPY=31.09%
2025-10-31 10:28:20.716 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:20.716 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['DIA', 'IWM']
2025-10-31 10:28:20.717 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 378.71 shares worth $65,703.75
2025-10-31 10:28:20.717 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:20.718 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $173.49 ? $173.58 (slippage: 0.050%)
2025-10-31 10:28:20.718 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.84 confidence=0.74
2025-10-31 10:28:20.719 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 185.90
2025-10-31 10:28:20.720 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 378.71
2025-10-31 10:28:20.720 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -192.81
2025-10-31 10:28:20.721 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.47
2025-10-31 10:28:20.721 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-33,434.34
2025-10-31 10:28:20.722 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 192.81 shares at $173.41 (proceeds: $33,400.93)
2025-10-31 10:28:20.722 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.723 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44,460.31
2025-10-31 10:28:20.724 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 165.10 shares worth $26,996.63
2025-10-31 10:28:20.724 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:20.725 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $163.51 ? $163.60 (slippage: 0.050%)
2025-10-31 10:28:20.725 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:20.726 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 233.60
2025-10-31 10:28:20.726 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 165.10
2025-10-31 10:28:20.727 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +68.50
2025-10-31 10:28:20.728 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.21
2025-10-31 10:28:20.728 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $11,217.67
2025-10-31 10:28:20.729 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 68.50 more shares at $163.60 (cost: $11,217.67)
2025-10-31 10:28:20.729 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.730 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $33,242.64
2025-10-31 10:28:20.730 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:20.731 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.47 ? $147.54 (slippage: 0.050%)
2025-10-31 10:28:20.732 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.87 confidence=0.74
2025-10-31 10:28:20.732 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 225.64
2025-10-31 10:28:20.733 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.29
2025-10-31 10:28:20.733 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,324.28
2025-10-31 10:28:20.734 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 225.09 @ $147.54
2025-10-31 10:28:20.734 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.735 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:20.736 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$77,894.66, Cash end=$0.00
2025-10-31 10:28:20.736 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.737 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:20.737 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.738 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 225.09 shares @ $147.54 (Value: $33,209.43)
2025-10-31 10:28:20.738 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.739 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,659.60
2025-10-31 10:28:20.739 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:20.740 | INFO     | src.backtesting.engine:run:336 -      Change: $-116.78
2025-10-31 10:28:20.740 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.743 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:20.743 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,935.60
2025-10-31 10:28:20.744 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:20.744 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.745 | INFO     | src.backtesting.engine:run:293 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:20.745 | INFO     | src.backtesting.engine:run:293 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76, P&L: $2,221.50)
2025-10-31 10:28:20.746 | INFO     | src.backtesting.engine:run:293 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47, P&L: $-1,137.96)
2025-10-31 10:28:20.748 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.749 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.750 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.751 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0039514597871386226
2025-10-31 10:28:20.752 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.10084006286237446
2025-10-31 10:28:20.753 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.051236546823340445
2025-10-31 10:28:20.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.04667704995213828
2025-10-31 10:28:20.754 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:20.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0040 (-0.40%) - FAIL
2025-10-31 10:28:20.755 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1008 (10.08%) - PASS
2025-10-31 10:28:20.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0512 (5.12%) - PASS
2025-10-31 10:28:20.756 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0467 (4.67%) - PASS
2025-10-31 10:28:20.757 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'IWM']
2025-10-31 10:28:20.758 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.758 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:20.759 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.51)
2025-10-31 10:28:20.759 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.46)
2025-10-31 10:28:20.760 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.760 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:20.761 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 185.90 @ $171.56 (P&L: $4,430.40)
2025-10-31 10:28:20.761 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $31,861.52
2025-10-31 10:28:20.762 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.763 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76)
2025-10-31 10:28:20.763 | INFO     | src.backtesting.engine:_execute_signals:796 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47)
2025-10-31 10:28:20.764 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$103,935.60, Cash=$31,861.52, Comm=0.1000%, Slip=0.0500%, Scale=0.603601
2025-10-31 10:28:20.764 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=50.74%, DIA=25.78%, IWM=23.48%
2025-10-31 10:28:20.765 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:20.765 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA', 'IWM'], then buys: ['QQQ']
2025-10-31 10:28:20.766 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 233.60 shares worth $39,954.76
2025-10-31 10:28:20.767 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:20.767 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.04 ? $171.12 (slippage: 0.050%)
2025-10-31 10:28:20.768 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.51 confidence=0.85
2025-10-31 10:28:20.768 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 156.57
2025-10-31 10:28:20.769 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 233.60
2025-10-31 10:28:20.769 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -77.03
2025-10-31 10:28:20.770 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $13.18
2025-10-31 10:28:20.771 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-13,168.08
2025-10-31 10:28:20.771 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 77.03 shares at $170.95 (proceeds: $13,154.92)
2025-10-31 10:28:20.772 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.772 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45,016.44
2025-10-31 10:28:20.773 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 225.09 shares worth $32,071.47
2025-10-31 10:28:20.774 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE IWM [relative_top]
2025-10-31 10:28:20.774 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.48 ? $142.56 (slippage: 0.050%)
2025-10-31 10:28:20.775 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.85
2025-10-31 10:28:20.775 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 171.23
2025-10-31 10:28:20.776 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 225.09
2025-10-31 10:28:20.776 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -53.86
2025-10-31 10:28:20.777 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.68
2025-10-31 10:28:20.777 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-7,670.69
2025-10-31 10:28:20.778 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting IWM: selling 53.86 shares at $142.41 (proceeds: $7,663.02)
2025-10-31 10:28:20.779 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.779 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,679.46
2025-10-31 10:28:20.780 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:20.780 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $248.11 ? $248.24 (slippage: 0.050%)
2025-10-31 10:28:20.781 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.85
2025-10-31 10:28:20.781 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 212.43
2025-10-31 10:28:20.782 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $52.73
2025-10-31 10:28:20.783 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $52,785.71
2025-10-31 10:28:20.783 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 212.00 @ $248.24
2025-10-31 10:28:20.784 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.784 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.785 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$73,518.22, Cash end=$-0.00
2025-10-31 10:28:20.786 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.786 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:20.787 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.787 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 212.00 shares @ $248.24 (Value: $52,626.83)
2025-10-31 10:28:20.788 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.788 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,803.86
2025-10-31 10:28:20.789 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.789 | INFO     | src.backtesting.engine:run:336 -      Change: $-131.74
2025-10-31 10:28:20.790 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.792 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:20.793 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,349.31
2025-10-31 10:28:20.793 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:20.794 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.794 | INFO     | src.backtesting.engine:run:293 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36, P&L: $1,574.25)
2025-10-31 10:28:20.795 | INFO     | src.backtesting.engine:run:293 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:20.795 | INFO     | src.backtesting.engine:run:293 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05, P&L: $-1,361.77)
2025-10-31 10:28:20.798 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.799 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.799 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.800 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.801 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03331412880741369
2025-10-31 10:28:20.802 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025524862883118393
2025-10-31 10:28:20.802 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.055422735445618265
2025-10-31 10:28:20.803 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.041833731525131146
2025-10-31 10:28:20.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:20.804 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0333 (3.33%) - PASS
2025-10-31 10:28:20.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0255 (2.55%) - PASS
2025-10-31 10:28:20.805 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0554 (5.54%) - PASS
2025-10-31 10:28:20.806 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0418 (-4.18%) - FAIL
2025-10-31 10:28:20.806 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'SPY', 'QQQ']
2025-10-31 10:28:20.807 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.807 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:20.808 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.60)
2025-10-31 10:28:20.809 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.46)
2025-10-31 10:28:20.809 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.810 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:20.810 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 171.23 @ $141.37 (P&L: $-1,055.81)
2025-10-31 10:28:20.811 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $24,182.58
2025-10-31 10:28:20.811 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.812 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36)
2025-10-31 10:28:20.813 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05)
2025-10-31 10:28:20.813 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$102,349.31, Cash=$24,182.58, Comm=0.1000%, Slip=0.0500%, Scale=0.459109
2025-10-31 10:28:20.814 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=48.51%, SPY=29.16%, QQQ=22.34%
2025-10-31 10:28:20.814 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:20.815 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['QQQ'], then buys: ['DIA', 'SPY']
2025-10-31 10:28:20.815 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 212.00 shares worth $51,265.05
2025-10-31 10:28:20.816 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE QQQ [relative_top]
2025-10-31 10:28:20.817 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $241.81 ? $241.93 (slippage: 0.050%)
2025-10-31 10:28:20.817 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.82
2025-10-31 10:28:20.818 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 94.50
2025-10-31 10:28:20.818 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 212.00
2025-10-31 10:28:20.819 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -117.50
2025-10-31 10:28:20.819 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $28.43
2025-10-31 10:28:20.820 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-28,398.51
2025-10-31 10:28:20.821 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting QQQ: selling 117.50 shares at $241.69 (proceeds: $28,370.12)
2025-10-31 10:28:20.821 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.822 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,552.70
2025-10-31 10:28:20.822 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 156.57 shares worth $26,865.36
2025-10-31 10:28:20.823 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:20.823 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.58 ? $171.67 (slippage: 0.050%)
2025-10-31 10:28:20.824 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:20.825 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 289.19
2025-10-31 10:28:20.825 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 156.57
2025-10-31 10:28:20.826 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +132.62
2025-10-31 10:28:20.826 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $22.77
2025-10-31 10:28:20.827 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $22,788.58
2025-10-31 10:28:20.827 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 132.62 more shares at $171.67 (cost: $22,788.58)
2025-10-31 10:28:20.828 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.828 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $29,764.12
2025-10-31 10:28:20.829 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:20.830 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $177.66 ? $177.75 (slippage: 0.050%)
2025-10-31 10:28:20.830 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.60 confidence=0.82
2025-10-31 10:28:20.831 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 167.88
2025-10-31 10:28:20.831 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.84
2025-10-31 10:28:20.832 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,870.79
2025-10-31 10:28:20.833 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 167.28 @ $177.75
2025-10-31 10:28:20.833 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.834 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.834 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$80,951.21, Cash end=$-0.00
2025-10-31 10:28:20.835 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.835 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:20.836 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.836 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 167.28 shares @ $177.75 (Value: $29,734.38)
2025-10-31 10:28:20.837 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.838 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,206.51
2025-10-31 10:28:20.838 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.839 | INFO     | src.backtesting.engine:run:336 -      Change: $-142.80
2025-10-31 10:28:20.839 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.841 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:20.842 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $110,342.65
2025-10-31 10:28:20.842 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:20.843 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:20.844 | INFO     | src.backtesting.engine:run:293 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92, P&L: $7,870.74)
2025-10-31 10:28:20.844 | INFO     | src.backtesting.engine:run:293 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:20.845 | INFO     | src.backtesting.engine:run:293 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30, P&L: $2,517.92)
2025-10-31 10:28:20.847 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.848 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.849 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.850 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13145818824275746
2025-10-31 10:28:20.851 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.0028299795316499843
2025-10-31 10:28:20.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.10642118748796281
2025-10-31 10:28:20.852 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.018232201653917368
2025-10-31 10:28:20.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:20.853 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1315 (13.15%) - PASS
2025-10-31 10:28:20.854 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0028 (0.28%) - PASS
2025-10-31 10:28:20.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.1064 (10.64%) - PASS
2025-10-31 10:28:20.855 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0182 (1.82%) - PASS
2025-10-31 10:28:20.856 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'IWM']
2025-10-31 10:28:20.856 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:20.857 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:20.857 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.81)
2025-10-31 10:28:20.858 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.14)
2025-10-31 10:28:20.858 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:20.859 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:20.860 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 94.50 @ $248.62 (P&L: $36.31)
2025-10-31 10:28:20.860 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $23,472.18
2025-10-31 10:28:20.861 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:20.861 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92)
2025-10-31 10:28:20.862 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30)
2025-10-31 10:28:20.862 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$110,342.65, Cash=$23,472.18, Comm=0.1000%, Slip=0.0500%, Scale=0.727317
2025-10-31 10:28:20.863 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=51.33%, DIA=41.55%, IWM=7.12%
2025-10-31 10:28:20.864 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:20.864 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['SPY', 'IWM']
2025-10-31 10:28:20.865 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 289.19 shares worth $54,582.92
2025-10-31 10:28:20.865 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:20.866 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $188.74 ? $188.84 (slippage: 0.050%)
2025-10-31 10:28:20.867 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.81 confidence=0.76
2025-10-31 10:28:20.867 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 242.80
2025-10-31 10:28:20.868 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 289.19
2025-10-31 10:28:20.868 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -46.39
2025-10-31 10:28:20.869 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.76
2025-10-31 10:28:20.869 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-8,751.14
2025-10-31 10:28:20.870 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 46.39 shares at $188.65 (proceeds: $8,742.39)
2025-10-31 10:28:20.870 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.871 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $32,214.57
2025-10-31 10:28:20.872 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 167.28 shares worth $32,252.30
2025-10-31 10:28:20.872 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:20.873 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $192.81 ? $192.90 (slippage: 0.050%)
2025-10-31 10:28:20.873 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:20.874 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 293.61
2025-10-31 10:28:20.874 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 167.28
2025-10-31 10:28:20.875 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +126.33
2025-10-31 10:28:20.876 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $24.37
2025-10-31 10:28:20.876 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $24,393.15
2025-10-31 10:28:20.877 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 126.33 more shares at $192.90 (cost: $24,393.15)
2025-10-31 10:28:20.877 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:20.878 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $7,821.42
2025-10-31 10:28:20.879 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:20.879 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.38 ? $144.45 (slippage: 0.050%)
2025-10-31 10:28:20.880 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.14 confidence=0.76
2025-10-31 10:28:20.880 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 54.38
2025-10-31 10:28:20.881 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.86
2025-10-31 10:28:20.881 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,862.98
2025-10-31 10:28:20.882 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 54.09 @ $144.45
2025-10-31 10:28:20.883 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:20.883 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:20.884 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$40,965.71, Cash end=$-0.00
2025-10-31 10:28:20.884 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:20.885 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:20.885 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:20.886 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 54.09 shares @ $144.45 (Value: $7,813.61)
2025-10-31 10:28:20.886 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:20.887 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $110,249.91
2025-10-31 10:28:20.888 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:20.888 | INFO     | src.backtesting.engine:run:336 -      Change: $-92.74
2025-10-31 10:28:20.889 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:20.891 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 242.80 @ $181.45 (P&L: $4,836.61)
2025-10-31 10:28:20.891 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 293.61 @ $192.13 (P&L: $4,221.30)
2025-10-31 10:28:20.892 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 54.09 @ $153.90 (P&L: $511.04)
2025-10-31 10:28:20.893 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2023-03-02 to 2023-12-31
2025-10-31 10:28:20.895 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:20.901 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 365 snapshots
2025-10-31 10:28:20.903 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (365, 15)
2025-10-31 10:28:20.904 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'QQQ_quantity', 'QQQ_price', 'QQQ_value', 'DIA_quantity', 'DIA_price', 'DIA_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'IWM_quantity', 'IWM_price', 'IWM_value']
2025-10-31 10:28:20.905 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 365 to 305 records (performance period)
2025-10-31 10:28:20.938 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:20.939 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:20.939 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:20.940 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 305
2025-10-31 10:28:20.940 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 365
2025-10-31 10:28:20.941 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (305, 22)
2025-10-31 10:28:20.941 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'QQQ_value', 'QQQ_quantity', 'QQQ_price', 'QQQ_pct', 'DIA_value', 'DIA_quantity', 'DIA_price', 'DIA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'IWM_value', 'IWM_quantity', 'IWM_price', 'IWM_pct']
2025-10-31 10:28:20.942 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:20.954 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value           cash  ...  IWM_price  IWM_pct
timestamp                                   ...                    
2023-03-02    100000.000000  100000.000000  ...        NaN      NaN
2023-03-03    100162.038573   66633.333333  ...        NaN      NaN
2023-03-04    100634.890545   66633.333333  ...        NaN      NaN

[3 rows x 22 columns]
2025-10-31 10:28:20.955 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:20.968 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...   IWM_price   IWM_pct
timestamp                                  ...                      
2023-12-29    108432.744206 -9.094947e-13  ...  154.352403  7.699974
2023-12-30    108513.989856 -9.094947e-13  ...  153.144139  7.633979
2023-12-31    108845.649027 -9.094947e-13  ...  153.973721  7.651945

[3 rows x 22 columns]
2025-10-31 10:28:20.969 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:20.969 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $108,845.65 (8.85% return)
2025-10-31 10:28:20.970 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102820.log
2025-10-31 10:28:20.973 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-31 10:28:20.974 | INFO     | src.backtesting.engine:__init__:101 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-31 10:28:20.975 | INFO     | src.backtesting.engine:__init__:108 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-31 10:28:20.975 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:20.983 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102820.log
2025-10-31 10:28:20.984 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:20.984 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2023-01-01 to 2023-12-31
2025-10-31 10:28:20.986 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2023-01-01 00:00:00 to 2023-12-31 00:00:00 (365 periods)
2025-10-31 10:28:20.987 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2023-03-02 00:00:00 (after 60 periods of warm-up data)
2025-10-31 10:28:20.988 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.988 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.989 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:20.990 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2023-03-02
2025-10-31 10:28:20.990 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-02
2025-10-31 10:28:20.991 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:20.991 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:20.992 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:20.994 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:20.995 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.996 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.997 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:20.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.04499753275362561
2025-10-31 10:28:20.998 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.11410227867333256
2025-10-31 10:28:20.999 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.06402916556234939
2025-10-31 10:28:21.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03043683262574659
2025-10-31 10:28:21.000 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-02 00:00:00:
2025-10-31 10:28:21.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0450 (-4.50%) - FAIL
2025-10-31 10:28:21.001 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1141 (11.41%) - PASS
2025-10-31 10:28:21.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0640 (-6.40%) - FAIL
2025-10-31 10:28:21.002 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0304 (-3.04%) - FAIL
2025-10-31 10:28:21.003 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['QQQ']
2025-10-31 10:28:21.004 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:21.004 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.005 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-02: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:21.005 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=50.00%
2025-10-31 10:28:21.006 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['QQQ']
2025-10-31 10:28:21.007 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:21.007 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $200.02 ? $200.12 (slippage: 0.050%)
2025-10-31 10:28:21.008 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:21.008 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 249.86
2025-10-31 10:28:21.009 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $50.00
2025-10-31 10:28:21.009 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $50,050.00
2025-10-31 10:28:21.010 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 249.86 @ $200.12
2025-10-31 10:28:21.011 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.011 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $49,950.00
2025-10-31 10:28:21.012 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$50,050.00, Cash end=$49,950.00
2025-10-31 10:28:21.012 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.013 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 249.86 shares @ $200.12 (Value: $50,000.00)
2025-10-31 10:28:21.013 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.014 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,950.00
2025-10-31 10:28:21.015 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $49,950.00
2025-10-31 10:28:21.015 | INFO     | src.backtesting.engine:run:336 -      Change: $-50.00
2025-10-31 10:28:21.016 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.017 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:21.017 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,687.52
2025-10-31 10:28:21.018 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $49,950.00
2025-10-31 10:28:21.019 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.019 | INFO     | src.backtesting.engine:run:293 -      QQQ: 249.86 shares @ $211.07 (Value: $52,737.52, P&L: $2,737.52)
2025-10-31 10:28:21.021 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.022 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.023 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.024 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.015725998040660993
2025-10-31 10:28:21.025 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.05316804719891466
2025-10-31 10:28:21.026 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.05842940431667065
2025-10-31 10:28:21.027 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.031081946897098534
2025-10-31 10:28:21.027 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:21.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0157 (1.57%) - PASS
2025-10-31 10:28:21.028 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0532 (5.32%) - PASS
2025-10-31 10:28:21.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0584 (5.84%) - PASS
2025-10-31 10:28:21.029 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0311 (-3.11%) - FAIL
2025-10-31 10:28:21.030 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['DIA', 'QQQ']
2025-10-31 10:28:21.031 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.031 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.032 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.91)
2025-10-31 10:28:21.032 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.033 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 249.86 shares @ $211.07 (Value: $52,737.52)
2025-10-31 10:28:21.034 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$102,687.52, Cash=$49,950.00, Comm=0.1000%, Slip=0.0500%, Scale=0.928125
2025-10-31 10:28:21.034 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=52.36%, QQQ=47.64%
2025-10-31 10:28:21.035 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.035 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['QQQ'], then buys: ['DIA']
2025-10-31 10:28:21.036 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 249.86 shares worth $52,737.52
2025-10-31 10:28:21.036 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE QQQ [relative_top]
2025-10-31 10:28:21.037 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $211.07 ? $211.18 (slippage: 0.050%)
2025-10-31 10:28:21.038 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.91 confidence=0.73
2025-10-31 10:28:21.038 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 231.67
2025-10-31 10:28:21.039 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 249.86
2025-10-31 10:28:21.039 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -18.19
2025-10-31 10:28:21.040 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $3.84
2025-10-31 10:28:21.040 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-3,836.93
2025-10-31 10:28:21.041 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting QQQ: selling 18.19 shares at $210.97 (proceeds: $3,833.10)
2025-10-31 10:28:21.042 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.042 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $53,783.10
2025-10-31 10:28:21.043 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:21.044 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $159.65 ? $159.73 (slippage: 0.050%)
2025-10-31 10:28:21.044 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:21.045 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 336.60
2025-10-31 10:28:21.045 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $53.76
2025-10-31 10:28:21.046 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $53,818.17
2025-10-31 10:28:21.046 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 336.38 @ $159.73
2025-10-31 10:28:21.047 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.048 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.048 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$57,620.03, Cash end=$-0.00
2025-10-31 10:28:21.049 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.049 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 336.38 shares @ $159.73 (Value: $53,729.37)
2025-10-31 10:28:21.050 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.050 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,628.04
2025-10-31 10:28:21.051 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.052 | INFO     | src.backtesting.engine:run:336 -      Change: $-59.49
2025-10-31 10:28:21.052 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.054 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:21.054 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,772.21
2025-10-31 10:28:21.055 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.055 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.056 | INFO     | src.backtesting.engine:run:293 -      QQQ: 231.67 shares @ $218.15 (Value: $50,539.15, P&L: $4,178.74)
2025-10-31 10:28:21.056 | INFO     | src.backtesting.engine:run:293 -      DIA: 336.38 shares @ $158.25 (Value: $53,233.05, P&L: $-496.32)
2025-10-31 10:28:21.059 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.045393745602212654
2025-10-31 10:28:21.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.09068098737114672
2025-10-31 10:28:21.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.06923287243941179
2025-10-31 10:28:21.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.01663965694722691
2025-10-31 10:28:21.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:21.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0454 (4.54%) - PASS
2025-10-31 10:28:21.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0907 (9.07%) - PASS
2025-10-31 10:28:21.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0692 (6.92%) - PASS
2025-10-31 10:28:21.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0166 (1.66%) - PASS
2025-10-31 10:28:21.067 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['QQQ', 'DIA']
2025-10-31 10:28:21.068 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.069 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.069 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.76)
2025-10-31 10:28:21.070 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.070 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 231.67 shares @ $218.15 (Value: $50,539.15)
2025-10-31 10:28:21.071 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 336.38 shares @ $158.25 (Value: $53,233.05)
2025-10-31 10:28:21.071 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$103,772.21, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:21.072 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=56.71%, DIA=43.29%
2025-10-31 10:28:21.073 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.073 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['QQQ']
2025-10-31 10:28:21.074 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 336.38 shares worth $53,233.05
2025-10-31 10:28:21.074 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.075 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $158.25 ? $158.33 (slippage: 0.050%)
2025-10-31 10:28:21.076 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.76 confidence=0.77
2025-10-31 10:28:21.076 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 283.76
2025-10-31 10:28:21.077 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 336.38
2025-10-31 10:28:21.077 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -52.63
2025-10-31 10:28:21.078 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.33
2025-10-31 10:28:21.078 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-8,324.35
2025-10-31 10:28:21.079 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 52.63 shares at $158.17 (proceeds: $8,316.03)
2025-10-31 10:28:21.080 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.080 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $8,316.03
2025-10-31 10:28:21.081 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 231.67 shares worth $50,539.15
2025-10-31 10:28:21.081 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:21.082 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $218.15 ? $218.26 (slippage: 0.050%)
2025-10-31 10:28:21.083 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:21.083 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 269.61
2025-10-31 10:28:21.084 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 231.67
2025-10-31 10:28:21.084 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +37.94
2025-10-31 10:28:21.085 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.28
2025-10-31 10:28:21.085 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $8,289.08
2025-10-31 10:28:21.086 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 37.94 more shares at $218.26 (cost: $8,289.08)
2025-10-31 10:28:21.087 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.087 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $26.95
2025-10-31 10:28:21.088 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$16,613.43, Cash end=$26.95
2025-10-31 10:28:21.088 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:21.089 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.089 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,747.30
2025-10-31 10:28:21.090 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $26.95
2025-10-31 10:28:21.091 | INFO     | src.backtesting.engine:run:336 -      Change: $-24.91
2025-10-31 10:28:21.091 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.093 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:21.093 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,740.13
2025-10-31 10:28:21.094 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $26.95
2025-10-31 10:28:21.094 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.095 | INFO     | src.backtesting.engine:run:293 -      QQQ: 269.61 shares @ $222.26 (Value: $59,922.54, P&L: $5,969.81)
2025-10-31 10:28:21.096 | INFO     | src.backtesting.engine:run:293 -      DIA: 283.76 shares @ $154.33 (Value: $43,790.64, P&L: $-1,532.56)
2025-10-31 10:28:21.098 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.099 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.100 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.101 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.004610003578679356
2025-10-31 10:28:21.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06348391297189138
2025-10-31 10:28:21.102 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.03305545502013918
2025-10-31 10:28:21.103 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.009852101656577128
2025-10-31 10:28:21.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:21.104 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0046 (0.46%) - PASS
2025-10-31 10:28:21.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0635 (6.35%) - PASS
2025-10-31 10:28:21.105 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0331 (-3.31%) - FAIL
2025-10-31 10:28:21.106 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0099 (0.99%) - PASS
2025-10-31 10:28:21.106 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['QQQ', 'IWM']
2025-10-31 10:28:21.107 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.108 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.108 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.16)
2025-10-31 10:28:21.109 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.109 | INFO     | src.backtesting.engine:_execute_signals:787 -      DIA: 283.76 shares @ $154.33 (Value: $43,790.64, P&L: $-1,532.56)
2025-10-31 10:28:21.110 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 283.76 @ $154.25 (P&L: $-1,554.45)
2025-10-31 10:28:21.110 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $43,751.93
2025-10-31 10:28:21.111 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.112 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 269.61 shares @ $222.26 (Value: $59,922.54)
2025-10-31 10:28:21.112 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$103,740.13, Cash=$43,751.93, Comm=0.1000%, Slip=0.0500%, Scale=0.997504
2025-10-31 10:28:21.113 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=86.57%, IWM=13.43%
2025-10-31 10:28:21.113 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.114 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['QQQ', 'IWM']
2025-10-31 10:28:21.115 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 269.61 shares worth $59,922.54
2025-10-31 10:28:21.115 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:21.116 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $222.26 ? $222.37 (slippage: 0.050%)
2025-10-31 10:28:21.116 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:21.117 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 403.85
2025-10-31 10:28:21.117 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 269.61
2025-10-31 10:28:21.118 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +134.24
2025-10-31 10:28:21.119 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.85
2025-10-31 10:28:21.119 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,880.84
2025-10-31 10:28:21.120 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 134.24 more shares at $222.37 (cost: $29,880.84)
2025-10-31 10:28:21.120 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.121 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $13,871.10
2025-10-31 10:28:21.122 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:21.122 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $139.90 ? $139.97 (slippage: 0.050%)
2025-10-31 10:28:21.123 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.16 confidence=0.95
2025-10-31 10:28:21.123 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 99.57
2025-10-31 10:28:21.124 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $13.94
2025-10-31 10:28:21.124 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $13,950.59
2025-10-31 10:28:21.125 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 99.00 @ $139.97
2025-10-31 10:28:21.126 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.126 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:21.127 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$43,751.93, Cash end=$0.00
2025-10-31 10:28:21.127 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.128 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      DIA: 283.76 shares @ $154.33 (Value: $43,790.64, P&L: $-1,532.56)
2025-10-31 10:28:21.128 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.129 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 99.00 shares @ $139.97 (Value: $13,857.24)
2025-10-31 10:28:21.130 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.130 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,615.84
2025-10-31 10:28:21.131 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:21.131 | INFO     | src.backtesting.engine:run:336 -      Change: $-124.29
2025-10-31 10:28:21.132 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.133 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:21.134 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,967.80
2025-10-31 10:28:21.135 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:21.135 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.136 | INFO     | src.backtesting.engine:run:293 -      QQQ: 403.85 shares @ $216.65 (Value: $87,493.68, P&L: $6,677.31)
2025-10-31 10:28:21.136 | INFO     | src.backtesting.engine:run:293 -      IWM: 99.00 shares @ $136.10 (Value: $13,474.12, P&L: $-383.12)
2025-10-31 10:28:21.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.139 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.140 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.141 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.142 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08243568296077863
2025-10-31 10:28:21.143 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: -0.011855044558411465
2025-10-31 10:28:21.143 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.04793936688623612
2025-10-31 10:28:21.144 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.014465489862648284
2025-10-31 10:28:21.144 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:21.145 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0824 (8.24%) - PASS
2025-10-31 10:28:21.146 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: -0.0119 (-1.19%) - FAIL
2025-10-31 10:28:21.146 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0479 (-4.79%) - FAIL
2025-10-31 10:28:21.147 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0145 (-1.45%) - FAIL
2025-10-31 10:28:21.147 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:21.148 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:21.148 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.149 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.150 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 403.85 shares @ $216.65 (Value: $87,493.68, P&L: $6,677.31)
2025-10-31 10:28:21.150 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 403.85 @ $216.54 (P&L: $6,633.57)
2025-10-31 10:28:21.151 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 99.00 shares @ $136.10 (Value: $13,474.12, P&L: $-383.12)
2025-10-31 10:28:21.151 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 99.00 @ $136.03 (P&L: $-389.86)
2025-10-31 10:28:21.152 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $100,816.40
2025-10-31 10:28:21.153 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$100,967.80, Cash=$100,816.40, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:21.153 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=50.00%
2025-10-31 10:28:21.154 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:21.154 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:21.155 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.76 ? $161.84 (slippage: 0.050%)
2025-10-31 10:28:21.156 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:21.156 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 311.94
2025-10-31 10:28:21.157 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $50.48
2025-10-31 10:28:21.157 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $50,534.38
2025-10-31 10:28:21.158 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 311.94 @ $161.84
2025-10-31 10:28:21.158 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.159 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,282.01
2025-10-31 10:28:21.160 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$50,534.38, Cash end=$50,282.01
2025-10-31 10:28:21.160 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.161 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 403.85 shares @ $216.65 (Value: $87,493.68, P&L: $6,677.31)
2025-10-31 10:28:21.161 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 99.00 shares @ $136.10 (Value: $13,474.12, P&L: $-383.12)
2025-10-31 10:28:21.162 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.162 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 311.94 shares @ $161.84 (Value: $50,483.90)
2025-10-31 10:28:21.163 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.164 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,765.92
2025-10-31 10:28:21.164 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $50,282.01
2025-10-31 10:28:21.165 | INFO     | src.backtesting.engine:run:336 -      Change: $-201.89
2025-10-31 10:28:21.165 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.166 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:21.167 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,725.91
2025-10-31 10:28:21.168 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $50,282.01
2025-10-31 10:28:21.168 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.169 | INFO     | src.backtesting.engine:run:293 -      SPY: 311.94 shares @ $171.33 (Value: $53,443.89, P&L: $2,959.99)
2025-10-31 10:28:21.171 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.172 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.173 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.174 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1509633395417309
2025-10-31 10:28:21.175 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025289187687097314
2025-10-31 10:28:21.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.062017589828790465
2025-10-31 10:28:21.176 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03926623386501071
2025-10-31 10:28:21.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:21.177 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1510 (15.10%) - PASS
2025-10-31 10:28:21.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0253 (2.53%) - PASS
2025-10-31 10:28:21.178 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0620 (6.20%) - PASS
2025-10-31 10:28:21.179 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0393 (-3.93%) - FAIL
2025-10-31 10:28:21.180 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'DIA']
2025-10-31 10:28:21.180 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.181 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.181 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.41)
2025-10-31 10:28:21.182 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.182 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 311.94 shares @ $171.33 (Value: $53,443.89)
2025-10-31 10:28:21.183 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$103,725.91, Cash=$50,282.01, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:21.184 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=70.88%, DIA=29.12%
2025-10-31 10:28:21.184 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.185 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'DIA']
2025-10-31 10:28:21.185 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 311.94 shares worth $53,443.89
2025-10-31 10:28:21.186 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.187 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.33 ? $171.41 (slippage: 0.050%)
2025-10-31 10:28:21.187 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:21.188 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 428.92
2025-10-31 10:28:21.188 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 311.94
2025-10-31 10:28:21.189 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +116.98
2025-10-31 10:28:21.189 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $20.05
2025-10-31 10:28:21.190 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $20,071.56
2025-10-31 10:28:21.191 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 116.98 more shares at $171.41 (cost: $20,071.56)
2025-10-31 10:28:21.191 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.192 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $30,210.46
2025-10-31 10:28:21.192 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:21.193 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.45 ? $161.53 (slippage: 0.050%)
2025-10-31 10:28:21.194 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.41 confidence=0.88
2025-10-31 10:28:21.194 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 186.99
2025-10-31 10:28:21.195 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $30.20
2025-10-31 10:28:21.195 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $30,233.99
2025-10-31 10:28:21.196 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 186.84 @ $161.53
2025-10-31 10:28:21.196 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.197 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.198 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$50,282.01, Cash end=$-0.00
2025-10-31 10:28:21.198 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.199 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 186.84 shares @ $161.53 (Value: $30,180.28)
2025-10-31 10:28:21.199 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.200 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,665.65
2025-10-31 10:28:21.200 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.201 | INFO     | src.backtesting.engine:run:336 -      Change: $-60.25
2025-10-31 10:28:21.202 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.203 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:21.204 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $104,965.24
2025-10-31 10:28:21.204 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.205 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.205 | INFO     | src.backtesting.engine:run:293 -      SPY: 428.92 shares @ $173.49 (Value: $74,413.65, P&L: $4,998.26)
2025-10-31 10:28:21.206 | INFO     | src.backtesting.engine:run:293 -      DIA: 186.84 shares @ $163.51 (Value: $30,551.59, P&L: $371.31)
2025-10-31 10:28:21.208 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.210 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07630945219379859
2025-10-31 10:28:21.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06449609968159464
2025-10-31 10:28:21.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.09037486049938193
2025-10-31 10:28:21.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.07872675247019179
2025-10-31 10:28:21.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:21.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0763 (7.63%) - PASS
2025-10-31 10:28:21.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0645 (6.45%) - PASS
2025-10-31 10:28:21.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0904 (9.04%) - PASS
2025-10-31 10:28:21.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0787 (7.87%) - PASS
2025-10-31 10:28:21.217 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['DIA', 'IWM']
2025-10-31 10:28:21.218 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.218 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.219 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.87)
2025-10-31 10:28:21.219 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.220 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 428.92 shares @ $173.49 (Value: $74,413.65, P&L: $4,998.26)
2025-10-31 10:28:21.221 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 428.92 @ $173.41 (P&L: $4,961.05)
2025-10-31 10:28:21.221 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $74,302.06
2025-10-31 10:28:21.222 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.222 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 186.84 shares @ $163.51 (Value: $30,551.59)
2025-10-31 10:28:21.223 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$104,965.24, Cash=$74,302.06, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:21.223 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=53.44%, IWM=46.56%
2025-10-31 10:28:21.224 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.225 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['DIA', 'IWM']
2025-10-31 10:28:21.225 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 186.84 shares worth $30,551.59
2025-10-31 10:28:21.226 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:21.226 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $163.51 ? $163.60 (slippage: 0.050%)
2025-10-31 10:28:21.227 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:21.228 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 342.90
2025-10-31 10:28:21.228 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 186.84
2025-10-31 10:28:21.229 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +156.06
2025-10-31 10:28:21.229 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $25.53
2025-10-31 10:28:21.230 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $25,556.41
2025-10-31 10:28:21.230 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 156.06 more shares at $163.60 (cost: $25,556.41)
2025-10-31 10:28:21.231 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.232 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $48,745.66
2025-10-31 10:28:21.232 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:21.233 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.47 ? $147.54 (slippage: 0.050%)
2025-10-31 10:28:21.233 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.87 confidence=0.74
2025-10-31 10:28:21.234 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 331.22
2025-10-31 10:28:21.234 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $48.87
2025-10-31 10:28:21.235 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $48,916.36
2025-10-31 10:28:21.236 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 330.06 @ $147.54
2025-10-31 10:28:21.236 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.237 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:21.237 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$74,302.06, Cash end=$0.00
2025-10-31 10:28:21.238 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.239 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 428.92 shares @ $173.49 (Value: $74,413.65, P&L: $4,998.26)
2025-10-31 10:28:21.239 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.240 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 330.06 shares @ $147.54 (Value: $48,696.96)
2025-10-31 10:28:21.240 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.241 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $104,766.67
2025-10-31 10:28:21.241 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:21.242 | INFO     | src.backtesting.engine:run:336 -      Change: $-198.57
2025-10-31 10:28:21.242 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.244 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:21.245 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $105,677.47
2025-10-31 10:28:21.245 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:21.246 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.246 | INFO     | src.backtesting.engine:run:293 -      DIA: 342.90 shares @ $171.04 (Value: $58,649.16, P&L: $3,260.91)
2025-10-31 10:28:21.247 | INFO     | src.backtesting.engine:run:293 -      IWM: 330.06 shares @ $142.48 (Value: $47,028.31, P&L: $-1,668.65)
2025-10-31 10:28:21.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0039514597871386226
2025-10-31 10:28:21.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.10084006286237446
2025-10-31 10:28:21.254 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.051236546823340445
2025-10-31 10:28:21.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.04667704995213828
2025-10-31 10:28:21.255 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:21.256 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0040 (-0.40%) - FAIL
2025-10-31 10:28:21.256 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1008 (10.08%) - PASS
2025-10-31 10:28:21.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0512 (5.12%) - PASS
2025-10-31 10:28:21.257 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0467 (4.67%) - PASS
2025-10-31 10:28:21.258 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['QQQ', 'DIA']
2025-10-31 10:28:21.259 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.259 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.260 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.51)
2025-10-31 10:28:21.260 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.261 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 330.06 shares @ $142.48 (Value: $47,028.31, P&L: $-1,668.65)
2025-10-31 10:28:21.262 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 330.06 @ $142.41 (P&L: $-1,692.17)
2025-10-31 10:28:21.262 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $46,957.79
2025-10-31 10:28:21.263 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.263 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 342.90 shares @ $171.04 (Value: $58,649.16)
2025-10-31 10:28:21.264 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$105,677.47, Cash=$46,957.79, Comm=0.1000%, Slip=0.0500%, Scale=0.669454
2025-10-31 10:28:21.264 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=66.31%, DIA=33.69%
2025-10-31 10:28:21.265 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.266 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['QQQ']
2025-10-31 10:28:21.266 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 342.90 shares worth $58,649.16
2025-10-31 10:28:21.267 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.267 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.04 ? $171.12 (slippage: 0.050%)
2025-10-31 10:28:21.268 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.51 confidence=0.85
2025-10-31 10:28:21.268 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 208.06
2025-10-31 10:28:21.269 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 342.90
2025-10-31 10:28:21.270 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -134.84
2025-10-31 10:28:21.270 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $23.07
2025-10-31 10:28:21.271 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-23,051.33
2025-10-31 10:28:21.271 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 134.84 shares at $170.95 (proceeds: $23,028.29)
2025-10-31 10:28:21.272 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.273 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $69,986.08
2025-10-31 10:28:21.273 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:21.274 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $248.11 ? $248.24 (slippage: 0.050%)
2025-10-31 10:28:21.274 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.85
2025-10-31 10:28:21.275 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 282.29
2025-10-31 10:28:21.275 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $70.07
2025-10-31 10:28:21.276 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $70,143.46
2025-10-31 10:28:21.277 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 281.65 @ $248.24
2025-10-31 10:28:21.277 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.278 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.278 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$93,037.40, Cash end=$-0.00
2025-10-31 10:28:21.279 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.280 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 330.06 shares @ $142.48 (Value: $47,028.31, P&L: $-1,668.65)
2025-10-31 10:28:21.280 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.281 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 281.65 shares @ $248.24 (Value: $69,916.16)
2025-10-31 10:28:21.281 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.282 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $105,502.45
2025-10-31 10:28:21.282 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.283 | INFO     | src.backtesting.engine:run:336 -      Change: $-175.02
2025-10-31 10:28:21.283 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.285 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:21.286 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,806.61
2025-10-31 10:28:21.286 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.287 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.287 | INFO     | src.backtesting.engine:run:293 -      DIA: 208.06 shares @ $171.58 (Value: $35,699.60, P&L: $2,091.92)
2025-10-31 10:28:21.288 | INFO     | src.backtesting.engine:run:293 -      QQQ: 281.65 shares @ $241.81 (Value: $68,107.01, P&L: $-1,809.15)
2025-10-31 10:28:21.290 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.291 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.292 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.293 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03331412880741369
2025-10-31 10:28:21.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025524862883118393
2025-10-31 10:28:21.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.055422735445618265
2025-10-31 10:28:21.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.041833731525131146
2025-10-31 10:28:21.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:21.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0333 (3.33%) - PASS
2025-10-31 10:28:21.298 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0255 (2.55%) - PASS
2025-10-31 10:28:21.298 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0554 (5.54%) - PASS
2025-10-31 10:28:21.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0418 (-4.18%) - FAIL
2025-10-31 10:28:21.299 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['DIA', 'SPY']
2025-10-31 10:28:21.300 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.300 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.301 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.60)
2025-10-31 10:28:21.302 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.302 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 281.65 shares @ $241.81 (Value: $68,107.01, P&L: $-1,809.15)
2025-10-31 10:28:21.303 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 281.65 @ $241.69 (P&L: $-1,843.21)
2025-10-31 10:28:21.303 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $68,004.88
2025-10-31 10:28:21.304 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.304 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 208.06 shares @ $171.58 (Value: $35,699.60)
2025-10-31 10:28:21.305 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$103,806.61, Cash=$68,004.88, Comm=0.1000%, Slip=0.0500%, Scale=0.997503
2025-10-31 10:28:21.306 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=62.46%, SPY=37.54%
2025-10-31 10:28:21.306 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.307 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['DIA', 'SPY']
2025-10-31 10:28:21.307 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 208.06 shares worth $35,699.60
2025-10-31 10:28:21.308 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:21.309 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.58 ? $171.67 (slippage: 0.050%)
2025-10-31 10:28:21.309 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:21.310 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 377.68
2025-10-31 10:28:21.310 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 208.06
2025-10-31 10:28:21.311 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +169.62
2025-10-31 10:28:21.311 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.12
2025-10-31 10:28:21.312 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,146.57
2025-10-31 10:28:21.313 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 169.62 more shares at $171.67 (cost: $29,146.57)
2025-10-31 10:28:21.313 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.314 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $38,858.31
2025-10-31 10:28:21.314 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:21.315 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $177.66 ? $177.75 (slippage: 0.050%)
2025-10-31 10:28:21.316 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.60 confidence=0.82
2025-10-31 10:28:21.316 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 219.25
2025-10-31 10:28:21.317 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $38.97
2025-10-31 10:28:21.317 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $39,010.68
2025-10-31 10:28:21.318 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 218.39 @ $177.75
2025-10-31 10:28:21.319 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.319 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.320 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$68,004.88, Cash end=$-0.00
2025-10-31 10:28:21.320 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.321 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 281.65 shares @ $241.81 (Value: $68,107.01, P&L: $-1,809.15)
2025-10-31 10:28:21.321 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.322 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 218.39 shares @ $177.75 (Value: $38,819.49)
2025-10-31 10:28:21.323 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.323 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,622.00
2025-10-31 10:28:21.324 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.324 | INFO     | src.backtesting.engine:run:336 -      Change: $-184.61
2025-10-31 10:28:21.325 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.327 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:21.327 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $113,390.99
2025-10-31 10:28:21.328 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.328 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.329 | INFO     | src.backtesting.engine:run:293 -      DIA: 377.68 shares @ $188.74 (Value: $71,284.25, P&L: $10,279.03)
2025-10-31 10:28:21.329 | INFO     | src.backtesting.engine:run:293 -      SPY: 218.39 shares @ $192.81 (Value: $42,106.74, P&L: $3,287.25)
2025-10-31 10:28:21.332 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.333 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.334 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.335 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13145818824275746
2025-10-31 10:28:21.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.0028299795316499843
2025-10-31 10:28:21.336 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.10642118748796281
2025-10-31 10:28:21.337 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.018232201653917368
2025-10-31 10:28:21.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:21.338 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1315 (13.15%) - PASS
2025-10-31 10:28:21.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0028 (0.28%) - PASS
2025-10-31 10:28:21.339 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.1064 (10.64%) - PASS
2025-10-31 10:28:21.340 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0182 (1.82%) - PASS
2025-10-31 10:28:21.340 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 2 long signals for: ['SPY', 'DIA']
2025-10-31 10:28:21.341 | INFO     | src.backtesting.engine:run:309 -    Generated 2 signals:
2025-10-31 10:28:21.342 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.342 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.81)
2025-10-31 10:28:21.343 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.343 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 377.68 shares @ $188.74 (Value: $71,284.25)
2025-10-31 10:28:21.344 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 218.39 shares @ $192.81 (Value: $42,106.74)
2025-10-31 10:28:21.344 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$113,390.99, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:21.345 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=55.26%, DIA=44.74%
2025-10-31 10:28:21.346 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.346 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['SPY']
2025-10-31 10:28:21.347 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 377.68 shares worth $71,284.25
2025-10-31 10:28:21.347 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.348 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $188.74 ? $188.84 (slippage: 0.050%)
2025-10-31 10:28:21.349 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.81 confidence=0.76
2025-10-31 10:28:21.349 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 268.63
2025-10-31 10:28:21.350 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 377.68
2025-10-31 10:28:21.350 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -109.04
2025-10-31 10:28:21.351 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $20.59
2025-10-31 10:28:21.351 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-20,571.05
2025-10-31 10:28:21.352 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 109.04 shares at $188.65 (proceeds: $20,550.49)
2025-10-31 10:28:21.353 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.353 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $20,550.49
2025-10-31 10:28:21.354 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 218.39 shares worth $42,106.74
2025-10-31 10:28:21.354 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.355 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $192.81 ? $192.90 (slippage: 0.050%)
2025-10-31 10:28:21.356 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:21.356 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 324.84
2025-10-31 10:28:21.357 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 218.39
2025-10-31 10:28:21.357 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +106.45
2025-10-31 10:28:21.358 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $20.53
2025-10-31 10:28:21.358 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $20,555.48
2025-10-31 10:28:21.359 | WARNING  | src.backtesting.engine:_execute_signals:1079 -      ??  Cannot fully adjust SPY - insufficient cash
2025-10-31 10:28:21.360 | WARNING  | src.backtesting.engine:_execute_signals:1080 -         Required: $20,555.48, Available: $20,550.49
2025-10-31 10:28:21.360 | INFO     | src.backtesting.engine:_execute_signals:1088 -         Adjusted to partial increase: 324.82 shares
2025-10-31 10:28:21.361 | WARNING  | src.backtesting.engine:_adjust_position:1204 - Insufficient cash to adjust SPY position (need $20,550.49, have $20,550.49)
2025-10-31 10:28:21.361 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.362 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $20,550.49
2025-10-31 10:28:21.362 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$41,121.55, Cash end=$20,550.49
2025-10-31 10:28:21.363 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:21.364 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.364 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $113,360.13
2025-10-31 10:28:21.365 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $20,550.49
2025-10-31 10:28:21.365 | INFO     | src.backtesting.engine:run:336 -      Change: $-30.86
2025-10-31 10:28:21.366 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.368 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 268.63 @ $181.45 (P&L: $5,351.17)
2025-10-31 10:28:21.368 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 218.39 @ $192.13 (P&L: $3,139.88)
2025-10-31 10:28:21.369 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2023-03-02 to 2023-12-31
2025-10-31 10:28:21.371 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:21.377 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 365 snapshots
2025-10-31 10:28:21.379 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (365, 15)
2025-10-31 10:28:21.379 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'QQQ_quantity', 'QQQ_price', 'QQQ_value', 'DIA_quantity', 'DIA_price', 'DIA_value', 'IWM_quantity', 'IWM_price', 'IWM_value', 'SPY_quantity', 'SPY_price', 'SPY_value']
2025-10-31 10:28:21.380 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 365 to 305 records (performance period)
2025-10-31 10:28:21.415 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:21.416 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:21.416 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:21.417 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 305
2025-10-31 10:28:21.418 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 365
2025-10-31 10:28:21.418 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (305, 22)
2025-10-31 10:28:21.419 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'QQQ_value', 'QQQ_quantity', 'QQQ_price', 'QQQ_pct', 'DIA_value', 'DIA_quantity', 'DIA_price', 'DIA_pct', 'IWM_value', 'IWM_quantity', 'IWM_price', 'IWM_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct']
2025-10-31 10:28:21.419 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:21.432 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value      cash  ...  SPY_price  SPY_pct
timestamp                              ...                    
2023-03-02    100000.000000  100000.0  ...        NaN      NaN
2023-03-03    100243.057860   49950.0  ...        NaN      NaN
2023-03-04    100952.335817   49950.0  ...        NaN      NaN

[3 rows x 22 columns]
2025-10-31 10:28:21.433 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:21.445 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...   SPY_price    SPY_pct
timestamp                                  ...                       
2023-12-29    111020.855825  20550.492526  ...  190.327057  37.439234
2023-12-30    111105.640316  20550.492526  ...  191.054292  37.553609
2023-12-31    111298.060865  20550.492526  ...  192.227350  37.718862

[3 rows x 22 columns]
2025-10-31 10:28:21.446 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:21.446 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $111,298.06 (11.30% return)
2025-10-31 10:28:21.447 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102820.log
2025-10-31 10:28:21.450 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-31 10:28:21.451 | INFO     | src.backtesting.engine:__init__:101 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-31 10:28:21.452 | INFO     | src.backtesting.engine:__init__:108 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-31 10:28:21.452 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:21.460 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102821.log
2025-10-31 10:28:21.461 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:21.462 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2023-01-01 to 2023-12-31
2025-10-31 10:28:21.463 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2023-01-01 00:00:00 to 2023-12-31 00:00:00 (365 periods)
2025-10-31 10:28:21.464 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2023-03-02 00:00:00 (after 60 periods of warm-up data)
2025-10-31 10:28:21.465 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:21.465 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:21.466 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:21.467 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2023-03-02
2025-10-31 10:28:21.468 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-02
2025-10-31 10:28:21.468 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:21.469 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:21.469 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:21.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.472 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.473 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.474 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.475 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.04499753275362561
2025-10-31 10:28:21.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.11410227867333256
2025-10-31 10:28:21.476 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.06402916556234939
2025-10-31 10:28:21.477 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03043683262574659
2025-10-31 10:28:21.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-02 00:00:00:
2025-10-31 10:28:21.478 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0450 (-4.50%) - FAIL
2025-10-31 10:28:21.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1141 (11.41%) - PASS
2025-10-31 10:28:21.479 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0640 (-6.40%) - FAIL
2025-10-31 10:28:21.480 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0304 (-3.04%) - FAIL
2025-10-31 10:28:21.481 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['QQQ']
2025-10-31 10:28:21.481 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:21.482 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.482 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-02: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:21.483 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=33.33%
2025-10-31 10:28:21.484 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['QQQ']
2025-10-31 10:28:21.484 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:21.485 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $200.02 ? $200.12 (slippage: 0.050%)
2025-10-31 10:28:21.485 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:21.486 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 166.57
2025-10-31 10:28:21.487 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.33
2025-10-31 10:28:21.487 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,366.67
2025-10-31 10:28:21.488 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 166.57 @ $200.12
2025-10-31 10:28:21.488 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.489 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,633.33
2025-10-31 10:28:21.490 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$33,366.67, Cash end=$66,633.33
2025-10-31 10:28:21.490 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.491 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 166.57 shares @ $200.12 (Value: $33,333.33)
2025-10-31 10:28:21.491 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.492 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,966.67
2025-10-31 10:28:21.492 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,633.33
2025-10-31 10:28:21.493 | INFO     | src.backtesting.engine:run:336 -      Change: $-33.33
2025-10-31 10:28:21.494 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.495 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:21.495 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $101,791.68
2025-10-31 10:28:21.496 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,633.33
2025-10-31 10:28:21.497 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.497 | INFO     | src.backtesting.engine:run:293 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35, P&L: $1,825.01)
2025-10-31 10:28:21.499 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.500 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.501 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.502 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.503 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.015725998040660993
2025-10-31 10:28:21.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.05316804719891466
2025-10-31 10:28:21.504 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.05842940431667065
2025-10-31 10:28:21.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.031081946897098534
2025-10-31 10:28:21.505 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:21.506 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0157 (1.57%) - PASS
2025-10-31 10:28:21.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0532 (5.32%) - PASS
2025-10-31 10:28:21.507 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0584 (5.84%) - PASS
2025-10-31 10:28:21.508 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0311 (-3.11%) - FAIL
2025-10-31 10:28:21.508 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:21.509 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.510 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.510 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.91)
2025-10-31 10:28:21.511 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.27)
2025-10-31 10:28:21.511 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.512 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35)
2025-10-31 10:28:21.512 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$101,791.68, Cash=$66,633.33, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:21.513 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=45.89%, QQQ=41.76%, SPY=12.35%
2025-10-31 10:28:21.514 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.514 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:21.515 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:21.516 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $159.65 ? $159.73 (slippage: 0.050%)
2025-10-31 10:28:21.516 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:21.517 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 292.46
2025-10-31 10:28:21.517 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $46.71
2025-10-31 10:28:21.518 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $46,759.45
2025-10-31 10:28:21.519 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 292.46 @ $159.73
2025-10-31 10:28:21.519 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.520 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $19,873.88
2025-10-31 10:28:21.520 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 166.57 shares worth $35,158.35
2025-10-31 10:28:21.521 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:21.522 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $211.07 ? $211.18 (slippage: 0.050%)
2025-10-31 10:28:21.522 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.91 confidence=0.73
2025-10-31 10:28:21.523 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 201.28
2025-10-31 10:28:21.523 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 166.57
2025-10-31 10:28:21.524 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +34.71
2025-10-31 10:28:21.524 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.33
2025-10-31 10:28:21.525 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,337.83
2025-10-31 10:28:21.526 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 34.71 more shares at $211.18 (cost: $7,337.83)
2025-10-31 10:28:21.526 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.527 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,536.05
2025-10-31 10:28:21.528 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:21.528 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.65 ? $147.73 (slippage: 0.050%)
2025-10-31 10:28:21.529 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.27 confidence=0.73
2025-10-31 10:28:21.529 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 85.11
2025-10-31 10:28:21.530 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.57
2025-10-31 10:28:21.531 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $12,585.09
2025-10-31 10:28:21.531 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 84.77 @ $147.73
2025-10-31 10:28:21.532 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.532 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.533 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,633.33, Cash end=$-0.00
2025-10-31 10:28:21.534 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.534 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 84.77 shares @ $147.73 (Value: $12,523.53)
2025-10-31 10:28:21.535 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 292.46 shares @ $159.73 (Value: $46,712.74)
2025-10-31 10:28:21.535 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.536 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $101,721.45
2025-10-31 10:28:21.536 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.537 | INFO     | src.backtesting.engine:run:336 -      Change: $-70.23
2025-10-31 10:28:21.538 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.540 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:21.540 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,945.18
2025-10-31 10:28:21.541 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.541 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.542 | INFO     | src.backtesting.engine:run:293 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51, P&L: $3,630.66)
2025-10-31 10:28:21.543 | INFO     | src.backtesting.engine:run:293 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24, P&L: $-431.50)
2025-10-31 10:28:21.543 | INFO     | src.backtesting.engine:run:293 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43, P&L: $229.90)
2025-10-31 10:28:21.545 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.546 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.547 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.548 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.549 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.045393745602212654
2025-10-31 10:28:21.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.09068098737114672
2025-10-31 10:28:21.550 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.06923287243941179
2025-10-31 10:28:21.551 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.01663965694722691
2025-10-31 10:28:21.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:21.552 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0454 (4.54%) - PASS
2025-10-31 10:28:21.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0907 (9.07%) - PASS
2025-10-31 10:28:21.553 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0692 (6.92%) - PASS
2025-10-31 10:28:21.554 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0166 (1.66%) - PASS
2025-10-31 10:28:21.554 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'SPY']
2025-10-31 10:28:21.555 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.556 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.556 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.76)
2025-10-31 10:28:21.557 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.50)
2025-10-31 10:28:21.557 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.558 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51)
2025-10-31 10:28:21.559 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24)
2025-10-31 10:28:21.559 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43)
2025-10-31 10:28:21.560 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$102,945.18, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:21.560 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=44.17%, DIA=33.72%, SPY=22.11%
2025-10-31 10:28:21.561 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-31 10:28:21.562 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['QQQ', 'SPY']
2025-10-31 10:28:21.562 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 292.46 shares worth $46,281.24
2025-10-31 10:28:21.563 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.563 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $158.25 ? $158.33 (slippage: 0.050%)
2025-10-31 10:28:21.564 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.76 confidence=0.77
2025-10-31 10:28:21.565 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 219.26
2025-10-31 10:28:21.565 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 292.46
2025-10-31 10:28:21.566 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -73.20
2025-10-31 10:28:21.566 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.59
2025-10-31 10:28:21.567 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-11,578.10
2025-10-31 10:28:21.568 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 73.20 shares at $158.17 (proceeds: $11,566.53)
2025-10-31 10:28:21.568 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.569 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $11,566.53
2025-10-31 10:28:21.570 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 201.28 shares worth $43,910.51
2025-10-31 10:28:21.570 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:21.571 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $218.15 ? $218.26 (slippage: 0.050%)
2025-10-31 10:28:21.571 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:21.572 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 208.32
2025-10-31 10:28:21.573 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 201.28
2025-10-31 10:28:21.573 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +7.04
2025-10-31 10:28:21.574 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.54
2025-10-31 10:28:21.574 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $1,538.26
2025-10-31 10:28:21.575 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 7.04 more shares at $218.26 (cost: $1,538.26)
2025-10-31 10:28:21.575 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.576 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,028.26
2025-10-31 10:28:21.577 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 84.77 shares worth $12,753.43
2025-10-31 10:28:21.577 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.578 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.44 ? $150.51 (slippage: 0.050%)
2025-10-31 10:28:21.579 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.50 confidence=0.77
2025-10-31 10:28:21.579 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 151.22
2025-10-31 10:28:21.580 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 84.77
2025-10-31 10:28:21.580 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +66.45
2025-10-31 10:28:21.581 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.00
2025-10-31 10:28:21.582 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,011.49
2025-10-31 10:28:21.582 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 66.45 more shares at $150.51 (cost: $10,011.49)
2025-10-31 10:28:21.583 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.583 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $16.77
2025-10-31 10:28:21.584 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$23,127.85, Cash end=$16.77
2025-10-31 10:28:21.585 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:21.585 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.586 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,910.50
2025-10-31 10:28:21.586 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $16.77
2025-10-31 10:28:21.587 | INFO     | src.backtesting.engine:run:336 -      Change: $-34.67
2025-10-31 10:28:21.587 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.590 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:21.590 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,774.69
2025-10-31 10:28:21.591 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $16.77
2025-10-31 10:28:21.591 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.592 | INFO     | src.backtesting.engine:run:293 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62, P&L: $4,612.82)
2025-10-31 10:28:21.593 | INFO     | src.backtesting.engine:run:293 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:21.593 | INFO     | src.backtesting.engine:run:293 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65, P&L: $279.84)
2025-10-31 10:28:21.595 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.596 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.597 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.598 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.599 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.004610003578679356
2025-10-31 10:28:21.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06348391297189138
2025-10-31 10:28:21.600 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.03305545502013918
2025-10-31 10:28:21.601 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.009852101656577128
2025-10-31 10:28:21.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:21.602 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0046 (0.46%) - PASS
2025-10-31 10:28:21.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0635 (6.35%) - PASS
2025-10-31 10:28:21.603 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0331 (-3.31%) - FAIL
2025-10-31 10:28:21.604 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0099 (0.99%) - PASS
2025-10-31 10:28:21.605 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'IWM', 'SPY']
2025-10-31 10:28:21.605 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.606 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.606 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.16)
2025-10-31 10:28:21.607 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.07)
2025-10-31 10:28:21.608 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.608 | INFO     | src.backtesting.engine:_execute_signals:787 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:21.609 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 219.26 @ $154.25 (P&L: $-1,201.11)
2025-10-31 10:28:21.609 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $33,802.68
2025-10-31 10:28:21.610 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.611 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62)
2025-10-31 10:28:21.611 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65)
2025-10-31 10:28:21.612 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$102,774.69, Cash=$33,802.68, Comm=0.1000%, Slip=0.0500%, Scale=0.670090
2025-10-31 10:28:21.612 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=81.45%, IWM=12.64%, SPY=5.91%
2025-10-31 10:28:21.613 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.614 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['QQQ', 'IWM']
2025-10-31 10:28:21.614 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 151.22 shares worth $22,619.65
2025-10-31 10:28:21.615 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:21.615 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.58 ? $149.65 (slippage: 0.050%)
2025-10-31 10:28:21.616 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.07 confidence=0.95
2025-10-31 10:28:21.617 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 40.62
2025-10-31 10:28:21.617 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 151.22
2025-10-31 10:28:21.618 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -110.61
2025-10-31 10:28:21.618 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $16.55
2025-10-31 10:28:21.619 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-16,535.95
2025-10-31 10:28:21.619 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 110.61 shares at $149.50 (proceeds: $16,519.42)
2025-10-31 10:28:21.620 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.621 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,322.10
2025-10-31 10:28:21.621 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 208.32 shares worth $46,301.62
2025-10-31 10:28:21.622 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:21.623 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $222.26 ? $222.37 (slippage: 0.050%)
2025-10-31 10:28:21.623 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:21.624 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 376.43
2025-10-31 10:28:21.624 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 208.32
2025-10-31 10:28:21.625 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +168.10
2025-10-31 10:28:21.625 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $37.38
2025-10-31 10:28:21.626 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $37,418.48
2025-10-31 10:28:21.627 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 168.10 more shares at $222.37 (cost: $37,418.48)
2025-10-31 10:28:21.627 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.628 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,903.62
2025-10-31 10:28:21.628 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:21.629 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $139.90 ? $139.97 (slippage: 0.050%)
2025-10-31 10:28:21.630 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.16 confidence=0.95
2025-10-31 10:28:21.630 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 92.81
2025-10-31 10:28:21.631 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.99
2025-10-31 10:28:21.631 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $13,003.35
2025-10-31 10:28:21.632 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 92.10 @ $139.97
2025-10-31 10:28:21.633 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.633 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.634 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,858.05, Cash end=$-0.00
2025-10-31 10:28:21.634 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.635 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:21.636 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.636 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 92.10 shares @ $139.97 (Value: $12,890.73)
2025-10-31 10:28:21.637 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.637 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,630.20
2025-10-31 10:28:21.638 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.638 | INFO     | src.backtesting.engine:run:336 -      Change: $-144.50
2025-10-31 10:28:21.639 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.641 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:21.642 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,657.36
2025-10-31 10:28:21.642 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.643 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.644 | INFO     | src.backtesting.engine:run:293 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:21.644 | INFO     | src.backtesting.engine:run:293 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12, P&L: $569.86)
2025-10-31 10:28:21.645 | INFO     | src.backtesting.engine:run:293 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:21.647 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.648 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.649 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.650 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08243568296077863
2025-10-31 10:28:21.651 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: -0.011855044558411465
2025-10-31 10:28:21.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.04793936688623612
2025-10-31 10:28:21.652 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.014465489862648284
2025-10-31 10:28:21.653 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:21.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0824 (8.24%) - PASS
2025-10-31 10:28:21.654 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: -0.0119 (-1.19%) - FAIL
2025-10-31 10:28:21.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0479 (-4.79%) - FAIL
2025-10-31 10:28:21.655 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0145 (-1.45%) - FAIL
2025-10-31 10:28:21.656 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:21.657 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:21.657 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.658 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.658 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:21.659 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 376.43 @ $216.54 (P&L: $6,183.15)
2025-10-31 10:28:21.660 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:21.660 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 92.10 @ $136.03 (P&L: $-362.67)
2025-10-31 10:28:21.661 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,946.16
2025-10-31 10:28:21.661 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.662 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12)
2025-10-31 10:28:21.663 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$100,657.36, Cash=$93,946.16, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:21.663 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=33.33%
2025-10-31 10:28:21.664 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.664 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:21.665 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 40.62 shares worth $6,570.12
2025-10-31 10:28:21.666 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.666 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.76 ? $161.84 (slippage: 0.050%)
2025-10-31 10:28:21.667 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:21.667 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 207.32
2025-10-31 10:28:21.668 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 40.62
2025-10-31 10:28:21.669 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +166.70
2025-10-31 10:28:21.669 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.98
2025-10-31 10:28:21.670 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $27,006.02
2025-10-31 10:28:21.670 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 166.70 more shares at $161.84 (cost: $27,006.02)
2025-10-31 10:28:21.671 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.671 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,940.13
2025-10-31 10:28:21.672 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$27,006.02, Cash end=$66,940.13
2025-10-31 10:28:21.673 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.673 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:21.674 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:21.674 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.675 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,475.82
2025-10-31 10:28:21.676 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,940.13
2025-10-31 10:28:21.676 | INFO     | src.backtesting.engine:run:336 -      Change: $-181.55
2025-10-31 10:28:21.677 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.678 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:21.679 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,459.85
2025-10-31 10:28:21.679 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,940.13
2025-10-31 10:28:21.680 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.680 | INFO     | src.backtesting.engine:run:293 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71, P&L: $4,892.77)
2025-10-31 10:28:21.683 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.683 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.684 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.685 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.686 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1509633395417309
2025-10-31 10:28:21.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025289187687097314
2025-10-31 10:28:21.687 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.062017589828790465
2025-10-31 10:28:21.688 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03926623386501071
2025-10-31 10:28:21.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:21.689 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1510 (15.10%) - PASS
2025-10-31 10:28:21.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0253 (2.53%) - PASS
2025-10-31 10:28:21.690 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0620 (6.20%) - PASS
2025-10-31 10:28:21.691 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0393 (-3.93%) - FAIL
2025-10-31 10:28:21.692 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:21.692 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.693 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.693 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.41)
2025-10-31 10:28:21.694 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.17)
2025-10-31 10:28:21.695 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.695 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71)
2025-10-31 10:28:21.696 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$102,459.85, Cash=$66,940.13, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:21.696 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=63.36%, DIA=26.03%, QQQ=10.61%
2025-10-31 10:28:21.697 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:21.698 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:21.698 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 207.32 shares worth $35,519.71
2025-10-31 10:28:21.699 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.699 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.33 ? $171.41 (slippage: 0.050%)
2025-10-31 10:28:21.700 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:21.701 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 378.71
2025-10-31 10:28:21.701 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 207.32
2025-10-31 10:28:21.702 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +171.39
2025-10-31 10:28:21.702 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.38
2025-10-31 10:28:21.703 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,408.48
2025-10-31 10:28:21.704 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 171.39 more shares at $171.41 (cost: $29,408.48)
2025-10-31 10:28:21.704 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.705 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $37,531.65
2025-10-31 10:28:21.705 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:21.706 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.45 ? $161.53 (slippage: 0.050%)
2025-10-31 10:28:21.707 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.41 confidence=0.88
2025-10-31 10:28:21.707 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 165.10
2025-10-31 10:28:21.708 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.67
2025-10-31 10:28:21.708 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $26,695.19
2025-10-31 10:28:21.709 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 165.10 @ $161.53
2025-10-31 10:28:21.710 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.710 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,836.46
2025-10-31 10:28:21.711 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:21.711 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $226.13 ? $226.24 (slippage: 0.050%)
2025-10-31 10:28:21.712 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.17 confidence=0.88
2025-10-31 10:28:21.713 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 48.07
2025-10-31 10:28:21.713 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.87
2025-10-31 10:28:21.714 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,885.62
2025-10-31 10:28:21.714 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 47.85 @ $226.24
2025-10-31 10:28:21.715 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.716 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.716 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,940.13, Cash end=$-0.00
2025-10-31 10:28:21.717 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.717 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 47.85 shares @ $226.24 (Value: $10,825.63)
2025-10-31 10:28:21.718 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 165.10 shares @ $161.53 (Value: $26,668.53)
2025-10-31 10:28:21.718 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.719 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,378.29
2025-10-31 10:28:21.720 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.720 | INFO     | src.backtesting.engine:run:336 -      Change: $-81.56
2025-10-31 10:28:21.721 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.723 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:21.723 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,776.38
2025-10-31 10:28:21.724 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.725 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.725 | INFO     | src.backtesting.engine:run:293 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75, P&L: $9,757.28)
2025-10-31 10:28:21.726 | INFO     | src.backtesting.engine:run:293 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63, P&L: $328.11)
2025-10-31 10:28:21.726 | INFO     | src.backtesting.engine:run:293 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:21.729 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.730 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.731 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.732 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07630945219379859
2025-10-31 10:28:21.733 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06449609968159464
2025-10-31 10:28:21.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.09037486049938193
2025-10-31 10:28:21.734 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.07872675247019179
2025-10-31 10:28:21.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:21.735 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0763 (7.63%) - PASS
2025-10-31 10:28:21.736 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0645 (6.45%) - PASS
2025-10-31 10:28:21.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0904 (9.04%) - PASS
2025-10-31 10:28:21.737 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0787 (7.87%) - PASS
2025-10-31 10:28:21.738 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'IWM', 'SPY']
2025-10-31 10:28:21.738 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.739 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.740 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.87)
2025-10-31 10:28:21.740 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.84)
2025-10-31 10:28:21.741 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.741 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:21.742 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 47.85 @ $231.36 (P&L: $244.83)
2025-10-31 10:28:21.743 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $11,059.39
2025-10-31 10:28:21.743 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.744 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75)
2025-10-31 10:28:21.744 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63)
2025-10-31 10:28:21.745 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$103,776.38, Cash=$11,059.39, Comm=0.1000%, Slip=0.0500%, Scale=0.248216
2025-10-31 10:28:21.746 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=36.83%, IWM=32.08%, SPY=31.09%
2025-10-31 10:28:21.746 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.747 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['DIA', 'IWM']
2025-10-31 10:28:21.747 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 378.71 shares worth $65,703.75
2025-10-31 10:28:21.748 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:21.749 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $173.49 ? $173.58 (slippage: 0.050%)
2025-10-31 10:28:21.749 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.84 confidence=0.74
2025-10-31 10:28:21.750 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 185.90
2025-10-31 10:28:21.750 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 378.71
2025-10-31 10:28:21.751 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -192.81
2025-10-31 10:28:21.751 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.47
2025-10-31 10:28:21.752 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-33,434.34
2025-10-31 10:28:21.753 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 192.81 shares at $173.41 (proceeds: $33,400.93)
2025-10-31 10:28:21.753 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.754 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44,460.31
2025-10-31 10:28:21.754 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 165.10 shares worth $26,996.63
2025-10-31 10:28:21.755 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:21.756 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $163.51 ? $163.60 (slippage: 0.050%)
2025-10-31 10:28:21.756 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:21.757 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 233.60
2025-10-31 10:28:21.757 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 165.10
2025-10-31 10:28:21.758 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +68.50
2025-10-31 10:28:21.759 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.21
2025-10-31 10:28:21.759 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $11,217.67
2025-10-31 10:28:21.760 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 68.50 more shares at $163.60 (cost: $11,217.67)
2025-10-31 10:28:21.760 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.761 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $33,242.64
2025-10-31 10:28:21.762 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:21.762 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.47 ? $147.54 (slippage: 0.050%)
2025-10-31 10:28:21.763 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.87 confidence=0.74
2025-10-31 10:28:21.763 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 225.64
2025-10-31 10:28:21.764 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.29
2025-10-31 10:28:21.765 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,324.28
2025-10-31 10:28:21.765 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 225.09 @ $147.54
2025-10-31 10:28:21.766 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.766 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:21.767 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$77,894.66, Cash end=$0.00
2025-10-31 10:28:21.768 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.768 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:21.769 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.769 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 225.09 shares @ $147.54 (Value: $33,209.43)
2025-10-31 10:28:21.770 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.771 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,659.60
2025-10-31 10:28:21.771 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:21.772 | INFO     | src.backtesting.engine:run:336 -      Change: $-116.78
2025-10-31 10:28:21.772 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.774 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:21.775 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,935.60
2025-10-31 10:28:21.776 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:21.776 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.777 | INFO     | src.backtesting.engine:run:293 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:21.777 | INFO     | src.backtesting.engine:run:293 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76, P&L: $2,221.50)
2025-10-31 10:28:21.778 | INFO     | src.backtesting.engine:run:293 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47, P&L: $-1,137.96)
2025-10-31 10:28:21.780 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.781 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.782 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.782 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.783 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0039514597871386226
2025-10-31 10:28:21.784 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.10084006286237446
2025-10-31 10:28:21.785 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.051236546823340445
2025-10-31 10:28:21.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.04667704995213828
2025-10-31 10:28:21.786 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:21.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0040 (-0.40%) - FAIL
2025-10-31 10:28:21.787 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1008 (10.08%) - PASS
2025-10-31 10:28:21.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0512 (5.12%) - PASS
2025-10-31 10:28:21.788 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0467 (4.67%) - PASS
2025-10-31 10:28:21.789 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'IWM']
2025-10-31 10:28:21.790 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.790 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:21.791 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.51)
2025-10-31 10:28:21.791 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.46)
2025-10-31 10:28:21.792 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.793 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:21.793 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 185.90 @ $171.56 (P&L: $4,430.40)
2025-10-31 10:28:21.794 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $31,861.52
2025-10-31 10:28:21.794 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.795 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76)
2025-10-31 10:28:21.796 | INFO     | src.backtesting.engine:_execute_signals:796 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47)
2025-10-31 10:28:21.796 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$103,935.60, Cash=$31,861.52, Comm=0.1000%, Slip=0.0500%, Scale=0.603601
2025-10-31 10:28:21.797 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=50.74%, DIA=25.78%, IWM=23.48%
2025-10-31 10:28:21.797 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.798 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA', 'IWM'], then buys: ['QQQ']
2025-10-31 10:28:21.799 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 233.60 shares worth $39,954.76
2025-10-31 10:28:21.799 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.800 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.04 ? $171.12 (slippage: 0.050%)
2025-10-31 10:28:21.800 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.51 confidence=0.85
2025-10-31 10:28:21.801 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 156.57
2025-10-31 10:28:21.802 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 233.60
2025-10-31 10:28:21.802 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -77.03
2025-10-31 10:28:21.803 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $13.18
2025-10-31 10:28:21.803 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-13,168.08
2025-10-31 10:28:21.804 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 77.03 shares at $170.95 (proceeds: $13,154.92)
2025-10-31 10:28:21.804 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.805 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45,016.44
2025-10-31 10:28:21.806 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 225.09 shares worth $32,071.47
2025-10-31 10:28:21.806 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE IWM [relative_top]
2025-10-31 10:28:21.807 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.48 ? $142.56 (slippage: 0.050%)
2025-10-31 10:28:21.807 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.85
2025-10-31 10:28:21.808 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 171.23
2025-10-31 10:28:21.809 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 225.09
2025-10-31 10:28:21.809 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -53.86
2025-10-31 10:28:21.810 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.68
2025-10-31 10:28:21.810 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-7,670.69
2025-10-31 10:28:21.811 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting IWM: selling 53.86 shares at $142.41 (proceeds: $7,663.02)
2025-10-31 10:28:21.812 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.812 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,679.46
2025-10-31 10:28:21.813 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:21.813 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $248.11 ? $248.24 (slippage: 0.050%)
2025-10-31 10:28:21.814 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.85
2025-10-31 10:28:21.815 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 212.43
2025-10-31 10:28:21.815 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $52.73
2025-10-31 10:28:21.816 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $52,785.71
2025-10-31 10:28:21.816 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 212.00 @ $248.24
2025-10-31 10:28:21.817 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.818 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.818 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$73,518.22, Cash end=$-0.00
2025-10-31 10:28:21.819 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.819 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:21.820 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.820 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 212.00 shares @ $248.24 (Value: $52,626.83)
2025-10-31 10:28:21.821 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.822 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,803.86
2025-10-31 10:28:21.822 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.823 | INFO     | src.backtesting.engine:run:336 -      Change: $-131.74
2025-10-31 10:28:21.823 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.825 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:21.826 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,349.31
2025-10-31 10:28:21.827 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.827 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.828 | INFO     | src.backtesting.engine:run:293 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36, P&L: $1,574.25)
2025-10-31 10:28:21.828 | INFO     | src.backtesting.engine:run:293 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:21.829 | INFO     | src.backtesting.engine:run:293 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05, P&L: $-1,361.77)
2025-10-31 10:28:21.831 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.832 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.833 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.834 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.835 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03331412880741369
2025-10-31 10:28:21.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025524862883118393
2025-10-31 10:28:21.836 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.055422735445618265
2025-10-31 10:28:21.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.041833731525131146
2025-10-31 10:28:21.837 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:21.838 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0333 (3.33%) - PASS
2025-10-31 10:28:21.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0255 (2.55%) - PASS
2025-10-31 10:28:21.839 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0554 (5.54%) - PASS
2025-10-31 10:28:21.840 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0418 (-4.18%) - FAIL
2025-10-31 10:28:21.840 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'SPY', 'QQQ']
2025-10-31 10:28:21.841 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.841 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:21.842 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.60)
2025-10-31 10:28:21.843 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.46)
2025-10-31 10:28:21.843 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.844 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:21.844 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 171.23 @ $141.37 (P&L: $-1,055.81)
2025-10-31 10:28:21.845 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $24,182.58
2025-10-31 10:28:21.846 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.846 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36)
2025-10-31 10:28:21.847 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05)
2025-10-31 10:28:21.847 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$102,349.31, Cash=$24,182.58, Comm=0.1000%, Slip=0.0500%, Scale=0.459109
2025-10-31 10:28:21.848 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=48.51%, SPY=29.16%, QQQ=22.34%
2025-10-31 10:28:21.848 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.849 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['QQQ'], then buys: ['DIA', 'SPY']
2025-10-31 10:28:21.850 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 212.00 shares worth $51,265.05
2025-10-31 10:28:21.850 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE QQQ [relative_top]
2025-10-31 10:28:21.851 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $241.81 ? $241.93 (slippage: 0.050%)
2025-10-31 10:28:21.852 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.82
2025-10-31 10:28:21.852 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 94.50
2025-10-31 10:28:21.853 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 212.00
2025-10-31 10:28:21.853 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -117.50
2025-10-31 10:28:21.854 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $28.43
2025-10-31 10:28:21.854 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-28,398.51
2025-10-31 10:28:21.855 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting QQQ: selling 117.50 shares at $241.69 (proceeds: $28,370.12)
2025-10-31 10:28:21.856 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.856 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,552.70
2025-10-31 10:28:21.857 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 156.57 shares worth $26,865.36
2025-10-31 10:28:21.858 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:21.858 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.58 ? $171.67 (slippage: 0.050%)
2025-10-31 10:28:21.859 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:21.859 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 289.19
2025-10-31 10:28:21.860 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 156.57
2025-10-31 10:28:21.860 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +132.62
2025-10-31 10:28:21.861 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $22.77
2025-10-31 10:28:21.862 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $22,788.58
2025-10-31 10:28:21.862 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 132.62 more shares at $171.67 (cost: $22,788.58)
2025-10-31 10:28:21.863 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.863 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $29,764.12
2025-10-31 10:28:21.864 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:21.865 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $177.66 ? $177.75 (slippage: 0.050%)
2025-10-31 10:28:21.865 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.60 confidence=0.82
2025-10-31 10:28:21.866 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 167.88
2025-10-31 10:28:21.866 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.84
2025-10-31 10:28:21.867 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,870.79
2025-10-31 10:28:21.868 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 167.28 @ $177.75
2025-10-31 10:28:21.868 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.869 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.869 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$80,951.21, Cash end=$-0.00
2025-10-31 10:28:21.870 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.871 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:21.871 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.872 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 167.28 shares @ $177.75 (Value: $29,734.38)
2025-10-31 10:28:21.872 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.873 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,206.51
2025-10-31 10:28:21.873 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.874 | INFO     | src.backtesting.engine:run:336 -      Change: $-142.80
2025-10-31 10:28:21.875 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.877 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:21.877 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $110,342.65
2025-10-31 10:28:21.878 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:21.878 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:21.879 | INFO     | src.backtesting.engine:run:293 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92, P&L: $7,870.74)
2025-10-31 10:28:21.880 | INFO     | src.backtesting.engine:run:293 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:21.880 | INFO     | src.backtesting.engine:run:293 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30, P&L: $2,517.92)
2025-10-31 10:28:21.882 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:21.883 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.884 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.885 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:21.886 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13145818824275746
2025-10-31 10:28:21.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.0028299795316499843
2025-10-31 10:28:21.887 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.10642118748796281
2025-10-31 10:28:21.888 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.018232201653917368
2025-10-31 10:28:21.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:21.889 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1315 (13.15%) - PASS
2025-10-31 10:28:21.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0028 (0.28%) - PASS
2025-10-31 10:28:21.890 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.1064 (10.64%) - PASS
2025-10-31 10:28:21.891 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0182 (1.82%) - PASS
2025-10-31 10:28:21.891 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'IWM']
2025-10-31 10:28:21.892 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:21.893 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:21.893 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.81)
2025-10-31 10:28:21.894 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.14)
2025-10-31 10:28:21.894 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:21.895 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:21.896 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 94.50 @ $248.62 (P&L: $36.31)
2025-10-31 10:28:21.896 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $23,472.18
2025-10-31 10:28:21.897 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:21.897 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92)
2025-10-31 10:28:21.898 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30)
2025-10-31 10:28:21.899 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$110,342.65, Cash=$23,472.18, Comm=0.1000%, Slip=0.0500%, Scale=0.727317
2025-10-31 10:28:21.899 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=51.33%, DIA=41.55%, IWM=7.12%
2025-10-31 10:28:21.900 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:21.900 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['SPY', 'IWM']
2025-10-31 10:28:21.901 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 289.19 shares worth $54,582.92
2025-10-31 10:28:21.902 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:21.902 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $188.74 ? $188.84 (slippage: 0.050%)
2025-10-31 10:28:21.903 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.81 confidence=0.76
2025-10-31 10:28:21.903 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 242.80
2025-10-31 10:28:21.904 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 289.19
2025-10-31 10:28:21.905 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -46.39
2025-10-31 10:28:21.905 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.76
2025-10-31 10:28:21.906 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-8,751.14
2025-10-31 10:28:21.906 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 46.39 shares at $188.65 (proceeds: $8,742.39)
2025-10-31 10:28:21.907 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.907 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $32,214.57
2025-10-31 10:28:21.908 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 167.28 shares worth $32,252.30
2025-10-31 10:28:21.909 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:21.909 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $192.81 ? $192.90 (slippage: 0.050%)
2025-10-31 10:28:21.910 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:21.910 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 293.61
2025-10-31 10:28:21.911 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 167.28
2025-10-31 10:28:21.912 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +126.33
2025-10-31 10:28:21.912 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $24.37
2025-10-31 10:28:21.913 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $24,393.15
2025-10-31 10:28:21.913 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 126.33 more shares at $192.90 (cost: $24,393.15)
2025-10-31 10:28:21.914 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:21.915 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $7,821.42
2025-10-31 10:28:21.915 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:21.916 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.38 ? $144.45 (slippage: 0.050%)
2025-10-31 10:28:21.916 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.14 confidence=0.76
2025-10-31 10:28:21.917 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 54.38
2025-10-31 10:28:21.918 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.86
2025-10-31 10:28:21.918 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,862.98
2025-10-31 10:28:21.919 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 54.09 @ $144.45
2025-10-31 10:28:21.919 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:21.920 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:21.921 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$40,965.71, Cash end=$-0.00
2025-10-31 10:28:21.921 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:21.922 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:21.922 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:21.923 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 54.09 shares @ $144.45 (Value: $7,813.61)
2025-10-31 10:28:21.923 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:21.924 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $110,249.91
2025-10-31 10:28:21.925 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:21.925 | INFO     | src.backtesting.engine:run:336 -      Change: $-92.74
2025-10-31 10:28:21.926 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:21.928 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 242.80 @ $181.45 (P&L: $4,836.61)
2025-10-31 10:28:21.928 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 293.61 @ $192.13 (P&L: $4,221.30)
2025-10-31 10:28:21.929 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 54.09 @ $153.90 (P&L: $511.04)
2025-10-31 10:28:21.930 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2023-03-02 to 2023-12-31
2025-10-31 10:28:21.932 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:21.938 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 365 snapshots
2025-10-31 10:28:21.940 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (365, 15)
2025-10-31 10:28:21.941 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'QQQ_quantity', 'QQQ_price', 'QQQ_value', 'DIA_quantity', 'DIA_price', 'DIA_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'IWM_quantity', 'IWM_price', 'IWM_value']
2025-10-31 10:28:21.942 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 365 to 305 records (performance period)
2025-10-31 10:28:21.974 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:21.975 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:21.976 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:21.976 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 305
2025-10-31 10:28:21.977 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 365
2025-10-31 10:28:21.977 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (305, 22)
2025-10-31 10:28:21.978 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'QQQ_value', 'QQQ_quantity', 'QQQ_price', 'QQQ_pct', 'DIA_value', 'DIA_quantity', 'DIA_price', 'DIA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'IWM_value', 'IWM_quantity', 'IWM_price', 'IWM_pct']
2025-10-31 10:28:21.979 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:21.991 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value           cash  ...  IWM_price  IWM_pct
timestamp                                   ...                    
2023-03-02    100000.000000  100000.000000  ...        NaN      NaN
2023-03-03    100162.038573   66633.333333  ...        NaN      NaN
2023-03-04    100634.890545   66633.333333  ...        NaN      NaN

[3 rows x 22 columns]
2025-10-31 10:28:21.992 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:22.004 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...   IWM_price   IWM_pct
timestamp                                  ...                      
2023-12-29    108432.744206 -9.094947e-13  ...  154.352403  7.699974
2023-12-30    108513.989856 -9.094947e-13  ...  153.144139  7.633979
2023-12-31    108845.649027 -9.094947e-13  ...  153.973721  7.651945

[3 rows x 22 columns]
2025-10-31 10:28:22.005 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:22.006 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $108,845.65 (8.85% return)
2025-10-31 10:28:22.006 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102821.log
2025-10-31 10:28:22.011 | INFO     | src.strategies.dual_momentum:_validate_safe_asset_config:99 - No safe asset configured. Portfolio will hold cash during defensive periods.
2025-10-31 10:28:22.012 | INFO     | src.backtesting.engine:__init__:101 - Initialized BacktestEngine with $100,000.00 capital, 0.10% commission, 0.05% slippage
2025-10-31 10:28:22.012 | INFO     | src.backtesting.engine:__init__:108 - Benchmark uses passive buy-and-hold (no transaction costs)
2025-10-31 10:28:22.013 | INFO     | src.backtesting.engine:run:171 - Starting backtest for DualMomentumStrategy
2025-10-31 10:28:22.021 | INFO     | src.backtesting.engine:_setup_logging:142 - Backtest logging enabled: logs/backtest_DualMomentumStrategy_20251031_102822.log
2025-10-31 10:28:22.021 | INFO     | src.backtesting.engine:_setup_logging:143 - Strategy: DualMomentumStrategy
2025-10-31 10:28:22.022 | INFO     | src.backtesting.engine:_setup_logging:144 - Period: 2023-01-01 to 2023-12-31
2025-10-31 10:28:22.024 | INFO     | src.backtesting.engine:run:200 - Backtesting from 2023-01-01 00:00:00 to 2023-12-31 00:00:00 (365 periods)
2025-10-31 10:28:22.025 | INFO     | src.backtesting.engine:run:217 - First rebalancing expected on or after 2023-03-02 00:00:00 (after 60 periods of warm-up data)
2025-10-31 10:28:22.025 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #1: 0 positions, cash=$100,000.00
2025-10-31 10:28:22.026 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #2: 0 positions, cash=$100,000.00
2025-10-31 10:28:22.026 | DEBUG    | src.backtesting.engine:_record_position_snapshot:573 - Position snapshot #3: 0 positions, cash=$100,000.00
2025-10-31 10:28:22.027 | INFO     | src.backtesting.engine:run:280 - ?? Performance tracking starts from first rebalancing: 2023-03-02
2025-10-31 10:28:22.028 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-03-02
2025-10-31 10:28:22.029 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,000.00
2025-10-31 10:28:22.029 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $100,000.00
2025-10-31 10:28:22.030 | INFO     | src.backtesting.engine:run:296 -    Current Positions: None
2025-10-31 10:28:22.032 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.033 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.034 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.035 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.036 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.04499753275362561
2025-10-31 10:28:22.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.11410227867333256
2025-10-31 10:28:22.037 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.06402916556234939
2025-10-31 10:28:22.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03043683262574659
2025-10-31 10:28:22.038 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-03-02 00:00:00:
2025-10-31 10:28:22.039 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0450 (-4.50%) - FAIL
2025-10-31 10:28:22.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1141 (11.41%) - PASS
2025-10-31 10:28:22.040 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0640 (-6.40%) - FAIL
2025-10-31 10:28:22.041 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0304 (-3.04%) - FAIL
2025-10-31 10:28:22.041 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['QQQ']
2025-10-31 10:28:22.042 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:22.042 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:22.043 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-03-02: PV=$100,000.00, Cash=$100,000.00, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:22.044 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=33.33%
2025-10-31 10:28:22.044 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['QQQ']
2025-10-31 10:28:22.045 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:22.046 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $200.02 ? $200.12 (slippage: 0.050%)
2025-10-31 10:28:22.046 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:22.047 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 166.57
2025-10-31 10:28:22.047 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.33
2025-10-31 10:28:22.048 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,366.67
2025-10-31 10:28:22.049 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 166.57 @ $200.12
2025-10-31 10:28:22.049 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.050 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,633.33
2025-10-31 10:28:22.050 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$33,366.67, Cash end=$66,633.33
2025-10-31 10:28:22.051 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.052 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 166.57 shares @ $200.12 (Value: $33,333.33)
2025-10-31 10:28:22.052 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.053 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $99,966.67
2025-10-31 10:28:22.053 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,633.33
2025-10-31 10:28:22.054 | INFO     | src.backtesting.engine:run:336 -      Change: $-33.33
2025-10-31 10:28:22.055 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.056 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-04-01
2025-10-31 10:28:22.056 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $101,791.68
2025-10-31 10:28:22.057 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,633.33
2025-10-31 10:28:22.058 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.058 | INFO     | src.backtesting.engine:run:293 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35, P&L: $1,825.01)
2025-10-31 10:28:22.060 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.061 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.062 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.063 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.064 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.015725998040660993
2025-10-31 10:28:22.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.05316804719891466
2025-10-31 10:28:22.065 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.05842940431667065
2025-10-31 10:28:22.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.031081946897098534
2025-10-31 10:28:22.066 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-04-01 00:00:00:
2025-10-31 10:28:22.067 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0157 (1.57%) - PASS
2025-10-31 10:28:22.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0532 (5.32%) - PASS
2025-10-31 10:28:22.068 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0584 (5.84%) - PASS
2025-10-31 10:28:22.069 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0311 (-3.11%) - FAIL
2025-10-31 10:28:22.069 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:22.070 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.071 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:22.071 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.91)
2025-10-31 10:28:22.072 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.27)
2025-10-31 10:28:22.072 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.073 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 166.57 shares @ $211.07 (Value: $35,158.35)
2025-10-31 10:28:22.074 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-04-01: PV=$101,791.68, Cash=$66,633.33, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:22.074 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=45.89%, QQQ=41.76%, SPY=12.35%
2025-10-31 10:28:22.075 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:22.075 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['DIA', 'QQQ', 'SPY']
2025-10-31 10:28:22.076 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:22.077 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $159.65 ? $159.73 (slippage: 0.050%)
2025-10-31 10:28:22.077 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.73
2025-10-31 10:28:22.078 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 292.46
2025-10-31 10:28:22.079 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $46.71
2025-10-31 10:28:22.079 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $46,759.45
2025-10-31 10:28:22.080 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 292.46 @ $159.73
2025-10-31 10:28:22.080 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.081 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $19,873.88
2025-10-31 10:28:22.082 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 166.57 shares worth $35,158.35
2025-10-31 10:28:22.082 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:22.083 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $211.07 ? $211.18 (slippage: 0.050%)
2025-10-31 10:28:22.083 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.91 confidence=0.73
2025-10-31 10:28:22.084 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 201.28
2025-10-31 10:28:22.085 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 166.57
2025-10-31 10:28:22.085 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +34.71
2025-10-31 10:28:22.086 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.33
2025-10-31 10:28:22.086 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,337.83
2025-10-31 10:28:22.087 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 34.71 more shares at $211.18 (cost: $7,337.83)
2025-10-31 10:28:22.088 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.088 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,536.05
2025-10-31 10:28:22.089 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:22.090 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.65 ? $147.73 (slippage: 0.050%)
2025-10-31 10:28:22.090 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.27 confidence=0.73
2025-10-31 10:28:22.091 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 85.11
2025-10-31 10:28:22.091 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.57
2025-10-31 10:28:22.092 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $12,585.09
2025-10-31 10:28:22.093 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 84.77 @ $147.73
2025-10-31 10:28:22.093 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.094 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.094 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,633.33, Cash end=$-0.00
2025-10-31 10:28:22.095 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.096 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 84.77 shares @ $147.73 (Value: $12,523.53)
2025-10-31 10:28:22.096 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 292.46 shares @ $159.73 (Value: $46,712.74)
2025-10-31 10:28:22.097 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.097 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $101,721.45
2025-10-31 10:28:22.098 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.098 | INFO     | src.backtesting.engine:run:336 -      Change: $-70.23
2025-10-31 10:28:22.099 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.101 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-05-01
2025-10-31 10:28:22.102 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,945.18
2025-10-31 10:28:22.102 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:22.103 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.104 | INFO     | src.backtesting.engine:run:293 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51, P&L: $3,630.66)
2025-10-31 10:28:22.104 | INFO     | src.backtesting.engine:run:293 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24, P&L: $-431.50)
2025-10-31 10:28:22.105 | INFO     | src.backtesting.engine:run:293 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43, P&L: $229.90)
2025-10-31 10:28:22.107 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.108 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.109 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.110 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.045393745602212654
2025-10-31 10:28:22.111 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.09068098737114672
2025-10-31 10:28:22.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.06923287243941179
2025-10-31 10:28:22.112 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.01663965694722691
2025-10-31 10:28:22.113 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-05-01 00:00:00:
2025-10-31 10:28:22.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0454 (4.54%) - PASS
2025-10-31 10:28:22.114 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0907 (9.07%) - PASS
2025-10-31 10:28:22.115 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0692 (6.92%) - PASS
2025-10-31 10:28:22.115 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0166 (1.66%) - PASS
2025-10-31 10:28:22.116 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'SPY']
2025-10-31 10:28:22.117 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.117 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:22.118 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.76)
2025-10-31 10:28:22.118 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.50)
2025-10-31 10:28:22.119 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.120 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 201.28 shares @ $218.15 (Value: $43,910.51)
2025-10-31 10:28:22.120 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 292.46 shares @ $158.25 (Value: $46,281.24)
2025-10-31 10:28:22.121 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 84.77 shares @ $150.44 (Value: $12,753.43)
2025-10-31 10:28:22.121 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-05-01: PV=$102,945.18, Cash=$-0.00, Comm=0.1000%, Slip=0.0500%, Scale=-0.000000
2025-10-31 10:28:22.122 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=44.17%, DIA=33.72%, SPY=22.11%
2025-10-31 10:28:22.123 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 3 existing positions (may adjust sizes)
2025-10-31 10:28:22.123 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['QQQ', 'SPY']
2025-10-31 10:28:22.124 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 292.46 shares worth $46,281.24
2025-10-31 10:28:22.124 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:22.125 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $158.25 ? $158.33 (slippage: 0.050%)
2025-10-31 10:28:22.126 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.76 confidence=0.77
2025-10-31 10:28:22.126 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 219.26
2025-10-31 10:28:22.127 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 292.46
2025-10-31 10:28:22.127 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -73.20
2025-10-31 10:28:22.128 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.59
2025-10-31 10:28:22.129 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-11,578.10
2025-10-31 10:28:22.129 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 73.20 shares at $158.17 (proceeds: $11,566.53)
2025-10-31 10:28:22.130 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.130 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $11,566.53
2025-10-31 10:28:22.131 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 201.28 shares worth $43,910.51
2025-10-31 10:28:22.132 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:22.132 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $218.15 ? $218.26 (slippage: 0.050%)
2025-10-31 10:28:22.133 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.77
2025-10-31 10:28:22.133 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 208.32
2025-10-31 10:28:22.134 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 201.28
2025-10-31 10:28:22.135 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +7.04
2025-10-31 10:28:22.135 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $1.54
2025-10-31 10:28:22.136 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $1,538.26
2025-10-31 10:28:22.136 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 7.04 more shares at $218.26 (cost: $1,538.26)
2025-10-31 10:28:22.137 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.138 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,028.26
2025-10-31 10:28:22.138 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 84.77 shares worth $12,753.43
2025-10-31 10:28:22.139 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:22.139 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $150.44 ? $150.51 (slippage: 0.050%)
2025-10-31 10:28:22.140 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.50 confidence=0.77
2025-10-31 10:28:22.141 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 151.22
2025-10-31 10:28:22.141 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 84.77
2025-10-31 10:28:22.142 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +66.45
2025-10-31 10:28:22.142 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.00
2025-10-31 10:28:22.143 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,011.49
2025-10-31 10:28:22.144 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 66.45 more shares at $150.51 (cost: $10,011.49)
2025-10-31 10:28:22.144 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.145 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $16.77
2025-10-31 10:28:22.145 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$23,127.85, Cash end=$16.77
2025-10-31 10:28:22.146 | INFO     | src.backtesting.engine:_log_position_changes:1341 -    No position changes made
2025-10-31 10:28:22.147 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.147 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,910.50
2025-10-31 10:28:22.148 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $16.77
2025-10-31 10:28:22.148 | INFO     | src.backtesting.engine:run:336 -      Change: $-34.67
2025-10-31 10:28:22.149 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.151 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-06-01
2025-10-31 10:28:22.152 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,774.69
2025-10-31 10:28:22.152 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $16.77
2025-10-31 10:28:22.153 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.153 | INFO     | src.backtesting.engine:run:293 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62, P&L: $4,612.82)
2025-10-31 10:28:22.154 | INFO     | src.backtesting.engine:run:293 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:22.155 | INFO     | src.backtesting.engine:run:293 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65, P&L: $279.84)
2025-10-31 10:28:22.157 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.158 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.159 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.160 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.004610003578679356
2025-10-31 10:28:22.161 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06348391297189138
2025-10-31 10:28:22.162 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.03305545502013918
2025-10-31 10:28:22.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.009852101656577128
2025-10-31 10:28:22.163 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-06-01 00:00:00:
2025-10-31 10:28:22.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0046 (0.46%) - PASS
2025-10-31 10:28:22.164 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0635 (6.35%) - PASS
2025-10-31 10:28:22.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0331 (-3.31%) - FAIL
2025-10-31 10:28:22.165 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0099 (0.99%) - PASS
2025-10-31 10:28:22.166 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'IWM', 'SPY']
2025-10-31 10:28:22.167 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.167 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:22.168 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.16)
2025-10-31 10:28:22.168 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.07)
2025-10-31 10:28:22.169 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.170 | INFO     | src.backtesting.engine:_execute_signals:787 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:22.170 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 219.26 @ $154.25 (P&L: $-1,201.11)
2025-10-31 10:28:22.171 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $33,802.68
2025-10-31 10:28:22.171 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.172 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 208.32 shares @ $222.26 (Value: $46,301.62)
2025-10-31 10:28:22.173 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 151.22 shares @ $149.58 (Value: $22,619.65)
2025-10-31 10:28:22.173 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-06-01: PV=$102,774.69, Cash=$33,802.68, Comm=0.1000%, Slip=0.0500%, Scale=0.670090
2025-10-31 10:28:22.174 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=81.45%, IWM=12.64%, SPY=5.91%
2025-10-31 10:28:22.174 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:22.175 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['QQQ', 'IWM']
2025-10-31 10:28:22.176 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 151.22 shares worth $22,619.65
2025-10-31 10:28:22.176 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:22.177 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $149.58 ? $149.65 (slippage: 0.050%)
2025-10-31 10:28:22.178 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.07 confidence=0.95
2025-10-31 10:28:22.178 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 40.62
2025-10-31 10:28:22.179 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 151.22
2025-10-31 10:28:22.179 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -110.61
2025-10-31 10:28:22.180 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $16.55
2025-10-31 10:28:22.180 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-16,535.95
2025-10-31 10:28:22.181 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 110.61 shares at $149.50 (proceeds: $16,519.42)
2025-10-31 10:28:22.182 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.182 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $50,322.10
2025-10-31 10:28:22.183 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 208.32 shares worth $46,301.62
2025-10-31 10:28:22.184 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD QQQ [relative_top]
2025-10-31 10:28:22.184 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $222.26 ? $222.37 (slippage: 0.050%)
2025-10-31 10:28:22.185 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.95
2025-10-31 10:28:22.185 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 376.43
2025-10-31 10:28:22.186 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 208.32
2025-10-31 10:28:22.187 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +168.10
2025-10-31 10:28:22.187 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $37.38
2025-10-31 10:28:22.188 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $37,418.48
2025-10-31 10:28:22.188 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting QQQ: buying 168.10 more shares at $222.37 (cost: $37,418.48)
2025-10-31 10:28:22.189 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.190 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $12,903.62
2025-10-31 10:28:22.190 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:22.191 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $139.90 ? $139.97 (slippage: 0.050%)
2025-10-31 10:28:22.191 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.16 confidence=0.95
2025-10-31 10:28:22.192 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 92.81
2025-10-31 10:28:22.193 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $12.99
2025-10-31 10:28:22.193 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $13,003.35
2025-10-31 10:28:22.194 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 92.10 @ $139.97
2025-10-31 10:28:22.194 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.195 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.196 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,858.05, Cash end=$-0.00
2025-10-31 10:28:22.196 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.197 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      DIA: 219.26 shares @ $154.33 (Value: $33,836.65, P&L: $-1,184.19)
2025-10-31 10:28:22.197 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.198 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 92.10 shares @ $139.97 (Value: $12,890.73)
2025-10-31 10:28:22.199 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.199 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,630.20
2025-10-31 10:28:22.200 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.200 | INFO     | src.backtesting.engine:run:336 -      Change: $-144.50
2025-10-31 10:28:22.201 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.203 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-07-01
2025-10-31 10:28:22.204 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $100,657.36
2025-10-31 10:28:22.204 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:22.205 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.205 | INFO     | src.backtesting.engine:run:293 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:22.206 | INFO     | src.backtesting.engine:run:293 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12, P&L: $569.86)
2025-10-31 10:28:22.207 | INFO     | src.backtesting.engine:run:293 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:22.209 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.210 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.211 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.212 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.08243568296077863
2025-10-31 10:28:22.213 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: -0.011855044558411465
2025-10-31 10:28:22.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: -0.04793936688623612
2025-10-31 10:28:22.214 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.014465489862648284
2025-10-31 10:28:22.215 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-07-01 00:00:00:
2025-10-31 10:28:22.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0824 (8.24%) - PASS
2025-10-31 10:28:22.216 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: -0.0119 (-1.19%) - FAIL
2025-10-31 10:28:22.217 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: -0.0479 (-4.79%) - FAIL
2025-10-31 10:28:22.217 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0145 (-1.45%) - FAIL
2025-10-31 10:28:22.218 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 1 long signals for: ['SPY']
2025-10-31 10:28:22.219 | INFO     | src.backtesting.engine:run:309 -    Generated 1 signals:
2025-10-31 10:28:22.219 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:22.220 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.220 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:22.221 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 376.43 @ $216.54 (P&L: $6,183.15)
2025-10-31 10:28:22.222 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:22.222 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 92.10 @ $136.03 (P&L: $-362.67)
2025-10-31 10:28:22.223 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $93,946.16
2025-10-31 10:28:22.223 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.224 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 40.62 shares @ $161.76 (Value: $6,570.12)
2025-10-31 10:28:22.225 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-07-01: PV=$100,657.36, Cash=$93,946.16, Comm=0.1000%, Slip=0.0500%, Scale=1.000000
2025-10-31 10:28:22.225 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=33.33%
2025-10-31 10:28:22.226 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:22.226 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY']
2025-10-31 10:28:22.227 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 40.62 shares worth $6,570.12
2025-10-31 10:28:22.228 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:22.228 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.76 ? $161.84 (slippage: 0.050%)
2025-10-31 10:28:22.229 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=1.00
2025-10-31 10:28:22.230 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 207.32
2025-10-31 10:28:22.230 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 40.62
2025-10-31 10:28:22.231 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +166.70
2025-10-31 10:28:22.231 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.98
2025-10-31 10:28:22.232 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $27,006.02
2025-10-31 10:28:22.232 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 166.70 more shares at $161.84 (cost: $27,006.02)
2025-10-31 10:28:22.233 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.234 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $66,940.13
2025-10-31 10:28:22.234 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$27,006.02, Cash end=$66,940.13
2025-10-31 10:28:22.235 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.235 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 376.43 shares @ $216.65 (Value: $81,552.91, P&L: $6,223.93)
2025-10-31 10:28:22.236 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 92.10 shares @ $136.10 (Value: $12,534.33, P&L: $-356.40)
2025-10-31 10:28:22.237 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.237 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $100,475.82
2025-10-31 10:28:22.238 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $66,940.13
2025-10-31 10:28:22.238 | INFO     | src.backtesting.engine:run:336 -      Change: $-181.55
2025-10-31 10:28:22.239 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.240 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-08-01
2025-10-31 10:28:22.241 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,459.85
2025-10-31 10:28:22.241 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $66,940.13
2025-10-31 10:28:22.242 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.243 | INFO     | src.backtesting.engine:run:293 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71, P&L: $4,892.77)
2025-10-31 10:28:22.245 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.246 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.247 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.248 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.1509633395417309
2025-10-31 10:28:22.249 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025289187687097314
2025-10-31 10:28:22.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.062017589828790465
2025-10-31 10:28:22.250 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.03926623386501071
2025-10-31 10:28:22.251 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-08-01 00:00:00:
2025-10-31 10:28:22.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1510 (15.10%) - PASS
2025-10-31 10:28:22.252 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0253 (2.53%) - PASS
2025-10-31 10:28:22.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0620 (6.20%) - PASS
2025-10-31 10:28:22.253 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0393 (-3.93%) - FAIL
2025-10-31 10:28:22.254 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:22.255 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.255 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:22.256 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.41)
2025-10-31 10:28:22.256 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.17)
2025-10-31 10:28:22.257 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.258 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 207.32 shares @ $171.33 (Value: $35,519.71)
2025-10-31 10:28:22.258 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-08-01: PV=$102,459.85, Cash=$66,940.13, Comm=0.1000%, Slip=0.0500%, Scale=0.999001
2025-10-31 10:28:22.259 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=63.36%, DIA=26.03%, QQQ=10.61%
2025-10-31 10:28:22.259 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 1 existing positions (may adjust sizes)
2025-10-31 10:28:22.260 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: [], then buys: ['SPY', 'DIA', 'QQQ']
2025-10-31 10:28:22.261 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 207.32 shares worth $35,519.71
2025-10-31 10:28:22.261 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:22.262 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.33 ? $171.41 (slippage: 0.050%)
2025-10-31 10:28:22.263 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.88
2025-10-31 10:28:22.263 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 378.71
2025-10-31 10:28:22.264 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 207.32
2025-10-31 10:28:22.264 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +171.39
2025-10-31 10:28:22.265 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.38
2025-10-31 10:28:22.265 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,408.48
2025-10-31 10:28:22.266 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 171.39 more shares at $171.41 (cost: $29,408.48)
2025-10-31 10:28:22.267 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.267 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $37,531.65
2025-10-31 10:28:22.268 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY DIA [relative_top]
2025-10-31 10:28:22.269 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $161.45 ? $161.53 (slippage: 0.050%)
2025-10-31 10:28:22.269 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.41 confidence=0.88
2025-10-31 10:28:22.270 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 165.10
2025-10-31 10:28:22.270 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $26.67
2025-10-31 10:28:22.271 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $26,695.19
2025-10-31 10:28:22.272 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: DIA x 165.10 @ $161.53
2025-10-31 10:28:22.272 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.273 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $10,836.46
2025-10-31 10:28:22.274 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:22.274 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $226.13 ? $226.24 (slippage: 0.050%)
2025-10-31 10:28:22.275 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.17 confidence=0.88
2025-10-31 10:28:22.275 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 48.07
2025-10-31 10:28:22.276 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $10.87
2025-10-31 10:28:22.277 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $10,885.62
2025-10-31 10:28:22.277 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 47.85 @ $226.24
2025-10-31 10:28:22.278 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.278 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.279 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$66,940.13, Cash end=$-0.00
2025-10-31 10:28:22.280 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.280 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 47.85 shares @ $226.24 (Value: $10,825.63)
2025-10-31 10:28:22.281 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      DIA: 165.10 shares @ $161.53 (Value: $26,668.53)
2025-10-31 10:28:22.281 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.282 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,378.29
2025-10-31 10:28:22.283 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.283 | INFO     | src.backtesting.engine:run:336 -      Change: $-81.56
2025-10-31 10:28:22.284 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.287 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-09-01
2025-10-31 10:28:22.288 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,776.38
2025-10-31 10:28:22.289 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:22.290 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.290 | INFO     | src.backtesting.engine:run:293 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75, P&L: $9,757.28)
2025-10-31 10:28:22.291 | INFO     | src.backtesting.engine:run:293 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63, P&L: $328.11)
2025-10-31 10:28:22.291 | INFO     | src.backtesting.engine:run:293 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:22.294 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.295 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.296 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.297 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.07630945219379859
2025-10-31 10:28:22.298 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.06449609968159464
2025-10-31 10:28:22.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.09037486049938193
2025-10-31 10:28:22.299 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.07872675247019179
2025-10-31 10:28:22.300 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-09-01 00:00:00:
2025-10-31 10:28:22.301 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0763 (7.63%) - PASS
2025-10-31 10:28:22.301 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0645 (6.45%) - PASS
2025-10-31 10:28:22.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0904 (9.04%) - PASS
2025-10-31 10:28:22.302 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0787 (7.87%) - PASS
2025-10-31 10:28:22.303 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'IWM', 'SPY']
2025-10-31 10:28:22.304 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.304 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:22.305 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.87)
2025-10-31 10:28:22.305 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.84)
2025-10-31 10:28:22.306 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.306 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:22.307 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 47.85 @ $231.36 (P&L: $244.83)
2025-10-31 10:28:22.308 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $11,059.39
2025-10-31 10:28:22.308 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.309 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 378.71 shares @ $173.49 (Value: $65,703.75)
2025-10-31 10:28:22.310 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 165.10 shares @ $163.51 (Value: $26,996.63)
2025-10-31 10:28:22.310 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-09-01: PV=$103,776.38, Cash=$11,059.39, Comm=0.1000%, Slip=0.0500%, Scale=0.248216
2025-10-31 10:28:22.311 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=36.83%, IWM=32.08%, SPY=31.09%
2025-10-31 10:28:22.311 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:22.312 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['SPY'], then buys: ['DIA', 'IWM']
2025-10-31 10:28:22.313 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 378.71 shares worth $65,703.75
2025-10-31 10:28:22.313 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE SPY [relative_top]
2025-10-31 10:28:22.314 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $173.49 ? $173.58 (slippage: 0.050%)
2025-10-31 10:28:22.314 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.84 confidence=0.74
2025-10-31 10:28:22.315 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 185.90
2025-10-31 10:28:22.316 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 378.71
2025-10-31 10:28:22.316 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -192.81
2025-10-31 10:28:22.317 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.47
2025-10-31 10:28:22.317 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-33,434.34
2025-10-31 10:28:22.318 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting SPY: selling 192.81 shares at $173.41 (proceeds: $33,400.93)
2025-10-31 10:28:22.319 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.319 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $44,460.31
2025-10-31 10:28:22.320 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 165.10 shares worth $26,996.63
2025-10-31 10:28:22.320 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:22.321 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $163.51 ? $163.60 (slippage: 0.050%)
2025-10-31 10:28:22.322 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.74
2025-10-31 10:28:22.322 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 233.60
2025-10-31 10:28:22.323 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 165.10
2025-10-31 10:28:22.323 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +68.50
2025-10-31 10:28:22.324 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $11.21
2025-10-31 10:28:22.325 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $11,217.67
2025-10-31 10:28:22.325 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 68.50 more shares at $163.60 (cost: $11,217.67)
2025-10-31 10:28:22.326 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.327 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $33,242.64
2025-10-31 10:28:22.328 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:22.328 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $147.47 ? $147.54 (slippage: 0.050%)
2025-10-31 10:28:22.329 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.87 confidence=0.74
2025-10-31 10:28:22.330 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 225.64
2025-10-31 10:28:22.330 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $33.29
2025-10-31 10:28:22.331 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $33,324.28
2025-10-31 10:28:22.331 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 225.09 @ $147.54
2025-10-31 10:28:22.332 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.333 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $0.00
2025-10-31 10:28:22.333 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$77,894.66, Cash end=$0.00
2025-10-31 10:28:22.334 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.334 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 47.85 shares @ $231.48 (Value: $11,076.00, P&L: $250.37)
2025-10-31 10:28:22.335 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.335 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 225.09 shares @ $147.54 (Value: $33,209.43)
2025-10-31 10:28:22.336 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.337 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,659.60
2025-10-31 10:28:22.337 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $0.00
2025-10-31 10:28:22.338 | INFO     | src.backtesting.engine:run:336 -      Change: $-116.78
2025-10-31 10:28:22.338 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.341 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-10-01
2025-10-31 10:28:22.341 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $103,935.60
2025-10-31 10:28:22.342 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $0.00
2025-10-31 10:28:22.342 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.343 | INFO     | src.backtesting.engine:run:293 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:22.343 | INFO     | src.backtesting.engine:run:293 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76, P&L: $2,221.50)
2025-10-31 10:28:22.344 | INFO     | src.backtesting.engine:run:293 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47, P&L: $-1,137.96)
2025-10-31 10:28:22.346 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.347 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.348 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.349 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.350 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: -0.0039514597871386226
2025-10-31 10:28:22.351 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.10084006286237446
2025-10-31 10:28:22.351 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.051236546823340445
2025-10-31 10:28:22.352 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.04667704995213828
2025-10-31 10:28:22.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-10-01 00:00:00:
2025-10-31 10:28:22.353 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: -0.0040 (-0.40%) - FAIL
2025-10-31 10:28:22.354 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.1008 (10.08%) - PASS
2025-10-31 10:28:22.354 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0512 (5.12%) - PASS
2025-10-31 10:28:22.355 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0467 (4.67%) - PASS
2025-10-31 10:28:22.356 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['QQQ', 'DIA', 'IWM']
2025-10-31 10:28:22.356 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.357 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 1.00)
2025-10-31 10:28:22.357 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.51)
2025-10-31 10:28:22.358 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.46)
2025-10-31 10:28:22.358 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.359 | INFO     | src.backtesting.engine:_execute_signals:787 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:22.360 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 185.90 @ $171.56 (P&L: $4,430.40)
2025-10-31 10:28:22.360 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $31,861.52
2025-10-31 10:28:22.361 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.361 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 233.60 shares @ $171.04 (Value: $39,954.76)
2025-10-31 10:28:22.362 | INFO     | src.backtesting.engine:_execute_signals:796 -      IWM: 225.09 shares @ $142.48 (Value: $32,071.47)
2025-10-31 10:28:22.363 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-10-01: PV=$103,935.60, Cash=$31,861.52, Comm=0.1000%, Slip=0.0500%, Scale=0.603601
2025-10-31 10:28:22.363 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: QQQ=50.74%, DIA=25.78%, IWM=23.48%
2025-10-31 10:28:22.364 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:22.365 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA', 'IWM'], then buys: ['QQQ']
2025-10-31 10:28:22.365 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 233.60 shares worth $39,954.76
2025-10-31 10:28:22.366 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:22.366 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.04 ? $171.12 (slippage: 0.050%)
2025-10-31 10:28:22.367 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.51 confidence=0.85
2025-10-31 10:28:22.368 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 156.57
2025-10-31 10:28:22.368 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 233.60
2025-10-31 10:28:22.369 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -77.03
2025-10-31 10:28:22.369 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $13.18
2025-10-31 10:28:22.370 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-13,168.08
2025-10-31 10:28:22.371 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 77.03 shares at $170.95 (proceeds: $13,154.92)
2025-10-31 10:28:22.371 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.372 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $45,016.44
2025-10-31 10:28:22.372 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 225.09 shares worth $32,071.47
2025-10-31 10:28:22.373 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE IWM [relative_top]
2025-10-31 10:28:22.374 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $142.48 ? $142.56 (slippage: 0.050%)
2025-10-31 10:28:22.374 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.85
2025-10-31 10:28:22.375 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 171.23
2025-10-31 10:28:22.375 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 225.09
2025-10-31 10:28:22.376 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -53.86
2025-10-31 10:28:22.377 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.68
2025-10-31 10:28:22.377 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-7,670.69
2025-10-31 10:28:22.378 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting IWM: selling 53.86 shares at $142.41 (proceeds: $7,663.02)
2025-10-31 10:28:22.378 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.379 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,679.46
2025-10-31 10:28:22.380 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY QQQ [relative_top]
2025-10-31 10:28:22.380 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $248.11 ? $248.24 (slippage: 0.050%)
2025-10-31 10:28:22.381 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.85
2025-10-31 10:28:22.381 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 212.43
2025-10-31 10:28:22.382 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $52.73
2025-10-31 10:28:22.383 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $52,785.71
2025-10-31 10:28:22.383 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: QQQ x 212.00 @ $248.24
2025-10-31 10:28:22.384 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.384 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.385 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$73,518.22, Cash end=$-0.00
2025-10-31 10:28:22.386 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.386 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      SPY: 185.90 shares @ $171.65 (Value: $31,909.37, P&L: $4,446.36)
2025-10-31 10:28:22.387 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.387 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      QQQ: 212.00 shares @ $248.24 (Value: $52,626.83)
2025-10-31 10:28:22.388 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.388 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $103,803.86
2025-10-31 10:28:22.389 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.390 | INFO     | src.backtesting.engine:run:336 -      Change: $-131.74
2025-10-31 10:28:22.390 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.392 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-11-01
2025-10-31 10:28:22.393 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $102,349.31
2025-10-31 10:28:22.394 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:22.394 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.395 | INFO     | src.backtesting.engine:run:293 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36, P&L: $1,574.25)
2025-10-31 10:28:22.395 | INFO     | src.backtesting.engine:run:293 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:22.396 | INFO     | src.backtesting.engine:run:293 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05, P&L: $-1,361.77)
2025-10-31 10:28:22.398 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.399 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.400 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.401 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.402 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.03331412880741369
2025-10-31 10:28:22.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.025524862883118393
2025-10-31 10:28:22.403 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.055422735445618265
2025-10-31 10:28:22.404 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: -0.041833731525131146
2025-10-31 10:28:22.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-11-01 00:00:00:
2025-10-31 10:28:22.405 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.0333 (3.33%) - PASS
2025-10-31 10:28:22.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0255 (2.55%) - PASS
2025-10-31 10:28:22.406 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.0554 (5.54%) - PASS
2025-10-31 10:28:22.407 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: -0.0418 (-4.18%) - FAIL
2025-10-31 10:28:22.408 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['DIA', 'SPY', 'QQQ']
2025-10-31 10:28:22.408 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.409 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 1.00)
2025-10-31 10:28:22.409 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 0.60)
2025-10-31 10:28:22.410 | INFO     | src.backtesting.engine:run:312 -      QQQ: LONG (strength: 0.46)
2025-10-31 10:28:22.410 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.411 | INFO     | src.backtesting.engine:_execute_signals:787 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:22.412 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 171.23 @ $141.37 (P&L: $-1,055.81)
2025-10-31 10:28:22.412 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $24,182.58
2025-10-31 10:28:22.413 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.414 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 156.57 shares @ $171.58 (Value: $26,865.36)
2025-10-31 10:28:22.414 | INFO     | src.backtesting.engine:_execute_signals:796 -      QQQ: 212.00 shares @ $241.81 (Value: $51,265.05)
2025-10-31 10:28:22.415 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-11-01: PV=$102,349.31, Cash=$24,182.58, Comm=0.1000%, Slip=0.0500%, Scale=0.459109
2025-10-31 10:28:22.415 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: DIA=48.51%, SPY=29.16%, QQQ=22.34%
2025-10-31 10:28:22.416 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:22.417 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['QQQ'], then buys: ['DIA', 'SPY']
2025-10-31 10:28:22.417 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 212.00 shares worth $51,265.05
2025-10-31 10:28:22.418 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE QQQ [relative_top]
2025-10-31 10:28:22.418 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $241.81 ? $241.93 (slippage: 0.050%)
2025-10-31 10:28:22.419 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.46 confidence=0.82
2025-10-31 10:28:22.420 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 94.50
2025-10-31 10:28:22.420 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 212.00
2025-10-31 10:28:22.421 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -117.50
2025-10-31 10:28:22.421 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $28.43
2025-10-31 10:28:22.422 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-28,398.51
2025-10-31 10:28:22.423 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting QQQ: selling 117.50 shares at $241.69 (proceeds: $28,370.12)
2025-10-31 10:28:22.423 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.424 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $52,552.70
2025-10-31 10:28:22.424 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 156.57 shares worth $26,865.36
2025-10-31 10:28:22.425 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD DIA [relative_top]
2025-10-31 10:28:22.426 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $171.58 ? $171.67 (slippage: 0.050%)
2025-10-31 10:28:22.426 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.82
2025-10-31 10:28:22.427 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 289.19
2025-10-31 10:28:22.427 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 156.57
2025-10-31 10:28:22.428 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +132.62
2025-10-31 10:28:22.429 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $22.77
2025-10-31 10:28:22.429 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $22,788.58
2025-10-31 10:28:22.430 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting DIA: buying 132.62 more shares at $171.67 (cost: $22,788.58)
2025-10-31 10:28:22.430 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.431 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $29,764.12
2025-10-31 10:28:22.432 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY SPY [relative_top]
2025-10-31 10:28:22.432 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $177.66 ? $177.75 (slippage: 0.050%)
2025-10-31 10:28:22.433 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.60 confidence=0.82
2025-10-31 10:28:22.433 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 167.88
2025-10-31 10:28:22.434 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $29.84
2025-10-31 10:28:22.435 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $29,870.79
2025-10-31 10:28:22.435 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: SPY x 167.28 @ $177.75
2025-10-31 10:28:22.436 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.436 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.437 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$80,951.21, Cash end=$-0.00
2025-10-31 10:28:22.438 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.438 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      IWM: 171.23 shares @ $141.44 (Value: $24,218.90, P&L: $-1,043.70)
2025-10-31 10:28:22.439 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.439 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      SPY: 167.28 shares @ $177.75 (Value: $29,734.38)
2025-10-31 10:28:22.440 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.441 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $102,206.51
2025-10-31 10:28:22.441 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.442 | INFO     | src.backtesting.engine:run:336 -      Change: $-142.80
2025-10-31 10:28:22.442 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.444 | INFO     | src.backtesting.engine:run:283 - ?? REBALANCING on 2023-12-01
2025-10-31 10:28:22.445 | INFO     | src.backtesting.engine:run:284 -    Portfolio Value: $110,342.65
2025-10-31 10:28:22.446 | INFO     | src.backtesting.engine:run:285 -    Available Cash: $-0.00
2025-10-31 10:28:22.446 | INFO     | src.backtesting.engine:run:289 -    Current Positions:
2025-10-31 10:28:22.447 | INFO     | src.backtesting.engine:run:293 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92, P&L: $7,870.74)
2025-10-31 10:28:22.447 | INFO     | src.backtesting.engine:run:293 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:22.448 | INFO     | src.backtesting.engine:run:293 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30, P&L: $2,517.92)
2025-10-31 10:28:22.450 | DEBUG    | src.strategies.dual_momentum:generate_signals:189 - Calculated momentum for 4 assets
2025-10-31 10:28:22.451 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   SPY: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.452 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   QQQ: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   DIA: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.453 | DEBUG    | src.strategies.dual_momentum:generate_signals:191 -   IWM: 61 momentum values, 1 non-NaN
2025-10-31 10:28:22.454 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   SPY latest momentum: 0.13145818824275746
2025-10-31 10:28:22.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   QQQ latest momentum: 0.0028299795316499843
2025-10-31 10:28:22.455 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   DIA latest momentum: 0.10642118748796281
2025-10-31 10:28:22.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:203 -   IWM latest momentum: 0.018232201653917368
2025-10-31 10:28:22.456 | DEBUG    | src.strategies.dual_momentum:generate_signals:211 - Latest momentum scores at 2023-12-01 00:00:00:
2025-10-31 10:28:22.457 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   SPY: 0.1315 (13.15%) - PASS
2025-10-31 10:28:22.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   QQQ: 0.0028 (0.28%) - PASS
2025-10-31 10:28:22.458 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   DIA: 0.1064 (10.64%) - PASS
2025-10-31 10:28:22.459 | DEBUG    | src.strategies.dual_momentum:generate_signals:215 -   IWM: 0.0182 (1.82%) - PASS
2025-10-31 10:28:22.459 | INFO     | src.strategies.dual_momentum:generate_signals:273 - Generated 3 long signals for: ['SPY', 'DIA', 'IWM']
2025-10-31 10:28:22.460 | INFO     | src.backtesting.engine:run:309 -    Generated 3 signals:
2025-10-31 10:28:22.461 | INFO     | src.backtesting.engine:run:312 -      SPY: LONG (strength: 1.00)
2025-10-31 10:28:22.461 | INFO     | src.backtesting.engine:run:312 -      DIA: LONG (strength: 0.81)
2025-10-31 10:28:22.462 | INFO     | src.backtesting.engine:run:312 -      IWM: LONG (strength: 0.14)
2025-10-31 10:28:22.462 | INFO     | src.backtesting.engine:_execute_signals:782 -    Closing positions no longer in signals:
2025-10-31 10:28:22.463 | INFO     | src.backtesting.engine:_execute_signals:787 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:22.464 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: QQQ x 94.50 @ $248.62 (P&L: $36.31)
2025-10-31 10:28:22.464 | INFO     | src.backtesting.engine:_execute_signals:789 -    Proceeds from sales added to cash. New cash: $23,472.18
2025-10-31 10:28:22.465 | INFO     | src.backtesting.engine:_execute_signals:792 -    Keeping existing positions:
2025-10-31 10:28:22.465 | INFO     | src.backtesting.engine:_execute_signals:796 -      DIA: 289.19 shares @ $188.74 (Value: $54,582.92)
2025-10-31 10:28:22.466 | INFO     | src.backtesting.engine:_execute_signals:796 -      SPY: 167.28 shares @ $192.81 (Value: $32,252.30)
2025-10-31 10:28:22.467 | INFO     | src.backtesting.engine:_execute_signals:923 - [ORDER SIZING] 2023-12-01: PV=$110,342.65, Cash=$23,472.18, Comm=0.1000%, Slip=0.0500%, Scale=0.727317
2025-10-31 10:28:22.467 | INFO     | src.backtesting.engine:_execute_signals:926 - [ORDER SIZING] Weights: SPY=51.33%, DIA=41.55%, IWM=7.12%
2025-10-31 10:28:22.468 | INFO     | src.backtesting.engine:_execute_signals:930 - [ORDER SIZING] Keeping 2 existing positions (may adjust sizes)
2025-10-31 10:28:22.468 | INFO     | src.backtesting.engine:_execute_signals:959 - [EXECUTION ORDER] Sells first: ['DIA'], then buys: ['SPY', 'IWM']
2025-10-31 10:28:22.469 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 289.19 shares worth $54,582.92
2025-10-31 10:28:22.470 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? REDUCE DIA [relative_top]
2025-10-31 10:28:22.470 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $188.74 ? $188.84 (slippage: 0.050%)
2025-10-31 10:28:22.471 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.81 confidence=0.76
2025-10-31 10:28:22.472 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 242.80
2025-10-31 10:28:22.472 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 289.19
2025-10-31 10:28:22.473 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: -46.39
2025-10-31 10:28:22.473 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $8.76
2025-10-31 10:28:22.474 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $-8,751.14
2025-10-31 10:28:22.474 | DEBUG    | src.backtesting.engine:_adjust_position:1212 - Adjusting DIA: selling 46.39 shares at $188.65 (proceeds: $8,742.39)
2025-10-31 10:28:22.475 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.476 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $32,214.57
2025-10-31 10:28:22.476 | DEBUG    | src.backtesting.engine:_execute_signals:998 -       Existing position: 167.28 shares worth $32,252.30
2025-10-31 10:28:22.477 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? ADD SPY [relative_top]
2025-10-31 10:28:22.478 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $192.81 ? $192.90 (slippage: 0.050%)
2025-10-31 10:28:22.478 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=1.00 confidence=0.76
2025-10-31 10:28:22.479 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 293.61
2025-10-31 10:28:22.479 | INFO     | src.backtesting.engine:_execute_signals:1064 -         Current Shares: 167.28
2025-10-31 10:28:22.480 | INFO     | src.backtesting.engine:_execute_signals:1065 -         Share Change: +126.33
2025-10-31 10:28:22.480 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $24.37
2025-10-31 10:28:22.481 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $24,393.15
2025-10-31 10:28:22.501 | DEBUG    | src.backtesting.engine:_adjust_position:1207 - Adjusting SPY: buying 126.33 more shares at $192.90 (cost: $24,393.15)
2025-10-31 10:28:22.501 | INFO     | src.backtesting.engine:_execute_signals:1120 -         ? Position adjusted successfully
2025-10-31 10:28:22.502 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $7,821.42
2025-10-31 10:28:22.503 | INFO     | src.backtesting.engine:_execute_signals:1058 -      ?? BUY IWM [relative_top]
2025-10-31 10:28:22.510 | INFO     | src.backtesting.engine:_execute_signals:1059 -         Price: $144.38 ? $144.45 (slippage: 0.050%)
2025-10-31 10:28:22.518 | INFO     | src.backtesting.engine:_execute_signals:1060 -         Signal: strength=0.14 confidence=0.76
2025-10-31 10:28:22.518 | INFO     | src.backtesting.engine:_execute_signals:1061 -         Target Shares: 54.38
2025-10-31 10:28:22.519 | INFO     | src.backtesting.engine:_execute_signals:1067 -         Commission: $7.86
2025-10-31 10:28:22.519 | INFO     | src.backtesting.engine:_execute_signals:1068 -         Total Cost: $7,862.98
2025-10-31 10:28:22.520 | DEBUG    | src.backtesting.engine:_open_position:1160 - Opened position: IWM x 54.09 @ $144.45
2025-10-31 10:28:22.521 | INFO     | src.backtesting.engine:_execute_signals:1129 -         ? Position opened successfully
2025-10-31 10:28:22.521 | INFO     | src.backtesting.engine:_execute_signals:1133 -         ?? Cash remaining: $-0.00
2025-10-31 10:28:22.522 | INFO     | src.backtesting.engine:_execute_signals:1139 - [ORDER SIZING] Batch total cost=$40,965.71, Cash end=$-0.00
2025-10-31 10:28:22.528 | INFO     | src.backtesting.engine:_log_position_changes:1305 -    Positions Closed:
2025-10-31 10:28:22.528 | INFO     | src.backtesting.engine:_log_position_changes:1310 -      QQQ: 94.50 shares @ $248.74 (Value: $23,507.42, P&L: $48.06)
2025-10-31 10:28:22.529 | INFO     | src.backtesting.engine:_log_position_changes:1316 -    Positions Opened:
2025-10-31 10:28:22.536 | INFO     | src.backtesting.engine:_log_position_changes:1320 -      IWM: 54.09 shares @ $144.45 (Value: $7,813.61)
2025-10-31 10:28:22.537 | INFO     | src.backtesting.engine:run:333 -    After Rebalancing:
2025-10-31 10:28:22.538 | INFO     | src.backtesting.engine:run:334 -      Portfolio Value: $110,249.91
2025-10-31 10:28:22.538 | INFO     | src.backtesting.engine:run:335 -      Available Cash: $-0.00
2025-10-31 10:28:22.552 | INFO     | src.backtesting.engine:run:336 -      Change: $-92.74
2025-10-31 10:28:22.562 | INFO     | src.backtesting.engine:run:342 -    ? Rebalancing complete
2025-10-31 10:28:22.564 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: DIA x 242.80 @ $181.45 (P&L: $4,836.61)
2025-10-31 10:28:22.573 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: SPY x 293.61 @ $192.13 (P&L: $4,221.30)
2025-10-31 10:28:22.574 | DEBUG    | src.backtesting.engine:_close_position:1280 - Closed position: IWM x 54.09 @ $153.90 (P&L: $511.04)
2025-10-31 10:28:22.575 | INFO     | src.backtesting.engine:_generate_results:1357 - ?? Performance metrics calculated from 2023-03-02 to 2023-12-31
2025-10-31 10:28:22.577 | INFO     | src.backtesting.engine:_generate_results:1435 - ?? No benchmark data provided for comparison
2025-10-31 10:28:22.583 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:589 - Creating positions DataFrame from 365 snapshots
2025-10-31 10:28:22.585 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:594 - Initial DataFrame shape after conversion: (365, 15)
2025-10-31 10:28:22.585 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:595 - Initial DataFrame columns: ['timestamp', 'portfolio_value', 'cash', 'QQQ_quantity', 'QQQ_price', 'QQQ_value', 'DIA_quantity', 'DIA_price', 'DIA_value', 'SPY_quantity', 'SPY_price', 'SPY_value', 'IWM_quantity', 'IWM_price', 'IWM_value']
2025-10-31 10:28:22.586 | DEBUG    | src.backtesting.engine:_create_positions_dataframe:606 - Filtered position history from 365 to 305 records (performance period)
2025-10-31 10:28:22.619 | INFO     | src.backtesting.engine:_generate_results:1451 - ============================================================
2025-10-31 10:28:22.620 | INFO     | src.backtesting.engine:_generate_results:1452 - POSITION DATA SUMMARY
2025-10-31 10:28:22.620 | INFO     | src.backtesting.engine:_generate_results:1453 - ============================================================
2025-10-31 10:28:22.621 | INFO     | src.backtesting.engine:_generate_results:1454 - Total timesteps in backtest: 305
2025-10-31 10:28:22.622 | INFO     | src.backtesting.engine:_generate_results:1455 - Position history snapshots recorded: 365
2025-10-31 10:28:22.622 | INFO     | src.backtesting.engine:_generate_results:1456 - Positions DataFrame shape: (305, 22)
2025-10-31 10:28:22.623 | INFO     | src.backtesting.engine:_generate_results:1459 - Positions DataFrame columns: ['portfolio_value', 'cash', 'cash_pct', 'portfolio_quantity', 'portfolio_price', 'portfolio_pct', 'QQQ_value', 'QQQ_quantity', 'QQQ_price', 'QQQ_pct', 'DIA_value', 'DIA_quantity', 'DIA_price', 'DIA_pct', 'SPY_value', 'SPY_quantity', 'SPY_price', 'SPY_pct', 'IWM_value', 'IWM_quantity', 'IWM_price', 'IWM_pct']
2025-10-31 10:28:22.623 | INFO     | src.backtesting.engine:_generate_results:1460 - First 3 rows of positions data:
2025-10-31 10:28:22.636 | INFO     | src.backtesting.engine:_generate_results:1461 - 
            portfolio_value           cash  ...  IWM_price  IWM_pct
timestamp                                   ...                    
2023-03-02    100000.000000  100000.000000  ...        NaN      NaN
2023-03-03    100162.038573   66633.333333  ...        NaN      NaN
2023-03-04    100634.890545   66633.333333  ...        NaN      NaN

[3 rows x 22 columns]
2025-10-31 10:28:22.637 | INFO     | src.backtesting.engine:_generate_results:1462 - Last 3 rows of positions data:
2025-10-31 10:28:22.649 | INFO     | src.backtesting.engine:_generate_results:1463 - 
            portfolio_value          cash  ...   IWM_price   IWM_pct
timestamp                                  ...                      
2023-12-29    108432.744206 -9.094947e-13  ...  154.352403  7.699974
2023-12-30    108513.989856 -9.094947e-13  ...  153.144139  7.633979
2023-12-31    108845.649027 -9.094947e-13  ...  153.973721  7.651945

[3 rows x 22 columns]
2025-10-31 10:28:22.650 | INFO     | src.backtesting.engine:_generate_results:1471 - ============================================================
2025-10-31 10:28:22.651 | INFO     | src.backtesting.engine:run:356 - Backtest complete. Final value: $108,845.65 (8.85% return)
2025-10-31 10:28:22.651 | INFO     | src.backtesting.engine:run:360 - Detailed backtest log saved to: logs/backtest_DualMomentumStrategy_20251031_102822.log
